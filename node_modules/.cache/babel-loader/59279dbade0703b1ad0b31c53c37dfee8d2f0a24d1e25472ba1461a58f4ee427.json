{"ast":null,"code":"import axios from 'axios';\nimport { useStore } from '../../store';\nexport default {\n  name: \"AppAdminPermissions\",\n  data() {\n    return {\n      permissions: []\n    };\n  },\n  mounted() {\n    this.getPermissions();\n  },\n  methods: {\n    getPermissions() {\n      axios.get('http://127.0.0.1:8000/api/getRolePemissionsUsers').then(response => {\n        this.permissions = response.data.permissions;\n        console.log(this.permissions);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    changeStatus(id, isActive) {\n      const store = new useStore();\n      var is_active = 1;\n      if (isActive === 1) is_active = 0;\n      axios.post('http://127.0.0.1:8000/api/ChangeStatusPermissions', {\n        id: id,\n        is_active: is_active\n      }).then(response => {\n        console.log(response);\n        axios.post('http://127.0.0.1:8000/api/CheckPermissionUser', {\n          user_id: store.user_id\n        }).then(response => {\n          localStorage.setItem('permissions', JSON.stringify(response.data.permissions));\n        }).catch(error => {\n          console.log(error.response);\n        });\n        this.getPermissions();\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","useStore","name","data","permissions","mounted","getPermissions","methods","get","then","response","console","log","catch","error","changeStatus","id","isActive","store","is_active","post","user_id","localStorage","setItem","JSON","stringify"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\Admin\\AppAdminPermissionsUsers.vue"],"sourcesContent":["<template>\r\n    <div class=\"test\">\r\n        <div class=\"headerDashboard container-mf pb-1\">\r\n            <span class=\"fw-bold h5 text-dark\">Admin / <span class=\"text-secondary\">Permissions</span> </span>\r\n        </div>\r\n        <hr>\r\n        <div class=\"container-mf\">\r\n            <table class=\"table align-middle mb-0 bg-white \">\r\n                <thead class=\"bg-light\">\r\n                    <tr>\r\n                    <th>Role</th>\r\n                    <th>Permissions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(routes, user) in permissions\" :key=\"user\">\r\n                        <td>\r\n                            <p class=\"fw-bold mb-1 text-start\" :class=\"role\">{{ user }}</p>\r\n                        </td>\r\n                        <td class=\"d-flex flex-wrap gap-4\" >\r\n                            <span class=\"cursor-point fw-normal mb-1 prmissions\" v-for=\"(route, index) in routes\" :key=\"index\"\r\n                            :class=\"route.isActive === 1 ? 'active' : 'inactive'\"\r\n                            @click=\"changeStatus(route.id, route.isActive)\"\r\n                            >{{ route.route }}</span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>   \r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n<style>\r\n    .prmissions{\r\n        background-color: #f0f0f0;\r\n        padding: 5px 10px;\r\n        border-radius: 5px;\r\n    }\r\n    .prmissions:hover{\r\n        background-color: #e0e0e0;\r\n        transform: translateY(-2px);\r\n        transition: all 0.7s ease;\r\n    }\r\n    .active{\r\n        background-color: #4caf50;\r\n        color: white;\r\n    }\r\n    .inactive{\r\n        background-color: #f44336;\r\n        color: white;\r\n    }\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport {useStore} from '../../store'\r\nexport default {\r\n    name: \"AppAdminPermissions\",\r\n    data() {\r\n        return {\r\n            permissions: [],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getPermissions();\r\n    },  \r\n    methods: {\r\n        getPermissions() {\r\n            axios.get('http://127.0.0.1:8000/api/getRolePemissionsUsers')\r\n            .then(response => {\r\n                this.permissions = response.data.permissions;\r\n                console.log(this.permissions);\r\n            }).catch(error => {\r\n                console.log(error);\r\n            })\r\n        },\r\n        changeStatus(id, isActive) {\r\n            const store = new useStore();\r\n            var is_active = 1;\r\n            if(isActive === 1) is_active = 0;\r\n            axios.post('http://127.0.0.1:8000/api/ChangeStatusPermissions', {\r\n                id: id,\r\n                is_active: is_active\r\n            }).then(response => { \r\n                console.log(response);\r\n                axios.post('http://127.0.0.1:8000/api/CheckPermissionUser',{\r\n                    user_id: store.user_id\r\n                })\r\n                .then(response => {\r\n                    localStorage.setItem('permissions', JSON.stringify(response.data.permissions));\r\n                }).catch(error => {\r\n                    console.log(error.response);\r\n                });\r\n                this.getPermissions();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>"],"mappings":"AAqDA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAAQC,QAAQ,QAAO,aAAY;AACnC,eAAe;EACXC,IAAI,EAAE,qBAAqB;EAC3BC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE;IACjB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,cAAc,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACLD,cAAcA,CAAA,EAAG;MACbN,KAAK,CAACQ,GAAG,CAAC,kDAAkD,EAC3DC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACN,WAAU,GAAIM,QAAQ,CAACP,IAAI,CAACC,WAAW;QAC5CO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,WAAW,CAAC;MACjC,CAAC,CAAC,CAACS,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACtB,CAAC;IACL,CAAC;IACDC,YAAYA,CAACC,EAAE,EAAEC,QAAQ,EAAE;MACvB,MAAMC,KAAI,GAAI,IAAIjB,QAAQ,CAAC,CAAC;MAC5B,IAAIkB,SAAQ,GAAI,CAAC;MACjB,IAAGF,QAAO,KAAM,CAAC,EAAEE,SAAQ,GAAI,CAAC;MAChCnB,KAAK,CAACoB,IAAI,CAAC,mDAAmD,EAAE;QAC5DJ,EAAE,EAAEA,EAAE;QACNG,SAAS,EAAEA;MACf,CAAC,CAAC,CAACV,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrBV,KAAK,CAACoB,IAAI,CAAC,+CAA+C,EAAC;UACvDC,OAAO,EAAEH,KAAK,CAACG;QACnB,CAAC,EACAZ,IAAI,CAACC,QAAO,IAAK;UACdY,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAACf,QAAQ,CAACP,IAAI,CAACC,WAAW,CAAC,CAAC;QAClF,CAAC,CAAC,CAACS,KAAK,CAACC,KAAI,IAAK;UACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACJ,QAAQ,CAAC;QAC/B,CAAC,CAAC;QACF,IAAI,CAACJ,cAAc,CAAC,CAAC;MACzB,CAAC,CAAC,CAACO,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACtB,CAAC;IACL;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}