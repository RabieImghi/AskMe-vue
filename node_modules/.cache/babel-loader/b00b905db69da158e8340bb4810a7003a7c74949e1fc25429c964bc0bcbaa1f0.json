{"ast":null,"code":"import axios from \"axios\";\nimport { useStore } from \"../../../store\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"AppProfileSetting\",\n  data() {\n    const store = useStore();\n    return {\n      store,\n      user: [],\n      countries: []\n    };\n  },\n  computed: {\n    userName() {\n      return this.store.user;\n    },\n    userBadge() {\n      return this.store.badge;\n    },\n    avatar() {\n      return this.store.imageUser;\n    },\n    userId() {\n      return this.store.user_id;\n    },\n    coverImage() {\n      return this.store.coverImage;\n    }\n  },\n  mounted() {\n    this.getUserInfo();\n  },\n  created() {\n    axios.get(\"https://restcountries.com/v3.1/all\").then(response => {\n      this.countries = response.data.sort((a, b) => a.name.common.localeCompare(b.name.common));\n    }).catch(error => console.error(\"Error:\", error));\n  },\n  methods: {\n    uploadsImageCover() {\n      document.getElementById(\"fileinput\").click();\n    },\n    uploadsImageProfile() {\n      document.getElementById(\"fileinputProfil\").click();\n    },\n    async changeImage(type) {\n      const store = useStore();\n      const file = document.getElementById(`fileinput${type}`).files[0];\n      if (file.length === 0) {\n        console.log(\"No file selected\");\n        return;\n      }\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      formData.append(\"type\", type);\n      formData.append(\"id\", this.userId);\n      const response = await axios.post(`http://localhost:8000/api/uploadImage`, formData, {\n        headers: {\n          Authorization: `Bearer ${store.token}`\n        }\n      });\n      if (type == \"Profil\") {\n        reader.onload = e => {\n          this.store.imageUser = e.target.result;\n        };\n        this.store.setImageUser(response.data.image);\n      } else {\n        reader.onload = e => {\n          this.store.coverImage = e.target.result;\n        };\n        this.store.setCoverImage(response.data.image);\n      }\n    },\n    async getUserInfo() {\n      var followerId = null;\n      if (this.store.user_id != null) {\n        followerId = this.store.user_id;\n      }\n      let response = await axios.get(`http://localhost:8000/api/getUserInfo/${this.userId}/${followerId}`);\n      this.user = response.data.user;\n      console.log(this.user);\n    },\n    async submitForm() {\n      let store = useStore();\n      let response = await axios.post(`http://localhost:8000/api/updateUserInfo`, this.user, {\n        headers: {\n          Authorization: `Bearer ${store.token}`\n        }\n      });\n      if (response.data.message) {\n        Swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"User info updated successfully!\",\n          showConfirmButton: false,\n          timer: 1000\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","useStore","Swal","name","data","store","user","countries","computed","userName","userBadge","badge","avatar","imageUser","userId","user_id","coverImage","mounted","getUserInfo","created","get","then","response","sort","a","b","common","localeCompare","catch","error","console","methods","uploadsImageCover","document","getElementById","click","uploadsImageProfile","changeImage","type","file","files","length","log","reader","FileReader","readAsDataURL","formData","FormData","append","post","headers","Authorization","token","onload","e","target","result","setImageUser","image","setCoverImage","followerId","submitForm","message","fire","position","icon","title","showConfirmButton","timer"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\User\\componrntsProfile\\AppProfileSetting.vue"],"sourcesContent":["<template>\r\n    <div class=\"sectionBadge padding-none  pe-4\">\r\n        <div class=\"bg-white shadow\">\r\n            <section class=\"cover\" :style=\"{\r\n                backgroundImage: `url(${user.imageCover})`,\r\n                backgroundSize: 'cover',\r\n            }\">\r\n                <div class=\"coverInfo row p-3\">\r\n                    <div class=\"infoProfile col pt-4 pe-4\">\r\n                        <input type=\"file\" class=\"d-none\" @change=\"changeImage('Cover')\" id=\"fileinputCover\" />\r\n                        <div @click=\"uploadsImageCover\" class=\"fw-bold h1 text-white text-end cursor-point\">\r\n                            Tap Upload Your <br />\r\n                            Cover Photo\r\n                        </div>\r\n                        <div\r\n                            class=\"containName infoProfileHiden m-1 rounded-1 d-flex justify-content-between align-items-center\">\r\n                            <btn class=\"btn btn-dark p-1 h4 mt-2 fw-bold mx-3\">Home / Profile / Settings</btn>\r\n                            <div class=\"buttons d-flex gap-4\">\r\n                                <router-link to=\"/user/myQuestion\"> \r\n                                    <button class=\"btn btn-dark m-1\"> My Question </button>\r\n                                </router-link>\r\n                                <router-link to=\"/user/settings\">\r\n                                    <button class=\"btn btn-dark m-1\">Edit</button></router-link>\r\n                                <button :class=\"user.badge\" class=\"m-1\">\r\n                                    {{ user.badge }}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"px-4 mt-4\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xl-4\">\r\n                        <div class=\"card mb-4 mb-xl-0\">\r\n                            <div class=\"card-body text-center\">\r\n                                <input type=\"file\" @change=\"changeImage('Profil')\" class=\"d-none\" id=\"fileinputProfil\">\r\n                                <img  @click=\"uploadsImageProfile\" class=\"img-account-profile rounded-circle mb-2\"\r\n                                :src=\"user.imageProfile\" alt=\"\" width=\"250\" />\r\n                                <div class=\"small font-italic text-muted mb-4\">\r\n                                    JPG or PNG no larger than 5 MB\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-xl-8\">\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-header\">Account Details</div>\r\n                            <div class=\"card-body\">\r\n                                <form>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputUsername\">Username (how your name will\r\n                                            appear to other users on the\r\n                                            site)</label>\r\n                                        <input class=\"form-control\" id=\"inputUsername\" type=\"text\"\r\n                                            placeholder=\"Enter your username\"  v-model=\"user.name\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputFirstName\">First name</label>\r\n                                        <input class=\"form-control\" id=\"inputFirstName\" type=\"text\"\r\n                                            placeholder=\"Enter your first name\" v-model=\"user.firstName\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputLastName\">Last name</label>\r\n                                        <input class=\"form-control\" id=\"inputLastName\" type=\"text\"\r\n                                            placeholder=\"Enter your last name\"  v-model=\"user.lastName\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputOrgName\">Phone</label>\r\n                                        <input class=\"form-control\" id=\"inputOrgName\" type=\"text\"\r\n                                            placeholder=\"Enter your organization name\" v-model=\"user.phone\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputLocation\">Country</label>\r\n                                        <select name=\"country\" id=\"\" v-model=\"user.country\" class=\"form-control\">\r\n                                            <option v-for=\"country in countries\" :key=\"country.common\" :value=\"country.name.common\">\r\n                                                {{ country.name.common }}\r\n                                            </option>\r\n                                        </select>\r\n                                    </div>\r\n                                        \r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputEmailAddress\">About</label>\r\n                                        <textarea name=\"\" class=\"form-control\" id=\"\" v-model=\"user.about\" cols=\"30\" rows=\"6\"></textarea>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div class=\"card-header\">Social Link Details</div>\r\n                            <div class=\"card-body\">\r\n                                <form>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputUsername\">Website</label>\r\n                                        <input class=\"form-control\" id=\"inputUsername\" type=\"text\"\r\n                                            placeholder=\"Enter your username\" v-model=\"user.WebSite\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputFirstName\">Github</label>\r\n                                        <input class=\"form-control\" id=\"inputFirstName\" type=\"text\"\r\n                                            placeholder=\"Enter your first name\" v-model=\"user.Github\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputLastName\">Twitter</label>\r\n                                        <input class=\"form-control\" id=\"inputLastName\" type=\"text\"\r\n                                            placeholder=\"Enter your last name\" v-model=\"user.twitter\" />\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputOrgName\">Instagram</label>\r\n                                        <input class=\"form-control\" id=\"inputOrgName\" type=\"text\"\r\n                                            placeholder=\"Enter your organization name\" v-model=\"user.instagram\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputLocation\">Facebook</label>\r\n                                        <input class=\"form-control\" id=\"inputLocation\" type=\"text\"\r\n                                            placeholder=\"Enter your location\" v-model=\"user.facebook\" />\r\n                                    </div>\r\n                                    <div class=\"mb-3\">\r\n                                        <label class=\"small mb-1\" for=\"inputLocation\">LinkedIn</label>\r\n                                        <input class=\"form-control\" id=\"inputLocation\" type=\"text\"\r\n                                            placeholder=\"Enter your location\" v-model=\"user.linkedin\" />\r\n                                    </div>\r\n                                    <button class=\"btn btn-primary\" @click=\"submitForm\" type=\"button\">\r\n                                        Save changes\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <footer class=\"text-center text-secondary border-top mt-4 fw-bold pt-3\">\r\n                © Copyright AskMe. All Rights Reserved <br />\r\n                Designed by Rabie Ait Imghi\r\n            </footer>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport { useStore } from \"../../../store\";\r\nimport Swal from \"sweetalert2\";\r\nexport default {\r\n    name: \"AppProfileSetting\",\r\n    data() {\r\n        const store = useStore();\r\n        return {\r\n            store,\r\n            user: [],\r\n            countries: [],\r\n        };\r\n    },\r\n    computed: {\r\n        userName() {\r\n            return this.store.user;\r\n        },\r\n        userBadge() {\r\n            return this.store.badge;\r\n        },\r\n        avatar() {\r\n            return this.store.imageUser;\r\n        },\r\n        userId() {\r\n            return this.store.user_id;\r\n        },\r\n        coverImage() {\r\n            return this.store.coverImage;\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getUserInfo();\r\n    },\r\n    created() {\r\n        axios.get(\"https://restcountries.com/v3.1/all\")\r\n            .then((response) => {\r\n                this.countries = response.data.sort((a, b) =>\r\n                    a.name.common.localeCompare(b.name.common)\r\n                );\r\n            })\r\n            .catch((error) => console.error(\"Error:\", error));\r\n    },\r\n    methods: {\r\n        uploadsImageCover() {\r\n            document.getElementById(\"fileinput\").click();\r\n        },\r\n        uploadsImageProfile() {\r\n            document.getElementById(\"fileinputProfil\").click();\r\n        },\r\n        async changeImage(type) {\r\n            const store = useStore();\r\n            const file = document.getElementById(`fileinput${type}`).files[0];\r\n            if (file.length === 0) {\r\n                console.log(\"No file selected\");\r\n                return;\r\n            }\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            const formData = new FormData();\r\n            formData.append(\"image\", file);\r\n            formData.append(\"type\", type);\r\n            formData.append(\"id\", this.userId);\r\n            const response = await axios.post(\r\n                `http://localhost:8000/api/uploadImage`,\r\n                formData,\r\n                {\r\n                    headers: { Authorization: `Bearer ${store.token}` },\r\n                }\r\n            );\r\n            if (type == \"Profil\") {\r\n                reader.onload = (e) => {\r\n                    this.store.imageUser = e.target.result;\r\n                };\r\n                this.store.setImageUser(response.data.image);\r\n            } else {\r\n                reader.onload = (e) => {\r\n                    this.store.coverImage = e.target.result;\r\n                };\r\n                this.store.setCoverImage(response.data.image);\r\n            }\r\n        },\r\n        async getUserInfo() {\r\n            var followerId =null;\r\n            if(this.store.user_id != null){\r\n                followerId = this.store.user_id;\r\n            }\r\n            let response = await axios.get(`http://localhost:8000/api/getUserInfo/${this.userId}/${followerId}`);\r\n            this.user = response.data.user;\r\n            console.log(this.user);\r\n        },\r\n        async submitForm() {\r\n            let store = useStore();\r\n            let response = await axios.post(\r\n                `http://localhost:8000/api/updateUserInfo`,\r\n                this.user,\r\n                {\r\n                    headers: { Authorization: `Bearer ${store.token}` },\r\n                }\r\n            );\r\n            if (response.data.message) {\r\n                Swal.fire({\r\n                    position: \"top-end\",\r\n                    icon: \"success\",\r\n                    title: \"User info updated successfully!\",\r\n                    showConfirmButton: false,\r\n                    timer: 1000,\r\n                });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style>\r\n.row {\r\n    width: 100%;\r\n    margin: 0 !important;\r\n}\r\n\r\n.coverInfo {\r\n    background: rgba(0, 0, 0, 0.476);\r\n}\r\n\r\n.containName {\r\n    background: rgba(255, 255, 255, 0.341);\r\n}\r\n\r\n.imageProfil {\r\n    border: 6px solid white;\r\n    border-radius: 50%;\r\n}\r\n\r\n.statique {\r\n    width: 180px;\r\n}\r\n\r\n.linksosial {\r\n    width: 340px;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}