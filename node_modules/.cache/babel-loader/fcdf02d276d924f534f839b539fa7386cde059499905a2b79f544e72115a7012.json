{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");require(\"core-js/modules/es.typed-array.to-reversed.js\");require(\"core-js/modules/es.typed-array.to-sorted.js\");require(\"core-js/modules/es.typed-array.with.js\");require(\"core-js/modules/web.dom-exception.stack.js\");require(\"core-js/modules/web.url-search-params.delete.js\");require(\"core-js/modules/web.url-search-params.has.js\");require(\"core-js/modules/web.url-search-params.size.js\");/**\n * TinyMCE version 6.8.3 (2024-02-08)\n */(function(){'use strict';var typeOf$1=function(x){if(x===null){return'null';}if(x===undefined){return'undefined';}var t=typeof x;if(t==='object'&&(Array.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==='Array')){return'array';}if(t==='object'&&(String.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==='String')){return'string';}return t;};var isEquatableType=function(x){return['undefined','boolean','number','string','function','xml','null'].indexOf(x)!==-1;};var sort$1=function(xs,compareFn){var clone=Array.prototype.slice.call(xs);return clone.sort(compareFn);};var contramap=function(eqa,f){return eq$2(function(x,y){return eqa.eq(f(x),f(y));});};var eq$2=function(f){return{eq:f};};var tripleEq=eq$2(function(x,y){return x===y;});var eqString=tripleEq;var eqArray=function(eqa){return eq$2(function(x,y){if(x.length!==y.length){return false;}var len=x.length;for(var i=0;i<len;i++){if(!eqa.eq(x[i],y[i])){return false;}}return true;});};var eqSortedArray=function(eqa,compareFn){return contramap(eqArray(eqa),function(xs){return sort$1(xs,compareFn);});};var eqRecord=function(eqa){return eq$2(function(x,y){var kx=Object.keys(x);var ky=Object.keys(y);if(!eqSortedArray(eqString).eq(kx,ky)){return false;}var len=kx.length;for(var i=0;i<len;i++){var q=kx[i];if(!eqa.eq(x[q],y[q])){return false;}}return true;});};var eqAny=eq$2(function(x,y){if(x===y){return true;}var tx=typeOf$1(x);var ty=typeOf$1(y);if(tx!==ty){return false;}if(isEquatableType(tx)){return x===y;}else if(tx==='array'){return eqArray(eqAny).eq(x,y);}else if(tx==='object'){return eqRecord(eqAny).eq(x,y);}return false;});const getPrototypeOf$2=Object.getPrototypeOf;const hasProto=(v,constructor,predicate)=>{var _a;if(predicate(v,constructor.prototype)){return true;}else{return((_a=v.constructor)===null||_a===void 0?void 0:_a.name)===constructor.name;}};const typeOf=x=>{const t=typeof x;if(x===null){return'null';}else if(t==='object'&&Array.isArray(x)){return'array';}else if(t==='object'&&hasProto(x,String,(o,proto)=>proto.isPrototypeOf(o))){return'string';}else{return t;}};const isType$1=type=>value=>typeOf(value)===type;const isSimpleType=type=>value=>typeof value===type;const eq$1=t=>a=>t===a;const is$4=(value,constructor)=>isObject(value)&&hasProto(value,constructor,(o,proto)=>getPrototypeOf$2(o)===proto);const isString=isType$1('string');const isObject=isType$1('object');const isPlainObject=value=>is$4(value,Object);const isArray$1=isType$1('array');const isNull=eq$1(null);const isBoolean=isSimpleType('boolean');const isUndefined=eq$1(undefined);const isNullable=a=>a===null||a===undefined;const isNonNullable=a=>!isNullable(a);const isFunction=isSimpleType('function');const isNumber=isSimpleType('number');const isArrayOf=(value,pred)=>{if(isArray$1(value)){for(let i=0,len=value.length;i<len;++i){if(!pred(value[i])){return false;}}return true;}return false;};const noop=()=>{};const compose=(fa,fb)=>{return(...args)=>{return fa(fb.apply(null,args));};};const compose1=(fbc,fab)=>a=>fbc(fab(a));const constant=value=>{return()=>{return value;};};const identity=x=>{return x;};const tripleEquals=(a,b)=>{return a===b;};function curry(fn,...initialArgs){return(...restArgs)=>{const all=initialArgs.concat(restArgs);return fn.apply(null,all);};}const not=f=>t=>!f(t);const die=msg=>{return()=>{throw new Error(msg);};};const apply$1=f=>{return f();};const call=f=>{f();};const never=constant(false);const always=constant(true);class Optional{constructor(tag,value){this.tag=tag;this.value=value;}static some(value){return new Optional(true,value);}static none(){return Optional.singletonNone;}fold(onNone,onSome){if(this.tag){return onSome(this.value);}else{return onNone();}}isSome(){return this.tag;}isNone(){return!this.tag;}map(mapper){if(this.tag){return Optional.some(mapper(this.value));}else{return Optional.none();}}bind(binder){if(this.tag){return binder(this.value);}else{return Optional.none();}}exists(predicate){return this.tag&&predicate(this.value);}forall(predicate){return!this.tag||predicate(this.value);}filter(predicate){if(!this.tag||predicate(this.value)){return this;}else{return Optional.none();}}getOr(replacement){return this.tag?this.value:replacement;}or(replacement){return this.tag?this:replacement;}getOrThunk(thunk){return this.tag?this.value:thunk();}orThunk(thunk){return this.tag?this:thunk();}getOrDie(message){if(!this.tag){throw new Error(message!==null&&message!==void 0?message:'Called getOrDie on None');}else{return this.value;}}static from(value){return isNonNullable(value)?Optional.some(value):Optional.none();}getOrNull(){return this.tag?this.value:null;}getOrUndefined(){return this.value;}each(worker){if(this.tag){worker(this.value);}}toArray(){return this.tag?[this.value]:[];}toString(){return this.tag?`some(${this.value})`:'none()';}}Optional.singletonNone=new Optional(false);const nativeSlice=Array.prototype.slice;const nativeIndexOf=Array.prototype.indexOf;const nativePush=Array.prototype.push;const rawIndexOf=(ts,t)=>nativeIndexOf.call(ts,t);const indexOf$1=(xs,x)=>{const r=rawIndexOf(xs,x);return r===-1?Optional.none():Optional.some(r);};const contains$2=(xs,x)=>rawIndexOf(xs,x)>-1;const exists=(xs,pred)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return true;}}return false;};const map$3=(xs,f)=>{const len=xs.length;const r=new Array(len);for(let i=0;i<len;i++){const x=xs[i];r[i]=f(x,i);}return r;};const each$e=(xs,f)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];f(x,i);}};const eachr=(xs,f)=>{for(let i=xs.length-1;i>=0;i--){const x=xs[i];f(x,i);}};const partition$2=(xs,pred)=>{const pass=[];const fail=[];for(let i=0,len=xs.length;i<len;i++){const x=xs[i];const arr=pred(x,i)?pass:fail;arr.push(x);}return{pass,fail};};const filter$5=(xs,pred)=>{const r=[];for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){r.push(x);}}return r;};const foldr=(xs,f,acc)=>{eachr(xs,(x,i)=>{acc=f(acc,x,i);});return acc;};const foldl=(xs,f,acc)=>{each$e(xs,(x,i)=>{acc=f(acc,x,i);});return acc;};const findUntil$1=(xs,pred,until)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return Optional.some(x);}else if(until(x,i)){break;}}return Optional.none();};const find$2=(xs,pred)=>{return findUntil$1(xs,pred,never);};const findIndex$2=(xs,pred)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return Optional.some(i);}}return Optional.none();};const flatten=xs=>{const r=[];for(let i=0,len=xs.length;i<len;++i){if(!isArray$1(xs[i])){throw new Error('Arr.flatten item '+i+' was not an array, input: '+xs);}nativePush.apply(r,xs[i]);}return r;};const bind$3=(xs,f)=>flatten(map$3(xs,f));const forall=(xs,pred)=>{for(let i=0,len=xs.length;i<len;++i){const x=xs[i];if(pred(x,i)!==true){return false;}}return true;};const reverse=xs=>{const r=nativeSlice.call(xs,0);r.reverse();return r;};const difference=(a1,a2)=>filter$5(a1,x=>!contains$2(a2,x));const mapToObject=(xs,f)=>{const r={};for(let i=0,len=xs.length;i<len;i++){const x=xs[i];r[String(x)]=f(x,i);}return r;};const sort=(xs,comparator)=>{const copy=nativeSlice.call(xs,0);copy.sort(comparator);return copy;};const get$b=(xs,i)=>i>=0&&i<xs.length?Optional.some(xs[i]):Optional.none();const head=xs=>get$b(xs,0);const last$3=xs=>get$b(xs,xs.length-1);const from=isFunction(Array.from)?Array.from:x=>nativeSlice.call(x);const findMap=(arr,f)=>{for(let i=0;i<arr.length;i++){const r=f(arr[i],i);if(r.isSome()){return r;}}return Optional.none();};const unique$1=(xs,comparator)=>{const r=[];const isDuplicated=isFunction(comparator)?x=>exists(r,i=>comparator(i,x)):x=>contains$2(r,x);for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(!isDuplicated(x)){r.push(x);}}return r;};const keys=Object.keys;const hasOwnProperty$1=Object.hasOwnProperty;const each$d=(obj,f)=>{const props=keys(obj);for(let k=0,len=props.length;k<len;k++){const i=props[k];const x=obj[i];f(x,i);}};const map$2=(obj,f)=>{return tupleMap(obj,(x,i)=>({k:i,v:f(x,i)}));};const tupleMap=(obj,f)=>{const r={};each$d(obj,(x,i)=>{const tuple=f(x,i);r[tuple.k]=tuple.v;});return r;};const objAcc=r=>(x,i)=>{r[i]=x;};const internalFilter=(obj,pred,onTrue,onFalse)=>{each$d(obj,(x,i)=>{(pred(x,i)?onTrue:onFalse)(x,i);});};const bifilter=(obj,pred)=>{const t={};const f={};internalFilter(obj,pred,objAcc(t),objAcc(f));return{t,f};};const filter$4=(obj,pred)=>{const t={};internalFilter(obj,pred,objAcc(t),noop);return t;};const mapToArray=(obj,f)=>{const r=[];each$d(obj,(value,name)=>{r.push(f(value,name));});return r;};const values=obj=>{return mapToArray(obj,identity);};const get$a=(obj,key)=>{return has$2(obj,key)?Optional.from(obj[key]):Optional.none();};const has$2=(obj,key)=>hasOwnProperty$1.call(obj,key);const hasNonNullableKey=(obj,key)=>has$2(obj,key)&&obj[key]!==undefined&&obj[key]!==null;const equal$1=(a1,a2,eq=eqAny)=>eqRecord(eq).eq(a1,a2);const stringArray=a=>{const all={};each$e(a,key=>{all[key]={};});return keys(all);};const isArrayLike=o=>o.length!==undefined;const isArray=Array.isArray;const toArray$1=obj=>{if(!isArray(obj)){const array=[];for(let i=0,l=obj.length;i<l;i++){array[i]=obj[i];}return array;}else{return obj;}};const each$c=(o,cb,s)=>{if(!o){return false;}s=s||o;if(isArrayLike(o)){for(let n=0,l=o.length;n<l;n++){if(cb.call(s,o[n],n,o)===false){return false;}}}else{for(const n in o){if(has$2(o,n)){if(cb.call(s,o[n],n,o)===false){return false;}}}}return true;};const map$1=(array,callback)=>{const out=[];each$c(array,(item,index)=>{out.push(callback(item,index,array));});return out;};const filter$3=(a,f)=>{const o=[];each$c(a,(v,index)=>{if(!f||f(v,index,a)){o.push(v);}});return o;};const indexOf=(a,v)=>{if(a){for(let i=0,l=a.length;i<l;i++){if(a[i]===v){return i;}}}return-1;};const reduce=(collection,iteratee,accumulator,thisArg)=>{let acc=isUndefined(accumulator)?collection[0]:accumulator;for(let i=0;i<collection.length;i++){acc=iteratee.call(thisArg,acc,collection[i],i);}return acc;};const findIndex$1=(array,predicate,thisArg)=>{for(let i=0,l=array.length;i<l;i++){if(predicate.call(thisArg,array[i],i,array)){return i;}}return-1;};const last$2=collection=>collection[collection.length-1];const cached=f=>{let called=false;let r;return(...args)=>{if(!called){called=true;r=f.apply(null,args);}return r;};};const DeviceType=(os,browser,userAgent,mediaMatch)=>{const isiPad=os.isiOS()&&/ipad/i.test(userAgent)===true;const isiPhone=os.isiOS()&&!isiPad;const isMobile=os.isiOS()||os.isAndroid();const isTouch=isMobile||mediaMatch('(pointer:coarse)');const isTablet=isiPad||!isiPhone&&isMobile&&mediaMatch('(min-device-width:768px)');const isPhone=isiPhone||isMobile&&!isTablet;const iOSwebview=browser.isSafari()&&os.isiOS()&&/safari/i.test(userAgent)===false;const isDesktop=!isPhone&&!isTablet&&!iOSwebview;return{isiPad:constant(isiPad),isiPhone:constant(isiPhone),isTablet:constant(isTablet),isPhone:constant(isPhone),isTouch:constant(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:constant(iOSwebview),isDesktop:constant(isDesktop)};};const firstMatch=(regexes,s)=>{for(let i=0;i<regexes.length;i++){const x=regexes[i];if(x.test(s)){return x;}}return undefined;};const find$1=(regexes,agent)=>{const r=firstMatch(regexes,agent);if(!r){return{major:0,minor:0};}const group=i=>{return Number(agent.replace(r,'$'+i));};return nu$3(group(1),group(2));};const detect$5=(versionRegexes,agent)=>{const cleanedAgent=String(agent).toLowerCase();if(versionRegexes.length===0){return unknown$2();}return find$1(versionRegexes,cleanedAgent);};const unknown$2=()=>{return nu$3(0,0);};const nu$3=(major,minor)=>{return{major,minor};};const Version={nu:nu$3,detect:detect$5,unknown:unknown$2};const detectBrowser$1=(browsers,userAgentData)=>{return findMap(userAgentData.brands,uaBrand=>{const lcBrand=uaBrand.brand.toLowerCase();return find$2(browsers,browser=>{var _a;return lcBrand===((_a=browser.brand)===null||_a===void 0?void 0:_a.toLowerCase());}).map(info=>({current:info.name,version:Version.nu(parseInt(uaBrand.version,10),0)}));});};const detect$4=(candidates,userAgent)=>{const agent=String(userAgent).toLowerCase();return find$2(candidates,candidate=>{return candidate.search(agent);});};const detectBrowser=(browsers,userAgent)=>{return detect$4(browsers,userAgent).map(browser=>{const version=Version.detect(browser.versionRegexes,userAgent);return{current:browser.name,version};});};const detectOs=(oses,userAgent)=>{return detect$4(oses,userAgent).map(os=>{const version=Version.detect(os.versionRegexes,userAgent);return{current:os.name,version};});};const removeFromStart=(str,numChars)=>{return str.substring(numChars);};const checkRange=(str,substr,start)=>substr===''||str.length>=substr.length&&str.substr(start,start+substr.length)===substr;const removeLeading=(str,prefix)=>{return startsWith(str,prefix)?removeFromStart(str,prefix.length):str;};const contains$1=(str,substr,start=0,end)=>{const idx=str.indexOf(substr,start);if(idx!==-1){return isUndefined(end)?true:idx+substr.length<=end;}else{return false;}};const startsWith=(str,prefix)=>{return checkRange(str,prefix,0);};const endsWith=(str,suffix)=>{return checkRange(str,suffix,str.length-suffix.length);};const blank=r=>s=>s.replace(r,'');const trim$4=blank(/^\\s+|\\s+$/g);const lTrim=blank(/^\\s+/g);const rTrim=blank(/\\s+$/g);const isNotEmpty=s=>s.length>0;const isEmpty$3=s=>!isNotEmpty(s);const repeat=(s,count)=>count<=0?'':new Array(count+1).join(s);const toInt=(value,radix=10)=>{const num=parseInt(value,radix);return isNaN(num)?Optional.none():Optional.some(num);};const normalVersionRegex=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;const checkContains=target=>{return uastring=>{return contains$1(uastring,target);};};const browsers=[{name:'Edge',versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:uastring=>{return contains$1(uastring,'edge/')&&contains$1(uastring,'chrome')&&contains$1(uastring,'safari')&&contains$1(uastring,'applewebkit');}},{name:'Chromium',brand:'Chromium',versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,normalVersionRegex],search:uastring=>{return contains$1(uastring,'chrome')&&!contains$1(uastring,'chromeframe');}},{name:'IE',versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:uastring=>{return contains$1(uastring,'msie')||contains$1(uastring,'trident');}},{name:'Opera',versionRegexes:[normalVersionRegex,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:checkContains('opera')},{name:'Firefox',versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:checkContains('firefox')},{name:'Safari',versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:uastring=>{return(contains$1(uastring,'safari')||contains$1(uastring,'mobile/'))&&contains$1(uastring,'applewebkit');}}];const oses=[{name:'Windows',search:checkContains('win'),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'iOS',search:uastring=>{return contains$1(uastring,'iphone')||contains$1(uastring,'ipad');},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:'Android',search:checkContains('android'),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'macOS',search:checkContains('mac os x'),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:'Linux',search:checkContains('linux'),versionRegexes:[]},{name:'Solaris',search:checkContains('sunos'),versionRegexes:[]},{name:'FreeBSD',search:checkContains('freebsd'),versionRegexes:[]},{name:'ChromeOS',search:checkContains('cros'),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}];const PlatformInfo={browsers:constant(browsers),oses:constant(oses)};const edge='Edge';const chromium='Chromium';const ie='IE';const opera='Opera';const firefox='Firefox';const safari='Safari';const unknown$1=()=>{return nu$2({current:undefined,version:Version.unknown()});};const nu$2=info=>{const current=info.current;const version=info.version;const isBrowser=name=>()=>current===name;return{current,version,isEdge:isBrowser(edge),isChromium:isBrowser(chromium),isIE:isBrowser(ie),isOpera:isBrowser(opera),isFirefox:isBrowser(firefox),isSafari:isBrowser(safari)};};const Browser={unknown:unknown$1,nu:nu$2,edge:constant(edge),chromium:constant(chromium),ie:constant(ie),opera:constant(opera),firefox:constant(firefox),safari:constant(safari)};const windows='Windows';const ios='iOS';const android='Android';const linux='Linux';const macos='macOS';const solaris='Solaris';const freebsd='FreeBSD';const chromeos='ChromeOS';const unknown=()=>{return nu$1({current:undefined,version:Version.unknown()});};const nu$1=info=>{const current=info.current;const version=info.version;const isOS=name=>()=>current===name;return{current,version,isWindows:isOS(windows),isiOS:isOS(ios),isAndroid:isOS(android),isMacOS:isOS(macos),isLinux:isOS(linux),isSolaris:isOS(solaris),isFreeBSD:isOS(freebsd),isChromeOS:isOS(chromeos)};};const OperatingSystem={unknown,nu:nu$1,windows:constant(windows),ios:constant(ios),android:constant(android),linux:constant(linux),macos:constant(macos),solaris:constant(solaris),freebsd:constant(freebsd),chromeos:constant(chromeos)};const detect$3=(userAgent,userAgentDataOpt,mediaMatch)=>{const browsers=PlatformInfo.browsers();const oses=PlatformInfo.oses();const browser=userAgentDataOpt.bind(userAgentData=>detectBrowser$1(browsers,userAgentData)).orThunk(()=>detectBrowser(browsers,userAgent)).fold(Browser.unknown,Browser.nu);const os=detectOs(oses,userAgent).fold(OperatingSystem.unknown,OperatingSystem.nu);const deviceType=DeviceType(os,browser,userAgent,mediaMatch);return{browser,os,deviceType};};const PlatformDetection={detect:detect$3};const mediaMatch=query=>window.matchMedia(query).matches;let platform$4=cached(()=>PlatformDetection.detect(navigator.userAgent,Optional.from(navigator.userAgentData),mediaMatch));const detect$2=()=>platform$4();const userAgent=navigator.userAgent;const platform$3=detect$2();const browser$3=platform$3.browser;const os$1=platform$3.os;const deviceType=platform$3.deviceType;const windowsPhone=userAgent.indexOf('Windows Phone')!==-1;const Env={transparentSrc:'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',documentMode:browser$3.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!browser$3.isIE(),windowsPhone,browser:{current:browser$3.current,version:browser$3.version,isChromium:browser$3.isChromium,isEdge:browser$3.isEdge,isFirefox:browser$3.isFirefox,isIE:browser$3.isIE,isOpera:browser$3.isOpera,isSafari:browser$3.isSafari},os:{current:os$1.current,version:os$1.version,isAndroid:os$1.isAndroid,isChromeOS:os$1.isChromeOS,isFreeBSD:os$1.isFreeBSD,isiOS:os$1.isiOS,isLinux:os$1.isLinux,isMacOS:os$1.isMacOS,isSolaris:os$1.isSolaris,isWindows:os$1.isWindows},deviceType:{isDesktop:deviceType.isDesktop,isiPad:deviceType.isiPad,isiPhone:deviceType.isiPhone,isPhone:deviceType.isPhone,isTablet:deviceType.isTablet,isTouch:deviceType.isTouch,isWebView:deviceType.isWebView}};const whiteSpaceRegExp$1=/^\\s*|\\s*$/g;const trim$3=str=>{return isNullable(str)?'':(''+str).replace(whiteSpaceRegExp$1,'');};const is$3=(obj,type)=>{if(!type){return obj!==undefined;}if(type==='array'&&isArray(obj)){return true;}return typeof obj===type;};const makeMap$4=(items,delim,map={})=>{const resolvedItems=isString(items)?items.split(delim||','):items||[];let i=resolvedItems.length;while(i--){map[resolvedItems[i]]={};}return map;};const hasOwnProperty=has$2;const extend$3=(obj,...exts)=>{for(let i=0;i<exts.length;i++){const ext=exts[i];for(const name in ext){if(has$2(ext,name)){const value=ext[name];if(value!==undefined){obj[name]=value;}}}}return obj;};const walk$4=function(o,f,n,s){s=s||this;if(o){if(n){o=o[n];}each$c(o,(o,i)=>{if(f.call(s,o,i,n)===false){return false;}else{walk$4(o,f,n,s);return true;}});}};const resolve$3=(n,o=window)=>{const path=n.split('.');for(let i=0,l=path.length;i<l;i++){o=o[path[i]];if(!o){break;}}return o;};const explode$3=(s,d)=>{if(isArray$1(s)){return s;}else if(s===''){return[];}else{return map$1(s.split(d||','),trim$3);}};const _addCacheSuffix=url=>{const cacheSuffix=Env.cacheSuffix;if(cacheSuffix){url+=(url.indexOf('?')===-1?'?':'&')+cacheSuffix;}return url;};const Tools={trim:trim$3,isArray:isArray,is:is$3,toArray:toArray$1,makeMap:makeMap$4,each:each$c,map:map$1,grep:filter$3,inArray:indexOf,hasOwn:hasOwnProperty,extend:extend$3,walk:walk$4,resolve:resolve$3,explode:explode$3,_addCacheSuffix};const is$2=(lhs,rhs,comparator=tripleEquals)=>lhs.exists(left=>comparator(left,rhs));const equals=(lhs,rhs,comparator=tripleEquals)=>lift2(lhs,rhs,comparator).getOr(lhs.isNone()&&rhs.isNone());const cat=arr=>{const r=[];const push=x=>{r.push(x);};for(let i=0;i<arr.length;i++){arr[i].each(push);}return r;};const lift2=(oa,ob,f)=>oa.isSome()&&ob.isSome()?Optional.some(f(oa.getOrDie(),ob.getOrDie())):Optional.none();const lift3=(oa,ob,oc,f)=>oa.isSome()&&ob.isSome()&&oc.isSome()?Optional.some(f(oa.getOrDie(),ob.getOrDie(),oc.getOrDie())):Optional.none();const someIf=(b,a)=>b?Optional.some(a):Optional.none();const Global=typeof window!=='undefined'?window:Function('return this;')();const path=(parts,scope)=>{let o=scope!==undefined&&scope!==null?scope:Global;for(let i=0;i<parts.length&&o!==undefined&&o!==null;++i){o=o[parts[i]];}return o;};const resolve$2=(p,scope)=>{const parts=p.split('.');return path(parts,scope);};const unsafe=(name,scope)=>{return resolve$2(name,scope);};const getOrDie=(name,scope)=>{const actual=unsafe(name,scope);if(actual===undefined||actual===null){throw new Error(name+' not available on this browser');}return actual;};const getPrototypeOf$1=Object.getPrototypeOf;const sandHTMLElement=scope=>{return getOrDie('HTMLElement',scope);};const isPrototypeOf=x=>{const scope=resolve$2('ownerDocument.defaultView',x);return isObject(x)&&(sandHTMLElement(scope).prototype.isPrototypeOf(x)||/^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));};const COMMENT=8;const DOCUMENT=9;const DOCUMENT_FRAGMENT=11;const ELEMENT=1;const TEXT=3;const name=element=>{const r=element.dom.nodeName;return r.toLowerCase();};const type$1=element=>element.dom.nodeType;const isType=t=>element=>type$1(element)===t;const isComment$1=element=>type$1(element)===COMMENT||name(element)==='#comment';const isHTMLElement$1=element=>isElement$7(element)&&isPrototypeOf(element.dom);const isElement$7=isType(ELEMENT);const isText$b=isType(TEXT);const isDocument$2=isType(DOCUMENT);const isDocumentFragment$1=isType(DOCUMENT_FRAGMENT);const isTag=tag=>e=>isElement$7(e)&&name(e)===tag;const rawSet=(dom,key,value)=>{if(isString(value)||isBoolean(value)||isNumber(value)){dom.setAttribute(key,value+'');}else{console.error('Invalid call to Attribute.set. Key ',key,':: Value ',value,':: Element ',dom);throw new Error('Attribute value was not simple');}};const set$3=(element,key,value)=>{rawSet(element.dom,key,value);};const setAll$1=(element,attrs)=>{const dom=element.dom;each$d(attrs,(v,k)=>{rawSet(dom,k,v);});};const get$9=(element,key)=>{const v=element.dom.getAttribute(key);return v===null?undefined:v;};const getOpt=(element,key)=>Optional.from(get$9(element,key));const has$1=(element,key)=>{const dom=element.dom;return dom&&dom.hasAttribute?dom.hasAttribute(key):false;};const remove$a=(element,key)=>{element.dom.removeAttribute(key);};const hasNone=element=>{const attrs=element.dom.attributes;return attrs===undefined||attrs===null||attrs.length===0;};const clone$4=element=>foldl(element.dom.attributes,(acc,attr)=>{acc[attr.name]=attr.value;return acc;},{});const read$4=(element,attr)=>{const value=get$9(element,attr);return value===undefined||value===''?[]:value.split(' ');};const add$4=(element,attr,id)=>{const old=read$4(element,attr);const nu=old.concat([id]);set$3(element,attr,nu.join(' '));return true;};const remove$9=(element,attr,id)=>{const nu=filter$5(read$4(element,attr),v=>v!==id);if(nu.length>0){set$3(element,attr,nu.join(' '));}else{remove$a(element,attr);}return false;};const supports=element=>element.dom.classList!==undefined;const get$8=element=>read$4(element,'class');const add$3=(element,clazz)=>add$4(element,'class',clazz);const remove$8=(element,clazz)=>remove$9(element,'class',clazz);const toggle$2=(element,clazz)=>{if(contains$2(get$8(element),clazz)){return remove$8(element,clazz);}else{return add$3(element,clazz);}};const add$2=(element,clazz)=>{if(supports(element)){element.dom.classList.add(clazz);}else{add$3(element,clazz);}};const cleanClass=element=>{const classList=supports(element)?element.dom.classList:get$8(element);if(classList.length===0){remove$a(element,'class');}};const remove$7=(element,clazz)=>{if(supports(element)){const classList=element.dom.classList;classList.remove(clazz);}else{remove$8(element,clazz);}cleanClass(element);};const toggle$1=(element,clazz)=>{const result=supports(element)?element.dom.classList.toggle(clazz):toggle$2(element,clazz);cleanClass(element);return result;};const has=(element,clazz)=>supports(element)&&element.dom.classList.contains(clazz);const fromHtml$1=(html,scope)=>{const doc=scope||document;const div=doc.createElement('div');div.innerHTML=html;if(!div.hasChildNodes()||div.childNodes.length>1){const message='HTML does not have a single root node';console.error(message,html);throw new Error(message);}return fromDom$2(div.childNodes[0]);};const fromTag=(tag,scope)=>{const doc=scope||document;const node=doc.createElement(tag);return fromDom$2(node);};const fromText=(text,scope)=>{const doc=scope||document;const node=doc.createTextNode(text);return fromDom$2(node);};const fromDom$2=node=>{if(node===null||node===undefined){throw new Error('Node cannot be null or undefined');}return{dom:node};};const fromPoint$2=(docElm,x,y)=>Optional.from(docElm.dom.elementFromPoint(x,y)).map(fromDom$2);const SugarElement={fromHtml:fromHtml$1,fromTag,fromText,fromDom:fromDom$2,fromPoint:fromPoint$2};const toArray=(target,f)=>{const r=[];const recurse=e=>{r.push(e);return f(e);};let cur=f(target);do{cur=cur.bind(recurse);}while(cur.isSome());return r;};const is$1=(element,selector)=>{const dom=element.dom;if(dom.nodeType!==ELEMENT){return false;}else{const elem=dom;if(elem.matches!==undefined){return elem.matches(selector);}else if(elem.msMatchesSelector!==undefined){return elem.msMatchesSelector(selector);}else if(elem.webkitMatchesSelector!==undefined){return elem.webkitMatchesSelector(selector);}else if(elem.mozMatchesSelector!==undefined){return elem.mozMatchesSelector(selector);}else{throw new Error('Browser lacks native selectors');}}};const bypassSelector=dom=>dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT&&dom.nodeType!==DOCUMENT_FRAGMENT||dom.childElementCount===0;const all=(selector,scope)=>{const base=scope===undefined?document:scope.dom;return bypassSelector(base)?[]:map$3(base.querySelectorAll(selector),SugarElement.fromDom);};const one=(selector,scope)=>{const base=scope===undefined?document:scope.dom;return bypassSelector(base)?Optional.none():Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);};const eq=(e1,e2)=>e1.dom===e2.dom;const contains=(e1,e2)=>{const d1=e1.dom;const d2=e2.dom;return d1===d2?false:d1.contains(d2);};const owner$1=element=>SugarElement.fromDom(element.dom.ownerDocument);const documentOrOwner=dos=>isDocument$2(dos)?dos:owner$1(dos);const documentElement=element=>SugarElement.fromDom(documentOrOwner(element).dom.documentElement);const defaultView=element=>SugarElement.fromDom(documentOrOwner(element).dom.defaultView);const parent=element=>Optional.from(element.dom.parentNode).map(SugarElement.fromDom);const parentElement=element=>Optional.from(element.dom.parentElement).map(SugarElement.fromDom);const parents$1=(element,isRoot)=>{const stop=isFunction(isRoot)?isRoot:never;let dom=element.dom;const ret=[];while(dom.parentNode!==null&&dom.parentNode!==undefined){const rawParent=dom.parentNode;const p=SugarElement.fromDom(rawParent);ret.push(p);if(stop(p)===true){break;}else{dom=rawParent;}}return ret;};const siblings=element=>{const filterSelf=elements=>filter$5(elements,x=>!eq(element,x));return parent(element).map(children$1).map(filterSelf).getOr([]);};const prevSibling=element=>Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);const nextSibling=element=>Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);const prevSiblings=element=>reverse(toArray(element,prevSibling));const nextSiblings=element=>toArray(element,nextSibling);const children$1=element=>map$3(element.dom.childNodes,SugarElement.fromDom);const child$1=(element,index)=>{const cs=element.dom.childNodes;return Optional.from(cs[index]).map(SugarElement.fromDom);};const firstChild=element=>child$1(element,0);const lastChild=element=>child$1(element,element.dom.childNodes.length-1);const childNodesCount=element=>element.dom.childNodes.length;const hasChildNodes=element=>element.dom.hasChildNodes();const getHead=doc=>{const b=doc.dom.head;if(b===null||b===undefined){throw new Error('Head is not available yet');}return SugarElement.fromDom(b);};const isShadowRoot=dos=>isDocumentFragment$1(dos)&&isNonNullable(dos.dom.host);const supported=isFunction(Element.prototype.attachShadow)&&isFunction(Node.prototype.getRootNode);const isSupported$1=constant(supported);const getRootNode=supported?e=>SugarElement.fromDom(e.dom.getRootNode()):documentOrOwner;const getStyleContainer=dos=>isShadowRoot(dos)?dos:getHead(documentOrOwner(dos));const getContentContainer=dos=>isShadowRoot(dos)?dos:SugarElement.fromDom(documentOrOwner(dos).dom.body);const getShadowRoot=e=>{const r=getRootNode(e);return isShadowRoot(r)?Optional.some(r):Optional.none();};const getShadowHost=e=>SugarElement.fromDom(e.dom.host);const getOriginalEventTarget=event=>{if(isSupported$1()&&isNonNullable(event.target)){const el=SugarElement.fromDom(event.target);if(isElement$7(el)&&isOpenShadowHost(el)){if(event.composed&&event.composedPath){const composedPath=event.composedPath();if(composedPath){return head(composedPath);}}}}return Optional.from(event.target);};const isOpenShadowHost=element=>isNonNullable(element.dom.shadowRoot);const inBody=element=>{const dom=isText$b(element)?element.dom.parentNode:element.dom;if(dom===undefined||dom===null||dom.ownerDocument===null){return false;}const doc=dom.ownerDocument;return getShadowRoot(SugarElement.fromDom(dom)).fold(()=>doc.body.contains(dom),compose1(inBody,getShadowHost));};var ClosestOrAncestor=(is,ancestor,scope,a,isRoot)=>{if(is(scope,a)){return Optional.some(scope);}else if(isFunction(isRoot)&&isRoot(scope)){return Optional.none();}else{return ancestor(scope,a,isRoot);}};const ancestor$4=(scope,predicate,isRoot)=>{let element=scope.dom;const stop=isFunction(isRoot)?isRoot:never;while(element.parentNode){element=element.parentNode;const el=SugarElement.fromDom(element);if(predicate(el)){return Optional.some(el);}else if(stop(el)){break;}}return Optional.none();};const closest$4=(scope,predicate,isRoot)=>{const is=(s,test)=>test(s);return ClosestOrAncestor(is,ancestor$4,scope,predicate,isRoot);};const sibling$1=(scope,predicate)=>{const element=scope.dom;if(!element.parentNode){return Optional.none();}return child(SugarElement.fromDom(element.parentNode),x=>!eq(scope,x)&&predicate(x));};const child=(scope,predicate)=>{const pred=node=>predicate(SugarElement.fromDom(node));const result=find$2(scope.dom.childNodes,pred);return result.map(SugarElement.fromDom);};const descendant$2=(scope,predicate)=>{const descend=node=>{for(let i=0;i<node.childNodes.length;i++){const child=SugarElement.fromDom(node.childNodes[i]);if(predicate(child)){return Optional.some(child);}const res=descend(node.childNodes[i]);if(res.isSome()){return res;}}return Optional.none();};return descend(scope.dom);};const ancestor$3=(scope,selector,isRoot)=>ancestor$4(scope,e=>is$1(e,selector),isRoot);const descendant$1=(scope,selector)=>one(selector,scope);const closest$3=(scope,selector,isRoot)=>{const is=(element,selector)=>is$1(element,selector);return ClosestOrAncestor(is,ancestor$3,scope,selector,isRoot);};const closest$2=target=>closest$3(target,'[contenteditable]');const isEditable$2=(element,assumeEditable=false)=>{if(inBody(element)){return element.dom.isContentEditable;}else{return closest$2(element).fold(constant(assumeEditable),editable=>getRaw$1(editable)==='true');}};const getRaw$1=element=>element.dom.contentEditable;const isSupported=dom=>dom.style!==undefined&&isFunction(dom.style.getPropertyValue);const internalSet=(dom,property,value)=>{if(!isString(value)){console.error('Invalid call to CSS.set. Property ',property,':: Value ',value,':: Element ',dom);throw new Error('CSS value must be a string: '+value);}if(isSupported(dom)){dom.style.setProperty(property,value);}};const internalRemove=(dom,property)=>{if(isSupported(dom)){dom.style.removeProperty(property);}};const set$2=(element,property,value)=>{const dom=element.dom;internalSet(dom,property,value);};const setAll=(element,css)=>{const dom=element.dom;each$d(css,(v,k)=>{internalSet(dom,k,v);});};const get$7=(element,property)=>{const dom=element.dom;const styles=window.getComputedStyle(dom);const r=styles.getPropertyValue(property);return r===''&&!inBody(element)?getUnsafeProperty(dom,property):r;};const getUnsafeProperty=(dom,property)=>isSupported(dom)?dom.style.getPropertyValue(property):'';const getRaw=(element,property)=>{const dom=element.dom;const raw=getUnsafeProperty(dom,property);return Optional.from(raw).filter(r=>r.length>0);};const getAllRaw=element=>{const css={};const dom=element.dom;if(isSupported(dom)){for(let i=0;i<dom.style.length;i++){const ruleName=dom.style.item(i);css[ruleName]=dom.style[ruleName];}}return css;};const remove$6=(element,property)=>{const dom=element.dom;internalRemove(dom,property);if(is$2(getOpt(element,'style').map(trim$4),'')){remove$a(element,'style');}};const reflow=e=>e.dom.offsetWidth;const before$3=(marker,element)=>{const parent$1=parent(marker);parent$1.each(v=>{v.dom.insertBefore(element.dom,marker.dom);});};const after$4=(marker,element)=>{const sibling=nextSibling(marker);sibling.fold(()=>{const parent$1=parent(marker);parent$1.each(v=>{append$1(v,element);});},v=>{before$3(v,element);});};const prepend=(parent,element)=>{const firstChild$1=firstChild(parent);firstChild$1.fold(()=>{append$1(parent,element);},v=>{parent.dom.insertBefore(element.dom,v.dom);});};const append$1=(parent,element)=>{parent.dom.appendChild(element.dom);};const wrap$2=(element,wrapper)=>{before$3(element,wrapper);append$1(wrapper,element);};const after$3=(marker,elements)=>{each$e(elements,(x,i)=>{const e=i===0?marker:elements[i-1];after$4(e,x);});};const append=(parent,elements)=>{each$e(elements,x=>{append$1(parent,x);});};const empty=element=>{element.dom.textContent='';each$e(children$1(element),rogue=>{remove$5(rogue);});};const remove$5=element=>{const dom=element.dom;if(dom.parentNode!==null){dom.parentNode.removeChild(dom);}};const unwrap=wrapper=>{const children=children$1(wrapper);if(children.length>0){after$3(wrapper,children);}remove$5(wrapper);};const fromHtml=(html,scope)=>{const doc=scope||document;const div=doc.createElement('div');div.innerHTML=html;return children$1(SugarElement.fromDom(div));};const fromDom$1=nodes=>map$3(nodes,SugarElement.fromDom);const get$6=element=>element.dom.innerHTML;const set$1=(element,content)=>{const owner=owner$1(element);const docDom=owner.dom;const fragment=SugarElement.fromDom(docDom.createDocumentFragment());const contentElements=fromHtml(content,docDom);append(fragment,contentElements);empty(element);append$1(element,fragment);};const getOuter=element=>{const container=SugarElement.fromTag('div');const clone=SugarElement.fromDom(element.dom.cloneNode(true));append$1(container,clone);return get$6(container);};const mkEvent=(target,x,y,stop,prevent,kill,raw)=>({target,x,y,stop,prevent,kill,raw});const fromRawEvent=rawEvent=>{const target=SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));const stop=()=>rawEvent.stopPropagation();const prevent=()=>rawEvent.preventDefault();const kill=compose(prevent,stop);return mkEvent(target,rawEvent.clientX,rawEvent.clientY,stop,prevent,kill,rawEvent);};const handle$1=(filter,handler)=>rawEvent=>{if(filter(rawEvent)){handler(fromRawEvent(rawEvent));}};const binder=(element,event,filter,handler,useCapture)=>{const wrapped=handle$1(filter,handler);element.dom.addEventListener(event,wrapped,useCapture);return{unbind:curry(unbind,element,event,wrapped,useCapture)};};const bind$2=(element,event,filter,handler)=>binder(element,event,filter,handler,false);const unbind=(element,event,handler,useCapture)=>{element.dom.removeEventListener(event,handler,useCapture);};const r=(left,top)=>{const translate=(x,y)=>r(left+x,top+y);return{left,top,translate};};const SugarPosition=r;const boxPosition=dom=>{const box=dom.getBoundingClientRect();return SugarPosition(box.left,box.top);};const firstDefinedOrZero=(a,b)=>{if(a!==undefined){return a;}else{return b!==undefined?b:0;}};const absolute=element=>{const doc=element.dom.ownerDocument;const body=doc.body;const win=doc.defaultView;const html=doc.documentElement;if(body===element.dom){return SugarPosition(body.offsetLeft,body.offsetTop);}const scrollTop=firstDefinedOrZero(win===null||win===void 0?void 0:win.pageYOffset,html.scrollTop);const scrollLeft=firstDefinedOrZero(win===null||win===void 0?void 0:win.pageXOffset,html.scrollLeft);const clientTop=firstDefinedOrZero(html.clientTop,body.clientTop);const clientLeft=firstDefinedOrZero(html.clientLeft,body.clientLeft);return viewport(element).translate(scrollLeft-clientLeft,scrollTop-clientTop);};const viewport=element=>{const dom=element.dom;const doc=dom.ownerDocument;const body=doc.body;if(body===dom){return SugarPosition(body.offsetLeft,body.offsetTop);}if(!inBody(element)){return SugarPosition(0,0);}return boxPosition(dom);};const get$5=_DOC=>{const doc=_DOC!==undefined?_DOC.dom:document;const x=doc.body.scrollLeft||doc.documentElement.scrollLeft;const y=doc.body.scrollTop||doc.documentElement.scrollTop;return SugarPosition(x,y);};const to=(x,y,_DOC)=>{const doc=_DOC!==undefined?_DOC.dom:document;const win=doc.defaultView;if(win){win.scrollTo(x,y);}};const intoView=(element,alignToTop)=>{const isSafari=detect$2().browser.isSafari();if(isSafari&&isFunction(element.dom.scrollIntoViewIfNeeded)){element.dom.scrollIntoViewIfNeeded(false);}else{element.dom.scrollIntoView(alignToTop);}};const get$4=_win=>{const win=_win===undefined?window:_win;if(detect$2().browser.isFirefox()){return Optional.none();}else{return Optional.from(win.visualViewport);}};const bounds=(x,y,width,height)=>({x,y,width,height,right:x+width,bottom:y+height});const getBounds=_win=>{const win=_win===undefined?window:_win;const doc=win.document;const scroll=get$5(SugarElement.fromDom(doc));return get$4(win).fold(()=>{const html=win.document.documentElement;const width=html.clientWidth;const height=html.clientHeight;return bounds(scroll.left,scroll.top,width,height);},visualViewport=>bounds(Math.max(visualViewport.pageLeft,scroll.left),Math.max(visualViewport.pageTop,scroll.top),visualViewport.width,visualViewport.height));};const children=(scope,predicate)=>filter$5(children$1(scope),predicate);const descendants$1=(scope,predicate)=>{let result=[];each$e(children$1(scope),x=>{if(predicate(x)){result=result.concat([x]);}result=result.concat(descendants$1(x,predicate));});return result;};const descendants=(scope,selector)=>all(selector,scope);const ancestor$2=(scope,selector,isRoot)=>ancestor$3(scope,selector,isRoot).isSome();class DomTreeWalker{constructor(startNode,rootNode){this.node=startNode;this.rootNode=rootNode;this.current=this.current.bind(this);this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.prev2=this.prev2.bind(this);}current(){return this.node;}next(shallow){this.node=this.findSibling(this.node,'firstChild','nextSibling',shallow);return this.node;}prev(shallow){this.node=this.findSibling(this.node,'lastChild','previousSibling',shallow);return this.node;}prev2(shallow){this.node=this.findPreviousNode(this.node,shallow);return this.node;}findSibling(node,startName,siblingName,shallow){if(node){if(!shallow&&node[startName]){return node[startName];}if(node!==this.rootNode){let sibling=node[siblingName];if(sibling){return sibling;}for(let parent=node.parentNode;parent&&parent!==this.rootNode;parent=parent.parentNode){sibling=parent[siblingName];if(sibling){return sibling;}}}}return undefined;}findPreviousNode(node,shallow){if(node){const sibling=node.previousSibling;if(this.rootNode&&sibling===this.rootNode){return;}if(sibling){if(!shallow){for(let child=sibling.lastChild;child;child=child.lastChild){if(!child.lastChild){return child;}}}return sibling;}const parent=node.parentNode;if(parent&&parent!==this.rootNode){return parent;}}return undefined;}}const isNodeType=type=>{return node=>{return!!node&&node.nodeType===type;};};const isRestrictedNode=node=>!!node&&!Object.getPrototypeOf(node);const isElement$6=isNodeType(1);const isHTMLElement=node=>isElement$6(node)&&isHTMLElement$1(SugarElement.fromDom(node));const isSVGElement=node=>isElement$6(node)&&node.namespaceURI==='http://www.w3.org/2000/svg';const matchNodeName=name=>{const lowerCasedName=name.toLowerCase();return node=>isNonNullable(node)&&node.nodeName.toLowerCase()===lowerCasedName;};const matchNodeNames=names=>{const lowerCasedNames=names.map(s=>s.toLowerCase());return node=>{if(node&&node.nodeName){const nodeName=node.nodeName.toLowerCase();return contains$2(lowerCasedNames,nodeName);}return false;};};const matchStyleValues=(name,values)=>{const items=values.toLowerCase().split(' ');return node=>{if(isElement$6(node)){const win=node.ownerDocument.defaultView;if(win){for(let i=0;i<items.length;i++){const computed=win.getComputedStyle(node,null);const cssValue=computed?computed.getPropertyValue(name):null;if(cssValue===items[i]){return true;}}}}return false;};};const hasAttribute=attrName=>{return node=>{return isElement$6(node)&&node.hasAttribute(attrName);};};const hasAttributeValue=(attrName,attrValue)=>{return node=>{return isElement$6(node)&&node.getAttribute(attrName)===attrValue;};};const isBogus$2=node=>isElement$6(node)&&node.hasAttribute('data-mce-bogus');const isBogusAll$1=node=>isElement$6(node)&&node.getAttribute('data-mce-bogus')==='all';const isTable$2=node=>isElement$6(node)&&node.tagName==='TABLE';const hasContentEditableState=value=>{return node=>{if(isHTMLElement(node)){if(node.contentEditable===value){return true;}if(node.getAttribute('data-mce-contenteditable')===value){return true;}}return false;};};const isTextareaOrInput=matchNodeNames(['textarea','input']);const isText$a=isNodeType(3);const isCData=isNodeType(4);const isPi=isNodeType(7);const isComment=isNodeType(8);const isDocument$1=isNodeType(9);const isDocumentFragment=isNodeType(11);const isBr$6=matchNodeName('br');const isImg=matchNodeName('img');const isContentEditableTrue$3=hasContentEditableState('true');const isContentEditableFalse$b=hasContentEditableState('false');const isTableCell$3=matchNodeNames(['td','th']);const isTableCellOrCaption=matchNodeNames(['td','th','caption']);const isMedia$2=matchNodeNames(['video','audio','object','embed']);const isListItem$2=matchNodeName('li');const isDetails=matchNodeName('details');const isSummary$1=matchNodeName('summary');const zeroWidth='\\uFEFF';const nbsp='\\xA0';const isZwsp$2=char=>char===zeroWidth;const removeZwsp=s=>s.replace(/\\uFEFF/g,'');const NodeValue=(is,name)=>{const get=element=>{if(!is(element)){throw new Error('Can only get '+name+' value of a '+name+' node');}return getOption(element).getOr('');};const getOption=element=>is(element)?Optional.from(element.dom.nodeValue):Optional.none();const set=(element,value)=>{if(!is(element)){throw new Error('Can only set raw '+name+' value of a '+name+' node');}element.dom.nodeValue=value;};return{get,getOption,set};};const api$1=NodeValue(isText$b,'text');const get$3=element=>api$1.get(element);const getOption=element=>api$1.getOption(element);const set=(element,value)=>api$1.set(element,value);const tableCells=['td','th'];const tableSections=['thead','tbody','tfoot'];const textBlocks=['h1','h2','h3','h4','h5','h6','p','div','address','pre','form','blockquote','center','dir','fieldset','header','footer','article','section','hgroup','aside','nav','figure'];const listItems$1=['li','dd','dt'];const lists=['ul','ol','dl'];const wsElements=['pre','script','textarea','style'];const lazyLookup=items=>{let lookup;return node=>{lookup=lookup?lookup:mapToObject(items,always);return has$2(lookup,name(node));};};const isTable$1=node=>name(node)==='table';const isBr$5=node=>isElement$7(node)&&name(node)==='br';const isTextBlock$2=lazyLookup(textBlocks);const isList=lazyLookup(lists);const isListItem$1=lazyLookup(listItems$1);const isTableSection=lazyLookup(tableSections);const isTableCell$2=lazyLookup(tableCells);const isWsPreserveElement=lazyLookup(wsElements);const getLastChildren$1=elm=>{const children=[];let rawNode=elm.dom;while(rawNode){children.push(SugarElement.fromDom(rawNode));rawNode=rawNode.lastChild;}return children;};const removeTrailingBr=elm=>{const allBrs=descendants(elm,'br');const brs=filter$5(getLastChildren$1(elm).slice(-1),isBr$5);if(allBrs.length===brs.length){each$e(brs,remove$5);}};const createPaddingBr=()=>{const br=SugarElement.fromTag('br');set$3(br,'data-mce-bogus','1');return br;};const fillWithPaddingBr=elm=>{empty(elm);append$1(elm,createPaddingBr());};const trimBlockTrailingBr=(elm,schema)=>{lastChild(elm).each(lastChild=>{prevSibling(lastChild).each(lastChildPrevSibling=>{if(schema.isBlock(name(elm))&&isBr$5(lastChild)&&schema.isBlock(name(lastChildPrevSibling))){remove$5(lastChild);}});});};const ZWSP$1=zeroWidth;const isZwsp$1=isZwsp$2;const trim$2=removeZwsp;const insert$5=editor=>editor.insertContent(ZWSP$1,{preserve_zwsp:true});const isElement$5=isElement$6;const isText$9=isText$a;const isCaretContainerBlock$1=node=>{if(isText$9(node)){node=node.parentNode;}return isElement$5(node)&&node.hasAttribute('data-mce-caret');};const isCaretContainerInline=node=>isText$9(node)&&isZwsp$1(node.data);const isCaretContainer$2=node=>isCaretContainerBlock$1(node)||isCaretContainerInline(node);const hasContent=node=>node.firstChild!==node.lastChild||!isBr$6(node.firstChild);const insertInline$1=(node,before)=>{var _a;const doc=(_a=node.ownerDocument)!==null&&_a!==void 0?_a:document;const textNode=doc.createTextNode(ZWSP$1);const parentNode=node.parentNode;if(!before){const sibling=node.nextSibling;if(isText$9(sibling)){if(isCaretContainer$2(sibling)){return sibling;}if(startsWithCaretContainer$1(sibling)){sibling.splitText(1);return sibling;}}if(node.nextSibling){parentNode===null||parentNode===void 0?void 0:parentNode.insertBefore(textNode,node.nextSibling);}else{parentNode===null||parentNode===void 0?void 0:parentNode.appendChild(textNode);}}else{const sibling=node.previousSibling;if(isText$9(sibling)){if(isCaretContainer$2(sibling)){return sibling;}if(endsWithCaretContainer$1(sibling)){return sibling.splitText(sibling.data.length-1);}}parentNode===null||parentNode===void 0?void 0:parentNode.insertBefore(textNode,node);}return textNode;};const isBeforeInline=pos=>{const container=pos.container();if(!isText$a(container)){return false;}return container.data.charAt(pos.offset())===ZWSP$1||pos.isAtStart()&&isCaretContainerInline(container.previousSibling);};const isAfterInline=pos=>{const container=pos.container();if(!isText$a(container)){return false;}return container.data.charAt(pos.offset()-1)===ZWSP$1||pos.isAtEnd()&&isCaretContainerInline(container.nextSibling);};const insertBlock=(blockName,node,before)=>{var _a;const doc=(_a=node.ownerDocument)!==null&&_a!==void 0?_a:document;const blockNode=doc.createElement(blockName);blockNode.setAttribute('data-mce-caret',before?'before':'after');blockNode.setAttribute('data-mce-bogus','all');blockNode.appendChild(createPaddingBr().dom);const parentNode=node.parentNode;if(!before){if(node.nextSibling){parentNode===null||parentNode===void 0?void 0:parentNode.insertBefore(blockNode,node.nextSibling);}else{parentNode===null||parentNode===void 0?void 0:parentNode.appendChild(blockNode);}}else{parentNode===null||parentNode===void 0?void 0:parentNode.insertBefore(blockNode,node);}return blockNode;};const startsWithCaretContainer$1=node=>isText$9(node)&&node.data[0]===ZWSP$1;const endsWithCaretContainer$1=node=>isText$9(node)&&node.data[node.data.length-1]===ZWSP$1;const trimBogusBr=elm=>{var _a;const brs=elm.getElementsByTagName('br');const lastBr=brs[brs.length-1];if(isBogus$2(lastBr)){(_a=lastBr.parentNode)===null||_a===void 0?void 0:_a.removeChild(lastBr);}};const showCaretContainerBlock=caretContainer=>{if(caretContainer&&caretContainer.hasAttribute('data-mce-caret')){trimBogusBr(caretContainer);caretContainer.removeAttribute('data-mce-caret');caretContainer.removeAttribute('data-mce-bogus');caretContainer.removeAttribute('style');caretContainer.removeAttribute('data-mce-style');caretContainer.removeAttribute('_moz_abspos');return caretContainer;}return null;};const isRangeInCaretContainerBlock=range=>isCaretContainerBlock$1(range.startContainer);const isContentEditableTrue$2=isContentEditableTrue$3;const isContentEditableFalse$a=isContentEditableFalse$b;const isBr$4=isBr$6;const isText$8=isText$a;const isInvalidTextElement=matchNodeNames(['script','style','textarea']);const isAtomicInline=matchNodeNames(['img','input','textarea','hr','iframe','video','audio','object','embed']);const isTable=matchNodeNames(['table']);const isCaretContainer$1=isCaretContainer$2;const isCaretCandidate$3=node=>{if(isCaretContainer$1(node)){return false;}if(isText$8(node)){return!isInvalidTextElement(node.parentNode);}return isAtomicInline(node)||isBr$4(node)||isTable(node)||isNonUiContentEditableFalse(node);};const isUnselectable=node=>isElement$6(node)&&node.getAttribute('unselectable')==='true';const isNonUiContentEditableFalse=node=>!isUnselectable(node)&&isContentEditableFalse$a(node);const isInEditable=(node,root)=>{for(let tempNode=node.parentNode;tempNode&&tempNode!==root;tempNode=tempNode.parentNode){if(isNonUiContentEditableFalse(tempNode)){return false;}if(isContentEditableTrue$2(tempNode)){return true;}}return true;};const isAtomicContentEditableFalse=node=>{if(!isNonUiContentEditableFalse(node)){return false;}return!foldl(from(node.getElementsByTagName('*')),(result,elm)=>{return result||isContentEditableTrue$2(elm);},false);};const isAtomic$1=node=>isAtomicInline(node)||isAtomicContentEditableFalse(node);const isEditableCaretCandidate$1=(node,root)=>isCaretCandidate$3(node)&&isInEditable(node,root);const whiteSpaceRegExp=/^[ \\t\\r\\n]*$/;const isWhitespaceText=text=>whiteSpaceRegExp.test(text);const isZwsp=text=>{for(const c of text){if(!isZwsp$2(c)){return false;}}return true;};const isCollapsibleWhitespace$1=c=>' \\f\\t\\x0B'.indexOf(c)!==-1;const isNewLineChar=c=>c==='\\n'||c==='\\r';const isNewline=(text,idx)=>idx<text.length&&idx>=0?isNewLineChar(text[idx]):false;const normalize$4=(text,tabSpaces=4,isStartOfContent=true,isEndOfContent=true)=>{const tabSpace=repeat(' ',tabSpaces);const normalizedText=text.replace(/\\t/g,tabSpace);const result=foldl(normalizedText,(acc,c)=>{if(isCollapsibleWhitespace$1(c)||c===nbsp){if(acc.pcIsSpace||acc.str===''&&isStartOfContent||acc.str.length===normalizedText.length-1&&isEndOfContent||isNewline(normalizedText,acc.str.length+1)){return{pcIsSpace:false,str:acc.str+nbsp};}else{return{pcIsSpace:true,str:acc.str+' '};}}else{return{pcIsSpace:isNewLineChar(c),str:acc.str+c};}},{pcIsSpace:false,str:''});return result.str;};const hasWhitespacePreserveParent=(node,rootNode)=>{const rootElement=SugarElement.fromDom(rootNode);const startNode=SugarElement.fromDom(node);return ancestor$2(startNode,'pre,code',curry(eq,rootElement));};const isWhitespace$1=(node,rootNode)=>{return isText$a(node)&&isWhitespaceText(node.data)&&!hasWhitespacePreserveParent(node,rootNode);};const isNamedAnchor=node=>{return isElement$6(node)&&node.nodeName==='A'&&!node.hasAttribute('href')&&(node.hasAttribute('name')||node.hasAttribute('id'));};const isContent$1=(node,rootNode)=>{return isCaretCandidate$3(node)&&!isWhitespace$1(node,rootNode)||isNamedAnchor(node)||isBookmark(node);};const isBookmark=hasAttribute('data-mce-bookmark');const isBogus$1=hasAttribute('data-mce-bogus');const isBogusAll=hasAttributeValue('data-mce-bogus','all');const hasNonEditableParent=node=>parentElement(SugarElement.fromDom(node)).exists(parent=>!isEditable$2(parent));const isEmptyNode=(targetNode,skipBogus)=>{let brCount=0;if(isContent$1(targetNode,targetNode)){return false;}else{let node=targetNode.firstChild;if(!node){return true;}const walker=new DomTreeWalker(node,targetNode);do{if(skipBogus){if(isBogusAll(node)){node=walker.next(true);continue;}if(isBogus$1(node)){node=walker.next();continue;}}if(isContentEditableTrue$3(node)&&hasNonEditableParent(node)){return false;}if(isBr$6(node)){brCount++;node=walker.next();continue;}if(isContent$1(node,targetNode)){return false;}node=walker.next();}while(node);return brCount<=1;}};const isEmpty$2=(elm,skipBogus=true)=>isEmptyNode(elm.dom,skipBogus);const isNonHtmlElementRootName=name=>name.toLowerCase()==='svg';const isNonHtmlElementRoot=node=>isNonHtmlElementRootName(node.nodeName);const toScopeType=node=>(node===null||node===void 0?void 0:node.nodeName)==='svg'?'svg':'html';const namespaceElements=['svg'];const createNamespaceTracker=()=>{let scopes=[];const peek=()=>scopes[scopes.length-1];const track=node=>{if(isNonHtmlElementRoot(node)){scopes.push(node);}let currentScope=peek();if(currentScope&&!currentScope.contains(node)){scopes.pop();currentScope=peek();}return toScopeType(currentScope);};const current=()=>toScopeType(peek());const reset=()=>{scopes=[];};return{track,current,reset};};const transparentBlockAttr='data-mce-block';const elementNames=map=>filter$5(keys(map),key=>!/[A-Z]/.test(key));const makeSelectorFromSchemaMap=map=>map$3(elementNames(map),name=>{return`${name}:`+map$3(namespaceElements,ns=>`not(${ns} ${name})`).join(':');}).join(',');const updateTransparent=(blocksSelector,transparent)=>{if(isNonNullable(transparent.querySelector(blocksSelector))){transparent.setAttribute(transparentBlockAttr,'true');if(transparent.getAttribute('data-mce-selected')==='inline-boundary'){transparent.removeAttribute('data-mce-selected');}return true;}else{transparent.removeAttribute(transparentBlockAttr);return false;}};const updateBlockStateOnChildren=(schema,scope)=>{const transparentSelector=makeSelectorFromSchemaMap(schema.getTransparentElements());const blocksSelector=makeSelectorFromSchemaMap(schema.getBlockElements());return filter$5(scope.querySelectorAll(transparentSelector),transparent=>updateTransparent(blocksSelector,transparent));};const trimEdge=(el,leftSide)=>{var _a;const childPropertyName=leftSide?'lastChild':'firstChild';for(let child=el[childPropertyName];child;child=child[childPropertyName]){if(isEmpty$2(SugarElement.fromDom(child))){(_a=child.parentNode)===null||_a===void 0?void 0:_a.removeChild(child);return;}}};const split$2=(parentElm,splitElm)=>{const range=document.createRange();const parentNode=parentElm.parentNode;if(parentNode){range.setStartBefore(parentElm);range.setEndBefore(splitElm);const beforeFragment=range.extractContents();trimEdge(beforeFragment,true);range.setStartAfter(splitElm);range.setEndAfter(parentElm);const afterFragment=range.extractContents();trimEdge(afterFragment,false);if(!isEmpty$2(SugarElement.fromDom(beforeFragment))){parentNode.insertBefore(beforeFragment,parentElm);}if(!isEmpty$2(SugarElement.fromDom(splitElm))){parentNode.insertBefore(splitElm,parentElm);}if(!isEmpty$2(SugarElement.fromDom(afterFragment))){parentNode.insertBefore(afterFragment,parentElm);}parentNode.removeChild(parentElm);}};const splitInvalidChildren=(schema,scope,transparentBlocks)=>{const blocksElements=schema.getBlockElements();const rootNode=SugarElement.fromDom(scope);const isBlock=el=>name(el)in blocksElements;const isRoot=el=>eq(el,rootNode);each$e(fromDom$1(transparentBlocks),transparentBlock=>{ancestor$4(transparentBlock,isBlock,isRoot).each(parentBlock=>{const invalidChildren=children(transparentBlock,el=>isBlock(el)&&!schema.isValidChild(name(parentBlock),name(el)));if(invalidChildren.length>0){const stateScope=parentElement(parentBlock);each$e(invalidChildren,child=>{ancestor$4(child,isBlock,isRoot).each(parentBlock=>{split$2(parentBlock.dom,child.dom);});});stateScope.each(scope=>updateBlockStateOnChildren(schema,scope.dom));}});});};const unwrapInvalidChildren=(schema,scope,transparentBlocks)=>{each$e([...transparentBlocks,...(isTransparentBlock(schema,scope)?[scope]:[])],block=>each$e(descendants(SugarElement.fromDom(block),block.nodeName.toLowerCase()),elm=>{if(isTransparentInline(schema,elm.dom)){unwrap(elm);}}));};const updateChildren=(schema,scope)=>{const transparentBlocks=updateBlockStateOnChildren(schema,scope);splitInvalidChildren(schema,scope,transparentBlocks);unwrapInvalidChildren(schema,scope,transparentBlocks);};const updateElement=(schema,target)=>{if(isTransparentElement(schema,target)){const blocksSelector=makeSelectorFromSchemaMap(schema.getBlockElements());updateTransparent(blocksSelector,target);}};const updateCaret=(schema,root,caretParent)=>{const isRoot=el=>eq(el,SugarElement.fromDom(root));const parents=parents$1(SugarElement.fromDom(caretParent),isRoot);get$b(parents,parents.length-2).filter(isElement$7).fold(()=>updateChildren(schema,root),scope=>updateChildren(schema,scope.dom));};const hasBlockAttr=el=>el.hasAttribute(transparentBlockAttr);const isTransparentElementName=(schema,name)=>has$2(schema.getTransparentElements(),name);const isTransparentElement=(schema,node)=>isElement$6(node)&&isTransparentElementName(schema,node.nodeName);const isTransparentBlock=(schema,node)=>isTransparentElement(schema,node)&&hasBlockAttr(node);const isTransparentInline=(schema,node)=>isTransparentElement(schema,node)&&!hasBlockAttr(node);const isTransparentAstBlock=(schema,node)=>node.type===1&&isTransparentElementName(schema,node.name)&&isString(node.attr(transparentBlockAttr));const browser$2=detect$2().browser;const firstElement=nodes=>find$2(nodes,isElement$7);const getTableCaptionDeltaY=elm=>{if(browser$2.isFirefox()&&name(elm)==='table'){return firstElement(children$1(elm)).filter(elm=>{return name(elm)==='caption';}).bind(caption=>{return firstElement(nextSiblings(caption)).map(body=>{const bodyTop=body.dom.offsetTop;const captionTop=caption.dom.offsetTop;const captionHeight=caption.dom.offsetHeight;return bodyTop<=captionTop?-captionHeight:0;});}).getOr(0);}else{return 0;}};const hasChild=(elm,child)=>elm.children&&contains$2(elm.children,child);const getPos=(body,elm,rootElm)=>{let x=0,y=0;const doc=body.ownerDocument;rootElm=rootElm?rootElm:body;if(elm){if(rootElm===body&&elm.getBoundingClientRect&&get$7(SugarElement.fromDom(body),'position')==='static'){const pos=elm.getBoundingClientRect();x=pos.left+(doc.documentElement.scrollLeft||body.scrollLeft)-doc.documentElement.clientLeft;y=pos.top+(doc.documentElement.scrollTop||body.scrollTop)-doc.documentElement.clientTop;return{x,y};}let offsetParent=elm;while(offsetParent&&offsetParent!==rootElm&&offsetParent.nodeType&&!hasChild(offsetParent,rootElm)){const castOffsetParent=offsetParent;x+=castOffsetParent.offsetLeft||0;y+=castOffsetParent.offsetTop||0;offsetParent=castOffsetParent.offsetParent;}offsetParent=elm.parentNode;while(offsetParent&&offsetParent!==rootElm&&offsetParent.nodeType&&!hasChild(offsetParent,rootElm)){x-=offsetParent.scrollLeft||0;y-=offsetParent.scrollTop||0;offsetParent=offsetParent.parentNode;}y+=getTableCaptionDeltaY(SugarElement.fromDom(elm));}return{x,y};};const StyleSheetLoader=(documentOrShadowRoot,settings={})=>{let idCount=0;const loadedStates={};const edos=SugarElement.fromDom(documentOrShadowRoot);const doc=documentOrOwner(edos);const _setReferrerPolicy=referrerPolicy=>{settings.referrerPolicy=referrerPolicy;};const _setContentCssCors=contentCssCors=>{settings.contentCssCors=contentCssCors;};const addStyle=element=>{append$1(getStyleContainer(edos),element);};const removeStyle=id=>{const styleContainer=getStyleContainer(edos);descendant$1(styleContainer,'#'+id).each(remove$5);};const getOrCreateState=url=>get$a(loadedStates,url).getOrThunk(()=>({id:'mce-u'+idCount++,passed:[],failed:[],count:0}));const load=url=>new Promise((success,failure)=>{let link;const urlWithSuffix=Tools._addCacheSuffix(url);const state=getOrCreateState(urlWithSuffix);loadedStates[urlWithSuffix]=state;state.count++;const resolve=(callbacks,status)=>{each$e(callbacks,call);state.status=status;state.passed=[];state.failed=[];if(link){link.onload=null;link.onerror=null;link=null;}};const passed=()=>resolve(state.passed,2);const failed=()=>resolve(state.failed,3);if(success){state.passed.push(success);}if(failure){state.failed.push(failure);}if(state.status===1){return;}if(state.status===2){passed();return;}if(state.status===3){failed();return;}state.status=1;const linkElem=SugarElement.fromTag('link',doc.dom);setAll$1(linkElem,{rel:'stylesheet',type:'text/css',id:state.id});if(settings.contentCssCors){set$3(linkElem,'crossOrigin','anonymous');}if(settings.referrerPolicy){set$3(linkElem,'referrerpolicy',settings.referrerPolicy);}link=linkElem.dom;link.onload=passed;link.onerror=failed;addStyle(linkElem);set$3(linkElem,'href',urlWithSuffix);});const loadRawCss=(key,css)=>{const state=getOrCreateState(key);loadedStates[key]=state;state.count++;const styleElem=SugarElement.fromTag('style',doc.dom);setAll$1(styleElem,{rel:'stylesheet',type:'text/css',id:state.id});styleElem.dom.innerHTML=css;addStyle(styleElem);};const loadAll=urls=>{const loadedUrls=Promise.allSettled(map$3(urls,url=>load(url).then(constant(url))));return loadedUrls.then(results=>{const parts=partition$2(results,r=>r.status==='fulfilled');if(parts.fail.length>0){return Promise.reject(map$3(parts.fail,result=>result.reason));}else{return map$3(parts.pass,result=>result.value);}});};const unload=url=>{const urlWithSuffix=Tools._addCacheSuffix(url);get$a(loadedStates,urlWithSuffix).each(state=>{const count=--state.count;if(count===0){delete loadedStates[urlWithSuffix];removeStyle(state.id);}});};const unloadRawCss=key=>{get$a(loadedStates,key).each(state=>{const count=--state.count;if(count===0){delete loadedStates[key];removeStyle(state.id);}});};const unloadAll=urls=>{each$e(urls,url=>{unload(url);});};return{load,loadRawCss,loadAll,unload,unloadRawCss,unloadAll,_setReferrerPolicy,_setContentCssCors};};const create$d=()=>{const map=new WeakMap();const forElement=(referenceElement,settings)=>{const root=getRootNode(referenceElement);const rootDom=root.dom;return Optional.from(map.get(rootDom)).getOrThunk(()=>{const sl=StyleSheetLoader(rootDom,settings);map.set(rootDom,sl);return sl;});};return{forElement};};const instance=create$d();const isSpan=node=>node.nodeName.toLowerCase()==='span';const isInlineContent=(node,root,schema)=>isNonNullable(node)&&(isContent$1(node,root)||schema.isInline(node.nodeName.toLowerCase()));const surroundedByInlineContent=(node,root,schema)=>{const prev=new DomTreeWalker(node,root).prev(false);const next=new DomTreeWalker(node,root).next(false);const prevIsInline=isUndefined(prev)||isInlineContent(prev,root,schema);const nextIsInline=isUndefined(next)||isInlineContent(next,root,schema);return prevIsInline&&nextIsInline;};const isBookmarkNode$2=node=>isSpan(node)&&node.getAttribute('data-mce-type')==='bookmark';const isKeepTextNode=(node,root,schema)=>isText$a(node)&&node.data.length>0&&surroundedByInlineContent(node,root,schema);const isKeepElement=node=>isElement$6(node)?node.childNodes.length>0:false;const isDocument=node=>isDocumentFragment(node)||isDocument$1(node);const trimNode=(dom,node,schema,root)=>{var _a;const rootNode=root||node;if(isElement$6(node)&&isBookmarkNode$2(node)){return node;}const children=node.childNodes;for(let i=children.length-1;i>=0;i--){trimNode(dom,children[i],schema,rootNode);}if(isElement$6(node)){const currentChildren=node.childNodes;if(currentChildren.length===1&&isBookmarkNode$2(currentChildren[0])){(_a=node.parentNode)===null||_a===void 0?void 0:_a.insertBefore(currentChildren[0],node);}}if(!isDocument(node)&&!isContent$1(node,rootNode)&&!isKeepElement(node)&&!isKeepTextNode(node,rootNode,schema)){dom.remove(node);}return node;};const makeMap$3=Tools.makeMap;const attrsCharsRegExp=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;const textCharsRegExp=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;const rawCharsRegExp=/[<>&\\\"\\']/g;const entityRegExp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;const asciiMap={128:'\\u20AC',130:'\\u201A',131:'\\u0192',132:'\\u201E',133:'\\u2026',134:'\\u2020',135:'\\u2021',136:'\\u02c6',137:'\\u2030',138:'\\u0160',139:'\\u2039',140:'\\u0152',142:'\\u017d',145:'\\u2018',146:'\\u2019',147:'\\u201C',148:'\\u201D',149:'\\u2022',150:'\\u2013',151:'\\u2014',152:'\\u02DC',153:'\\u2122',154:'\\u0161',155:'\\u203A',156:'\\u0153',158:'\\u017e',159:'\\u0178'};const baseEntities={'\"':'&quot;','\\'':'&#39;','<':'&lt;','>':'&gt;','&':'&amp;','`':'&#96;'};const reverseEntities={'&lt;':'<','&gt;':'>','&amp;':'&','&quot;':'\"','&apos;':`'`};const nativeDecode=text=>{const elm=SugarElement.fromTag('div').dom;elm.innerHTML=text;return elm.textContent||elm.innerText||text;};const buildEntitiesLookup=(items,radix)=>{const lookup={};if(items){const itemList=items.split(',');radix=radix||10;for(let i=0;i<itemList.length;i+=2){const chr=String.fromCharCode(parseInt(itemList[i],radix));if(!baseEntities[chr]){const entity='&'+itemList[i+1]+';';lookup[chr]=entity;lookup[entity]=chr;}}return lookup;}else{return undefined;}};const namedEntities=buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,'+'5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,'+'5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,'+'5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,'+'68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,'+'6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,'+'6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,'+'75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,'+'7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,'+'7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,'+'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,'+'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,'+'t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,'+'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,'+'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,'+'81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,'+'8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,'+'8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,'+'8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,'+'8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,'+'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,'+'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,'+'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,'+'80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,'+'811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro',32);const encodeRaw=(text,attr)=>text.replace(attr?attrsCharsRegExp:textCharsRegExp,chr=>{return baseEntities[chr]||chr;});const encodeAllRaw=text=>(''+text).replace(rawCharsRegExp,chr=>{return baseEntities[chr]||chr;});const encodeNumeric=(text,attr)=>text.replace(attr?attrsCharsRegExp:textCharsRegExp,chr=>{if(chr.length>1){return'&#'+((chr.charCodeAt(0)-55296)*1024+(chr.charCodeAt(1)-56320)+65536)+';';}return baseEntities[chr]||'&#'+chr.charCodeAt(0)+';';});const encodeNamed=(text,attr,entities)=>{const resolveEntities=entities||namedEntities;return text.replace(attr?attrsCharsRegExp:textCharsRegExp,chr=>{return baseEntities[chr]||resolveEntities[chr]||chr;});};const getEncodeFunc=(name,entities)=>{const entitiesMap=buildEntitiesLookup(entities)||namedEntities;const encodeNamedAndNumeric=(text,attr)=>text.replace(attr?attrsCharsRegExp:textCharsRegExp,chr=>{if(baseEntities[chr]!==undefined){return baseEntities[chr];}if(entitiesMap[chr]!==undefined){return entitiesMap[chr];}if(chr.length>1){return'&#'+((chr.charCodeAt(0)-55296)*1024+(chr.charCodeAt(1)-56320)+65536)+';';}return'&#'+chr.charCodeAt(0)+';';});const encodeCustomNamed=(text,attr)=>{return encodeNamed(text,attr,entitiesMap);};const nameMap=makeMap$3(name.replace(/\\+/g,','));if(nameMap.named&&nameMap.numeric){return encodeNamedAndNumeric;}if(nameMap.named){if(entities){return encodeCustomNamed;}return encodeNamed;}if(nameMap.numeric){return encodeNumeric;}return encodeRaw;};const decode=text=>text.replace(entityRegExp,(all,numeric)=>{if(numeric){if(numeric.charAt(0).toLowerCase()==='x'){numeric=parseInt(numeric.substr(1),16);}else{numeric=parseInt(numeric,10);}if(numeric>65535){numeric-=65536;return String.fromCharCode(55296+(numeric>>10),56320+(numeric&1023));}return asciiMap[numeric]||String.fromCharCode(numeric);}return reverseEntities[all]||namedEntities[all]||nativeDecode(all);});const Entities={encodeRaw,encodeAllRaw,encodeNumeric,encodeNamed,getEncodeFunc,decode};const split$1=(items,delim)=>{items=Tools.trim(items);return items?items.split(delim||' '):[];};const patternToRegExp=str=>new RegExp('^'+str.replace(/([?+*])/g,'.$1')+'$');const parseCustomElementsRules=value=>{const customElementRegExp=/^(~)?(.+)$/;return bind$3(split$1(value,','),rule=>{const matches=customElementRegExp.exec(rule);if(matches){const inline=matches[1]==='~';const cloneName=inline?'span':'div';const name=matches[2];return[{inline,cloneName,name}];}else{return[];}});};const getElementSetsAsStrings=type=>{let globalAttributes,blockContent;let phrasingContent;globalAttributes='id accesskey class dir lang style tabindex title role';blockContent='address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';phrasingContent='a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd '+'label map noscript object q s samp script select small span strong sub sup '+'textarea u var #text #comment';if(type!=='html4'){const transparentContent='a ins del canvas map';globalAttributes+=' contenteditable contextmenu draggable dropzone '+'hidden spellcheck translate';blockContent+=' article aside details dialog figure main header footer hgroup section nav '+transparentContent;phrasingContent+=' audio canvas command datalist mark meter output picture '+'progress time wbr video ruby bdi keygen svg';}if(type!=='html5-strict'){globalAttributes+=' xml:lang';const html4PhrasingContent='acronym applet basefont big font strike tt';phrasingContent=[phrasingContent,html4PhrasingContent].join(' ');const html4BlockContent='center dir isindex noframes';blockContent=[blockContent,html4BlockContent].join(' ');}const flowContent=[blockContent,phrasingContent].join(' ');return{globalAttributes,blockContent,phrasingContent,flowContent};};const makeSchema=type=>{const{globalAttributes,phrasingContent,flowContent}=getElementSetsAsStrings(type);const schema={};const addElement=(name,attributes,children)=>{schema[name]={attributes:mapToObject(attributes,constant({})),attributesOrder:attributes,children:mapToObject(children,constant({}))};};const add=(name,attributes='',children='')=>{const childNames=split$1(children);const names=split$1(name);let ni=names.length;const allAttributes=split$1([globalAttributes,attributes].join(' '));while(ni--){addElement(names[ni],allAttributes.slice(),childNames);}};const addAttrs=(name,attributes)=>{const names=split$1(name);const attrs=split$1(attributes);let ni=names.length;while(ni--){const schemaItem=schema[names[ni]];for(let i=0,l=attrs.length;i<l;i++){schemaItem.attributes[attrs[i]]={};schemaItem.attributesOrder.push(attrs[i]);}}};if(type!=='html5-strict'){const html4PhrasingContent='acronym applet basefont big font strike tt';each$e(split$1(html4PhrasingContent),name=>{add(name,'',phrasingContent);});const html4BlockContent='center dir isindex noframes';each$e(split$1(html4BlockContent),name=>{add(name,'',flowContent);});}add('html','manifest','head body');add('head','','base command link meta noscript script style title');add('title hr noscript br');add('base','href target');add('link','href rel media hreflang type sizes hreflang');add('meta','name http-equiv content charset');add('style','media type scoped');add('script','src async defer type charset');add('body','onafterprint onbeforeprint onbeforeunload onblur onerror onfocus '+'onhashchange onload onmessage onoffline ononline onpagehide onpageshow '+'onpopstate onresize onscroll onstorage onunload',flowContent);add('dd div','',flowContent);add('address dt caption','',type==='html4'?phrasingContent:flowContent);add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn','',phrasingContent);add('blockquote','cite',flowContent);add('ol','reversed start type','li');add('ul','','li');add('li','value',flowContent);add('dl','','dt dd');add('a','href target rel media hreflang type',type==='html4'?phrasingContent:flowContent);add('q','cite',phrasingContent);add('ins del','cite datetime',flowContent);add('img','src sizes srcset alt usemap ismap width height');add('iframe','src name width height',flowContent);add('embed','src type width height');add('object','data type typemustmatch name usemap form width height',[flowContent,'param'].join(' '));add('param','name value');add('map','name',[flowContent,'area'].join(' '));add('area','alt coords shape href target rel media hreflang type');add('table','border','caption colgroup thead tfoot tbody tr'+(type==='html4'?' col':''));add('colgroup','span','col');add('col','span');add('tbody thead tfoot','','tr');add('tr','','td th');add('td','colspan rowspan headers',flowContent);add('th','colspan rowspan headers scope abbr',flowContent);add('form','accept-charset action autocomplete enctype method name novalidate target',flowContent);add('fieldset','disabled form name',[flowContent,'legend'].join(' '));add('label','form for',phrasingContent);add('input','accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate '+'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');add('button','disabled form formaction formenctype formmethod formnovalidate formtarget name type value',type==='html4'?flowContent:phrasingContent);add('select','disabled form multiple name required size','option optgroup');add('optgroup','disabled label','option');add('option','disabled label selected value');add('textarea','cols dirname disabled form maxlength name readonly required rows wrap');add('menu','type label',[flowContent,'li'].join(' '));add('noscript','',flowContent);if(type!=='html4'){add('wbr');add('ruby','',[phrasingContent,'rt rp'].join(' '));add('figcaption','',flowContent);add('mark rt rp bdi','',phrasingContent);add('summary','',[phrasingContent,'h1 h2 h3 h4 h5 h6'].join(' '));add('canvas','width height',flowContent);add('video','src crossorigin poster preload autoplay mediagroup loop '+'muted controls width height buffered',[flowContent,'track source'].join(' '));add('audio','src crossorigin preload autoplay mediagroup loop muted controls '+'buffered volume',[flowContent,'track source'].join(' '));add('picture','','img source');add('source','src srcset type media sizes');add('track','kind src srclang label default');add('datalist','',[phrasingContent,'option'].join(' '));add('article section nav aside main header footer','',flowContent);add('hgroup','','h1 h2 h3 h4 h5 h6');add('figure','',[flowContent,'figcaption'].join(' '));add('time','datetime',phrasingContent);add('dialog','open',flowContent);add('command','type label icon disabled checked radiogroup command');add('output','for form name',phrasingContent);add('progress','value max',phrasingContent);add('meter','value min max low high optimum',phrasingContent);add('details','open',[flowContent,'summary'].join(' '));add('keygen','autofocus challenge disabled form keytype name');addElement('svg','id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform'.split(' '),[]);}if(type!=='html5-strict'){addAttrs('script','language xml:space');addAttrs('style','xml:space');addAttrs('object','declare classid code codebase codetype archive standby align border hspace vspace');addAttrs('embed','align name hspace vspace');addAttrs('param','valuetype type');addAttrs('a','charset name rev shape coords');addAttrs('br','clear');addAttrs('applet','codebase archive code object alt name width height align hspace vspace');addAttrs('img','name longdesc align border hspace vspace');addAttrs('iframe','longdesc frameborder marginwidth marginheight scrolling align');addAttrs('font basefont','size color face');addAttrs('input','usemap align');addAttrs('select');addAttrs('textarea');addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption','align');addAttrs('ul','type compact');addAttrs('li','type');addAttrs('ol dl menu dir','compact');addAttrs('pre','width xml:space');addAttrs('hr','align noshade size width');addAttrs('isindex','prompt');addAttrs('table','summary width frame rules cellspacing cellpadding align bgcolor');addAttrs('col','width align char charoff valign');addAttrs('colgroup','width align char charoff valign');addAttrs('thead','align char charoff valign');addAttrs('tr','align char charoff valign bgcolor');addAttrs('th','axis align char charoff valign nowrap bgcolor width height');addAttrs('form','accept');addAttrs('td','abbr axis scope align char charoff valign nowrap bgcolor width height');addAttrs('tfoot','align char charoff valign');addAttrs('tbody','align char charoff valign');addAttrs('area','nohref');addAttrs('body','background bgcolor text link vlink alink');}if(type!=='html4'){addAttrs('input button select textarea','autofocus');addAttrs('input textarea','placeholder');addAttrs('a','download');addAttrs('link script img','crossorigin');addAttrs('img','loading');addAttrs('iframe','sandbox seamless allow allowfullscreen loading');}if(type!=='html4'){each$e([schema.video,schema.audio],item=>{delete item.children.audio;delete item.children.video;});}each$e(split$1('a form meter progress dfn'),name=>{if(schema[name]){delete schema[name].children[name];}});delete schema.caption.children.table;delete schema.script;return schema;};const prefixToOperation=prefix=>prefix==='-'?'remove':'add';const parseValidChildrenRules=value=>{const childRuleRegExp=/^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;return bind$3(split$1(value,','),rule=>{const matches=childRuleRegExp.exec(rule);if(matches){const prefix=matches[1];const operation=prefix?prefixToOperation(prefix):'replace';const name=matches[2];const validChildren=split$1(matches[3],'|');return[{operation,name,validChildren}];}else{return[];}});};const parseValidElementsAttrDataIntoElement=(attrData,targetElement)=>{const attrRuleRegExp=/^([!\\-])?(\\w+[\\\\:]:\\w+|[^=~<]+)?(?:([=~<])(.*))?$/;const hasPatternsRegExp=/[*?+]/;const{attributes,attributesOrder}=targetElement;return each$e(split$1(attrData,'|'),rule=>{const matches=attrRuleRegExp.exec(rule);if(matches){const attr={};const attrType=matches[1];const attrName=matches[2].replace(/[\\\\:]:/g,':');const attrPrefix=matches[3];const value=matches[4];if(attrType==='!'){targetElement.attributesRequired=targetElement.attributesRequired||[];targetElement.attributesRequired.push(attrName);attr.required=true;}if(attrType==='-'){delete attributes[attrName];attributesOrder.splice(Tools.inArray(attributesOrder,attrName),1);return;}if(attrPrefix){if(attrPrefix==='='){targetElement.attributesDefault=targetElement.attributesDefault||[];targetElement.attributesDefault.push({name:attrName,value});attr.defaultValue=value;}else if(attrPrefix==='~'){targetElement.attributesForced=targetElement.attributesForced||[];targetElement.attributesForced.push({name:attrName,value});attr.forcedValue=value;}else if(attrPrefix==='<'){attr.validValues=Tools.makeMap(value,'?');}}if(hasPatternsRegExp.test(attrName)){const attrPattern=attr;targetElement.attributePatterns=targetElement.attributePatterns||[];attrPattern.pattern=patternToRegExp(attrName);targetElement.attributePatterns.push(attrPattern);}else{if(!attributes[attrName]){attributesOrder.push(attrName);}attributes[attrName]=attr;}}});};const cloneAttributesInto=(from,to)=>{each$d(from.attributes,(value,key)=>{to.attributes[key]=value;});to.attributesOrder.push(...from.attributesOrder);};const parseValidElementsRules=(globalElement,validElements)=>{const elementRuleRegExp=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/;return bind$3(split$1(validElements,','),rule=>{const matches=elementRuleRegExp.exec(rule);if(matches){const prefix=matches[1];const elementName=matches[2];const outputName=matches[3];const attrsPrefix=matches[4];const attrData=matches[5];const element={attributes:{},attributesOrder:[]};globalElement.each(el=>cloneAttributesInto(el,element));if(prefix==='#'){element.paddEmpty=true;}else if(prefix==='-'){element.removeEmpty=true;}if(attrsPrefix==='!'){element.removeEmptyAttrs=true;}if(attrData){parseValidElementsAttrDataIntoElement(attrData,element);}if(outputName){element.outputName=elementName;}if(elementName==='@'){if(globalElement.isNone()){globalElement=Optional.some(element);}else{return[];}}return[outputName?{name:elementName,element,aliasName:outputName}:{name:elementName,element}];}else{return[];}});};const mapCache={};const makeMap$2=Tools.makeMap,each$b=Tools.each,extend$2=Tools.extend,explode$2=Tools.explode;const createMap=(defaultValue,extendWith={})=>{const value=makeMap$2(defaultValue,' ',makeMap$2(defaultValue.toUpperCase(),' '));return extend$2(value,extendWith);};const getTextRootBlockElements=schema=>createMap('td th li dt dd figcaption caption details summary',schema.getTextBlockElements());const compileElementMap=(value,mode)=>{if(value){const styles={};if(isString(value)){value={'*':value};}each$b(value,(value,key)=>{styles[key]=styles[key.toUpperCase()]=mode==='map'?makeMap$2(value,/[, ]/):explode$2(value,/[, ]/);});return styles;}else{return undefined;}};const Schema=(settings={})=>{var _a;const elements={};const children={};let patternElements=[];const customElementsMap={};const specialElements={};const createLookupTable=(option,defaultValue,extendWith)=>{const value=settings[option];if(!value){let newValue=mapCache[option];if(!newValue){newValue=createMap(defaultValue,extendWith);mapCache[option]=newValue;}return newValue;}else{return makeMap$2(value,/[, ]/,makeMap$2(value.toUpperCase(),/[, ]/));}};const schemaType=(_a=settings.schema)!==null&&_a!==void 0?_a:'html5';const schemaItems=makeSchema(schemaType);if(settings.verify_html===false){settings.valid_elements='*[*]';}const validStyles=compileElementMap(settings.valid_styles);const invalidStyles=compileElementMap(settings.invalid_styles,'map');const validClasses=compileElementMap(settings.valid_classes,'map');const whitespaceElementsMap=createLookupTable('whitespace_elements','pre script noscript style textarea video audio iframe object code');const selfClosingElementsMap=createLookupTable('self_closing_elements','colgroup dd dt li option p td tfoot th thead tr');const voidElementsMap=createLookupTable('void_elements','area base basefont br col frame hr img input isindex link '+'meta param embed source wbr track');const boolAttrMap=createLookupTable('boolean_attributes','checked compact declare defer disabled ismap multiple nohref noresize '+'noshade nowrap readonly selected autoplay loop controls allowfullscreen');const nonEmptyOrMoveCaretBeforeOnEnter='td th iframe video audio object script code';const nonEmptyElementsMap=createLookupTable('non_empty_elements',nonEmptyOrMoveCaretBeforeOnEnter+' pre svg',voidElementsMap);const moveCaretBeforeOnEnterElementsMap=createLookupTable('move_caret_before_on_enter_elements',nonEmptyOrMoveCaretBeforeOnEnter+' table',voidElementsMap);const headings='h1 h2 h3 h4 h5 h6';const textBlockElementsMap=createLookupTable('text_block_elements',headings+' p div address pre form '+'blockquote center dir fieldset header footer article section hgroup aside main nav figure');const blockElementsMap=createLookupTable('block_elements','hr table tbody thead tfoot '+'th tr td li ol ul caption dl dt dd noscript menu isindex option '+'datalist select optgroup figcaption details summary html body multicol listing',textBlockElementsMap);const textInlineElementsMap=createLookupTable('text_inline_elements','span strong b em i font s strike u var cite '+'dfn code mark q sup sub samp');const transparentElementsMap=createLookupTable('transparent_elements','a ins del canvas map');const wrapBlockElementsMap=createLookupTable('wrap_block_elements','pre '+headings);each$b('script noscript iframe noframes noembed title style textarea xmp plaintext'.split(' '),name=>{specialElements[name]=new RegExp('</'+name+'[^>]*>','gi');});const addValidElements=validElements=>{const globalElement=Optional.from(elements['@']);const hasPatternsRegExp=/[*?+]/;each$e(parseValidElementsRules(globalElement,validElements!==null&&validElements!==void 0?validElements:''),({name,element,aliasName})=>{if(aliasName){elements[aliasName]=element;}if(hasPatternsRegExp.test(name)){const patternElement=element;patternElement.pattern=patternToRegExp(name);patternElements.push(patternElement);}else{elements[name]=element;}});};const setValidElements=validElements=>{patternElements=[];each$e(keys(elements),name=>{delete elements[name];});addValidElements(validElements);};const addCustomElements=customElements=>{delete mapCache.text_block_elements;delete mapCache.block_elements;each$e(parseCustomElementsRules(customElements!==null&&customElements!==void 0?customElements:''),({inline,name,cloneName})=>{children[name]=children[cloneName];customElementsMap[name]=cloneName;nonEmptyElementsMap[name.toUpperCase()]={};nonEmptyElementsMap[name]={};if(!inline){blockElementsMap[name.toUpperCase()]={};blockElementsMap[name]={};}if(!elements[name]){let customRule=elements[cloneName];customRule=extend$2({},customRule);delete customRule.removeEmptyAttrs;delete customRule.removeEmpty;elements[name]=customRule;}each$d(children,(element,elmName)=>{if(element[cloneName]){children[elmName]=element=extend$2({},children[elmName]);element[name]=element[cloneName];}});});};const addValidChildren=validChildren=>{each$e(parseValidChildrenRules(validChildren!==null&&validChildren!==void 0?validChildren:''),({operation,name,validChildren})=>{const parent=operation==='replace'?{'#comment':{}}:children[name];each$e(validChildren,child=>{if(operation==='remove'){delete parent[child];}else{parent[child]={};}});children[name]=parent;});};const getElementRule=name=>{const element=elements[name];if(element){return element;}let i=patternElements.length;while(i--){const patternElement=patternElements[i];if(patternElement.pattern.test(name)){return patternElement;}}return undefined;};if(!settings.valid_elements){each$b(schemaItems,(element,name)=>{elements[name]={attributes:element.attributes,attributesOrder:element.attributesOrder};children[name]=element.children;});each$b(split$1('strong/b em/i'),item=>{const items=split$1(item,'/');elements[items[1]].outputName=items[0];});each$b(textInlineElementsMap,(_val,name)=>{if(elements[name]){if(settings.padd_empty_block_inline_children){elements[name].paddInEmptyBlock=true;}elements[name].removeEmpty=true;}});each$b(split$1('ol ul blockquote a table tbody'),name=>{if(elements[name]){elements[name].removeEmpty=true;}});each$b(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary'),name=>{if(elements[name]){elements[name].paddEmpty=true;}});each$b(split$1('span'),name=>{elements[name].removeEmptyAttrs=true;});}else{setValidElements(settings.valid_elements);each$b(schemaItems,(element,name)=>{children[name]=element.children;});}delete elements.svg;addCustomElements(settings.custom_elements);addValidChildren(settings.valid_children);addValidElements(settings.extended_valid_elements);addValidChildren('+ol[ul|ol],+ul[ul|ol]');each$b({dd:'dl',dt:'dl',li:'ul ol',td:'tr',th:'tr',tr:'tbody thead tfoot',tbody:'table',thead:'table',tfoot:'table',legend:'fieldset',area:'map',param:'video audio object'},(parents,item)=>{if(elements[item]){elements[item].parentsRequired=split$1(parents);}});if(settings.invalid_elements){each$b(explode$2(settings.invalid_elements),item=>{if(elements[item]){delete elements[item];}});}if(!getElementRule('span')){addValidElements('span[!data-mce-type|*]');}const getValidStyles=constant(validStyles);const getInvalidStyles=constant(invalidStyles);const getValidClasses=constant(validClasses);const getBoolAttrs=constant(boolAttrMap);const getBlockElements=constant(blockElementsMap);const getTextBlockElements=constant(textBlockElementsMap);const getTextInlineElements=constant(textInlineElementsMap);const getVoidElements=constant(Object.seal(voidElementsMap));const getSelfClosingElements=constant(selfClosingElementsMap);const getNonEmptyElements=constant(nonEmptyElementsMap);const getMoveCaretBeforeOnEnterElements=constant(moveCaretBeforeOnEnterElementsMap);const getWhitespaceElements=constant(whitespaceElementsMap);const getTransparentElements=constant(transparentElementsMap);const getWrapBlockElements=constant(wrapBlockElementsMap);const getSpecialElements=constant(Object.seal(specialElements));const isValidChild=(name,child)=>{const parent=children[name.toLowerCase()];return!!(parent&&parent[child.toLowerCase()]);};const isValid=(name,attr)=>{const rule=getElementRule(name);if(rule){if(attr){if(rule.attributes[attr]){return true;}const attrPatterns=rule.attributePatterns;if(attrPatterns){let i=attrPatterns.length;while(i--){if(attrPatterns[i].pattern.test(attr)){return true;}}}}else{return true;}}return false;};const isBlock=name=>has$2(getBlockElements(),name);const isInline=name=>!startsWith(name,'#')&&isValid(name)&&!isBlock(name);const isWrapper=name=>has$2(getWrapBlockElements(),name)||isInline(name);const getCustomElements=constant(customElementsMap);return{type:schemaType,children,elements,getValidStyles,getValidClasses,getBlockElements,getInvalidStyles,getVoidElements,getTextBlockElements,getTextInlineElements,getBoolAttrs,getElementRule,getSelfClosingElements,getNonEmptyElements,getMoveCaretBeforeOnEnterElements,getWhitespaceElements,getTransparentElements,getSpecialElements,isValidChild,isValid,isBlock,isInline,isWrapper,getCustomElements,addValidElements,setValidElements,addCustomElements,addValidChildren};};const hexColour=value=>({value:normalizeHex(value)});const normalizeHex=hex=>removeLeading(hex,'#').toUpperCase();const toHex=component=>{const hex=component.toString(16);return(hex.length===1?'0'+hex:hex).toUpperCase();};const fromRgba=rgbaColour=>{const value=toHex(rgbaColour.red)+toHex(rgbaColour.green)+toHex(rgbaColour.blue);return hexColour(value);};const rgbRegex=/^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;const rgbaRegex=/^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;const rgbaColour=(red,green,blue,alpha)=>({red,green,blue,alpha});const fromStringValues=(red,green,blue,alpha)=>{const r=parseInt(red,10);const g=parseInt(green,10);const b=parseInt(blue,10);const a=parseFloat(alpha);return rgbaColour(r,g,b,a);};const fromString=rgbaString=>{if(rgbaString==='transparent'){return Optional.some(rgbaColour(0,0,0,0));}const rgbMatch=rgbRegex.exec(rgbaString);if(rgbMatch!==null){return Optional.some(fromStringValues(rgbMatch[1],rgbMatch[2],rgbMatch[3],'1'));}const rgbaMatch=rgbaRegex.exec(rgbaString);if(rgbaMatch!==null){return Optional.some(fromStringValues(rgbaMatch[1],rgbaMatch[2],rgbaMatch[3],rgbaMatch[4]));}return Optional.none();};const toString=rgba=>`rgba(${rgba.red},${rgba.green},${rgba.blue},${rgba.alpha})`;const rgbaToHexString=color=>fromString(color).map(fromRgba).map(h=>'#'+h.value).getOr(color);const Styles=(settings={},schema)=>{const urlOrStrRegExp=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;const styleRegExp=/\\s*([^:]+):\\s*([^;]+);?/g;const trimRightRegExp=/\\s+$/;const encodingLookup={};let validStyles;let invalidStyles;const invisibleChar=zeroWidth;if(schema){validStyles=schema.getValidStyles();invalidStyles=schema.getInvalidStyles();}const encodingItems=(`\\\\\" \\\\' \\\\; \\\\: ; : `+invisibleChar).split(' ');for(let i=0;i<encodingItems.length;i++){encodingLookup[encodingItems[i]]=invisibleChar+i;encodingLookup[invisibleChar+i]=encodingItems[i];}const self={parse:css=>{const styles={};let isEncoded=false;const urlConverter=settings.url_converter;const urlConverterScope=settings.url_converter_scope||self;const compress=(prefix,suffix,noJoin)=>{const top=styles[prefix+'-top'+suffix];if(!top){return;}const right=styles[prefix+'-right'+suffix];if(!right){return;}const bottom=styles[prefix+'-bottom'+suffix];if(!bottom){return;}const left=styles[prefix+'-left'+suffix];if(!left){return;}const box=[top,right,bottom,left];let i=box.length-1;while(i--){if(box[i]!==box[i+1]){break;}}if(i>-1&&noJoin){return;}styles[prefix+suffix]=i===-1?box[0]:box.join(' ');delete styles[prefix+'-top'+suffix];delete styles[prefix+'-right'+suffix];delete styles[prefix+'-bottom'+suffix];delete styles[prefix+'-left'+suffix];};const canCompress=key=>{const value=styles[key];if(!value){return;}const values=value.indexOf(',')>-1?[value]:value.split(' ');let i=values.length;while(i--){if(values[i]!==values[0]){return false;}}styles[key]=values[0];return true;};const compress2=(target,a,b,c)=>{if(!canCompress(a)){return;}if(!canCompress(b)){return;}if(!canCompress(c)){return;}styles[target]=styles[a]+' '+styles[b]+' '+styles[c];delete styles[a];delete styles[b];delete styles[c];};const encode=str=>{isEncoded=true;return encodingLookup[str];};const decode=(str,keepSlashes)=>{if(isEncoded){str=str.replace(/\\uFEFF[0-9]/g,str=>{return encodingLookup[str];});}if(!keepSlashes){str=str.replace(/\\\\([\\'\\\";:])/g,'$1');}return str;};const decodeSingleHexSequence=escSeq=>{return String.fromCharCode(parseInt(escSeq.slice(1),16));};const decodeHexSequences=value=>{return value.replace(/\\\\[0-9a-f]+/gi,decodeSingleHexSequence);};const processUrl=(match,url,url2,url3,str,str2)=>{str=str||str2;if(str){str=decode(str);return`'`+str.replace(/\\'/g,`\\\\'`)+`'`;}url=decode(url||url2||url3||'');if(!settings.allow_script_urls){const scriptUrl=url.replace(/[\\s\\r\\n]+/g,'');if(/(java|vb)script:/i.test(scriptUrl)){return'';}if(!settings.allow_svg_data_urls&&/^data:image\\/svg/i.test(scriptUrl)){return'';}}if(urlConverter){url=urlConverter.call(urlConverterScope,url,'style');}return`url('`+url.replace(/\\'/g,`\\\\'`)+`')`;};if(css){css=css.replace(/[\\u0000-\\u001F]/g,'');css=css.replace(/\\\\[\\\"\\';:\\uFEFF]/g,encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,str=>{return str.replace(/[;:]/g,encode);});let matches;while(matches=styleRegExp.exec(css)){styleRegExp.lastIndex=matches.index+matches[0].length;let name=matches[1].replace(trimRightRegExp,'').toLowerCase();let value=matches[2].replace(trimRightRegExp,'');if(name&&value){name=decodeHexSequences(name);value=decodeHexSequences(value);if(name.indexOf(invisibleChar)!==-1||name.indexOf('\"')!==-1){continue;}if(!settings.allow_script_urls&&(name==='behavior'||/expression\\s*\\(|\\/\\*|\\*\\//.test(value))){continue;}if(name==='font-weight'&&value==='700'){value='bold';}else if(name==='color'||name==='background-color'){value=value.toLowerCase();}if(isString(settings.force_hex_color)&&settings.force_hex_color!=='off'){fromString(value).each(rgba=>{if(settings.force_hex_color==='always'||rgba.alpha===1){value=rgbaToHexString(toString(rgba));}});}value=value.replace(urlOrStrRegExp,processUrl);styles[name]=isEncoded?decode(value,true):value;}}compress('border','',true);compress('border','-width');compress('border','-color');compress('border','-style');compress('padding','');compress('margin','');compress2('border','border-width','border-style','border-color');if(styles.border==='medium none'){delete styles.border;}if(styles['border-image']==='none'){delete styles['border-image'];}}return styles;},serialize:(styles,elementName)=>{let css='';const serializeStyles=(elemName,validStyleList)=>{const styleList=validStyleList[elemName];if(styleList){for(let i=0,l=styleList.length;i<l;i++){const name=styleList[i];const value=styles[name];if(value){css+=(css.length>0?' ':'')+name+': '+value+';';}}}};const isValid=(name,elemName)=>{if(!invalidStyles||!elemName){return true;}let styleMap=invalidStyles['*'];if(styleMap&&styleMap[name]){return false;}styleMap=invalidStyles[elemName];return!(styleMap&&styleMap[name]);};if(elementName&&validStyles){serializeStyles('*',validStyles);serializeStyles(elementName,validStyles);}else{each$d(styles,(value,name)=>{if(value&&isValid(name,elementName)){css+=(css.length>0?' ':'')+name+': '+value+';';}});}return css;}};return self;};const deprecated={keyLocation:true,layerX:true,layerY:true,returnValue:true,webkitMovementX:true,webkitMovementY:true,keyIdentifier:true,mozPressure:true};const isNativeEvent=event=>event instanceof Event||isFunction(event.initEvent);const hasIsDefaultPrevented=event=>event.isDefaultPrevented===always||event.isDefaultPrevented===never;const needsNormalizing=event=>isNullable(event.preventDefault)||isNativeEvent(event);const clone$3=(originalEvent,data)=>{const event=data!==null&&data!==void 0?data:{};for(const name in originalEvent){if(!has$2(deprecated,name)){event[name]=originalEvent[name];}}if(isNonNullable(originalEvent.composedPath)){event.composedPath=()=>originalEvent.composedPath();}if(isNonNullable(originalEvent.getModifierState)){event.getModifierState=keyArg=>originalEvent.getModifierState(keyArg);}if(isNonNullable(originalEvent.getTargetRanges)){event.getTargetRanges=()=>originalEvent.getTargetRanges();}return event;};const normalize$3=(type,originalEvent,fallbackTarget,data)=>{var _a;const event=clone$3(originalEvent,data);event.type=type;if(isNullable(event.target)){event.target=(_a=event.srcElement)!==null&&_a!==void 0?_a:fallbackTarget;}if(needsNormalizing(originalEvent)){event.preventDefault=()=>{event.defaultPrevented=true;event.isDefaultPrevented=always;if(isFunction(originalEvent.preventDefault)){originalEvent.preventDefault();}};event.stopPropagation=()=>{event.cancelBubble=true;event.isPropagationStopped=always;if(isFunction(originalEvent.stopPropagation)){originalEvent.stopPropagation();}};event.stopImmediatePropagation=()=>{event.isImmediatePropagationStopped=always;event.stopPropagation();};if(!hasIsDefaultPrevented(event)){event.isDefaultPrevented=event.defaultPrevented===true?always:never;event.isPropagationStopped=event.cancelBubble===true?always:never;event.isImmediatePropagationStopped=never;}}return event;};const eventExpandoPrefix='mce-data-';const mouseEventRe=/^(?:mouse|contextmenu)|click/;const addEvent=(target,name,callback,capture)=>{target.addEventListener(name,callback,capture||false);};const removeEvent=(target,name,callback,capture)=>{target.removeEventListener(name,callback,capture||false);};const isMouseEvent=event=>isNonNullable(event)&&mouseEventRe.test(event.type);const fix=(originalEvent,data)=>{const event=normalize$3(originalEvent.type,originalEvent,document,data);if(isMouseEvent(originalEvent)&&isUndefined(originalEvent.pageX)&&!isUndefined(originalEvent.clientX)){const eventDoc=event.target.ownerDocument||document;const doc=eventDoc.documentElement;const body=eventDoc.body;const mouseEvent=event;mouseEvent.pageX=originalEvent.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);mouseEvent.pageY=originalEvent.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}return event;};const bindOnReady=(win,callback,eventUtils)=>{const doc=win.document,event={type:'ready'};if(eventUtils.domLoaded){callback(event);return;}const isDocReady=()=>{return doc.readyState==='complete'||doc.readyState==='interactive'&&doc.body;};const readyHandler=()=>{removeEvent(win,'DOMContentLoaded',readyHandler);removeEvent(win,'load',readyHandler);if(!eventUtils.domLoaded){eventUtils.domLoaded=true;callback(event);}win=null;};if(isDocReady()){readyHandler();}else{addEvent(win,'DOMContentLoaded',readyHandler);}if(!eventUtils.domLoaded){addEvent(win,'load',readyHandler);}};class EventUtils{constructor(){this.domLoaded=false;this.events={};this.count=1;this.expando=eventExpandoPrefix+(+new Date()).toString(32);this.hasFocusIn='onfocusin'in document.documentElement;this.count=1;}bind(target,names,callback,scope){const self=this;let callbackList;const win=window;const defaultNativeHandler=evt=>{self.executeHandlers(fix(evt||win.event),id);};if(!target||isText$a(target)||isComment(target)){return callback;}let id;if(!target[self.expando]){id=self.count++;target[self.expando]=id;self.events[id]={};}else{id=target[self.expando];}scope=scope||target;const namesList=names.split(' ');let i=namesList.length;while(i--){let name=namesList[i];let nativeHandler=defaultNativeHandler;let capture=false;let fakeName=false;if(name==='DOMContentLoaded'){name='ready';}if(self.domLoaded&&name==='ready'&&target.readyState==='complete'){callback.call(scope,fix({type:name}));continue;}if(!self.hasFocusIn&&(name==='focusin'||name==='focusout')){capture=true;fakeName=name==='focusin'?'focus':'blur';nativeHandler=evt=>{const event=fix(evt||win.event);event.type=event.type==='focus'?'focusin':'focusout';self.executeHandlers(event,id);};}callbackList=self.events[id][name];if(!callbackList){self.events[id][name]=callbackList=[{func:callback,scope}];callbackList.fakeName=fakeName;callbackList.capture=capture;callbackList.nativeHandler=nativeHandler;if(name==='ready'){bindOnReady(target,nativeHandler,self);}else{addEvent(target,fakeName||name,nativeHandler,capture);}}else{if(name==='ready'&&self.domLoaded){callback(fix({type:name}));}else{callbackList.push({func:callback,scope});}}}target=callbackList=null;return callback;}unbind(target,names,callback){if(!target||isText$a(target)||isComment(target)){return this;}const id=target[this.expando];if(id){let eventMap=this.events[id];if(names){const namesList=names.split(' ');let i=namesList.length;while(i--){const name=namesList[i];const callbackList=eventMap[name];if(callbackList){if(callback){let ci=callbackList.length;while(ci--){if(callbackList[ci].func===callback){const nativeHandler=callbackList.nativeHandler;const fakeName=callbackList.fakeName,capture=callbackList.capture;const newCallbackList=callbackList.slice(0,ci).concat(callbackList.slice(ci+1));newCallbackList.nativeHandler=nativeHandler;newCallbackList.fakeName=fakeName;newCallbackList.capture=capture;eventMap[name]=newCallbackList;}}}if(!callback||callbackList.length===0){delete eventMap[name];removeEvent(target,callbackList.fakeName||name,callbackList.nativeHandler,callbackList.capture);}}}}else{each$d(eventMap,(callbackList,name)=>{removeEvent(target,callbackList.fakeName||name,callbackList.nativeHandler,callbackList.capture);});eventMap={};}for(const name in eventMap){if(has$2(eventMap,name)){return this;}}delete this.events[id];try{delete target[this.expando];}catch(ex){target[this.expando]=null;}}return this;}fire(target,name,args){return this.dispatch(target,name,args);}dispatch(target,name,args){if(!target||isText$a(target)||isComment(target)){return this;}const event=fix({type:name,target},args);do{const id=target[this.expando];if(id){this.executeHandlers(event,id);}target=target.parentNode||target.ownerDocument||target.defaultView||target.parentWindow;}while(target&&!event.isPropagationStopped());return this;}clean(target){if(!target||isText$a(target)||isComment(target)){return this;}if(target[this.expando]){this.unbind(target);}if(!target.getElementsByTagName){target=target.document;}if(target&&target.getElementsByTagName){this.unbind(target);const children=target.getElementsByTagName('*');let i=children.length;while(i--){target=children[i];if(target[this.expando]){this.unbind(target);}}}return this;}destroy(){this.events={};}cancel(e){if(e){e.preventDefault();e.stopImmediatePropagation();}return false;}executeHandlers(evt,id){const container=this.events[id];const callbackList=container&&container[evt.type];if(callbackList){for(let i=0,l=callbackList.length;i<l;i++){const callback=callbackList[i];if(callback&&callback.func.call(callback.scope,evt)===false){evt.preventDefault();}if(evt.isImmediatePropagationStopped()){return;}}}}}EventUtils.Event=new EventUtils();const each$a=Tools.each;const grep=Tools.grep;const internalStyleName='data-mce-style';const numericalCssMap=Tools.makeMap('fill-opacity font-weight line-height opacity orphans widows z-index zoom',' ');const legacySetAttribute=(elm,name,value)=>{if(isNullable(value)||value===''){remove$a(elm,name);}else{set$3(elm,name,value);}};const camelCaseToHyphens=name=>name.replace(/[A-Z]/g,v=>'-'+v.toLowerCase());const findNodeIndex=(node,normalized)=>{let idx=0;if(node){for(let lastNodeType=node.nodeType,tempNode=node.previousSibling;tempNode;tempNode=tempNode.previousSibling){const nodeType=tempNode.nodeType;if(normalized&&isText$a(tempNode)){if(nodeType===lastNodeType||!tempNode.data.length){continue;}}idx++;lastNodeType=nodeType;}}return idx;};const updateInternalStyleAttr=(styles,elm)=>{const rawValue=get$9(elm,'style');const value=styles.serialize(styles.parse(rawValue),name(elm));legacySetAttribute(elm,internalStyleName,value);};const convertStyleToString=(cssValue,cssName)=>{if(isNumber(cssValue)){return has$2(numericalCssMap,cssName)?cssValue+'':cssValue+'px';}else{return cssValue;}};const applyStyle$1=($elm,cssName,cssValue)=>{const normalizedName=camelCaseToHyphens(cssName);if(isNullable(cssValue)||cssValue===''){remove$6($elm,normalizedName);}else{set$2($elm,normalizedName,convertStyleToString(cssValue,normalizedName));}};const setupAttrHooks=(styles,settings,getContext)=>{const keepValues=settings.keep_values;const keepUrlHook={set:(elm,value,name)=>{const sugarElm=SugarElement.fromDom(elm);if(isFunction(settings.url_converter)&&isNonNullable(value)){value=settings.url_converter.call(settings.url_converter_scope||getContext(),String(value),name,elm);}const internalName='data-mce-'+name;legacySetAttribute(sugarElm,internalName,value);legacySetAttribute(sugarElm,name,value);},get:(elm,name)=>{const sugarElm=SugarElement.fromDom(elm);return get$9(sugarElm,'data-mce-'+name)||get$9(sugarElm,name);}};const attrHooks={style:{set:(elm,value)=>{const sugarElm=SugarElement.fromDom(elm);if(keepValues){legacySetAttribute(sugarElm,internalStyleName,value);}remove$a(sugarElm,'style');if(isString(value)){setAll(sugarElm,styles.parse(value));}},get:elm=>{const sugarElm=SugarElement.fromDom(elm);const value=get$9(sugarElm,internalStyleName)||get$9(sugarElm,'style');return styles.serialize(styles.parse(value),name(sugarElm));}}};if(keepValues){attrHooks.href=attrHooks.src=keepUrlHook;}return attrHooks;};const DOMUtils=(doc,settings={})=>{const addedStyles={};const win=window;const files={};let counter=0;const stdMode=true;const boxModel=true;const styleSheetLoader=instance.forElement(SugarElement.fromDom(doc),{contentCssCors:settings.contentCssCors,referrerPolicy:settings.referrerPolicy});const boundEvents=[];const schema=settings.schema?settings.schema:Schema({});const styles=Styles({url_converter:settings.url_converter,url_converter_scope:settings.url_converter_scope,force_hex_color:settings.force_hex_color},settings.schema);const events=settings.ownEvents?new EventUtils():EventUtils.Event;const blockElementsMap=schema.getBlockElements();const isBlock=node=>{if(isString(node)){return has$2(blockElementsMap,node);}else{return isElement$6(node)&&(has$2(blockElementsMap,node.nodeName)||isTransparentBlock(schema,node));}};const get=elm=>elm&&doc&&isString(elm)?doc.getElementById(elm):elm;const _get=elm=>{const value=get(elm);return isNonNullable(value)?SugarElement.fromDom(value):null;};const getAttrib=(elm,name,defaultVal='')=>{let value;const $elm=_get(elm);if(isNonNullable($elm)&&isElement$7($elm)){const hook=attrHooks[name];if(hook&&hook.get){value=hook.get($elm.dom,name);}else{value=get$9($elm,name);}}return isNonNullable(value)?value:defaultVal;};const getAttribs=elm=>{const node=get(elm);return isNullable(node)?[]:node.attributes;};const setAttrib=(elm,name,value)=>{run(elm,e=>{if(isElement$6(e)){const $elm=SugarElement.fromDom(e);const val=value===''?null:value;const originalValue=get$9($elm,name);const hook=attrHooks[name];if(hook&&hook.set){hook.set($elm.dom,val,name);}else{legacySetAttribute($elm,name,val);}if(originalValue!==val&&settings.onSetAttrib){settings.onSetAttrib({attrElm:$elm.dom,attrName:name,attrValue:val});}}});};const clone=(node,deep)=>{return node.cloneNode(deep);};const getRoot=()=>settings.root_element||doc.body;const getViewPort=argWin=>{const vp=getBounds(argWin);return{x:vp.x,y:vp.y,w:vp.width,h:vp.height};};const getPos$1=(elm,rootElm)=>getPos(doc.body,get(elm),rootElm);const setStyle=(elm,name,value)=>{run(elm,e=>{const $elm=SugarElement.fromDom(e);applyStyle$1($elm,name,value);if(settings.update_styles){updateInternalStyleAttr(styles,$elm);}});};const setStyles=(elm,stylesArg)=>{run(elm,e=>{const $elm=SugarElement.fromDom(e);each$d(stylesArg,(v,n)=>{applyStyle$1($elm,n,v);});if(settings.update_styles){updateInternalStyleAttr(styles,$elm);}});};const getStyle=(elm,name,computed)=>{const $elm=get(elm);if(isNullable($elm)||!isHTMLElement($elm)&&!isSVGElement($elm)){return undefined;}if(computed){return get$7(SugarElement.fromDom($elm),camelCaseToHyphens(name));}else{name=name.replace(/-(\\D)/g,(a,b)=>b.toUpperCase());if(name==='float'){name='cssFloat';}return $elm.style?$elm.style[name]:undefined;}};const getSize=elm=>{const $elm=get(elm);if(!$elm){return{w:0,h:0};}let w=getStyle($elm,'width');let h=getStyle($elm,'height');if(!w||w.indexOf('px')===-1){w='0';}if(!h||h.indexOf('px')===-1){h='0';}return{w:parseInt(w,10)||$elm.offsetWidth||$elm.clientWidth,h:parseInt(h,10)||$elm.offsetHeight||$elm.clientHeight};};const getRect=elm=>{const $elm=get(elm);const pos=getPos$1($elm);const size=getSize($elm);return{x:pos.x,y:pos.y,w:size.w,h:size.h};};const is=(elm,selector)=>{if(!elm){return false;}const elms=isArray$1(elm)?elm:[elm];return exists(elms,e=>{return is$1(SugarElement.fromDom(e),selector);});};const getParents=(elm,selector,root,collect)=>{const result=[];let node=get(elm);collect=collect===undefined;const resolvedRoot=root||(getRoot().nodeName!=='BODY'?getRoot().parentNode:null);if(isString(selector)){if(selector==='*'){selector=isElement$6;}else{const selectorVal=selector;selector=node=>is(node,selectorVal);}}while(node){if(node===resolvedRoot||isNullable(node.nodeType)||isDocument$1(node)||isDocumentFragment(node)){break;}if(!selector||selector(node)){if(collect){result.push(node);}else{return[node];}}node=node.parentNode;}return collect?result:null;};const getParent=(node,selector,root)=>{const parents=getParents(node,selector,root,false);return parents&&parents.length>0?parents[0]:null;};const _findSib=(node,selector,name)=>{let func=selector;if(node){if(isString(selector)){func=node=>{return is(node,selector);};}for(let tempNode=node[name];tempNode;tempNode=tempNode[name]){if(isFunction(func)&&func(tempNode)){return tempNode;}}}return null;};const getNext=(node,selector)=>_findSib(node,selector,'nextSibling');const getPrev=(node,selector)=>_findSib(node,selector,'previousSibling');const isParentNode=node=>isFunction(node.querySelectorAll);const select=(selector,scope)=>{var _a,_b;const elm=(_b=(_a=get(scope))!==null&&_a!==void 0?_a:settings.root_element)!==null&&_b!==void 0?_b:doc;return isParentNode(elm)?from(elm.querySelectorAll(selector)):[];};const run=function(elm,func,scope){const context=scope!==null&&scope!==void 0?scope:this;if(isArray$1(elm)){const result=[];each$a(elm,(e,i)=>{const node=get(e);if(node){result.push(func.call(context,node,i));}});return result;}else{const node=get(elm);return!node?false:func.call(context,node);}};const setAttribs=(elm,attrs)=>{run(elm,$elm=>{each$d(attrs,(value,name)=>{setAttrib($elm,name,value);});});};const setHTML=(elm,html)=>{run(elm,e=>{const $elm=SugarElement.fromDom(e);set$1($elm,html);});};const add=(parentElm,name,attrs,html,create)=>run(parentElm,parentElm=>{const newElm=isString(name)?doc.createElement(name):name;if(isNonNullable(attrs)){setAttribs(newElm,attrs);}if(html){if(!isString(html)&&html.nodeType){newElm.appendChild(html);}else if(isString(html)){setHTML(newElm,html);}}return!create?parentElm.appendChild(newElm):newElm;});const create=(name,attrs,html)=>add(doc.createElement(name),name,attrs,html,true);const decode=Entities.decode;const encode=Entities.encodeAllRaw;const createHTML=(name,attrs,html='')=>{let outHtml='<'+name;for(const key in attrs){if(hasNonNullableKey(attrs,key)){outHtml+=' '+key+'=\"'+encode(attrs[key])+'\"';}}if(isEmpty$3(html)&&has$2(schema.getVoidElements(),name)){return outHtml+' />';}else{return outHtml+'>'+html+'</'+name+'>';}};const createFragment=html=>{const container=doc.createElement('div');const frag=doc.createDocumentFragment();frag.appendChild(container);if(html){container.innerHTML=html;}let node;while(node=container.firstChild){frag.appendChild(node);}frag.removeChild(container);return frag;};const remove=(node,keepChildren)=>{return run(node,n=>{const $node=SugarElement.fromDom(n);if(keepChildren){each$e(children$1($node),child=>{if(isText$b(child)&&child.dom.length===0){remove$5(child);}else{before$3($node,child);}});}remove$5($node);return $node.dom;});};const removeAllAttribs=e=>run(e,e=>{const attrs=e.attributes;for(let i=attrs.length-1;i>=0;i--){e.removeAttributeNode(attrs.item(i));}});const parseStyle=cssText=>styles.parse(cssText);const serializeStyle=(stylesArg,name)=>styles.serialize(stylesArg,name);const addStyle=cssText=>{if(self!==DOMUtils.DOM&&doc===document){if(addedStyles[cssText]){return;}addedStyles[cssText]=true;}let styleElm=doc.getElementById('mceDefaultStyles');if(!styleElm){styleElm=doc.createElement('style');styleElm.id='mceDefaultStyles';styleElm.type='text/css';const head=doc.head;if(head.firstChild){head.insertBefore(styleElm,head.firstChild);}else{head.appendChild(styleElm);}}if(styleElm.styleSheet){styleElm.styleSheet.cssText+=cssText;}else{styleElm.appendChild(doc.createTextNode(cssText));}};const loadCSS=urls=>{if(!urls){urls='';}each$e(urls.split(','),url=>{files[url]=true;styleSheetLoader.load(url).catch(noop);});};const toggleClass=(elm,cls,state)=>{run(elm,e=>{if(isElement$6(e)){const $elm=SugarElement.fromDom(e);const classes=cls.split(' ');each$e(classes,c=>{if(isNonNullable(state)){const fn=state?add$2:remove$7;fn($elm,c);}else{toggle$1($elm,c);}});}});};const addClass=(elm,cls)=>{toggleClass(elm,cls,true);};const removeClass=(elm,cls)=>{toggleClass(elm,cls,false);};const hasClass=(elm,cls)=>{const $elm=_get(elm);const classes=cls.split(' ');return isNonNullable($elm)&&forall(classes,c=>has($elm,c));};const show=elm=>{run(elm,e=>remove$6(SugarElement.fromDom(e),'display'));};const hide=elm=>{run(elm,e=>set$2(SugarElement.fromDom(e),'display','none'));};const isHidden=elm=>{const $elm=_get(elm);return isNonNullable($elm)&&is$2(getRaw($elm,'display'),'none');};const uniqueId=prefix=>(!prefix?'mce_':prefix)+counter++;const getOuterHTML=elm=>{const $elm=_get(elm);if(isNonNullable($elm)){return isElement$6($elm.dom)?$elm.dom.outerHTML:getOuter($elm);}else{return'';}};const setOuterHTML=(elm,html)=>{run(elm,$elm=>{if(isElement$6($elm)){$elm.outerHTML=html;}});};const insertAfter=(node,reference)=>{const referenceNode=get(reference);return run(node,node=>{const parent=referenceNode===null||referenceNode===void 0?void 0:referenceNode.parentNode;const nextSibling=referenceNode===null||referenceNode===void 0?void 0:referenceNode.nextSibling;if(parent){if(nextSibling){parent.insertBefore(node,nextSibling);}else{parent.appendChild(node);}}return node;});};const replace=(newElm,oldElm,keepChildren)=>run(oldElm,elm=>{var _a;const replacee=isArray$1(oldElm)?newElm.cloneNode(true):newElm;if(keepChildren){each$a(grep(elm.childNodes),node=>{replacee.appendChild(node);});}(_a=elm.parentNode)===null||_a===void 0?void 0:_a.replaceChild(replacee,elm);return elm;});const rename=(elm,name)=>{if(elm.nodeName!==name.toUpperCase()){const newElm=create(name);each$a(getAttribs(elm),attrNode=>{setAttrib(newElm,attrNode.nodeName,getAttrib(elm,attrNode.nodeName));});replace(newElm,elm,true);return newElm;}else{return elm;}};const findCommonAncestor=(a,b)=>{let ps=a;while(ps){let pe=b;while(pe&&ps!==pe){pe=pe.parentNode;}if(ps===pe){break;}ps=ps.parentNode;}if(!ps&&a.ownerDocument){return a.ownerDocument.documentElement;}else{return ps;}};const isNonEmptyElement=node=>{if(isElement$6(node)){const isNamedAnchor=node.nodeName.toLowerCase()==='a'&&!getAttrib(node,'href')&&getAttrib(node,'id');if(getAttrib(node,'name')||getAttrib(node,'data-mce-bookmark')||isNamedAnchor){return true;}}return false;};const isEmpty=(node,elements,options)=>{let brCount=0;if(isNonEmptyElement(node)){return false;}const firstChild=node.firstChild;if(firstChild){const walker=new DomTreeWalker(firstChild,node);const whitespaceElements=schema?schema.getWhitespaceElements():{};const nonEmptyElements=elements||(schema?schema.getNonEmptyElements():null);let tempNode=firstChild;do{if(isElement$6(tempNode)){const bogusVal=tempNode.getAttribute('data-mce-bogus');if(bogusVal){tempNode=walker.next(bogusVal==='all');continue;}const name=tempNode.nodeName.toLowerCase();if(nonEmptyElements&&nonEmptyElements[name]){if(name==='br'){brCount++;tempNode=walker.next();continue;}return false;}if(isNonEmptyElement(tempNode)){return false;}}if(isComment(tempNode)){return false;}if(isText$a(tempNode)&&!isWhitespaceText(tempNode.data)&&(!(options===null||options===void 0?void 0:options.includeZwsp)||!isZwsp(tempNode.data))){return false;}if(isText$a(tempNode)&&tempNode.parentNode&&whitespaceElements[tempNode.parentNode.nodeName]&&isWhitespaceText(tempNode.data)){return false;}tempNode=walker.next();}while(tempNode);}return brCount<=1;};const createRng=()=>doc.createRange();const split=(parentElm,splitElm,replacementElm)=>{let range=createRng();let beforeFragment;let afterFragment;if(parentElm&&splitElm&&parentElm.parentNode&&splitElm.parentNode){const parentNode=parentElm.parentNode;range.setStart(parentNode,findNodeIndex(parentElm));range.setEnd(splitElm.parentNode,findNodeIndex(splitElm));beforeFragment=range.extractContents();range=createRng();range.setStart(splitElm.parentNode,findNodeIndex(splitElm)+1);range.setEnd(parentNode,findNodeIndex(parentElm)+1);afterFragment=range.extractContents();parentNode.insertBefore(trimNode(self,beforeFragment,schema),parentElm);if(replacementElm){parentNode.insertBefore(replacementElm,parentElm);}else{parentNode.insertBefore(splitElm,parentElm);}parentNode.insertBefore(trimNode(self,afterFragment,schema),parentElm);remove(parentElm);return replacementElm||splitElm;}else{return undefined;}};const bind=(target,name,func,scope)=>{if(isArray$1(target)){let i=target.length;const rv=[];while(i--){rv[i]=bind(target[i],name,func,scope);}return rv;}else{if(settings.collect&&(target===doc||target===win)){boundEvents.push([target,name,func,scope]);}return events.bind(target,name,func,scope||self);}};const unbind=(target,name,func)=>{if(isArray$1(target)){let i=target.length;const rv=[];while(i--){rv[i]=unbind(target[i],name,func);}return rv;}else{if(boundEvents.length>0&&(target===doc||target===win)){let i=boundEvents.length;while(i--){const[boundTarget,boundName,boundFunc]=boundEvents[i];if(target===boundTarget&&(!name||name===boundName)&&(!func||func===boundFunc)){events.unbind(boundTarget,boundName,boundFunc);}}}return events.unbind(target,name,func);}};const dispatch=(target,name,evt)=>events.dispatch(target,name,evt);const fire=(target,name,evt)=>events.dispatch(target,name,evt);const getContentEditable=node=>{if(node&&isHTMLElement(node)){const contentEditable=node.getAttribute('data-mce-contenteditable');if(contentEditable&&contentEditable!=='inherit'){return contentEditable;}return node.contentEditable!=='inherit'?node.contentEditable:null;}else{return null;}};const getContentEditableParent=node=>{const root=getRoot();let state=null;for(let tempNode=node;tempNode&&tempNode!==root;tempNode=tempNode.parentNode){state=getContentEditable(tempNode);if(state!==null){break;}}return state;};const isEditable=node=>{if(isNonNullable(node)){const scope=isElement$6(node)?node:node.parentElement;return isNonNullable(scope)&&isHTMLElement(scope)&&isEditable$2(SugarElement.fromDom(scope));}else{return false;}};const destroy=()=>{if(boundEvents.length>0){let i=boundEvents.length;while(i--){const[boundTarget,boundName,boundFunc]=boundEvents[i];events.unbind(boundTarget,boundName,boundFunc);}}each$d(files,(_,url)=>{styleSheetLoader.unload(url);delete files[url];});};const isChildOf=(node,parent)=>{return node===parent||parent.contains(node);};const dumpRng=r=>'startContainer: '+r.startContainer.nodeName+', startOffset: '+r.startOffset+', endContainer: '+r.endContainer.nodeName+', endOffset: '+r.endOffset;const self={doc,settings,win,files,stdMode,boxModel,styleSheetLoader,boundEvents,styles,schema,events,isBlock:isBlock,root:null,clone,getRoot,getViewPort,getRect,getSize,getParent,getParents:getParents,get,getNext,getPrev,select,is,add,create,createHTML,createFragment,remove,setStyle,getStyle:getStyle,setStyles,removeAllAttribs,setAttrib,setAttribs,getAttrib,getPos:getPos$1,parseStyle,serializeStyle,addStyle,loadCSS,addClass,removeClass,hasClass,toggleClass,show,hide,isHidden,uniqueId,setHTML,getOuterHTML,setOuterHTML,decode,encode,insertAfter,replace,rename,findCommonAncestor,run,getAttribs,isEmpty,createRng,nodeIndex:findNodeIndex,split,bind:bind,unbind:unbind,fire,dispatch,getContentEditable,getContentEditableParent,isEditable,destroy,isChildOf,dumpRng};const attrHooks=setupAttrHooks(styles,settings,constant(self));return self;};DOMUtils.DOM=DOMUtils(document);DOMUtils.nodeIndex=findNodeIndex;const DOM$b=DOMUtils.DOM;const QUEUED=0;const LOADING=1;const LOADED=2;const FAILED=3;class ScriptLoader{constructor(settings={}){this.states={};this.queue=[];this.scriptLoadedCallbacks={};this.queueLoadedCallbacks=[];this.loading=false;this.settings=settings;}_setReferrerPolicy(referrerPolicy){this.settings.referrerPolicy=referrerPolicy;}loadScript(url){return new Promise((resolve,reject)=>{const dom=DOM$b;let elm;const cleanup=()=>{dom.remove(id);if(elm){elm.onerror=elm.onload=elm=null;}};const done=()=>{cleanup();resolve();};const error=()=>{cleanup();reject('Failed to load script: '+url);};const id=dom.uniqueId();elm=document.createElement('script');elm.id=id;elm.type='text/javascript';elm.src=Tools._addCacheSuffix(url);if(this.settings.referrerPolicy){dom.setAttrib(elm,'referrerpolicy',this.settings.referrerPolicy);}elm.onload=done;elm.onerror=error;(document.getElementsByTagName('head')[0]||document.body).appendChild(elm);});}isDone(url){return this.states[url]===LOADED;}markDone(url){this.states[url]=LOADED;}add(url){const self=this;self.queue.push(url);const state=self.states[url];if(state===undefined){self.states[url]=QUEUED;}return new Promise((resolve,reject)=>{if(!self.scriptLoadedCallbacks[url]){self.scriptLoadedCallbacks[url]=[];}self.scriptLoadedCallbacks[url].push({resolve,reject});});}load(url){return this.add(url);}remove(url){delete this.states[url];delete this.scriptLoadedCallbacks[url];}loadQueue(){const queue=this.queue;this.queue=[];return this.loadScripts(queue);}loadScripts(scripts){const self=this;const execCallbacks=(name,url)=>{get$a(self.scriptLoadedCallbacks,url).each(callbacks=>{each$e(callbacks,callback=>callback[name](url));});delete self.scriptLoadedCallbacks[url];};const processResults=results=>{const failures=filter$5(results,result=>result.status==='rejected');if(failures.length>0){return Promise.reject(bind$3(failures,({reason})=>isArray$1(reason)?reason:[reason]));}else{return Promise.resolve();}};const load=urls=>Promise.allSettled(map$3(urls,url=>{if(self.states[url]===LOADED){execCallbacks('resolve',url);return Promise.resolve();}else if(self.states[url]===FAILED){execCallbacks('reject',url);return Promise.reject(url);}else{self.states[url]=LOADING;return self.loadScript(url).then(()=>{self.states[url]=LOADED;execCallbacks('resolve',url);const queue=self.queue;if(queue.length>0){self.queue=[];return load(queue).then(processResults);}else{return Promise.resolve();}},()=>{self.states[url]=FAILED;execCallbacks('reject',url);return Promise.reject(url);});}}));const processQueue=urls=>{self.loading=true;return load(urls).then(results=>{self.loading=false;const nextQueuedItem=self.queueLoadedCallbacks.shift();Optional.from(nextQueuedItem).each(call);return processResults(results);});};const uniqueScripts=stringArray(scripts);if(self.loading){return new Promise((resolve,reject)=>{self.queueLoadedCallbacks.push(()=>{processQueue(uniqueScripts).then(resolve,reject);});});}else{return processQueue(uniqueScripts);}}}ScriptLoader.ScriptLoader=new ScriptLoader();const Cell=initial=>{let value=initial;const get=()=>{return value;};const set=v=>{value=v;};return{get,set};};const isDuplicated=(items,item)=>{const firstIndex=items.indexOf(item);return firstIndex!==-1&&items.indexOf(item,firstIndex+1)>firstIndex;};const isRaw=str=>isObject(str)&&has$2(str,'raw');const isTokenised=str=>isArray$1(str)&&str.length>1;const data={};const currentCode=Cell('en');const getLanguageData=()=>get$a(data,currentCode.get());const getData$1=()=>map$2(data,value=>({...value}));const setCode=newCode=>{if(newCode){currentCode.set(newCode);}};const getCode=()=>currentCode.get();const add$1=(code,items)=>{let langData=data[code];if(!langData){data[code]=langData={};}const lcNames=map$3(keys(items),name=>name.toLowerCase());each$d(items,(translation,name)=>{const lcName=name.toLowerCase();if(lcName!==name&&isDuplicated(lcNames,lcName)){if(!has$2(items,lcName)){langData[lcName]=translation;}langData[name]=translation;}else{langData[lcName]=translation;}});};const translate=text=>{const langData=getLanguageData().getOr({});const toString=obj=>{if(isFunction(obj)){return Object.prototype.toString.call(obj);}return!isEmpty(obj)?''+obj:'';};const isEmpty=text=>text===''||text===null||text===undefined;const getLangData=text=>{const textStr=toString(text);return has$2(langData,textStr)?toString(langData[textStr]):get$a(langData,textStr.toLowerCase()).map(toString).getOr(textStr);};const removeContext=str=>str.replace(/{context:\\w+}$/,'');if(isEmpty(text)){return'';}if(isRaw(text)){return toString(text.raw);}if(isTokenised(text)){const values=text.slice(1);const substitued=getLangData(text[0]).replace(/\\{([0-9]+)\\}/g,($1,$2)=>has$2(values,$2)?toString(values[$2]):$1);return removeContext(substitued);}return removeContext(getLangData(text));};const isRtl$1=()=>getLanguageData().bind(items=>get$a(items,'_dir')).exists(dir=>dir==='rtl');const hasCode=code=>has$2(data,code);const I18n={getData:getData$1,setCode,getCode,add:add$1,translate,isRtl:isRtl$1,hasCode};const AddOnManager=()=>{const items=[];const urls={};const lookup={};const _listeners=[];const runListeners=(name,state)=>{const matchedListeners=filter$5(_listeners,listener=>listener.name===name&&listener.state===state);each$e(matchedListeners,listener=>listener.resolve());};const isLoaded=name=>has$2(urls,name);const isAdded=name=>has$2(lookup,name);const get=name=>{if(lookup[name]){return lookup[name].instance;}return undefined;};const loadLanguagePack=(name,languages)=>{const language=I18n.getCode();const wrappedLanguages=','+(languages||'')+',';if(!language||languages&&wrappedLanguages.indexOf(','+language+',')===-1){return;}ScriptLoader.ScriptLoader.add(urls[name]+'/langs/'+language+'.js');};const requireLangPack=(name,languages)=>{if(AddOnManager.languageLoad!==false){if(isLoaded(name)){loadLanguagePack(name,languages);}else{waitFor(name,'loaded').then(()=>loadLanguagePack(name,languages));}}};const add=(id,addOn)=>{items.push(addOn);lookup[id]={instance:addOn};runListeners(id,'added');return addOn;};const remove=name=>{delete urls[name];delete lookup[name];};const createUrl=(baseUrl,dep)=>{if(isString(dep)){return isString(baseUrl)?{prefix:'',resource:dep,suffix:''}:{prefix:baseUrl.prefix,resource:dep,suffix:baseUrl.suffix};}else{return dep;}};const load=(name,addOnUrl)=>{if(urls[name]){return Promise.resolve();}let urlString=isString(addOnUrl)?addOnUrl:addOnUrl.prefix+addOnUrl.resource+addOnUrl.suffix;if(urlString.indexOf('/')!==0&&urlString.indexOf('://')===-1){urlString=AddOnManager.baseURL+'/'+urlString;}urls[name]=urlString.substring(0,urlString.lastIndexOf('/'));const done=()=>{runListeners(name,'loaded');return Promise.resolve();};if(lookup[name]){return done();}else{return ScriptLoader.ScriptLoader.add(urlString).then(done);}};const waitFor=(name,state='added')=>{if(state==='added'&&isAdded(name)){return Promise.resolve();}else if(state==='loaded'&&isLoaded(name)){return Promise.resolve();}else{return new Promise(resolve=>{_listeners.push({name,state,resolve});});}};return{items,urls,lookup,get,requireLangPack,add,remove,createUrl,load,waitFor};};AddOnManager.languageLoad=true;AddOnManager.baseURL='';AddOnManager.PluginManager=AddOnManager();AddOnManager.ThemeManager=AddOnManager();AddOnManager.ModelManager=AddOnManager();const singleton=doRevoke=>{const subject=Cell(Optional.none());const revoke=()=>subject.get().each(doRevoke);const clear=()=>{revoke();subject.set(Optional.none());};const isSet=()=>subject.get().isSome();const get=()=>subject.get();const set=s=>{revoke();subject.set(Optional.some(s));};return{clear,isSet,get,set};};const repeatable=delay=>{const intervalId=Cell(Optional.none());const revoke=()=>intervalId.get().each(id=>clearInterval(id));const clear=()=>{revoke();intervalId.set(Optional.none());};const isSet=()=>intervalId.get().isSome();const get=()=>intervalId.get();const set=functionToRepeat=>{revoke();intervalId.set(Optional.some(setInterval(functionToRepeat,delay)));};return{clear,isSet,get,set};};const value$2=()=>{const subject=singleton(noop);const on=f=>subject.get().each(f);return{...subject,on};};const first$1=(fn,rate)=>{let timer=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;}};const throttle=(...args)=>{if(isNull(timer)){timer=setTimeout(()=>{timer=null;fn.apply(null,args);},rate);}};return{cancel,throttle};};const last$1=(fn,rate)=>{let timer=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;}};const throttle=(...args)=>{cancel();timer=setTimeout(()=>{timer=null;fn.apply(null,args);},rate);};return{cancel,throttle};};const annotation=constant('mce-annotation');const dataAnnotation=constant('data-mce-annotation');const dataAnnotationId=constant('data-mce-annotation-uid');const dataAnnotationActive=constant('data-mce-annotation-active');const dataAnnotationClasses=constant('data-mce-annotation-classes');const dataAnnotationAttributes=constant('data-mce-annotation-attrs');const isRoot$1=root=>node=>eq(node,root);const identify=(editor,annotationName)=>{const rng=editor.selection.getRng();const start=SugarElement.fromDom(rng.startContainer);const root=SugarElement.fromDom(editor.getBody());const selector=annotationName.fold(()=>'.'+annotation(),an=>`[${dataAnnotation()}=\"${an}\"]`);const newStart=child$1(start,rng.startOffset).getOr(start);const closest=closest$3(newStart,selector,isRoot$1(root));return closest.bind(c=>getOpt(c,`${dataAnnotationId()}`).bind(uid=>getOpt(c,`${dataAnnotation()}`).map(name=>{const elements=findMarkers(editor,uid);return{uid,name,elements};})));};const isAnnotation=elem=>isElement$7(elem)&&has(elem,annotation());const isBogusElement=(elem,root)=>has$1(elem,'data-mce-bogus')||ancestor$2(elem,'[data-mce-bogus=\"all\"]',isRoot$1(root));const findMarkers=(editor,uid)=>{const body=SugarElement.fromDom(editor.getBody());const descendants$1=descendants(body,`[${dataAnnotationId()}=\"${uid}\"]`);return filter$5(descendants$1,descendant=>!isBogusElement(descendant,body));};const findAll=(editor,name)=>{const body=SugarElement.fromDom(editor.getBody());const markers=descendants(body,`[${dataAnnotation()}=\"${name}\"]`);const directory={};each$e(markers,m=>{if(!isBogusElement(m,body)){const uid=get$9(m,dataAnnotationId());const nodesAlready=get$a(directory,uid).getOr([]);directory[uid]=nodesAlready.concat([m]);}});return directory;};const setup$y=(editor,registry)=>{const changeCallbacks=Cell({});const initData=()=>({listeners:[],previous:value$2()});const withCallbacks=(name,f)=>{updateCallbacks(name,data=>{f(data);return data;});};const updateCallbacks=(name,f)=>{const callbackMap=changeCallbacks.get();const data=get$a(callbackMap,name).getOrThunk(initData);const outputData=f(data);callbackMap[name]=outputData;changeCallbacks.set(callbackMap);};const fireCallbacks=(name,uid,elements)=>{withCallbacks(name,data=>{each$e(data.listeners,f=>f(true,name,{uid,nodes:map$3(elements,elem=>elem.dom)}));});};const fireNoAnnotation=name=>{withCallbacks(name,data=>{each$e(data.listeners,f=>f(false,name));});};const toggleActiveAttr=(uid,state)=>{each$e(findMarkers(editor,uid),elem=>{if(state){set$3(elem,dataAnnotationActive(),'true');}else{remove$a(elem,dataAnnotationActive());}});};const onNodeChange=last$1(()=>{const annotations=sort(registry.getNames());each$e(annotations,name=>{updateCallbacks(name,data=>{const prev=data.previous.get();identify(editor,Optional.some(name)).fold(()=>{prev.each(uid=>{fireNoAnnotation(name);data.previous.clear();toggleActiveAttr(uid,false);});},({uid,name,elements})=>{if(!is$2(prev,uid)){prev.each(uid=>toggleActiveAttr(uid,false));fireCallbacks(name,uid,elements);data.previous.set(uid);toggleActiveAttr(uid,true);}});return{previous:data.previous,listeners:data.listeners};});});},30);editor.on('remove',()=>{onNodeChange.cancel();});editor.on('NodeChange',()=>{onNodeChange.throttle();});const addListener=(name,f)=>{updateCallbacks(name,data=>({previous:data.previous,listeners:data.listeners.concat([f])}));};return{addListener};};const setup$x=(editor,registry)=>{const dataAnnotation$1=dataAnnotation();const identifyParserNode=node=>Optional.from(node.attr(dataAnnotation$1)).bind(registry.lookup);const removeDirectAnnotation=node=>{var _a,_b;node.attr(dataAnnotationId(),null);node.attr(dataAnnotation(),null);node.attr(dataAnnotationActive(),null);const customAttrNames=Optional.from(node.attr(dataAnnotationAttributes())).map(names=>names.split(',')).getOr([]);const customClasses=Optional.from(node.attr(dataAnnotationClasses())).map(names=>names.split(',')).getOr([]);each$e(customAttrNames,name=>node.attr(name,null));const classList=(_b=(_a=node.attr('class'))===null||_a===void 0?void 0:_a.split(' '))!==null&&_b!==void 0?_b:[];const newClassList=difference(classList,[annotation()].concat(customClasses));node.attr('class',newClassList.length>0?newClassList.join(' '):null);node.attr(dataAnnotationClasses(),null);node.attr(dataAnnotationAttributes(),null);};editor.serializer.addTempAttr(dataAnnotationActive());editor.serializer.addAttributeFilter(dataAnnotation$1,nodes=>{for(const node of nodes){identifyParserNode(node).each(settings=>{if(settings.persistent===false){if(node.name==='span'){node.unwrap();}else{removeDirectAnnotation(node);}}});}});};const create$c=()=>{const annotations={};const register=(name,settings)=>{annotations[name]={name,settings};};const lookup=name=>get$a(annotations,name).map(a=>a.settings);const getNames=()=>keys(annotations);return{register,lookup,getNames};};let unique=0;const generate$1=prefix=>{const date=new Date();const time=date.getTime();const random=Math.floor(Math.random()*1000000000);unique++;return prefix+'_'+random+unique+String(time);};const add=(element,classes)=>{each$e(classes,x=>{add$2(element,x);});};const remove$4=(element,classes)=>{each$e(classes,x=>{remove$7(element,x);});};const clone$2=(original,isDeep)=>SugarElement.fromDom(original.dom.cloneNode(isDeep));const shallow$1=original=>clone$2(original,false);const deep$1=original=>clone$2(original,true);const shallowAs=(original,tag)=>{const nu=SugarElement.fromTag(tag);const attributes=clone$4(original);setAll$1(nu,attributes);return nu;};const mutate=(original,tag)=>{const nu=shallowAs(original,tag);after$4(original,nu);const children=children$1(original);append(nu,children);remove$5(original);return nu;};const TextWalker=(startNode,rootNode,isBoundary=never)=>{const walker=new DomTreeWalker(startNode,rootNode);const walk=direction=>{let next;do{next=walker[direction]();}while(next&&!isText$a(next)&&!isBoundary(next));return Optional.from(next).filter(isText$a);};return{current:()=>Optional.from(walker.current()).filter(isText$a),next:()=>walk('next'),prev:()=>walk('prev'),prev2:()=>walk('prev2')};};const TextSeeker=(dom,isBoundary)=>{const isBlockBoundary=isBoundary?isBoundary:node=>dom.isBlock(node)||isBr$6(node)||isContentEditableFalse$b(node);const walk=(node,offset,walker,process)=>{if(isText$a(node)){const newOffset=process(node,offset,node.data);if(newOffset!==-1){return Optional.some({container:node,offset:newOffset});}}return walker().bind(next=>walk(next.container,next.offset,walker,process));};const backwards=(node,offset,process,root)=>{const walker=TextWalker(node,root!==null&&root!==void 0?root:dom.getRoot(),isBlockBoundary);return walk(node,offset,()=>walker.prev().map(prev=>({container:prev,offset:prev.length})),process).getOrNull();};const forwards=(node,offset,process,root)=>{const walker=TextWalker(node,root!==null&&root!==void 0?root:dom.getRoot(),isBlockBoundary);return walk(node,offset,()=>walker.next().map(next=>({container:next,offset:0})),process).getOrNull();};return{backwards,forwards};};const round$2=Math.round;const clone$1=rect=>{if(!rect){return{left:0,top:0,bottom:0,right:0,width:0,height:0};}return{left:round$2(rect.left),top:round$2(rect.top),bottom:round$2(rect.bottom),right:round$2(rect.right),width:round$2(rect.width),height:round$2(rect.height)};};const collapse=(rect,toStart)=>{rect=clone$1(rect);if(toStart){rect.right=rect.left;}else{rect.left=rect.left+rect.width;rect.right=rect.left;}rect.width=0;return rect;};const isEqual=(rect1,rect2)=>rect1.left===rect2.left&&rect1.top===rect2.top&&rect1.bottom===rect2.bottom&&rect1.right===rect2.right;const isValidOverflow=(overflowY,rect1,rect2)=>overflowY>=0&&overflowY<=Math.min(rect1.height,rect2.height)/2;const isAbove$1=(rect1,rect2)=>{const halfHeight=Math.min(rect2.height/2,rect1.height/2);if(rect1.bottom-halfHeight<rect2.top){return true;}if(rect1.top>rect2.bottom){return false;}return isValidOverflow(rect2.top-rect1.bottom,rect1,rect2);};const isBelow$1=(rect1,rect2)=>{if(rect1.top>rect2.bottom){return true;}if(rect1.bottom<rect2.top){return false;}return isValidOverflow(rect2.bottom-rect1.top,rect1,rect2);};const containsXY=(rect,clientX,clientY)=>clientX>=rect.left&&clientX<=rect.right&&clientY>=rect.top&&clientY<=rect.bottom;const boundingClientRectFromRects=rects=>{return foldl(rects,(acc,rect)=>{return acc.fold(()=>Optional.some(rect),prevRect=>{const left=Math.min(rect.left,prevRect.left);const top=Math.min(rect.top,prevRect.top);const right=Math.max(rect.right,prevRect.right);const bottom=Math.max(rect.bottom,prevRect.bottom);return Optional.some({top,right,bottom,left,width:right-left,height:bottom-top});});},Optional.none());};const distanceToRectEdgeFromXY=(rect,x,y)=>{const cx=Math.max(Math.min(x,rect.left+rect.width),rect.left);const cy=Math.max(Math.min(y,rect.top+rect.height),rect.top);return Math.sqrt((x-cx)*(x-cx)+(y-cy)*(y-cy));};const overlapY=(r1,r2)=>Math.max(0,Math.min(r1.bottom,r2.bottom)-Math.max(r1.top,r2.top));const clamp$2=(value,min,max)=>Math.min(Math.max(value,min),max);const getSelectedNode=range=>{const startContainer=range.startContainer,startOffset=range.startOffset;if(startContainer===range.endContainer&&startContainer.hasChildNodes()&&range.endOffset===startOffset+1){return startContainer.childNodes[startOffset];}return null;};const getNode$1=(container,offset)=>{if(isElement$6(container)&&container.hasChildNodes()){const childNodes=container.childNodes;const safeOffset=clamp$2(offset,0,childNodes.length-1);return childNodes[safeOffset];}else{return container;}};const getNodeUnsafe=(container,offset)=>{if(offset<0&&isElement$6(container)&&container.hasChildNodes()){return undefined;}else{return getNode$1(container,offset);}};const extendingChars=new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a'+'\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0'+'\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c'+'\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3'+'\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc'+'\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57'+'\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56'+'\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44'+'\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9'+'\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97'+'\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074'+'\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5'+'\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18'+'\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34'+'\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9'+'\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9'+'\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1'+'\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1'+'\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc'+'\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1'+'\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');const isExtendingChar=ch=>isString(ch)&&ch.charCodeAt(0)>=768&&extendingChars.test(ch);const or=(...args)=>{return x=>{for(let i=0;i<args.length;i++){if(args[i](x)){return true;}}return false;};};const and=(...args)=>{return x=>{for(let i=0;i<args.length;i++){if(!args[i](x)){return false;}}return true;};};const isElement$4=isElement$6;const isCaretCandidate$2=isCaretCandidate$3;const isBlock$2=matchStyleValues('display','block table');const isFloated=matchStyleValues('float','left right');const isValidElementCaretCandidate=and(isElement$4,isCaretCandidate$2,not(isFloated));const isNotPre=not(matchStyleValues('white-space','pre pre-line pre-wrap'));const isText$7=isText$a;const isBr$3=isBr$6;const nodeIndex$1=DOMUtils.nodeIndex;const resolveIndex$1=getNodeUnsafe;const createRange$1=doc=>doc?doc.createRange():DOMUtils.DOM.createRng();const isWhiteSpace$1=chr=>isString(chr)&&/[\\r\\n\\t ]/.test(chr);const isRange=rng=>!!rng.setStart&&!!rng.setEnd;const isHiddenWhiteSpaceRange=range=>{const container=range.startContainer;const offset=range.startOffset;if(isWhiteSpace$1(range.toString())&&isNotPre(container.parentNode)&&isText$a(container)){const text=container.data;if(isWhiteSpace$1(text[offset-1])||isWhiteSpace$1(text[offset+1])){return true;}}return false;};const getBrClientRect=brNode=>{const doc=brNode.ownerDocument;const rng=createRange$1(doc);const nbsp$1=doc.createTextNode(nbsp);const parentNode=brNode.parentNode;parentNode.insertBefore(nbsp$1,brNode);rng.setStart(nbsp$1,0);rng.setEnd(nbsp$1,1);const clientRect=clone$1(rng.getBoundingClientRect());parentNode.removeChild(nbsp$1);return clientRect;};const getBoundingClientRectWebKitText=rng=>{const sc=rng.startContainer;const ec=rng.endContainer;const so=rng.startOffset;const eo=rng.endOffset;if(sc===ec&&isText$a(ec)&&so===0&&eo===1){const newRng=rng.cloneRange();newRng.setEndAfter(ec);return getBoundingClientRect$1(newRng);}else{return null;}};const isZeroRect=r=>r.left===0&&r.right===0&&r.top===0&&r.bottom===0;const getBoundingClientRect$1=item=>{var _a;let clientRect;const clientRects=item.getClientRects();if(clientRects.length>0){clientRect=clone$1(clientRects[0]);}else{clientRect=clone$1(item.getBoundingClientRect());}if(!isRange(item)&&isBr$3(item)&&isZeroRect(clientRect)){return getBrClientRect(item);}if(isZeroRect(clientRect)&&isRange(item)){return(_a=getBoundingClientRectWebKitText(item))!==null&&_a!==void 0?_a:clientRect;}return clientRect;};const collapseAndInflateWidth=(clientRect,toStart)=>{const newClientRect=collapse(clientRect,toStart);newClientRect.width=1;newClientRect.right=newClientRect.left+1;return newClientRect;};const getCaretPositionClientRects=caretPosition=>{const clientRects=[];const addUniqueAndValidRect=clientRect=>{if(clientRect.height===0){return;}if(clientRects.length>0){if(isEqual(clientRect,clientRects[clientRects.length-1])){return;}}clientRects.push(clientRect);};const addCharacterOffset=(container,offset)=>{const range=createRange$1(container.ownerDocument);if(offset<container.data.length){if(isExtendingChar(container.data[offset])){return;}if(isExtendingChar(container.data[offset-1])){range.setStart(container,offset);range.setEnd(container,offset+1);if(!isHiddenWhiteSpaceRange(range)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range),false));return;}}}if(offset>0){range.setStart(container,offset-1);range.setEnd(container,offset);if(!isHiddenWhiteSpaceRange(range)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range),false));}}if(offset<container.data.length){range.setStart(container,offset);range.setEnd(container,offset+1);if(!isHiddenWhiteSpaceRange(range)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range),true));}}};const container=caretPosition.container();const offset=caretPosition.offset();if(isText$7(container)){addCharacterOffset(container,offset);return clientRects;}if(isElement$4(container)){if(caretPosition.isAtEnd()){const node=resolveIndex$1(container,offset);if(isText$7(node)){addCharacterOffset(node,node.data.length);}if(isValidElementCaretCandidate(node)&&!isBr$3(node)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node),false));}}else{const node=resolveIndex$1(container,offset);if(isText$7(node)){addCharacterOffset(node,0);}if(isValidElementCaretCandidate(node)&&caretPosition.isAtEnd()){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node),false));return clientRects;}const beforeNode=resolveIndex$1(caretPosition.container(),caretPosition.offset()-1);if(isValidElementCaretCandidate(beforeNode)&&!isBr$3(beforeNode)){if(isBlock$2(beforeNode)||isBlock$2(node)||!isValidElementCaretCandidate(node)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode),false));}}if(isValidElementCaretCandidate(node)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node),true));}}}return clientRects;};const CaretPosition=(container,offset,clientRects)=>{const isAtStart=()=>{if(isText$7(container)){return offset===0;}return offset===0;};const isAtEnd=()=>{if(isText$7(container)){return offset>=container.data.length;}return offset>=container.childNodes.length;};const toRange=()=>{const range=createRange$1(container.ownerDocument);range.setStart(container,offset);range.setEnd(container,offset);return range;};const getClientRects=()=>{if(!clientRects){clientRects=getCaretPositionClientRects(CaretPosition(container,offset));}return clientRects;};const isVisible=()=>getClientRects().length>0;const isEqual=caretPosition=>caretPosition&&container===caretPosition.container()&&offset===caretPosition.offset();const getNode=before=>resolveIndex$1(container,before?offset-1:offset);return{container:constant(container),offset:constant(offset),toRange,getClientRects,isVisible,isAtStart,isAtEnd,isEqual,getNode};};CaretPosition.fromRangeStart=range=>CaretPosition(range.startContainer,range.startOffset);CaretPosition.fromRangeEnd=range=>CaretPosition(range.endContainer,range.endOffset);CaretPosition.after=node=>CaretPosition(node.parentNode,nodeIndex$1(node)+1);CaretPosition.before=node=>CaretPosition(node.parentNode,nodeIndex$1(node));CaretPosition.isAbove=(pos1,pos2)=>lift2(head(pos2.getClientRects()),last$3(pos1.getClientRects()),isAbove$1).getOr(false);CaretPosition.isBelow=(pos1,pos2)=>lift2(last$3(pos2.getClientRects()),head(pos1.getClientRects()),isBelow$1).getOr(false);CaretPosition.isAtStart=pos=>pos?pos.isAtStart():false;CaretPosition.isAtEnd=pos=>pos?pos.isAtEnd():false;CaretPosition.isTextPosition=pos=>pos?isText$a(pos.container()):false;CaretPosition.isElementPosition=pos=>!CaretPosition.isTextPosition(pos);const trimEmptyTextNode$1=(dom,node)=>{if(isText$a(node)&&node.data.length===0){dom.remove(node);}};const insertNode=(dom,rng,node)=>{rng.insertNode(node);trimEmptyTextNode$1(dom,node.previousSibling);trimEmptyTextNode$1(dom,node.nextSibling);};const insertFragment=(dom,rng,frag)=>{const firstChild=Optional.from(frag.firstChild);const lastChild=Optional.from(frag.lastChild);rng.insertNode(frag);firstChild.each(child=>trimEmptyTextNode$1(dom,child.previousSibling));lastChild.each(child=>trimEmptyTextNode$1(dom,child.nextSibling));};const rangeInsertNode=(dom,rng,node)=>{if(isDocumentFragment(node)){insertFragment(dom,rng,node);}else{insertNode(dom,rng,node);}};const isText$6=isText$a;const isBogus=isBogus$2;const nodeIndex=DOMUtils.nodeIndex;const normalizedParent=node=>{const parentNode=node.parentNode;if(isBogus(parentNode)){return normalizedParent(parentNode);}return parentNode;};const getChildNodes=node=>{if(!node){return[];}return reduce(node.childNodes,(result,node)=>{if(isBogus(node)&&node.nodeName!=='BR'){result=result.concat(getChildNodes(node));}else{result.push(node);}return result;},[]);};const normalizedTextOffset=(node,offset)=>{let tempNode=node;while(tempNode=tempNode.previousSibling){if(!isText$6(tempNode)){break;}offset+=tempNode.data.length;}return offset;};const equal=a=>b=>a===b;const normalizedNodeIndex=node=>{let nodes,index;nodes=getChildNodes(normalizedParent(node));index=findIndex$1(nodes,equal(node),node);nodes=nodes.slice(0,index+1);const numTextFragments=reduce(nodes,(result,node,i)=>{if(isText$6(node)&&isText$6(nodes[i-1])){result++;}return result;},0);nodes=filter$3(nodes,matchNodeNames([node.nodeName]));index=findIndex$1(nodes,equal(node),node);return index-numTextFragments;};const createPathItem=node=>{const name=isText$6(node)?'text()':node.nodeName.toLowerCase();return name+'['+normalizedNodeIndex(node)+']';};const parentsUntil$1=(root,node,predicate)=>{const parents=[];for(let tempNode=node.parentNode;tempNode&&tempNode!==root;tempNode=tempNode.parentNode){if(predicate&&predicate(tempNode)){break;}parents.push(tempNode);}return parents;};const create$b=(root,caretPosition)=>{let path=[];let container=caretPosition.container();let offset=caretPosition.offset();let outputOffset;if(isText$6(container)){outputOffset=normalizedTextOffset(container,offset);}else{const childNodes=container.childNodes;if(offset>=childNodes.length){outputOffset='after';offset=childNodes.length-1;}else{outputOffset='before';}container=childNodes[offset];}path.push(createPathItem(container));let parents=parentsUntil$1(root,container);parents=filter$3(parents,not(isBogus$2));path=path.concat(map$1(parents,node=>{return createPathItem(node);}));return path.reverse().join('/')+','+outputOffset;};const resolvePathItem=(node,name,index)=>{let nodes=getChildNodes(node);nodes=filter$3(nodes,(node,index)=>{return!isText$6(node)||!isText$6(nodes[index-1]);});nodes=filter$3(nodes,matchNodeNames([name]));return nodes[index];};const findTextPosition=(container,offset)=>{let node=container;let targetOffset=0;while(isText$6(node)){const dataLen=node.data.length;if(offset>=targetOffset&&offset<=targetOffset+dataLen){container=node;offset=offset-targetOffset;break;}if(!isText$6(node.nextSibling)){container=node;offset=dataLen;break;}targetOffset+=dataLen;node=node.nextSibling;}if(isText$6(container)&&offset>container.data.length){offset=container.data.length;}return CaretPosition(container,offset);};const resolve$1=(root,path)=>{if(!path){return null;}const parts=path.split(',');const paths=parts[0].split('/');const offset=parts.length>1?parts[1]:'before';const container=reduce(paths,(result,value)=>{const match=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);if(!match){return null;}if(match[1]==='text()'){match[1]='#text';}return resolvePathItem(result,match[1],parseInt(match[2],10));},root);if(!container){return null;}if(!isText$6(container)&&container.parentNode){let nodeOffset;if(offset==='after'){nodeOffset=nodeIndex(container)+1;}else{nodeOffset=nodeIndex(container);}return CaretPosition(container.parentNode,nodeOffset);}return findTextPosition(container,parseInt(offset,10));};const isContentEditableFalse$9=isContentEditableFalse$b;const getNormalizedTextOffset$1=(trim,container,offset)=>{let trimmedOffset=trim(container.data.slice(0,offset)).length;for(let node=container.previousSibling;node&&isText$a(node);node=node.previousSibling){trimmedOffset+=trim(node.data).length;}return trimmedOffset;};const getPoint=(dom,trim,normalized,rng,start)=>{const container=start?rng.startContainer:rng.endContainer;let offset=start?rng.startOffset:rng.endOffset;const point=[];const root=dom.getRoot();if(isText$a(container)){point.push(normalized?getNormalizedTextOffset$1(trim,container,offset):offset);}else{let after=0;const childNodes=container.childNodes;if(offset>=childNodes.length&&childNodes.length){after=1;offset=Math.max(0,childNodes.length-1);}point.push(dom.nodeIndex(childNodes[offset],normalized)+after);}for(let node=container;node&&node!==root;node=node.parentNode){point.push(dom.nodeIndex(node,normalized));}return point;};const getLocation=(trim,selection,normalized,rng)=>{const dom=selection.dom;const start=getPoint(dom,trim,normalized,rng,true);const forward=selection.isForward();const fakeCaret=isRangeInCaretContainerBlock(rng)?{isFakeCaret:true}:{};if(!selection.isCollapsed()){const end=getPoint(dom,trim,normalized,rng,false);return{start,end,forward,...fakeCaret};}else{return{start,forward,...fakeCaret};}};const findIndex=(dom,name,element)=>{let count=0;Tools.each(dom.select(name),node=>{if(node.getAttribute('data-mce-bogus')==='all'){return;}else if(node===element){return false;}else{count++;return;}});return count;};const moveEndPoint$1=(rng,start)=>{let container=start?rng.startContainer:rng.endContainer;let offset=start?rng.startOffset:rng.endOffset;if(isElement$6(container)&&container.nodeName==='TR'){const childNodes=container.childNodes;container=childNodes[Math.min(start?offset:offset-1,childNodes.length-1)];if(container){offset=start?0:container.childNodes.length;if(start){rng.setStart(container,offset);}else{rng.setEnd(container,offset);}}}};const normalizeTableCellSelection=rng=>{moveEndPoint$1(rng,true);moveEndPoint$1(rng,false);return rng;};const findSibling=(node,offset)=>{if(isElement$6(node)){node=getNode$1(node,offset);if(isContentEditableFalse$9(node)){return node;}}if(isCaretContainer$2(node)){if(isText$a(node)&&isCaretContainerBlock$1(node)){node=node.parentNode;}let sibling=node.previousSibling;if(isContentEditableFalse$9(sibling)){return sibling;}sibling=node.nextSibling;if(isContentEditableFalse$9(sibling)){return sibling;}}return undefined;};const findAdjacentContentEditableFalseElm=rng=>{return findSibling(rng.startContainer,rng.startOffset)||findSibling(rng.endContainer,rng.endOffset);};const getOffsetBookmark=(trim,normalized,selection)=>{const element=selection.getNode();const rng=selection.getRng();if(element.nodeName==='IMG'||isContentEditableFalse$9(element)){const name=element.nodeName;return{name,index:findIndex(selection.dom,name,element)};}const sibling=findAdjacentContentEditableFalseElm(rng);if(sibling){const name=sibling.tagName;return{name,index:findIndex(selection.dom,name,sibling)};}return getLocation(trim,selection,normalized,rng);};const getCaretBookmark=selection=>{const rng=selection.getRng();return{start:create$b(selection.dom.getRoot(),CaretPosition.fromRangeStart(rng)),end:create$b(selection.dom.getRoot(),CaretPosition.fromRangeEnd(rng)),forward:selection.isForward()};};const getRangeBookmark=selection=>{return{rng:selection.getRng(),forward:selection.isForward()};};const createBookmarkSpan=(dom,id,filled)=>{const args={'data-mce-type':'bookmark',id,'style':'overflow:hidden;line-height:0px'};return filled?dom.create('span',args,'&#xFEFF;'):dom.create('span',args);};const getPersistentBookmark=(selection,filled)=>{const dom=selection.dom;let rng=selection.getRng();const id=dom.uniqueId();const collapsed=selection.isCollapsed();const element=selection.getNode();const name=element.nodeName;const forward=selection.isForward();if(name==='IMG'){return{name,index:findIndex(dom,name,element)};}const rng2=normalizeTableCellSelection(rng.cloneRange());if(!collapsed){rng2.collapse(false);const endBookmarkNode=createBookmarkSpan(dom,id+'_end',filled);rangeInsertNode(dom,rng2,endBookmarkNode);}rng=normalizeTableCellSelection(rng);rng.collapse(true);const startBookmarkNode=createBookmarkSpan(dom,id+'_start',filled);rangeInsertNode(dom,rng,startBookmarkNode);selection.moveToBookmark({id,keep:true,forward});return{id,forward};};const getBookmark$2=(selection,type,normalized=false)=>{if(type===2){return getOffsetBookmark(trim$2,normalized,selection);}else if(type===3){return getCaretBookmark(selection);}else if(type){return getRangeBookmark(selection);}else{return getPersistentBookmark(selection,false);}};const getUndoBookmark=curry(getOffsetBookmark,identity,true);const value$1=value=>{const applyHelper=fn=>fn(value);const constHelper=constant(value);const outputHelper=()=>output;const output={tag:true,inner:value,fold:(_onError,onValue)=>onValue(value),isValue:always,isError:never,map:mapper=>Result.value(mapper(value)),mapError:outputHelper,bind:applyHelper,exists:applyHelper,forall:applyHelper,getOr:constHelper,or:outputHelper,getOrThunk:constHelper,orThunk:outputHelper,getOrDie:constHelper,each:fn=>{fn(value);},toOptional:()=>Optional.some(value)};return output;};const error=error=>{const outputHelper=()=>output;const output={tag:false,inner:error,fold:(onError,_onValue)=>onError(error),isValue:never,isError:always,map:outputHelper,mapError:mapper=>Result.error(mapper(error)),bind:outputHelper,exists:never,forall:always,getOr:identity,or:identity,getOrThunk:apply$1,orThunk:apply$1,getOrDie:die(String(error)),each:noop,toOptional:Optional.none};return output;};const fromOption=(optional,err)=>optional.fold(()=>error(err),value$1);const Result={value:value$1,error,fromOption};const generate=cases=>{if(!isArray$1(cases)){throw new Error('cases must be an array');}if(cases.length===0){throw new Error('there must be at least one case');}const constructors=[];const adt={};each$e(cases,(acase,count)=>{const keys$1=keys(acase);if(keys$1.length!==1){throw new Error('one and only one name per case');}const key=keys$1[0];const value=acase[key];if(adt[key]!==undefined){throw new Error('duplicate key detected:'+key);}else if(key==='cata'){throw new Error('cannot have a case named cata (sorry)');}else if(!isArray$1(value)){throw new Error('case arguments must be an array');}constructors.push(key);adt[key]=(...args)=>{const argLength=args.length;if(argLength!==value.length){throw new Error('Wrong number of arguments to case '+key+'. Expected '+value.length+' ('+value+'), got '+argLength);}const match=branches=>{const branchKeys=keys(branches);if(constructors.length!==branchKeys.length){throw new Error('Wrong number of arguments to match. Expected: '+constructors.join(',')+'\\nActual: '+branchKeys.join(','));}const allReqd=forall(constructors,reqKey=>{return contains$2(branchKeys,reqKey);});if(!allReqd){throw new Error('Not all branches were specified when using match. Specified: '+branchKeys.join(', ')+'\\nRequired: '+constructors.join(', '));}return branches[key].apply(null,args);};return{fold:(...foldArgs)=>{if(foldArgs.length!==cases.length){throw new Error('Wrong number of arguments to fold. Expected '+cases.length+', got '+foldArgs.length);}const target=foldArgs[count];return target.apply(null,args);},match,log:label=>{console.log(label,{constructors,constructor:key,params:args});}};};});return adt;};const Adt={generate};Adt.generate([{bothErrors:['error1','error2']},{firstError:['error1','value2']},{secondError:['value1','error2']},{bothValues:['value1','value2']}]);const partition$1=results=>{const errors=[];const values=[];each$e(results,result=>{result.fold(err=>{errors.push(err);},value=>{values.push(value);});});return{errors,values};};const isInlinePattern=pattern=>pattern.type==='inline-command'||pattern.type==='inline-format';const isBlockPattern=pattern=>pattern.type==='block-command'||pattern.type==='block-format';const normalizePattern=pattern=>{const err=message=>Result.error({message,pattern});const formatOrCmd=(name,onFormat,onCommand)=>{if(pattern.format!==undefined){let formats;if(isArray$1(pattern.format)){if(!forall(pattern.format,isString)){return err(name+' pattern has non-string items in the `format` array');}formats=pattern.format;}else if(isString(pattern.format)){formats=[pattern.format];}else{return err(name+' pattern has non-string `format` parameter');}return Result.value(onFormat(formats));}else if(pattern.cmd!==undefined){if(!isString(pattern.cmd)){return err(name+' pattern has non-string `cmd` parameter');}return Result.value(onCommand(pattern.cmd,pattern.value));}else{return err(name+' pattern is missing both `format` and `cmd` parameters');}};if(!isObject(pattern)){return err('Raw pattern is not an object');}if(!isString(pattern.start)){return err('Raw pattern is missing `start` parameter');}if(pattern.end!==undefined){if(!isString(pattern.end)){return err('Inline pattern has non-string `end` parameter');}if(pattern.start.length===0&&pattern.end.length===0){return err('Inline pattern has empty `start` and `end` parameters');}let start=pattern.start;let end=pattern.end;if(end.length===0){end=start;start='';}return formatOrCmd('Inline',format=>({type:'inline-format',start,end,format}),(cmd,value)=>({type:'inline-command',start,end,cmd,value}));}else if(pattern.replacement!==undefined){if(!isString(pattern.replacement)){return err('Replacement pattern has non-string `replacement` parameter');}if(pattern.start.length===0){return err('Replacement pattern has empty `start` parameter');}return Result.value({type:'inline-command',start:'',end:pattern.start,cmd:'mceInsertContent',value:pattern.replacement});}else{if(pattern.start.length===0){return err('Block pattern has empty `start` parameter');}return formatOrCmd('Block',formats=>({type:'block-format',start:pattern.start,format:formats[0]}),(command,commandValue)=>({type:'block-command',start:pattern.start,cmd:command,value:commandValue}));}};const getBlockPatterns=patterns=>filter$5(patterns,isBlockPattern);const getInlinePatterns=patterns=>filter$5(patterns,isInlinePattern);const createPatternSet=(patterns,dynamicPatternsLookup)=>({inlinePatterns:getInlinePatterns(patterns),blockPatterns:getBlockPatterns(patterns),dynamicPatternsLookup});const fromRawPatterns=patterns=>{const normalized=partition$1(map$3(patterns,normalizePattern));each$e(normalized.errors,err=>console.error(err.message,err.pattern));return normalized.values;};const fromRawPatternsLookup=lookupFn=>{return ctx=>{const rawPatterns=lookupFn(ctx);return fromRawPatterns(rawPatterns);};};const deviceDetection$1=detect$2().deviceType;const isTouch=deviceDetection$1.isTouch();const DOM$a=DOMUtils.DOM;const getHash=value=>{const items=value.indexOf('=')>0?value.split(/[;,](?![^=;,]*(?:[;,]|$))/):value.split(',');return foldl(items,(output,item)=>{const arr=item.split('=');const key=arr[0];const val=arr.length>1?arr[1]:key;output[trim$4(key)]=trim$4(val);return output;},{});};const isRegExp=x=>is$4(x,RegExp);const option=name=>editor=>editor.options.get(name);const stringOrObjectProcessor=value=>isString(value)||isObject(value);const bodyOptionProcessor=(editor,defaultValue='')=>value=>{const valid=isString(value);if(valid){if(value.indexOf('=')!==-1){const bodyObj=getHash(value);return{value:get$a(bodyObj,editor.id).getOr(defaultValue),valid};}else{return{value,valid};}}else{return{valid:false,message:'Must be a string.'};}};const register$7=editor=>{const registerOption=editor.options.register;registerOption('id',{processor:'string',default:editor.id});registerOption('selector',{processor:'string'});registerOption('target',{processor:'object'});registerOption('suffix',{processor:'string'});registerOption('cache_suffix',{processor:'string'});registerOption('base_url',{processor:'string'});registerOption('referrer_policy',{processor:'string',default:''});registerOption('language_load',{processor:'boolean',default:true});registerOption('inline',{processor:'boolean',default:false});registerOption('iframe_attrs',{processor:'object',default:{}});registerOption('doctype',{processor:'string',default:'<!DOCTYPE html>'});registerOption('document_base_url',{processor:'string',default:editor.documentBaseUrl});registerOption('body_id',{processor:bodyOptionProcessor(editor,'tinymce'),default:'tinymce'});registerOption('body_class',{processor:bodyOptionProcessor(editor),default:''});registerOption('content_security_policy',{processor:'string',default:''});registerOption('br_in_pre',{processor:'boolean',default:true});registerOption('forced_root_block',{processor:value=>{const valid=isString(value)&&isNotEmpty(value);if(valid){return{value,valid};}else{return{valid:false,message:'Must be a non-empty string.'};}},default:'p'});registerOption('forced_root_block_attrs',{processor:'object',default:{}});registerOption('newline_behavior',{processor:value=>{const valid=contains$2(['block','linebreak','invert','default'],value);return valid?{value,valid}:{valid:false,message:'Must be one of: block, linebreak, invert or default.'};},default:'default'});registerOption('br_newline_selector',{processor:'string',default:'.mce-toc h2,figcaption,caption'});registerOption('no_newline_selector',{processor:'string',default:''});registerOption('keep_styles',{processor:'boolean',default:true});registerOption('end_container_on_empty_block',{processor:value=>{if(isBoolean(value)){return{valid:true,value};}else if(isString(value)){return{valid:true,value};}else{return{valid:false,message:'Must be boolean or a string'};}},default:'blockquote'});registerOption('font_size_style_values',{processor:'string',default:'xx-small,x-small,small,medium,large,x-large,xx-large'});registerOption('font_size_legacy_values',{processor:'string',default:'xx-small,small,medium,large,x-large,xx-large,300%'});registerOption('font_size_classes',{processor:'string',default:''});registerOption('automatic_uploads',{processor:'boolean',default:true});registerOption('images_reuse_filename',{processor:'boolean',default:false});registerOption('images_replace_blob_uris',{processor:'boolean',default:true});registerOption('icons',{processor:'string',default:''});registerOption('icons_url',{processor:'string',default:''});registerOption('images_upload_url',{processor:'string',default:''});registerOption('images_upload_base_path',{processor:'string',default:''});registerOption('images_upload_credentials',{processor:'boolean',default:false});registerOption('images_upload_handler',{processor:'function'});registerOption('language',{processor:'string',default:'en'});registerOption('language_url',{processor:'string',default:''});registerOption('entity_encoding',{processor:'string',default:'named'});registerOption('indent',{processor:'boolean',default:true});registerOption('indent_before',{processor:'string',default:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'});registerOption('indent_after',{processor:'string',default:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'});registerOption('indent_use_margin',{processor:'boolean',default:false});registerOption('indentation',{processor:'string',default:'40px'});registerOption('content_css',{processor:value=>{const valid=value===false||isString(value)||isArrayOf(value,isString);if(valid){if(isString(value)){return{value:map$3(value.split(','),trim$4),valid};}else if(isArray$1(value)){return{value,valid};}else if(value===false){return{value:[],valid};}else{return{value,valid};}}else{return{valid:false,message:'Must be false, a string or an array of strings.'};}},default:isInline$1(editor)?[]:['default']});registerOption('content_style',{processor:'string'});registerOption('content_css_cors',{processor:'boolean',default:false});registerOption('font_css',{processor:value=>{const valid=isString(value)||isArrayOf(value,isString);if(valid){const newValue=isArray$1(value)?value:map$3(value.split(','),trim$4);return{value:newValue,valid};}else{return{valid:false,message:'Must be a string or an array of strings.'};}},default:[]});registerOption('inline_boundaries',{processor:'boolean',default:true});registerOption('inline_boundaries_selector',{processor:'string',default:'a[href],code,span.mce-annotation'});registerOption('object_resizing',{processor:value=>{const valid=isBoolean(value)||isString(value);if(valid){if(value===false||deviceDetection$1.isiPhone()||deviceDetection$1.isiPad()){return{value:'',valid};}else{return{value:value===true?'table,img,figure.image,div,video,iframe':value,valid};}}else{return{valid:false,message:'Must be boolean or a string'};}},default:!isTouch});registerOption('resize_img_proportional',{processor:'boolean',default:true});registerOption('event_root',{processor:'object'});registerOption('service_message',{processor:'string'});registerOption('theme',{processor:value=>value===false||isString(value)||isFunction(value),default:'silver'});registerOption('theme_url',{processor:'string'});registerOption('formats',{processor:'object'});registerOption('format_empty_lines',{processor:'boolean',default:false});registerOption('format_noneditable_selector',{processor:'string',default:''});registerOption('preview_styles',{processor:value=>{const valid=value===false||isString(value);if(valid){return{value:value===false?'':value,valid};}else{return{valid:false,message:'Must be false or a string'};}},default:'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow'});registerOption('custom_ui_selector',{processor:'string',default:''});registerOption('hidden_input',{processor:'boolean',default:true});registerOption('submit_patch',{processor:'boolean',default:true});registerOption('encoding',{processor:'string'});registerOption('add_form_submit_trigger',{processor:'boolean',default:true});registerOption('add_unload_trigger',{processor:'boolean',default:true});registerOption('custom_undo_redo_levels',{processor:'number',default:0});registerOption('disable_nodechange',{processor:'boolean',default:false});registerOption('readonly',{processor:'boolean',default:false});registerOption('editable_root',{processor:'boolean',default:true});registerOption('plugins',{processor:'string[]',default:[]});registerOption('external_plugins',{processor:'object'});registerOption('forced_plugins',{processor:'string[]'});registerOption('model',{processor:'string',default:editor.hasPlugin('rtc')?'plugin':'dom'});registerOption('model_url',{processor:'string'});registerOption('block_unsupported_drop',{processor:'boolean',default:true});registerOption('visual',{processor:'boolean',default:true});registerOption('visual_table_class',{processor:'string',default:'mce-item-table'});registerOption('visual_anchor_class',{processor:'string',default:'mce-item-anchor'});registerOption('iframe_aria_text',{processor:'string',default:'Rich Text Area. Press ALT-0 for help.'});registerOption('setup',{processor:'function'});registerOption('init_instance_callback',{processor:'function'});registerOption('url_converter',{processor:'function',default:editor.convertURL});registerOption('url_converter_scope',{processor:'object',default:editor});registerOption('urlconverter_callback',{processor:'function'});registerOption('allow_conditional_comments',{processor:'boolean',default:false});registerOption('allow_html_data_urls',{processor:'boolean',default:false});registerOption('allow_svg_data_urls',{processor:'boolean'});registerOption('allow_html_in_named_anchor',{processor:'boolean',default:false});registerOption('allow_script_urls',{processor:'boolean',default:false});registerOption('allow_unsafe_link_target',{processor:'boolean',default:false});registerOption('convert_fonts_to_spans',{processor:'boolean',default:true,deprecated:true});registerOption('fix_list_elements',{processor:'boolean',default:false});registerOption('preserve_cdata',{processor:'boolean',default:false});registerOption('remove_trailing_brs',{processor:'boolean',default:true});registerOption('pad_empty_with_br',{processor:'boolean',default:false});registerOption('inline_styles',{processor:'boolean',default:true,deprecated:true});registerOption('element_format',{processor:'string',default:'html'});registerOption('entities',{processor:'string'});registerOption('schema',{processor:'string',default:'html5'});registerOption('convert_urls',{processor:'boolean',default:true});registerOption('relative_urls',{processor:'boolean',default:true});registerOption('remove_script_host',{processor:'boolean',default:true});registerOption('custom_elements',{processor:'string'});registerOption('extended_valid_elements',{processor:'string'});registerOption('invalid_elements',{processor:'string'});registerOption('invalid_styles',{processor:stringOrObjectProcessor});registerOption('valid_children',{processor:'string'});registerOption('valid_classes',{processor:stringOrObjectProcessor});registerOption('valid_elements',{processor:'string'});registerOption('valid_styles',{processor:stringOrObjectProcessor});registerOption('verify_html',{processor:'boolean',default:true});registerOption('auto_focus',{processor:value=>isString(value)||value===true});registerOption('browser_spellcheck',{processor:'boolean',default:false});registerOption('protect',{processor:'array'});registerOption('images_file_types',{processor:'string',default:'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp'});registerOption('deprecation_warnings',{processor:'boolean',default:true});registerOption('a11y_advanced_options',{processor:'boolean',default:false});registerOption('api_key',{processor:'string'});registerOption('paste_block_drop',{processor:'boolean',default:false});registerOption('paste_data_images',{processor:'boolean',default:true});registerOption('paste_preprocess',{processor:'function'});registerOption('paste_postprocess',{processor:'function'});registerOption('paste_webkit_styles',{processor:'string',default:'none'});registerOption('paste_remove_styles_if_webkit',{processor:'boolean',default:true});registerOption('paste_merge_formats',{processor:'boolean',default:true});registerOption('smart_paste',{processor:'boolean',default:true});registerOption('paste_as_text',{processor:'boolean',default:false});registerOption('paste_tab_spaces',{processor:'number',default:4});registerOption('text_patterns',{processor:value=>{if(isArrayOf(value,isObject)||value===false){const patterns=value===false?[]:value;return{value:fromRawPatterns(patterns),valid:true};}else{return{valid:false,message:'Must be an array of objects or false.'};}},default:[{start:'*',end:'*',format:'italic'},{start:'**',end:'**',format:'bold'},{start:'#',format:'h1'},{start:'##',format:'h2'},{start:'###',format:'h3'},{start:'####',format:'h4'},{start:'#####',format:'h5'},{start:'######',format:'h6'},{start:'1. ',cmd:'InsertOrderedList'},{start:'* ',cmd:'InsertUnorderedList'},{start:'- ',cmd:'InsertUnorderedList'}]});registerOption('text_patterns_lookup',{processor:value=>{if(isFunction(value)){return{value:fromRawPatternsLookup(value),valid:true};}else{return{valid:false,message:'Must be a single function'};}},default:_ctx=>[]});registerOption('noneditable_class',{processor:'string',default:'mceNonEditable'});registerOption('editable_class',{processor:'string',default:'mceEditable'});registerOption('noneditable_regexp',{processor:value=>{if(isArrayOf(value,isRegExp)){return{value,valid:true};}else if(isRegExp(value)){return{value:[value],valid:true};}else{return{valid:false,message:'Must be a RegExp or an array of RegExp.'};}},default:[]});registerOption('table_tab_navigation',{processor:'boolean',default:true});registerOption('highlight_on_focus',{processor:'boolean',default:false});registerOption('xss_sanitization',{processor:'boolean',default:true});registerOption('details_initial_state',{processor:value=>{const valid=contains$2(['inherited','collapsed','expanded'],value);return valid?{value,valid}:{valid:false,message:'Must be one of: inherited, collapsed, or expanded.'};},default:'inherited'});registerOption('details_serialized_state',{processor:value=>{const valid=contains$2(['inherited','collapsed','expanded'],value);return valid?{value,valid}:{valid:false,message:'Must be one of: inherited, collapsed, or expanded.'};},default:'inherited'});registerOption('init_content_sync',{processor:'boolean',default:false});registerOption('newdocument_content',{processor:'string',default:''});registerOption('force_hex_color',{processor:value=>{const options=['always','rgb_only','off'];const valid=contains$2(options,value);return valid?{value,valid}:{valid:false,message:`Must be one of: ${options.join(', ')}.`};},default:'off'});registerOption('sandbox_iframes',{processor:'boolean',default:false});registerOption('convert_unsafe_embeds',{processor:'boolean',default:false});editor.on('ScriptsLoaded',()=>{registerOption('directionality',{processor:'string',default:I18n.isRtl()?'rtl':undefined});registerOption('placeholder',{processor:'string',default:DOM$a.getAttrib(editor.getElement(),'placeholder')});});};const getIframeAttrs=option('iframe_attrs');const getDocType=option('doctype');const getDocumentBaseUrl=option('document_base_url');const getBodyId=option('body_id');const getBodyClass=option('body_class');const getContentSecurityPolicy=option('content_security_policy');const shouldPutBrInPre$1=option('br_in_pre');const getForcedRootBlock=option('forced_root_block');const getForcedRootBlockAttrs=option('forced_root_block_attrs');const getNewlineBehavior=option('newline_behavior');const getBrNewLineSelector=option('br_newline_selector');const getNoNewLineSelector=option('no_newline_selector');const shouldKeepStyles=option('keep_styles');const shouldEndContainerOnEmptyBlock=option('end_container_on_empty_block');const isAutomaticUploadsEnabled=option('automatic_uploads');const shouldReuseFileName=option('images_reuse_filename');const shouldReplaceBlobUris=option('images_replace_blob_uris');const getIconPackName=option('icons');const getIconsUrl=option('icons_url');const getImageUploadUrl=option('images_upload_url');const getImageUploadBasePath=option('images_upload_base_path');const getImagesUploadCredentials=option('images_upload_credentials');const getImagesUploadHandler=option('images_upload_handler');const shouldUseContentCssCors=option('content_css_cors');const getReferrerPolicy=option('referrer_policy');const getLanguageCode=option('language');const getLanguageUrl=option('language_url');const shouldIndentUseMargin=option('indent_use_margin');const getIndentation=option('indentation');const getContentCss=option('content_css');const getContentStyle=option('content_style');const getFontCss=option('font_css');const getDirectionality=option('directionality');const getInlineBoundarySelector=option('inline_boundaries_selector');const getObjectResizing=option('object_resizing');const getResizeImgProportional=option('resize_img_proportional');const getPlaceholder=option('placeholder');const getEventRoot=option('event_root');const getServiceMessage=option('service_message');const getTheme=option('theme');const getThemeUrl=option('theme_url');const getModel=option('model');const getModelUrl=option('model_url');const isInlineBoundariesEnabled=option('inline_boundaries');const getFormats=option('formats');const getPreviewStyles=option('preview_styles');const canFormatEmptyLines=option('format_empty_lines');const getFormatNoneditableSelector=option('format_noneditable_selector');const getCustomUiSelector=option('custom_ui_selector');const isInline$1=option('inline');const hasHiddenInput=option('hidden_input');const shouldPatchSubmit=option('submit_patch');const shouldAddFormSubmitTrigger=option('add_form_submit_trigger');const shouldAddUnloadTrigger=option('add_unload_trigger');const getCustomUndoRedoLevels=option('custom_undo_redo_levels');const shouldDisableNodeChange=option('disable_nodechange');const isReadOnly$1=option('readonly');const hasEditableRoot$1=option('editable_root');const hasContentCssCors=option('content_css_cors');const getPlugins=option('plugins');const getExternalPlugins$1=option('external_plugins');const shouldBlockUnsupportedDrop=option('block_unsupported_drop');const isVisualAidsEnabled=option('visual');const getVisualAidsTableClass=option('visual_table_class');const getVisualAidsAnchorClass=option('visual_anchor_class');const getIframeAriaText=option('iframe_aria_text');const getSetupCallback=option('setup');const getInitInstanceCallback=option('init_instance_callback');const getUrlConverterCallback=option('urlconverter_callback');const getAutoFocus=option('auto_focus');const shouldBrowserSpellcheck=option('browser_spellcheck');const getProtect=option('protect');const shouldPasteBlockDrop=option('paste_block_drop');const shouldPasteDataImages=option('paste_data_images');const getPastePreProcess=option('paste_preprocess');const getPastePostProcess=option('paste_postprocess');const getNewDocumentContent=option('newdocument_content');const getPasteWebkitStyles=option('paste_webkit_styles');const shouldPasteRemoveWebKitStyles=option('paste_remove_styles_if_webkit');const shouldPasteMergeFormats=option('paste_merge_formats');const isSmartPasteEnabled=option('smart_paste');const isPasteAsTextEnabled=option('paste_as_text');const getPasteTabSpaces=option('paste_tab_spaces');const shouldAllowHtmlDataUrls=option('allow_html_data_urls');const getTextPatterns=option('text_patterns');const getTextPatternsLookup=option('text_patterns_lookup');const getNonEditableClass=option('noneditable_class');const getEditableClass=option('editable_class');const getNonEditableRegExps=option('noneditable_regexp');const shouldPreserveCData=option('preserve_cdata');const shouldHighlightOnFocus=option('highlight_on_focus');const shouldSanitizeXss=option('xss_sanitization');const shouldUseDocumentWrite=option('init_content_sync');const hasTextPatternsLookup=editor=>editor.options.isSet('text_patterns_lookup');const getFontStyleValues=editor=>Tools.explode(editor.options.get('font_size_style_values'));const getFontSizeClasses=editor=>Tools.explode(editor.options.get('font_size_classes'));const isEncodingXml=editor=>editor.options.get('encoding')==='xml';const getAllowedImageFileTypes=editor=>Tools.explode(editor.options.get('images_file_types'));const hasTableTabNavigation=option('table_tab_navigation');const getDetailsInitialState=option('details_initial_state');const getDetailsSerializedState=option('details_serialized_state');const shouldForceHexColor=option('force_hex_color');const shouldSandboxIframes=option('sandbox_iframes');const isElement$3=isElement$6;const isText$5=isText$a;const removeNode$1=node=>{const parentNode=node.parentNode;if(parentNode){parentNode.removeChild(node);}};const trimCount=text=>{const trimmedText=trim$2(text);return{count:text.length-trimmedText.length,text:trimmedText};};const deleteZwspChars=caretContainer=>{let idx;while((idx=caretContainer.data.lastIndexOf(ZWSP$1))!==-1){caretContainer.deleteData(idx,1);}};const removeUnchanged=(caretContainer,pos)=>{remove$3(caretContainer);return pos;};const removeTextAndReposition=(caretContainer,pos)=>{const before=trimCount(caretContainer.data.substr(0,pos.offset()));const after=trimCount(caretContainer.data.substr(pos.offset()));const text=before.text+after.text;if(text.length>0){deleteZwspChars(caretContainer);return CaretPosition(caretContainer,pos.offset()-before.count);}else{return pos;}};const removeElementAndReposition=(caretContainer,pos)=>{const parentNode=pos.container();const newPosition=indexOf$1(from(parentNode.childNodes),caretContainer).map(index=>{return index<pos.offset()?CaretPosition(parentNode,pos.offset()-1):pos;}).getOr(pos);remove$3(caretContainer);return newPosition;};const removeTextCaretContainer=(caretContainer,pos)=>isText$5(caretContainer)&&pos.container()===caretContainer?removeTextAndReposition(caretContainer,pos):removeUnchanged(caretContainer,pos);const removeElementCaretContainer=(caretContainer,pos)=>pos.container()===caretContainer.parentNode?removeElementAndReposition(caretContainer,pos):removeUnchanged(caretContainer,pos);const removeAndReposition=(container,pos)=>CaretPosition.isTextPosition(pos)?removeTextCaretContainer(container,pos):removeElementCaretContainer(container,pos);const remove$3=caretContainerNode=>{if(isElement$3(caretContainerNode)&&isCaretContainer$2(caretContainerNode)){if(hasContent(caretContainerNode)){caretContainerNode.removeAttribute('data-mce-caret');}else{removeNode$1(caretContainerNode);}}if(isText$5(caretContainerNode)){deleteZwspChars(caretContainerNode);if(caretContainerNode.data.length===0){removeNode$1(caretContainerNode);}}};const isContentEditableFalse$8=isContentEditableFalse$b;const isMedia$1=isMedia$2;const isTableCell$1=isTableCell$3;const inlineFakeCaretSelector='*[contentEditable=false],video,audio,embed,object';const getAbsoluteClientRect=(root,element,before)=>{const clientRect=collapse(element.getBoundingClientRect(),before);let scrollX;let scrollY;if(root.tagName==='BODY'){const docElm=root.ownerDocument.documentElement;scrollX=root.scrollLeft||docElm.scrollLeft;scrollY=root.scrollTop||docElm.scrollTop;}else{const rootRect=root.getBoundingClientRect();scrollX=root.scrollLeft-rootRect.left;scrollY=root.scrollTop-rootRect.top;}clientRect.left+=scrollX;clientRect.right+=scrollX;clientRect.top+=scrollY;clientRect.bottom+=scrollY;clientRect.width=1;let margin=element.offsetWidth-element.clientWidth;if(margin>0){if(before){margin*=-1;}clientRect.left+=margin;clientRect.right+=margin;}return clientRect;};const trimInlineCaretContainers=root=>{var _a,_b;const fakeCaretTargetNodes=descendants(SugarElement.fromDom(root),inlineFakeCaretSelector);for(let i=0;i<fakeCaretTargetNodes.length;i++){const node=fakeCaretTargetNodes[i].dom;let sibling=node.previousSibling;if(endsWithCaretContainer$1(sibling)){const data=sibling.data;if(data.length===1){(_a=sibling.parentNode)===null||_a===void 0?void 0:_a.removeChild(sibling);}else{sibling.deleteData(data.length-1,1);}}sibling=node.nextSibling;if(startsWithCaretContainer$1(sibling)){const data=sibling.data;if(data.length===1){(_b=sibling.parentNode)===null||_b===void 0?void 0:_b.removeChild(sibling);}else{sibling.deleteData(0,1);}}}};const FakeCaret=(editor,root,isBlock,hasFocus)=>{const lastVisualCaret=value$2();let cursorInterval;let caretContainerNode;const caretBlock=getForcedRootBlock(editor);const dom=editor.dom;const show=(before,element)=>{let rng;hide();if(isTableCell$1(element)){return null;}if(isBlock(element)){const caretContainer=insertBlock(caretBlock,element,before);const clientRect=getAbsoluteClientRect(root,element,before);dom.setStyle(caretContainer,'top',clientRect.top);caretContainerNode=caretContainer;const caret=dom.create('div',{'class':'mce-visual-caret','data-mce-bogus':'all'});dom.setStyles(caret,{...clientRect});dom.add(root,caret);lastVisualCaret.set({caret,element,before});if(before){dom.addClass(caret,'mce-visual-caret-before');}startBlink();rng=element.ownerDocument.createRange();rng.setStart(caretContainer,0);rng.setEnd(caretContainer,0);}else{caretContainerNode=insertInline$1(element,before);rng=element.ownerDocument.createRange();if(isInlineFakeCaretTarget(caretContainerNode.nextSibling)){rng.setStart(caretContainerNode,0);rng.setEnd(caretContainerNode,0);}else{rng.setStart(caretContainerNode,1);rng.setEnd(caretContainerNode,1);}return rng;}return rng;};const hide=()=>{trimInlineCaretContainers(root);if(caretContainerNode){remove$3(caretContainerNode);caretContainerNode=null;}lastVisualCaret.on(caretState=>{dom.remove(caretState.caret);lastVisualCaret.clear();});if(cursorInterval){clearInterval(cursorInterval);cursorInterval=undefined;}};const startBlink=()=>{cursorInterval=setInterval(()=>{lastVisualCaret.on(caretState=>{if(hasFocus()){dom.toggleClass(caretState.caret,'mce-visual-caret-hidden');}else{dom.addClass(caretState.caret,'mce-visual-caret-hidden');}});},500);};const reposition=()=>{lastVisualCaret.on(caretState=>{const clientRect=getAbsoluteClientRect(root,caretState.element,caretState.before);dom.setStyles(caretState.caret,{...clientRect});});};const destroy=()=>clearInterval(cursorInterval);const getCss=()=>'.mce-visual-caret {'+'position: absolute;'+'background-color: black;'+'background-color: currentcolor;'+'}'+'.mce-visual-caret-hidden {'+'display: none;'+'}'+'*[data-mce-caret] {'+'position: absolute;'+'left: -1000px;'+'right: auto;'+'top: 0;'+'margin: 0;'+'padding: 0;'+'}';return{show,hide,getCss,reposition,destroy};};const isFakeCaretTableBrowser=()=>Env.browser.isFirefox();const isInlineFakeCaretTarget=node=>isContentEditableFalse$8(node)||isMedia$1(node);const isFakeCaretTarget=node=>{const isTarget=isInlineFakeCaretTarget(node)||isTable$2(node)&&isFakeCaretTableBrowser();return isTarget&&parentElement(SugarElement.fromDom(node)).exists(isEditable$2);};const isContentEditableTrue$1=isContentEditableTrue$3;const isContentEditableFalse$7=isContentEditableFalse$b;const isMedia=isMedia$2;const isBlockLike=matchStyleValues('display','block table table-cell table-caption list-item');const isCaretContainer=isCaretContainer$2;const isCaretContainerBlock=isCaretContainerBlock$1;const isElement$2=isElement$6;const isText$4=isText$a;const isCaretCandidate$1=isCaretCandidate$3;const isForwards=direction=>direction>0;const isBackwards=direction=>direction<0;const skipCaretContainers=(walk,shallow)=>{let node;while(node=walk(shallow)){if(!isCaretContainerBlock(node)){return node;}}return null;};const findNode=(node,direction,predicateFn,rootNode,shallow)=>{const walker=new DomTreeWalker(node,rootNode);const isCefOrCaretContainer=isContentEditableFalse$7(node)||isCaretContainerBlock(node);let tempNode;if(isBackwards(direction)){if(isCefOrCaretContainer){tempNode=skipCaretContainers(walker.prev.bind(walker),true);if(predicateFn(tempNode)){return tempNode;}}while(tempNode=skipCaretContainers(walker.prev.bind(walker),shallow)){if(predicateFn(tempNode)){return tempNode;}}}if(isForwards(direction)){if(isCefOrCaretContainer){tempNode=skipCaretContainers(walker.next.bind(walker),true);if(predicateFn(tempNode)){return tempNode;}}while(tempNode=skipCaretContainers(walker.next.bind(walker),shallow)){if(predicateFn(tempNode)){return tempNode;}}}return null;};const getEditingHost=(node,rootNode)=>{const isCETrue=node=>isContentEditableTrue$1(node.dom);const isRoot=node=>node.dom===rootNode;return ancestor$4(SugarElement.fromDom(node),isCETrue,isRoot).map(elm=>elm.dom).getOr(rootNode);};const getParentBlock$3=(node,rootNode)=>{while(node&&node!==rootNode){if(isBlockLike(node)){return node;}node=node.parentNode;}return null;};const isInSameBlock=(caretPosition1,caretPosition2,rootNode)=>getParentBlock$3(caretPosition1.container(),rootNode)===getParentBlock$3(caretPosition2.container(),rootNode);const getChildNodeAtRelativeOffset=(relativeOffset,caretPosition)=>{if(!caretPosition){return Optional.none();}const container=caretPosition.container();const offset=caretPosition.offset();if(!isElement$2(container)){return Optional.none();}return Optional.from(container.childNodes[offset+relativeOffset]);};const beforeAfter=(before,node)=>{var _a;const doc=(_a=node.ownerDocument)!==null&&_a!==void 0?_a:document;const range=doc.createRange();if(before){range.setStartBefore(node);range.setEndBefore(node);}else{range.setStartAfter(node);range.setEndAfter(node);}return range;};const isNodesInSameBlock=(root,node1,node2)=>getParentBlock$3(node1,root)===getParentBlock$3(node2,root);const lean=(left,root,node)=>{const siblingName=left?'previousSibling':'nextSibling';let tempNode=node;while(tempNode&&tempNode!==root){let sibling=tempNode[siblingName];if(sibling&&isCaretContainer(sibling)){sibling=sibling[siblingName];}if(isContentEditableFalse$7(sibling)||isMedia(sibling)){if(isNodesInSameBlock(root,sibling,tempNode)){return sibling;}break;}if(isCaretCandidate$1(sibling)){break;}tempNode=tempNode.parentNode;}return null;};const before$2=curry(beforeAfter,true);const after$2=curry(beforeAfter,false);const normalizeRange=(direction,root,range)=>{let node;const leanLeft=curry(lean,true,root);const leanRight=curry(lean,false,root);const container=range.startContainer;const offset=range.startOffset;if(isCaretContainerBlock$1(container)){const block=isText$4(container)?container.parentNode:container;const location=block.getAttribute('data-mce-caret');if(location==='before'){node=block.nextSibling;if(isFakeCaretTarget(node)){return before$2(node);}}if(location==='after'){node=block.previousSibling;if(isFakeCaretTarget(node)){return after$2(node);}}}if(!range.collapsed){return range;}if(isText$a(container)){if(isCaretContainer(container)){if(direction===1){node=leanRight(container);if(node){return before$2(node);}node=leanLeft(container);if(node){return after$2(node);}}if(direction===-1){node=leanLeft(container);if(node){return after$2(node);}node=leanRight(container);if(node){return before$2(node);}}return range;}if(endsWithCaretContainer$1(container)&&offset>=container.data.length-1){if(direction===1){node=leanRight(container);if(node){return before$2(node);}}return range;}if(startsWithCaretContainer$1(container)&&offset<=1){if(direction===-1){node=leanLeft(container);if(node){return after$2(node);}}return range;}if(offset===container.data.length){node=leanRight(container);if(node){return before$2(node);}return range;}if(offset===0){node=leanLeft(container);if(node){return after$2(node);}return range;}}return range;};const getRelativeCefElm=(forward,caretPosition)=>getChildNodeAtRelativeOffset(forward?0:-1,caretPosition).filter(isContentEditableFalse$7);const getNormalizedRangeEndPoint=(direction,root,range)=>{const normalizedRange=normalizeRange(direction,root,range);return direction===-1?CaretPosition.fromRangeStart(normalizedRange):CaretPosition.fromRangeEnd(normalizedRange);};const getElementFromPosition=pos=>Optional.from(pos.getNode()).map(SugarElement.fromDom);const getElementFromPrevPosition=pos=>Optional.from(pos.getNode(true)).map(SugarElement.fromDom);const getVisualCaretPosition=(walkFn,caretPosition)=>{let pos=caretPosition;while(pos=walkFn(pos)){if(pos.isVisible()){return pos;}}return pos;};const isMoveInsideSameBlock=(from,to)=>{const inSameBlock=isInSameBlock(from,to);if(!inSameBlock&&isBr$6(from.getNode())){return true;}return inSameBlock;};var HDirection;(function(HDirection){HDirection[HDirection['Backwards']=-1]='Backwards';HDirection[HDirection['Forwards']=1]='Forwards';})(HDirection||(HDirection={}));const isContentEditableFalse$6=isContentEditableFalse$b;const isText$3=isText$a;const isElement$1=isElement$6;const isBr$2=isBr$6;const isCaretCandidate=isCaretCandidate$3;const isAtomic=isAtomic$1;const isEditableCaretCandidate=isEditableCaretCandidate$1;const getParents$3=(node,root)=>{const parents=[];let tempNode=node;while(tempNode&&tempNode!==root){parents.push(tempNode);tempNode=tempNode.parentNode;}return parents;};const nodeAtIndex=(container,offset)=>{if(container.hasChildNodes()&&offset<container.childNodes.length){return container.childNodes[offset];}return null;};const getCaretCandidatePosition=(direction,node)=>{if(isForwards(direction)){if(isCaretCandidate(node.previousSibling)&&!isText$3(node.previousSibling)){return CaretPosition.before(node);}if(isText$3(node)){return CaretPosition(node,0);}}if(isBackwards(direction)){if(isCaretCandidate(node.nextSibling)&&!isText$3(node.nextSibling)){return CaretPosition.after(node);}if(isText$3(node)){return CaretPosition(node,node.data.length);}}if(isBackwards(direction)){if(isBr$2(node)){return CaretPosition.before(node);}return CaretPosition.after(node);}return CaretPosition.before(node);};const moveForwardFromBr=(root,nextNode)=>{const nextSibling=nextNode.nextSibling;if(nextSibling&&isCaretCandidate(nextSibling)){if(isText$3(nextSibling)){return CaretPosition(nextSibling,0);}else{return CaretPosition.before(nextSibling);}}else{return findCaretPosition$1(HDirection.Forwards,CaretPosition.after(nextNode),root);}};const findCaretPosition$1=(direction,startPos,root)=>{let node;let nextNode;let innerNode;let caretPosition;if(!isElement$1(root)||!startPos){return null;}if(startPos.isEqual(CaretPosition.after(root))&&root.lastChild){caretPosition=CaretPosition.after(root.lastChild);if(isBackwards(direction)&&isCaretCandidate(root.lastChild)&&isElement$1(root.lastChild)){return isBr$2(root.lastChild)?CaretPosition.before(root.lastChild):caretPosition;}}else{caretPosition=startPos;}const container=caretPosition.container();let offset=caretPosition.offset();if(isText$3(container)){if(isBackwards(direction)&&offset>0){return CaretPosition(container,--offset);}if(isForwards(direction)&&offset<container.length){return CaretPosition(container,++offset);}node=container;}else{if(isBackwards(direction)&&offset>0){nextNode=nodeAtIndex(container,offset-1);if(isCaretCandidate(nextNode)){if(!isAtomic(nextNode)){innerNode=findNode(nextNode,direction,isEditableCaretCandidate,nextNode);if(innerNode){if(isText$3(innerNode)){return CaretPosition(innerNode,innerNode.data.length);}return CaretPosition.after(innerNode);}}if(isText$3(nextNode)){return CaretPosition(nextNode,nextNode.data.length);}return CaretPosition.before(nextNode);}}if(isForwards(direction)&&offset<container.childNodes.length){nextNode=nodeAtIndex(container,offset);if(isCaretCandidate(nextNode)){if(isBr$2(nextNode)){return moveForwardFromBr(root,nextNode);}if(!isAtomic(nextNode)){innerNode=findNode(nextNode,direction,isEditableCaretCandidate,nextNode);if(innerNode){if(isText$3(innerNode)){return CaretPosition(innerNode,0);}return CaretPosition.before(innerNode);}}if(isText$3(nextNode)){return CaretPosition(nextNode,0);}return CaretPosition.after(nextNode);}}node=nextNode?nextNode:caretPosition.getNode();}if(node&&(isForwards(direction)&&caretPosition.isAtEnd()||isBackwards(direction)&&caretPosition.isAtStart())){node=findNode(node,direction,always,root,true);if(isEditableCaretCandidate(node,root)){return getCaretCandidatePosition(direction,node);}}nextNode=node?findNode(node,direction,isEditableCaretCandidate,root):node;const rootContentEditableFalseElm=last$2(filter$5(getParents$3(container,root),isContentEditableFalse$6));if(rootContentEditableFalseElm&&(!nextNode||!rootContentEditableFalseElm.contains(nextNode))){if(isForwards(direction)){caretPosition=CaretPosition.after(rootContentEditableFalseElm);}else{caretPosition=CaretPosition.before(rootContentEditableFalseElm);}return caretPosition;}if(nextNode){return getCaretCandidatePosition(direction,nextNode);}return null;};const CaretWalker=root=>({next:caretPosition=>{return findCaretPosition$1(HDirection.Forwards,caretPosition,root);},prev:caretPosition=>{return findCaretPosition$1(HDirection.Backwards,caretPosition,root);}});const walkToPositionIn=(forward,root,start)=>{const position=forward?CaretPosition.before(start):CaretPosition.after(start);return fromPosition(forward,root,position);};const afterElement=node=>isBr$6(node)?CaretPosition.before(node):CaretPosition.after(node);const isBeforeOrStart=position=>{if(CaretPosition.isTextPosition(position)){return position.offset()===0;}else{return isCaretCandidate$3(position.getNode());}};const isAfterOrEnd=position=>{if(CaretPosition.isTextPosition(position)){const container=position.container();return position.offset()===container.data.length;}else{return isCaretCandidate$3(position.getNode(true));}};const isBeforeAfterSameElement=(from,to)=>!CaretPosition.isTextPosition(from)&&!CaretPosition.isTextPosition(to)&&from.getNode()===to.getNode(true);const isAtBr=position=>!CaretPosition.isTextPosition(position)&&isBr$6(position.getNode());const shouldSkipPosition=(forward,from,to)=>{if(forward){return!isBeforeAfterSameElement(from,to)&&!isAtBr(from)&&isAfterOrEnd(from)&&isBeforeOrStart(to);}else{return!isBeforeAfterSameElement(to,from)&&isBeforeOrStart(from)&&isAfterOrEnd(to);}};const fromPosition=(forward,root,pos)=>{const walker=CaretWalker(root);return Optional.from(forward?walker.next(pos):walker.prev(pos));};const navigate=(forward,root,from)=>fromPosition(forward,root,from).bind(to=>{if(isInSameBlock(from,to,root)&&shouldSkipPosition(forward,from,to)){return fromPosition(forward,root,to);}else{return Optional.some(to);}});const navigateIgnore=(forward,root,from,ignoreFilter)=>navigate(forward,root,from).bind(pos=>ignoreFilter(pos)?navigateIgnore(forward,root,pos,ignoreFilter):Optional.some(pos));const positionIn=(forward,element)=>{const startNode=forward?element.firstChild:element.lastChild;if(isText$a(startNode)){return Optional.some(CaretPosition(startNode,forward?0:startNode.data.length));}else if(startNode){if(isCaretCandidate$3(startNode)){return Optional.some(forward?CaretPosition.before(startNode):afterElement(startNode));}else{return walkToPositionIn(forward,element,startNode);}}else{return Optional.none();}};const nextPosition=curry(fromPosition,true);const prevPosition=curry(fromPosition,false);const firstPositionIn=curry(positionIn,true);const lastPositionIn=curry(positionIn,false);const CARET_ID='_mce_caret';const isCaretNode=node=>isElement$6(node)&&node.id===CARET_ID;const getParentCaretContainer=(body,node)=>{let currentNode=node;while(currentNode&&currentNode!==body){if(isCaretNode(currentNode)){return currentNode;}currentNode=currentNode.parentNode;}return null;};const isStringPathBookmark=bookmark=>isString(bookmark.start);const isRangeBookmark=bookmark=>has$2(bookmark,'rng');const isIdBookmark=bookmark=>has$2(bookmark,'id');const isIndexBookmark=bookmark=>has$2(bookmark,'name');const isPathBookmark=bookmark=>Tools.isArray(bookmark.start);const isForwardBookmark=bookmark=>!isIndexBookmark(bookmark)&&isBoolean(bookmark.forward)?bookmark.forward:true;const addBogus=(dom,node)=>{if(isElement$6(node)&&dom.isBlock(node)&&!node.innerHTML){node.innerHTML='<br data-mce-bogus=\"1\" />';}return node;};const resolveCaretPositionBookmark=(dom,bookmark)=>{const startPos=Optional.from(resolve$1(dom.getRoot(),bookmark.start));const endPos=Optional.from(resolve$1(dom.getRoot(),bookmark.end));return lift2(startPos,endPos,(start,end)=>{const range=dom.createRng();range.setStart(start.container(),start.offset());range.setEnd(end.container(),end.offset());return{range,forward:isForwardBookmark(bookmark)};});};const insertZwsp=(node,rng)=>{var _a;const doc=(_a=node.ownerDocument)!==null&&_a!==void 0?_a:document;const textNode=doc.createTextNode(ZWSP$1);node.appendChild(textNode);rng.setStart(textNode,0);rng.setEnd(textNode,0);};const isEmpty$1=node=>!node.hasChildNodes();const tryFindRangePosition=(node,rng)=>lastPositionIn(node).fold(never,pos=>{rng.setStart(pos.container(),pos.offset());rng.setEnd(pos.container(),pos.offset());return true;});const padEmptyCaretContainer=(root,node,rng)=>{if(isEmpty$1(node)&&getParentCaretContainer(root,node)){insertZwsp(node,rng);return true;}else{return false;}};const setEndPoint=(dom,start,bookmark,rng)=>{const point=bookmark[start?'start':'end'];const root=dom.getRoot();if(point){let node=root;let offset=point[0];for(let i=point.length-1;node&&i>=1;i--){const children=node.childNodes;if(padEmptyCaretContainer(root,node,rng)){return true;}if(point[i]>children.length-1){if(padEmptyCaretContainer(root,node,rng)){return true;}return tryFindRangePosition(node,rng);}node=children[point[i]];}if(isText$a(node)){offset=Math.min(point[0],node.data.length);}if(isElement$6(node)){offset=Math.min(point[0],node.childNodes.length);}if(start){rng.setStart(node,offset);}else{rng.setEnd(node,offset);}}return true;};const isValidTextNode=node=>isText$a(node)&&node.data.length>0;const restoreEndPoint=(dom,suffix,bookmark)=>{const marker=dom.get(bookmark.id+'_'+suffix);const markerParent=marker===null||marker===void 0?void 0:marker.parentNode;const keep=bookmark.keep;if(marker&&markerParent){let container;let offset;if(suffix==='start'){if(!keep){container=markerParent;offset=dom.nodeIndex(marker);}else{if(marker.hasChildNodes()){container=marker.firstChild;offset=1;}else if(isValidTextNode(marker.nextSibling)){container=marker.nextSibling;offset=0;}else if(isValidTextNode(marker.previousSibling)){container=marker.previousSibling;offset=marker.previousSibling.data.length;}else{container=markerParent;offset=dom.nodeIndex(marker)+1;}}}else{if(!keep){container=markerParent;offset=dom.nodeIndex(marker);}else{if(marker.hasChildNodes()){container=marker.firstChild;offset=1;}else if(isValidTextNode(marker.previousSibling)){container=marker.previousSibling;offset=marker.previousSibling.data.length;}else{container=markerParent;offset=dom.nodeIndex(marker);}}}if(!keep){const prev=marker.previousSibling;const next=marker.nextSibling;Tools.each(Tools.grep(marker.childNodes),node=>{if(isText$a(node)){node.data=node.data.replace(/\\uFEFF/g,'');}});let otherMarker;while(otherMarker=dom.get(bookmark.id+'_'+suffix)){dom.remove(otherMarker,true);}if(isText$a(next)&&isText$a(prev)&&!Env.browser.isOpera()){const idx=prev.data.length;prev.appendData(next.data);dom.remove(next);container=prev;offset=idx;}}return Optional.some(CaretPosition(container,offset));}else{return Optional.none();}};const resolvePaths=(dom,bookmark)=>{const range=dom.createRng();if(setEndPoint(dom,true,bookmark,range)&&setEndPoint(dom,false,bookmark,range)){return Optional.some({range,forward:isForwardBookmark(bookmark)});}else{return Optional.none();}};const resolveId=(dom,bookmark)=>{const startPos=restoreEndPoint(dom,'start',bookmark);const endPos=restoreEndPoint(dom,'end',bookmark);return lift2(startPos,endPos.or(startPos),(spos,epos)=>{const range=dom.createRng();range.setStart(addBogus(dom,spos.container()),spos.offset());range.setEnd(addBogus(dom,epos.container()),epos.offset());return{range,forward:isForwardBookmark(bookmark)};});};const resolveIndex=(dom,bookmark)=>Optional.from(dom.select(bookmark.name)[bookmark.index]).map(elm=>{const range=dom.createRng();range.selectNode(elm);return{range,forward:true};});const resolve=(selection,bookmark)=>{const dom=selection.dom;if(bookmark){if(isPathBookmark(bookmark)){return resolvePaths(dom,bookmark);}else if(isStringPathBookmark(bookmark)){return resolveCaretPositionBookmark(dom,bookmark);}else if(isIdBookmark(bookmark)){return resolveId(dom,bookmark);}else if(isIndexBookmark(bookmark)){return resolveIndex(dom,bookmark);}else if(isRangeBookmark(bookmark)){return Optional.some({range:bookmark.rng,forward:isForwardBookmark(bookmark)});}}return Optional.none();};const getBookmark$1=(selection,type,normalized)=>{return getBookmark$2(selection,type,normalized);};const moveToBookmark=(selection,bookmark)=>{resolve(selection,bookmark).each(({range,forward})=>{selection.setRng(range,forward);});};const isBookmarkNode$1=node=>{return isElement$6(node)&&node.tagName==='SPAN'&&node.getAttribute('data-mce-type')==='bookmark';};const is=expected=>actual=>expected===actual;const isNbsp=is(nbsp);const isWhiteSpace=chr=>chr!==''&&' \\f\\n\\r\\t\\x0B'.indexOf(chr)!==-1;const isContent=chr=>!isWhiteSpace(chr)&&!isNbsp(chr)&&!isZwsp$2(chr);const getRanges$1=selection=>{const ranges=[];if(selection){for(let i=0;i<selection.rangeCount;i++){ranges.push(selection.getRangeAt(i));}}return ranges;};const getSelectedNodes=ranges=>{return bind$3(ranges,range=>{const node=getSelectedNode(range);return node?[SugarElement.fromDom(node)]:[];});};const hasMultipleRanges=selection=>{return getRanges$1(selection).length>1;};const getCellsFromRanges=ranges=>filter$5(getSelectedNodes(ranges),isTableCell$2);const getCellsFromElement=elm=>descendants(elm,'td[data-mce-selected],th[data-mce-selected]');const getCellsFromElementOrRanges=(ranges,element)=>{const selectedCells=getCellsFromElement(element);return selectedCells.length>0?selectedCells:getCellsFromRanges(ranges);};const getCellsFromEditor=editor=>getCellsFromElementOrRanges(getRanges$1(editor.selection.getSel()),SugarElement.fromDom(editor.getBody()));const getClosestTable=(cell,isRoot)=>ancestor$3(cell,'table',isRoot);const getStartNode=rng=>{const sc=rng.startContainer,so=rng.startOffset;if(isText$a(sc)){return so===0?Optional.some(SugarElement.fromDom(sc)):Optional.none();}else{return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);}};const getEndNode=rng=>{const ec=rng.endContainer,eo=rng.endOffset;if(isText$a(ec)){return eo===ec.data.length?Optional.some(SugarElement.fromDom(ec)):Optional.none();}else{return Optional.from(ec.childNodes[eo-1]).map(SugarElement.fromDom);}};const getFirstChildren=node=>{return firstChild(node).fold(constant([node]),child=>{return[node].concat(getFirstChildren(child));});};const getLastChildren=node=>{return lastChild(node).fold(constant([node]),child=>{if(name(child)==='br'){return prevSibling(child).map(sibling=>{return[node].concat(getLastChildren(sibling));}).getOr([]);}else{return[node].concat(getLastChildren(child));}});};const hasAllContentsSelected=(elm,rng)=>{return lift2(getStartNode(rng),getEndNode(rng),(startNode,endNode)=>{const start=find$2(getFirstChildren(elm),curry(eq,startNode));const end=find$2(getLastChildren(elm),curry(eq,endNode));return start.isSome()&&end.isSome();}).getOr(false);};const moveEndPoint=(dom,rng,node,start)=>{const root=node;const walker=new DomTreeWalker(node,root);const moveCaretBeforeOnEnterElementsMap=filter$4(dom.schema.getMoveCaretBeforeOnEnterElements(),(_,name)=>!contains$2(['td','th','table'],name.toLowerCase()));let currentNode=node;do{if(isText$a(currentNode)&&Tools.trim(currentNode.data).length!==0){if(start){rng.setStart(currentNode,0);}else{rng.setEnd(currentNode,currentNode.data.length);}return;}if(moveCaretBeforeOnEnterElementsMap[currentNode.nodeName]){if(start){rng.setStartBefore(currentNode);}else{if(currentNode.nodeName==='BR'){rng.setEndBefore(currentNode);}else{rng.setEndAfter(currentNode);}}return;}}while(currentNode=start?walker.next():walker.prev());if(root.nodeName==='BODY'){if(start){rng.setStart(root,0);}else{rng.setEnd(root,root.childNodes.length);}}};const hasAnyRanges=editor=>{const sel=editor.selection.getSel();return isNonNullable(sel)&&sel.rangeCount>0;};const runOnRanges=(editor,executor)=>{const fakeSelectionNodes=getCellsFromEditor(editor);if(fakeSelectionNodes.length>0){each$e(fakeSelectionNodes,elem=>{const node=elem.dom;const fakeNodeRng=editor.dom.createRng();fakeNodeRng.setStartBefore(node);fakeNodeRng.setEndAfter(node);executor(fakeNodeRng,true);});}else{executor(editor.selection.getRng(),false);}};const preserve=(selection,fillBookmark,executor)=>{const bookmark=getPersistentBookmark(selection,fillBookmark);executor(bookmark);selection.moveToBookmark(bookmark);};const isNode=node=>isNumber(node===null||node===void 0?void 0:node.nodeType);const isElementNode$1=node=>isElement$6(node)&&!isBookmarkNode$1(node)&&!isCaretNode(node)&&!isBogus$2(node);const isElementDirectlySelected=(dom,node)=>{if(isElementNode$1(node)&&!/^(TD|TH)$/.test(node.nodeName)){const selectedAttr=dom.getAttrib(node,'data-mce-selected');const value=parseInt(selectedAttr,10);return!isNaN(value)&&value>0;}else{return false;}};const preserveSelection=(editor,action,shouldMoveStart)=>{const{selection,dom}=editor;const selectedNodeBeforeAction=selection.getNode();const isSelectedBeforeNodeNoneditable=isContentEditableFalse$b(selectedNodeBeforeAction);preserve(selection,true,()=>{action();});const isBeforeNodeStillNoneditable=isSelectedBeforeNodeNoneditable&&isContentEditableFalse$b(selectedNodeBeforeAction);if(isBeforeNodeStillNoneditable&&dom.isChildOf(selectedNodeBeforeAction,editor.getBody())){editor.selection.select(selectedNodeBeforeAction);}else if(shouldMoveStart(selection.getStart())){moveStartToNearestText(dom,selection);}};const moveStartToNearestText=(dom,selection)=>{var _a,_b;const rng=selection.getRng();const{startContainer,startOffset}=rng;const selectedNode=selection.getNode();if(isElementDirectlySelected(dom,selectedNode)){return;}if(isElement$6(startContainer)){const nodes=startContainer.childNodes;const root=dom.getRoot();let walker;if(startOffset<nodes.length){const startNode=nodes[startOffset];walker=new DomTreeWalker(startNode,(_a=dom.getParent(startNode,dom.isBlock))!==null&&_a!==void 0?_a:root);}else{const startNode=nodes[nodes.length-1];walker=new DomTreeWalker(startNode,(_b=dom.getParent(startNode,dom.isBlock))!==null&&_b!==void 0?_b:root);walker.next(true);}for(let node=walker.current();node;node=walker.next()){if(dom.getContentEditable(node)==='false'){return;}else if(isText$a(node)&&!isWhiteSpaceNode$1(node)){rng.setStart(node,0);selection.setRng(rng);return;}}}};const getNonWhiteSpaceSibling=(node,next,inc)=>{if(node){const nextName=next?'nextSibling':'previousSibling';for(node=inc?node:node[nextName];node;node=node[nextName]){if(isElement$6(node)||!isWhiteSpaceNode$1(node)){return node;}}}return undefined;};const isTextBlock$1=(schema,node)=>!!schema.getTextBlockElements()[node.nodeName.toLowerCase()]||isTransparentBlock(schema,node);const isValid=(ed,parent,child)=>{return ed.schema.isValidChild(parent,child);};const isWhiteSpaceNode$1=(node,allowSpaces=false)=>{if(isNonNullable(node)&&isText$a(node)){const data=allowSpaces?node.data.replace(/ /g,'\\xA0'):node.data;return isWhitespaceText(data);}else{return false;}};const isEmptyTextNode$1=node=>{return isNonNullable(node)&&isText$a(node)&&node.length===0;};const isWrapNoneditableTarget=(editor,node)=>{const baseDataSelector='[data-mce-cef-wrappable]';const formatNoneditableSelector=getFormatNoneditableSelector(editor);const selector=isEmpty$3(formatNoneditableSelector)?baseDataSelector:`${baseDataSelector},${formatNoneditableSelector}`;return is$1(SugarElement.fromDom(node),selector);};const isWrappableNoneditable=(editor,node)=>{const dom=editor.dom;return isElementNode$1(node)&&dom.getContentEditable(node)==='false'&&isWrapNoneditableTarget(editor,node)&&dom.select('[contenteditable=\"true\"]',node).length===0;};const replaceVars=(value,vars)=>{if(isFunction(value)){return value(vars);}else if(isNonNullable(vars)){value=value.replace(/%(\\w+)/g,(str,name)=>{return vars[name]||str;});}return value;};const isEq$5=(str1,str2)=>{str1=str1||'';str2=str2||'';str1=''+(str1.nodeName||str1);str2=''+(str2.nodeName||str2);return str1.toLowerCase()===str2.toLowerCase();};const normalizeStyleValue=(value,name)=>{if(isNullable(value)){return null;}else{let strValue=String(value);if(name==='color'||name==='backgroundColor'){strValue=rgbaToHexString(strValue);}if(name==='fontWeight'&&value===700){strValue='bold';}if(name==='fontFamily'){strValue=strValue.replace(/[\\'\\\"]/g,'').replace(/,\\s+/g,',');}return strValue;}};const getStyle=(dom,node,name)=>{const style=dom.getStyle(node,name);return normalizeStyleValue(style,name);};const getTextDecoration=(dom,node)=>{let decoration;dom.getParent(node,n=>{if(isElement$6(n)){decoration=dom.getStyle(n,'text-decoration');return!!decoration&&decoration!=='none';}else{return false;}});return decoration;};const getParents$2=(dom,node,selector)=>{return dom.getParents(node,selector,dom.getRoot());};const isFormatPredicate=(editor,formatName,predicate)=>{const formats=editor.formatter.get(formatName);return isNonNullable(formats)&&exists(formats,predicate);};const isVariableFormatName=(editor,formatName)=>{const hasVariableValues=format=>{const isVariableValue=val=>isFunction(val)||val.length>1&&val.charAt(0)==='%';return exists(['styles','attributes'],key=>get$a(format,key).exists(field=>{const fieldValues=isArray$1(field)?field:values(field);return exists(fieldValues,isVariableValue);}));};return isFormatPredicate(editor,formatName,hasVariableValues);};const areSimilarFormats=(editor,formatName,otherFormatName)=>{const validKeys=['inline','block','selector','attributes','styles','classes'];const filterObj=format=>filter$4(format,(_,key)=>exists(validKeys,validKey=>validKey===key));return isFormatPredicate(editor,formatName,fmt1=>{const filteredFmt1=filterObj(fmt1);return isFormatPredicate(editor,otherFormatName,fmt2=>{const filteredFmt2=filterObj(fmt2);return equal$1(filteredFmt1,filteredFmt2);});});};const isBlockFormat=format=>hasNonNullableKey(format,'block');const isWrappingBlockFormat=format=>isBlockFormat(format)&&format.wrapper===true;const isNonWrappingBlockFormat=format=>isBlockFormat(format)&&format.wrapper!==true;const isSelectorFormat=format=>hasNonNullableKey(format,'selector');const isInlineFormat=format=>hasNonNullableKey(format,'inline');const isMixedFormat=format=>isSelectorFormat(format)&&isInlineFormat(format)&&is$2(get$a(format,'mixed'),true);const shouldExpandToSelector=format=>isSelectorFormat(format)&&format.expand!==false&&!isInlineFormat(format);const getEmptyCaretContainers=node=>{const nodes=[];let tempNode=node;while(tempNode){if(isText$a(tempNode)&&tempNode.data!==ZWSP$1||tempNode.childNodes.length>1){return[];}if(isElement$6(tempNode)){nodes.push(tempNode);}tempNode=tempNode.firstChild;}return nodes;};const isCaretContainerEmpty=node=>{return getEmptyCaretContainers(node).length>0;};const isEmptyCaretFormatElement=element=>{return isCaretNode(element.dom)&&isCaretContainerEmpty(element.dom);};const isBookmarkNode=isBookmarkNode$1;const getParents$1=getParents$2;const isWhiteSpaceNode=isWhiteSpaceNode$1;const isTextBlock=isTextBlock$1;const isBogusBr=node=>{return isBr$6(node)&&node.getAttribute('data-mce-bogus')&&!node.nextSibling;};const findParentContentEditable=(dom,node)=>{let parent=node;while(parent){if(isElement$6(parent)&&dom.getContentEditable(parent)){return dom.getContentEditable(parent)==='false'?parent:node;}parent=parent.parentNode;}return node;};const walkText=(start,node,offset,predicate)=>{const str=node.data;if(start){for(let i=offset;i>0;i--){if(predicate(str.charAt(i-1))){return i;}}}else{for(let i=offset;i<str.length;i++){if(predicate(str.charAt(i))){return i;}}}return-1;};const findSpace=(start,node,offset)=>walkText(start,node,offset,c=>isNbsp(c)||isWhiteSpace(c));const findContent=(start,node,offset)=>walkText(start,node,offset,isContent);const findWordEndPoint=(dom,body,container,offset,start,includeTrailingSpaces)=>{let lastTextNode;const rootNode=dom.getParent(container,dom.isBlock)||body;const walk=(container,offset,pred)=>{const textSeeker=TextSeeker(dom);const walker=start?textSeeker.backwards:textSeeker.forwards;return Optional.from(walker(container,offset,(text,textOffset)=>{if(isBookmarkNode(text.parentNode)){return-1;}else{lastTextNode=text;return pred(start,text,textOffset);}},rootNode));};const spaceResult=walk(container,offset,findSpace);return spaceResult.bind(result=>includeTrailingSpaces?walk(result.container,result.offset+(start?-1:0),findContent):Optional.some(result)).orThunk(()=>lastTextNode?Optional.some({container:lastTextNode,offset:start?0:lastTextNode.length}):Optional.none());};const findSelectorEndPoint=(dom,formatList,rng,container,siblingName)=>{const sibling=container[siblingName];if(isText$a(container)&&isEmpty$3(container.data)&&sibling){container=sibling;}const parents=getParents$1(dom,container);for(let i=0;i<parents.length;i++){for(let y=0;y<formatList.length;y++){const curFormat=formatList[y];if(isNonNullable(curFormat.collapsed)&&curFormat.collapsed!==rng.collapsed){continue;}if(isSelectorFormat(curFormat)&&dom.is(parents[i],curFormat.selector)){return parents[i];}}}return container;};const findBlockEndPoint=(dom,formatList,container,siblingName)=>{var _a;let node=container;const root=dom.getRoot();const format=formatList[0];if(isBlockFormat(format)){node=format.wrapper?null:dom.getParent(container,format.block,root);}if(!node){const scopeRoot=(_a=dom.getParent(container,'LI,TD,TH,SUMMARY'))!==null&&_a!==void 0?_a:root;node=dom.getParent(isText$a(container)?container.parentNode:container,node=>node!==root&&isTextBlock(dom.schema,node),scopeRoot);}if(node&&isBlockFormat(format)&&format.wrapper){node=getParents$1(dom,node,'ul,ol').reverse()[0]||node;}if(!node){node=container;while(node&&node[siblingName]&&!dom.isBlock(node[siblingName])){node=node[siblingName];if(isEq$5(node,'br')){break;}}}return node||container;};const isAtBlockBoundary$1=(dom,root,container,siblingName)=>{const parent=container.parentNode;if(isNonNullable(container[siblingName])){return false;}else if(parent===root||isNullable(parent)||dom.isBlock(parent)){return true;}else{return isAtBlockBoundary$1(dom,root,parent,siblingName);}};const findParentContainer=(dom,formatList,container,offset,start)=>{let parent=container;const siblingName=start?'previousSibling':'nextSibling';const root=dom.getRoot();if(isText$a(container)&&!isWhiteSpaceNode(container)){if(start?offset>0:offset<container.data.length){return container;}}while(parent){if(!formatList[0].block_expand&&dom.isBlock(parent)){return parent;}for(let sibling=parent[siblingName];sibling;sibling=sibling[siblingName]){const allowSpaces=isText$a(sibling)&&!isAtBlockBoundary$1(dom,root,sibling,siblingName);if(!isBookmarkNode(sibling)&&!isBogusBr(sibling)&&!isWhiteSpaceNode(sibling,allowSpaces)){return parent;}}if(parent===root||parent.parentNode===root){container=parent;break;}parent=parent.parentNode;}return container;};const isSelfOrParentBookmark=container=>isBookmarkNode(container.parentNode)||isBookmarkNode(container);const expandRng=(dom,rng,formatList,includeTrailingSpace=false)=>{let{startContainer,startOffset,endContainer,endOffset}=rng;const format=formatList[0];if(isElement$6(startContainer)&&startContainer.hasChildNodes()){startContainer=getNode$1(startContainer,startOffset);if(isText$a(startContainer)){startOffset=0;}}if(isElement$6(endContainer)&&endContainer.hasChildNodes()){endContainer=getNode$1(endContainer,rng.collapsed?endOffset:endOffset-1);if(isText$a(endContainer)){endOffset=endContainer.data.length;}}startContainer=findParentContentEditable(dom,startContainer);endContainer=findParentContentEditable(dom,endContainer);if(isSelfOrParentBookmark(startContainer)){startContainer=isBookmarkNode(startContainer)?startContainer:startContainer.parentNode;if(rng.collapsed){startContainer=startContainer.previousSibling||startContainer;}else{startContainer=startContainer.nextSibling||startContainer;}if(isText$a(startContainer)){startOffset=rng.collapsed?startContainer.length:0;}}if(isSelfOrParentBookmark(endContainer)){endContainer=isBookmarkNode(endContainer)?endContainer:endContainer.parentNode;if(rng.collapsed){endContainer=endContainer.nextSibling||endContainer;}else{endContainer=endContainer.previousSibling||endContainer;}if(isText$a(endContainer)){endOffset=rng.collapsed?0:endContainer.length;}}if(rng.collapsed){const startPoint=findWordEndPoint(dom,dom.getRoot(),startContainer,startOffset,true,includeTrailingSpace);startPoint.each(({container,offset})=>{startContainer=container;startOffset=offset;});const endPoint=findWordEndPoint(dom,dom.getRoot(),endContainer,endOffset,false,includeTrailingSpace);endPoint.each(({container,offset})=>{endContainer=container;endOffset=offset;});}if(isInlineFormat(format)||format.block_expand){if(!isInlineFormat(format)||!isText$a(startContainer)||startOffset===0){startContainer=findParentContainer(dom,formatList,startContainer,startOffset,true);}if(!isInlineFormat(format)||!isText$a(endContainer)||endOffset===endContainer.data.length){endContainer=findParentContainer(dom,formatList,endContainer,endOffset,false);}}if(shouldExpandToSelector(format)){startContainer=findSelectorEndPoint(dom,formatList,rng,startContainer,'previousSibling');endContainer=findSelectorEndPoint(dom,formatList,rng,endContainer,'nextSibling');}if(isBlockFormat(format)||isSelectorFormat(format)){startContainer=findBlockEndPoint(dom,formatList,startContainer,'previousSibling');endContainer=findBlockEndPoint(dom,formatList,endContainer,'nextSibling');if(isBlockFormat(format)){if(!dom.isBlock(startContainer)){startContainer=findParentContainer(dom,formatList,startContainer,startOffset,true);}if(!dom.isBlock(endContainer)){endContainer=findParentContainer(dom,formatList,endContainer,endOffset,false);}}}if(isElement$6(startContainer)&&startContainer.parentNode){startOffset=dom.nodeIndex(startContainer);startContainer=startContainer.parentNode;}if(isElement$6(endContainer)&&endContainer.parentNode){endOffset=dom.nodeIndex(endContainer)+1;endContainer=endContainer.parentNode;}return{startContainer,startOffset,endContainer,endOffset};};const walk$3=(dom,rng,callback)=>{var _a;const startOffset=rng.startOffset;const startContainer=getNode$1(rng.startContainer,startOffset);const endOffset=rng.endOffset;const endContainer=getNode$1(rng.endContainer,endOffset-1);const exclude=nodes=>{const firstNode=nodes[0];if(isText$a(firstNode)&&firstNode===startContainer&&startOffset>=firstNode.data.length){nodes.splice(0,1);}const lastNode=nodes[nodes.length-1];if(endOffset===0&&nodes.length>0&&lastNode===endContainer&&isText$a(lastNode)){nodes.splice(nodes.length-1,1);}return nodes;};const collectSiblings=(node,name,endNode)=>{const siblings=[];for(;node&&node!==endNode;node=node[name]){siblings.push(node);}return siblings;};const findEndPoint=(node,root)=>dom.getParent(node,node=>node.parentNode===root,root);const walkBoundary=(startNode,endNode,next)=>{const siblingName=next?'nextSibling':'previousSibling';for(let node=startNode,parent=node.parentNode;node&&node!==endNode;node=parent){parent=node.parentNode;const siblings=collectSiblings(node===startNode?node:node[siblingName],siblingName);if(siblings.length){if(!next){siblings.reverse();}callback(exclude(siblings));}}};if(startContainer===endContainer){return callback(exclude([startContainer]));}const ancestor=(_a=dom.findCommonAncestor(startContainer,endContainer))!==null&&_a!==void 0?_a:dom.getRoot();if(dom.isChildOf(startContainer,endContainer)){return walkBoundary(startContainer,ancestor,true);}if(dom.isChildOf(endContainer,startContainer)){return walkBoundary(endContainer,ancestor);}const startPoint=findEndPoint(startContainer,ancestor)||startContainer;const endPoint=findEndPoint(endContainer,ancestor)||endContainer;walkBoundary(startContainer,startPoint,true);const siblings=collectSiblings(startPoint===startContainer?startPoint:startPoint.nextSibling,'nextSibling',endPoint===endContainer?endPoint.nextSibling:endPoint);if(siblings.length){callback(exclude(siblings));}walkBoundary(endContainer,endPoint);};const validBlocks=['pre[class*=language-][contenteditable=\"false\"]','figure.image','div[data-ephox-embed-iri]','div.tiny-pageembed','div.mce-toc','div[data-mce-toc]'];const isZeroWidth=elem=>isText$b(elem)&&get$3(elem)===ZWSP$1;const context=(editor,elem,wrapName,nodeName)=>parent(elem).fold(()=>'skipping',parent=>{if(nodeName==='br'||isZeroWidth(elem)){return'valid';}else if(isAnnotation(elem)){return'existing';}else if(isCaretNode(elem.dom)){return'caret';}else if(exists(validBlocks,selector=>is$1(elem,selector))){return'valid-block';}else if(!isValid(editor,wrapName,nodeName)||!isValid(editor,name(parent),wrapName)){return'invalid-child';}else{return'valid';}});const applyWordGrab=(editor,rng)=>{const r=expandRng(editor.dom,rng,[{inline:'span'}]);rng.setStart(r.startContainer,r.startOffset);rng.setEnd(r.endContainer,r.endOffset);editor.selection.setRng(rng);};const applyAnnotation=(elem,masterUId,data,annotationName,decorate,directAnnotation)=>{const{uid=masterUId,...otherData}=data;add$2(elem,annotation());set$3(elem,`${dataAnnotationId()}`,uid);set$3(elem,`${dataAnnotation()}`,annotationName);const{attributes={},classes=[]}=decorate(uid,otherData);setAll$1(elem,attributes);add(elem,classes);if(directAnnotation){if(classes.length>0){set$3(elem,`${dataAnnotationClasses()}`,classes.join(','));}const attributeNames=keys(attributes);if(attributeNames.length>0){set$3(elem,`${dataAnnotationAttributes()}`,attributeNames.join(','));}}};const removeDirectAnnotation=elem=>{remove$7(elem,annotation());remove$a(elem,`${dataAnnotationId()}`);remove$a(elem,`${dataAnnotation()}`);remove$a(elem,`${dataAnnotationActive()}`);const customAttrNames=getOpt(elem,`${dataAnnotationAttributes()}`).map(names=>names.split(',')).getOr([]);const customClasses=getOpt(elem,`${dataAnnotationClasses()}`).map(names=>names.split(',')).getOr([]);each$e(customAttrNames,name=>remove$a(elem,name));remove$4(elem,customClasses);remove$a(elem,`${dataAnnotationClasses()}`);remove$a(elem,`${dataAnnotationAttributes()}`);};const makeAnnotation=(eDoc,uid,data,annotationName,decorate)=>{const master=SugarElement.fromTag('span',eDoc);applyAnnotation(master,uid,data,annotationName,decorate,false);return master;};const annotate=(editor,rng,uid,annotationName,decorate,data)=>{const newWrappers=[];const master=makeAnnotation(editor.getDoc(),uid,data,annotationName,decorate);const wrapper=value$2();const finishWrapper=()=>{wrapper.clear();};const getOrOpenWrapper=()=>wrapper.get().getOrThunk(()=>{const nu=shallow$1(master);newWrappers.push(nu);wrapper.set(nu);return nu;});const processElements=elems=>{each$e(elems,processElement);};const processElement=elem=>{const ctx=context(editor,elem,'span',name(elem));switch(ctx){case'invalid-child':{finishWrapper();const children=children$1(elem);processElements(children);finishWrapper();break;}case'valid-block':{finishWrapper();applyAnnotation(elem,uid,data,annotationName,decorate,true);break;}case'valid':{const w=getOrOpenWrapper();wrap$2(elem,w);break;}}};const processNodes=nodes=>{const elems=map$3(nodes,SugarElement.fromDom);processElements(elems);};walk$3(editor.dom,rng,nodes=>{finishWrapper();processNodes(nodes);});return newWrappers;};const annotateWithBookmark=(editor,name,settings,data)=>{editor.undoManager.transact(()=>{const selection=editor.selection;const initialRng=selection.getRng();const hasFakeSelection=getCellsFromEditor(editor).length>0;const masterUid=generate$1('mce-annotation');if(initialRng.collapsed&&!hasFakeSelection){applyWordGrab(editor,initialRng);}if(selection.getRng().collapsed&&!hasFakeSelection){const wrapper=makeAnnotation(editor.getDoc(),masterUid,data,name,settings.decorate);set$1(wrapper,nbsp);selection.getRng().insertNode(wrapper.dom);selection.select(wrapper.dom);}else{preserve(selection,false,()=>{runOnRanges(editor,selectionRng=>{annotate(editor,selectionRng,masterUid,name,settings.decorate,data);});});}});};const Annotator=editor=>{const registry=create$c();setup$x(editor,registry);const changes=setup$y(editor,registry);const isSpan=isTag('span');const removeAnnotations=elements=>{each$e(elements,element=>{if(isSpan(element)){unwrap(element);}else{removeDirectAnnotation(element);}});};return{register:(name,settings)=>{registry.register(name,settings);},annotate:(name,data)=>{registry.lookup(name).each(settings=>{annotateWithBookmark(editor,name,settings,data);});},annotationChanged:(name,callback)=>{changes.addListener(name,callback);},remove:name=>{identify(editor,Optional.some(name)).each(({elements})=>{const bookmark=editor.selection.getBookmark();removeAnnotations(elements);editor.selection.moveToBookmark(bookmark);});},removeAll:name=>{const bookmark=editor.selection.getBookmark();each$d(findAll(editor,name),(elements,_)=>{removeAnnotations(elements);});editor.selection.moveToBookmark(bookmark);},getAll:name=>{const directory=findAll(editor,name);return map$2(directory,elems=>map$3(elems,elem=>elem.dom));}};};const BookmarkManager=selection=>{return{getBookmark:curry(getBookmark$1,selection),moveToBookmark:curry(moveToBookmark,selection)};};BookmarkManager.isBookmarkNode=isBookmarkNode$1;const isXYWithinRange=(clientX,clientY,range)=>{if(range.collapsed){return false;}else{return exists(range.getClientRects(),rect=>containsXY(rect,clientX,clientY));}};const firePreProcess=(editor,args)=>editor.dispatch('PreProcess',args);const firePostProcess=(editor,args)=>editor.dispatch('PostProcess',args);const fireRemove=editor=>{editor.dispatch('remove');};const fireDetach=editor=>{editor.dispatch('detach');};const fireSwitchMode=(editor,mode)=>{editor.dispatch('SwitchMode',{mode});};const fireObjectResizeStart=(editor,target,width,height,origin)=>{editor.dispatch('ObjectResizeStart',{target,width,height,origin});};const fireObjectResized=(editor,target,width,height,origin)=>{editor.dispatch('ObjectResized',{target,width,height,origin});};const firePreInit=editor=>{editor.dispatch('PreInit');};const firePostRender=editor=>{editor.dispatch('PostRender');};const fireInit=editor=>{editor.dispatch('Init');};const firePlaceholderToggle=(editor,state)=>{editor.dispatch('PlaceholderToggle',{state});};const fireError=(editor,errorType,error)=>{editor.dispatch(errorType,error);};const fireFormatApply=(editor,format,node,vars)=>{editor.dispatch('FormatApply',{format,node,vars});};const fireFormatRemove=(editor,format,node,vars)=>{editor.dispatch('FormatRemove',{format,node,vars});};const fireBeforeSetContent=(editor,args)=>editor.dispatch('BeforeSetContent',args);const fireSetContent=(editor,args)=>editor.dispatch('SetContent',args);const fireBeforeGetContent=(editor,args)=>editor.dispatch('BeforeGetContent',args);const fireGetContent=(editor,args)=>editor.dispatch('GetContent',args);const fireAutocompleterStart=(editor,args)=>{editor.dispatch('AutocompleterStart',args);};const fireAutocompleterUpdate=(editor,args)=>{editor.dispatch('AutocompleterUpdate',args);};const fireAutocompleterEnd=editor=>{editor.dispatch('AutocompleterEnd');};const firePastePreProcess=(editor,html,internal)=>editor.dispatch('PastePreProcess',{content:html,internal});const firePastePostProcess=(editor,node,internal)=>editor.dispatch('PastePostProcess',{node,internal});const firePastePlainTextToggle=(editor,state)=>editor.dispatch('PastePlainTextToggle',{state});const fireEditableRootStateChange=(editor,state)=>editor.dispatch('EditableRootStateChange',{state});const VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>{return e.shiftKey||e.ctrlKey||e.altKey||VK.metaKeyPressed(e);},metaKeyPressed:e=>{return Env.os.isMacOS()||Env.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey;}};const elementSelectionAttr='data-mce-selected';const controlElmSelector='table,img,figure.image,hr,video,span.mce-preview-object,details';const abs=Math.abs;const round$1=Math.round;const resizeHandles={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};const isTouchEvent=evt=>evt.type==='longpress'||evt.type.indexOf('touch')===0;const ControlSelection=(selection,editor)=>{const dom=editor.dom;const editableDoc=editor.getDoc();const rootDocument=document;const rootElement=editor.getBody();let selectedElm,selectedElmGhost,resizeHelper,selectedHandle,resizeBackdrop;let startX,startY,selectedElmX,selectedElmY,startW,startH,ratio,resizeStarted;let width;let height;let startScrollWidth;let startScrollHeight;const isImage=elm=>isNonNullable(elm)&&(isImg(elm)||dom.is(elm,'figure.image'));const isMedia=elm=>isMedia$2(elm)||dom.hasClass(elm,'mce-preview-object');const isEventOnImageOutsideRange=(evt,range)=>{if(isTouchEvent(evt)){const touch=evt.touches[0];return isImage(evt.target)&&!isXYWithinRange(touch.clientX,touch.clientY,range);}else{return isImage(evt.target)&&!isXYWithinRange(evt.clientX,evt.clientY,range);}};const contextMenuSelectImage=evt=>{const target=evt.target;if(isEventOnImageOutsideRange(evt,editor.selection.getRng())&&!evt.isDefaultPrevented()){editor.selection.select(target);}};const getResizeTargets=elm=>{if(dom.hasClass(elm,'mce-preview-object')&&isNonNullable(elm.firstElementChild)){return[elm,elm.firstElementChild];}else if(dom.is(elm,'figure.image')){return[elm.querySelector('img')];}else{return[elm];}};const isResizable=elm=>{const selector=getObjectResizing(editor);if(!selector){return false;}if(elm.getAttribute('data-mce-resize')==='false'){return false;}if(elm===editor.getBody()){return false;}if(dom.hasClass(elm,'mce-preview-object')&&isNonNullable(elm.firstElementChild)){return is$1(SugarElement.fromDom(elm.firstElementChild),selector);}else{return is$1(SugarElement.fromDom(elm),selector);}};const createGhostElement=elm=>{if(isMedia(elm)){return dom.create('img',{src:Env.transparentSrc});}else{return elm.cloneNode(true);}};const setSizeProp=(element,name,value)=>{if(isNonNullable(value)){const targets=getResizeTargets(element);each$e(targets,target=>{if(target.style[name]||!editor.schema.isValid(target.nodeName.toLowerCase(),name)){dom.setStyle(target,name,value);}else{dom.setAttrib(target,name,''+value);}});}};const setGhostElmSize=(ghostElm,width,height)=>{setSizeProp(ghostElm,'width',width);setSizeProp(ghostElm,'height',height);};const resizeGhostElement=e=>{let deltaX,deltaY,proportional;let resizeHelperX,resizeHelperY;deltaX=e.screenX-startX;deltaY=e.screenY-startY;width=deltaX*selectedHandle[2]+startW;height=deltaY*selectedHandle[3]+startH;width=width<5?5:width;height=height<5?5:height;if((isImage(selectedElm)||isMedia(selectedElm))&&getResizeImgProportional(editor)!==false){proportional=!VK.modifierPressed(e);}else{proportional=VK.modifierPressed(e);}if(proportional){if(abs(deltaX)>abs(deltaY)){height=round$1(width*ratio);width=round$1(height/ratio);}else{width=round$1(height/ratio);height=round$1(width*ratio);}}setGhostElmSize(selectedElmGhost,width,height);resizeHelperX=selectedHandle.startPos.x+deltaX;resizeHelperY=selectedHandle.startPos.y+deltaY;resizeHelperX=resizeHelperX>0?resizeHelperX:0;resizeHelperY=resizeHelperY>0?resizeHelperY:0;dom.setStyles(resizeHelper,{left:resizeHelperX,top:resizeHelperY,display:'block'});resizeHelper.innerHTML=width+' &times; '+height;if(selectedHandle[2]<0&&selectedElmGhost.clientWidth<=width){dom.setStyle(selectedElmGhost,'left',selectedElmX+(startW-width));}if(selectedHandle[3]<0&&selectedElmGhost.clientHeight<=height){dom.setStyle(selectedElmGhost,'top',selectedElmY+(startH-height));}deltaX=rootElement.scrollWidth-startScrollWidth;deltaY=rootElement.scrollHeight-startScrollHeight;if(deltaX+deltaY!==0){dom.setStyles(resizeHelper,{left:resizeHelperX-deltaX,top:resizeHelperY-deltaY});}if(!resizeStarted){fireObjectResizeStart(editor,selectedElm,startW,startH,'corner-'+selectedHandle.name);resizeStarted=true;}};const endGhostResize=()=>{const wasResizeStarted=resizeStarted;resizeStarted=false;if(wasResizeStarted){setSizeProp(selectedElm,'width',width);setSizeProp(selectedElm,'height',height);}dom.unbind(editableDoc,'mousemove',resizeGhostElement);dom.unbind(editableDoc,'mouseup',endGhostResize);if(rootDocument!==editableDoc){dom.unbind(rootDocument,'mousemove',resizeGhostElement);dom.unbind(rootDocument,'mouseup',endGhostResize);}dom.remove(selectedElmGhost);dom.remove(resizeHelper);dom.remove(resizeBackdrop);showResizeRect(selectedElm);if(wasResizeStarted){fireObjectResized(editor,selectedElm,width,height,'corner-'+selectedHandle.name);dom.setAttrib(selectedElm,'style',dom.getAttrib(selectedElm,'style'));}editor.nodeChanged();};const showResizeRect=targetElm=>{unbindResizeHandleEvents();const position=dom.getPos(targetElm,rootElement);const selectedElmX=position.x;const selectedElmY=position.y;const rect=targetElm.getBoundingClientRect();const targetWidth=rect.width||rect.right-rect.left;const targetHeight=rect.height||rect.bottom-rect.top;if(selectedElm!==targetElm){hideResizeRect();selectedElm=targetElm;width=height=0;}const e=editor.dispatch('ObjectSelected',{target:targetElm});if(isResizable(targetElm)&&!e.isDefaultPrevented()){each$d(resizeHandles,(handle,name)=>{const startDrag=e=>{const target=getResizeTargets(selectedElm)[0];startX=e.screenX;startY=e.screenY;startW=target.clientWidth;startH=target.clientHeight;ratio=startH/startW;selectedHandle=handle;selectedHandle.name=name;selectedHandle.startPos={x:targetWidth*handle[0]+selectedElmX,y:targetHeight*handle[1]+selectedElmY};startScrollWidth=rootElement.scrollWidth;startScrollHeight=rootElement.scrollHeight;resizeBackdrop=dom.add(rootElement,'div',{'class':'mce-resize-backdrop','data-mce-bogus':'all'});dom.setStyles(resizeBackdrop,{position:'fixed',left:'0',top:'0',width:'100%',height:'100%'});selectedElmGhost=createGhostElement(selectedElm);dom.addClass(selectedElmGhost,'mce-clonedresizable');dom.setAttrib(selectedElmGhost,'data-mce-bogus','all');selectedElmGhost.contentEditable='false';dom.setStyles(selectedElmGhost,{left:selectedElmX,top:selectedElmY,margin:0});setGhostElmSize(selectedElmGhost,targetWidth,targetHeight);selectedElmGhost.removeAttribute(elementSelectionAttr);rootElement.appendChild(selectedElmGhost);dom.bind(editableDoc,'mousemove',resizeGhostElement);dom.bind(editableDoc,'mouseup',endGhostResize);if(rootDocument!==editableDoc){dom.bind(rootDocument,'mousemove',resizeGhostElement);dom.bind(rootDocument,'mouseup',endGhostResize);}resizeHelper=dom.add(rootElement,'div',{'class':'mce-resize-helper','data-mce-bogus':'all'},startW+' &times; '+startH);};let handleElm=dom.get('mceResizeHandle'+name);if(handleElm){dom.remove(handleElm);}handleElm=dom.add(rootElement,'div',{'id':'mceResizeHandle'+name,'data-mce-bogus':'all','class':'mce-resizehandle','unselectable':true,'style':'cursor:'+name+'-resize; margin:0; padding:0'});dom.bind(handleElm,'mousedown',e=>{e.stopImmediatePropagation();e.preventDefault();startDrag(e);});handle.elm=handleElm;dom.setStyles(handleElm,{left:targetWidth*handle[0]+selectedElmX-handleElm.offsetWidth/2,top:targetHeight*handle[1]+selectedElmY-handleElm.offsetHeight/2});});}else{hideResizeRect(false);}};const throttledShowResizeRect=first$1(showResizeRect,0);const hideResizeRect=(removeSelected=true)=>{throttledShowResizeRect.cancel();unbindResizeHandleEvents();if(selectedElm&&removeSelected){selectedElm.removeAttribute(elementSelectionAttr);}each$d(resizeHandles,(value,name)=>{const handleElm=dom.get('mceResizeHandle'+name);if(handleElm){dom.unbind(handleElm);dom.remove(handleElm);}});};const isChildOrEqual=(node,parent)=>dom.isChildOf(node,parent);const updateResizeRect=e=>{if(resizeStarted||editor.removed||editor.composing){return;}const targetElm=e.type==='mousedown'?e.target:selection.getNode();const controlElm=closest$3(SugarElement.fromDom(targetElm),controlElmSelector).map(e=>e.dom).filter(e=>dom.isEditable(e.parentElement)||e.nodeName==='IMG'&&dom.isEditable(e)).getOrUndefined();const selectedValue=isNonNullable(controlElm)?dom.getAttrib(controlElm,elementSelectionAttr,'1'):'1';each$e(dom.select(`img[${elementSelectionAttr}],hr[${elementSelectionAttr}]`),img=>{img.removeAttribute(elementSelectionAttr);});if(isNonNullable(controlElm)&&isChildOrEqual(controlElm,rootElement)&&editor.hasFocus()){disableGeckoResize();const startElm=selection.getStart(true);if(isChildOrEqual(startElm,controlElm)&&isChildOrEqual(selection.getEnd(true),controlElm)){dom.setAttrib(controlElm,elementSelectionAttr,selectedValue);throttledShowResizeRect.throttle(controlElm);return;}}hideResizeRect();};const unbindResizeHandleEvents=()=>{each$d(resizeHandles,handle=>{if(handle.elm){dom.unbind(handle.elm);delete handle.elm;}});};const disableGeckoResize=()=>{try{editor.getDoc().execCommand('enableObjectResizing',false,'false');}catch(ex){}};editor.on('init',()=>{disableGeckoResize();editor.on('NodeChange ResizeEditor ResizeWindow ResizeContent drop',updateResizeRect);editor.on('keyup compositionend',e=>{if(selectedElm&&selectedElm.nodeName==='TABLE'){updateResizeRect(e);}});editor.on('hide blur',hideResizeRect);editor.on('contextmenu longpress',contextMenuSelectImage,true);});editor.on('remove',unbindResizeHandleEvents);const destroy=()=>{throttledShowResizeRect.cancel();selectedElm=selectedElmGhost=resizeBackdrop=null;};return{isResizable,showResizeRect,hideResizeRect,updateResizeRect,destroy};};const setStart=(rng,situ)=>{situ.fold(e=>{rng.setStartBefore(e.dom);},(e,o)=>{rng.setStart(e.dom,o);},e=>{rng.setStartAfter(e.dom);});};const setFinish=(rng,situ)=>{situ.fold(e=>{rng.setEndBefore(e.dom);},(e,o)=>{rng.setEnd(e.dom,o);},e=>{rng.setEndAfter(e.dom);});};const relativeToNative=(win,startSitu,finishSitu)=>{const range=win.document.createRange();setStart(range,startSitu);setFinish(range,finishSitu);return range;};const exactToNative=(win,start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;};const adt$3=Adt.generate([{ltr:['start','soffset','finish','foffset']},{rtl:['start','soffset','finish','foffset']}]);const fromRange=(win,type,range)=>type(SugarElement.fromDom(range.startContainer),range.startOffset,SugarElement.fromDom(range.endContainer),range.endOffset);const getRanges=(win,selection)=>selection.match({domRange:rng=>{return{ltr:constant(rng),rtl:Optional.none};},relative:(startSitu,finishSitu)=>{return{ltr:cached(()=>relativeToNative(win,startSitu,finishSitu)),rtl:cached(()=>Optional.some(relativeToNative(win,finishSitu,startSitu)))};},exact:(start,soffset,finish,foffset)=>{return{ltr:cached(()=>exactToNative(win,start,soffset,finish,foffset)),rtl:cached(()=>Optional.some(exactToNative(win,finish,foffset,start,soffset)))};}});const doDiagnose=(win,ranges)=>{const rng=ranges.ltr();if(rng.collapsed){const reversed=ranges.rtl().filter(rev=>rev.collapsed===false);return reversed.map(rev=>adt$3.rtl(SugarElement.fromDom(rev.endContainer),rev.endOffset,SugarElement.fromDom(rev.startContainer),rev.startOffset)).getOrThunk(()=>fromRange(win,adt$3.ltr,rng));}else{return fromRange(win,adt$3.ltr,rng);}};const diagnose=(win,selection)=>{const ranges=getRanges(win,selection);return doDiagnose(win,ranges);};adt$3.ltr;adt$3.rtl;const create$a=(start,soffset,finish,foffset)=>({start,soffset,finish,foffset});const SimRange={create:create$a};const caretPositionFromPoint=(doc,x,y)=>{var _a,_b;return Optional.from((_b=(_a=doc.dom).caretPositionFromPoint)===null||_b===void 0?void 0:_b.call(_a,x,y)).bind(pos=>{if(pos.offsetNode===null){return Optional.none();}const r=doc.dom.createRange();r.setStart(pos.offsetNode,pos.offset);r.collapse();return Optional.some(r);});};const caretRangeFromPoint=(doc,x,y)=>{var _a,_b;return Optional.from((_b=(_a=doc.dom).caretRangeFromPoint)===null||_b===void 0?void 0:_b.call(_a,x,y));};const availableSearch=(()=>{if(document.caretPositionFromPoint){return caretPositionFromPoint;}else if(document.caretRangeFromPoint){return caretRangeFromPoint;}else{return Optional.none;}})();const fromPoint$1=(win,x,y)=>{const doc=SugarElement.fromDom(win.document);return availableSearch(doc,x,y).map(rng=>SimRange.create(SugarElement.fromDom(rng.startContainer),rng.startOffset,SugarElement.fromDom(rng.endContainer),rng.endOffset));};const adt$2=Adt.generate([{before:['element']},{on:['element','offset']},{after:['element']}]);const cata=(subject,onBefore,onOn,onAfter)=>subject.fold(onBefore,onOn,onAfter);const getStart$2=situ=>situ.fold(identity,identity,identity);const before$1=adt$2.before;const on=adt$2.on;const after$1=adt$2.after;const Situ={before:before$1,on,after:after$1,cata,getStart:getStart$2};const adt$1=Adt.generate([{domRange:['rng']},{relative:['startSitu','finishSitu']},{exact:['start','soffset','finish','foffset']}]);const exactFromRange=simRange=>adt$1.exact(simRange.start,simRange.soffset,simRange.finish,simRange.foffset);const getStart$1=selection=>selection.match({domRange:rng=>SugarElement.fromDom(rng.startContainer),relative:(startSitu,_finishSitu)=>Situ.getStart(startSitu),exact:(start,_soffset,_finish,_foffset)=>start});const domRange=adt$1.domRange;const relative=adt$1.relative;const exact=adt$1.exact;const getWin=selection=>{const start=getStart$1(selection);return defaultView(start);};const range=SimRange.create;const SimSelection={domRange,relative,exact,exactFromRange,getWin,range};const beforeSpecial=(element,offset)=>{const name$1=name(element);if('input'===name$1){return Situ.after(element);}else if(!contains$2(['br','img'],name$1)){return Situ.on(element,offset);}else{return offset===0?Situ.before(element):Situ.after(element);}};const preprocessRelative=(startSitu,finishSitu)=>{const start=startSitu.fold(Situ.before,beforeSpecial,Situ.after);const finish=finishSitu.fold(Situ.before,beforeSpecial,Situ.after);return SimSelection.relative(start,finish);};const preprocessExact=(start,soffset,finish,foffset)=>{const startSitu=beforeSpecial(start,soffset);const finishSitu=beforeSpecial(finish,foffset);return SimSelection.relative(startSitu,finishSitu);};const preprocess=selection=>selection.match({domRange:rng=>{const start=SugarElement.fromDom(rng.startContainer);const finish=SugarElement.fromDom(rng.endContainer);return preprocessExact(start,rng.startOffset,finish,rng.endOffset);},relative:preprocessRelative,exact:preprocessExact});const fromElements=(elements,scope)=>{const doc=scope||document;const fragment=doc.createDocumentFragment();each$e(elements,element=>{fragment.appendChild(element.dom);});return SugarElement.fromDom(fragment);};const toNative=selection=>{const win=SimSelection.getWin(selection).dom;const getDomRange=(start,soffset,finish,foffset)=>exactToNative(win,start,soffset,finish,foffset);const filtered=preprocess(selection);return diagnose(win,filtered).match({ltr:getDomRange,rtl:getDomRange});};const getAtPoint=(win,x,y)=>fromPoint$1(win,x,y);const fromPoint=(clientX,clientY,doc)=>{const win=defaultView(SugarElement.fromDom(doc));return getAtPoint(win.dom,clientX,clientY).map(simRange=>{const rng=doc.createRange();rng.setStart(simRange.start.dom,simRange.soffset);rng.setEnd(simRange.finish.dom,simRange.foffset);return rng;}).getOrUndefined();};const isEq$4=(rng1,rng2)=>{return isNonNullable(rng1)&&isNonNullable(rng2)&&rng1.startContainer===rng2.startContainer&&rng1.startOffset===rng2.startOffset&&rng1.endContainer===rng2.endContainer&&rng1.endOffset===rng2.endOffset;};const findParent=(node,rootNode,predicate)=>{let currentNode=node;while(currentNode&&currentNode!==rootNode){if(predicate(currentNode)){return currentNode;}currentNode=currentNode.parentNode;}return null;};const hasParent$1=(node,rootNode,predicate)=>findParent(node,rootNode,predicate)!==null;const hasParentWithName=(node,rootNode,name)=>hasParent$1(node,rootNode,node=>node.nodeName===name);const isCeFalseCaretContainer=(node,rootNode)=>isCaretContainer$2(node)&&!hasParent$1(node,rootNode,isCaretNode);const hasBrBeforeAfter=(dom,node,left)=>{const parentNode=node.parentNode;if(parentNode){const walker=new DomTreeWalker(node,dom.getParent(parentNode,dom.isBlock)||dom.getRoot());let currentNode;while(currentNode=walker[left?'prev':'next']()){if(isBr$6(currentNode)){return true;}}}return false;};const isPrevNode=(node,name)=>{var _a;return((_a=node.previousSibling)===null||_a===void 0?void 0:_a.nodeName)===name;};const hasContentEditableFalseParent=(root,node)=>{let currentNode=node;while(currentNode&&currentNode!==root){if(isContentEditableFalse$b(currentNode)){return true;}currentNode=currentNode.parentNode;}return false;};const findTextNodeRelative=(dom,isAfterNode,collapsed,left,startNode)=>{const body=dom.getRoot();const nonEmptyElementsMap=dom.schema.getNonEmptyElements();const parentNode=startNode.parentNode;let lastInlineElement;let node;if(!parentNode){return Optional.none();}const parentBlockContainer=dom.getParent(parentNode,dom.isBlock)||body;if(left&&isBr$6(startNode)&&isAfterNode&&dom.isEmpty(parentBlockContainer)){return Optional.some(CaretPosition(parentNode,dom.nodeIndex(startNode)));}const walker=new DomTreeWalker(startNode,parentBlockContainer);while(node=walker[left?'prev':'next']()){if(dom.getContentEditableParent(node)==='false'||isCeFalseCaretContainer(node,body)){return Optional.none();}if(isText$a(node)&&node.data.length>0){if(!hasParentWithName(node,body,'A')){return Optional.some(CaretPosition(node,left?node.data.length:0));}return Optional.none();}if(dom.isBlock(node)||nonEmptyElementsMap[node.nodeName.toLowerCase()]){return Optional.none();}lastInlineElement=node;}if(isComment(lastInlineElement)){return Optional.none();}if(collapsed&&lastInlineElement){return Optional.some(CaretPosition(lastInlineElement,0));}return Optional.none();};const normalizeEndPoint=(dom,collapsed,start,rng)=>{const body=dom.getRoot();let node;let normalized=false;let container=start?rng.startContainer:rng.endContainer;let offset=start?rng.startOffset:rng.endOffset;const isAfterNode=isElement$6(container)&&offset===container.childNodes.length;const nonEmptyElementsMap=dom.schema.getNonEmptyElements();let directionLeft=start;if(isCaretContainer$2(container)){return Optional.none();}if(isElement$6(container)&&offset>container.childNodes.length-1){directionLeft=false;}if(isDocument$1(container)){container=body;offset=0;}if(container===body){if(directionLeft){node=container.childNodes[offset>0?offset-1:0];if(node){if(isCaretContainer$2(node)){return Optional.none();}if(nonEmptyElementsMap[node.nodeName]||isTable$2(node)){return Optional.none();}}}if(container.hasChildNodes()){offset=Math.min(!directionLeft&&offset>0?offset-1:offset,container.childNodes.length-1);container=container.childNodes[offset];offset=isText$a(container)&&isAfterNode?container.data.length:0;if(!collapsed&&container===body.lastChild&&isTable$2(container)){return Optional.none();}if(hasContentEditableFalseParent(body,container)||isCaretContainer$2(container)){return Optional.none();}if(isDetails(container)){return Optional.none();}if(container.hasChildNodes()&&!isTable$2(container)){node=container;const walker=new DomTreeWalker(container,body);do{if(isContentEditableFalse$b(node)||isCaretContainer$2(node)){normalized=false;break;}if(isText$a(node)&&node.data.length>0){offset=directionLeft?0:node.data.length;container=node;normalized=true;break;}if(nonEmptyElementsMap[node.nodeName.toLowerCase()]&&!isTableCellOrCaption(node)){offset=dom.nodeIndex(node);container=node.parentNode;if(!directionLeft){offset++;}normalized=true;break;}}while(node=directionLeft?walker.next():walker.prev());}}}if(collapsed){if(isText$a(container)&&offset===0){findTextNodeRelative(dom,isAfterNode,collapsed,true,container).each(pos=>{container=pos.container();offset=pos.offset();normalized=true;});}if(isElement$6(container)){node=container.childNodes[offset];if(!node){node=container.childNodes[offset-1];}if(node&&isBr$6(node)&&!isPrevNode(node,'A')&&!hasBrBeforeAfter(dom,node,false)&&!hasBrBeforeAfter(dom,node,true)){findTextNodeRelative(dom,isAfterNode,collapsed,true,node).each(pos=>{container=pos.container();offset=pos.offset();normalized=true;});}}}if(directionLeft&&!collapsed&&isText$a(container)&&offset===container.data.length){findTextNodeRelative(dom,isAfterNode,collapsed,false,container).each(pos=>{container=pos.container();offset=pos.offset();normalized=true;});}return normalized&&container?Optional.some(CaretPosition(container,offset)):Optional.none();};const normalize$2=(dom,rng)=>{const collapsed=rng.collapsed,normRng=rng.cloneRange();const startPos=CaretPosition.fromRangeStart(rng);normalizeEndPoint(dom,collapsed,true,normRng).each(pos=>{if(!collapsed||!CaretPosition.isAbove(startPos,pos)){normRng.setStart(pos.container(),pos.offset());}});if(!collapsed){normalizeEndPoint(dom,collapsed,false,normRng).each(pos=>{normRng.setEnd(pos.container(),pos.offset());});}if(collapsed){normRng.collapse(true);}return isEq$4(rng,normRng)?Optional.none():Optional.some(normRng);};const splitText=(node,offset)=>{return node.splitText(offset);};const split=rng=>{let startContainer=rng.startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset;if(startContainer===endContainer&&isText$a(startContainer)){if(startOffset>0&&startOffset<startContainer.data.length){endContainer=splitText(startContainer,startOffset);startContainer=endContainer.previousSibling;if(endOffset>startOffset){endOffset=endOffset-startOffset;const newContainer=splitText(endContainer,endOffset).previousSibling;startContainer=endContainer=newContainer;endOffset=newContainer.data.length;startOffset=0;}else{endOffset=0;}}}else{if(isText$a(startContainer)&&startOffset>0&&startOffset<startContainer.data.length){startContainer=splitText(startContainer,startOffset);startOffset=0;}if(isText$a(endContainer)&&endOffset>0&&endOffset<endContainer.data.length){const newContainer=splitText(endContainer,endOffset).previousSibling;endContainer=newContainer;endOffset=newContainer.data.length;}}return{startContainer,startOffset,endContainer,endOffset};};const RangeUtils=dom=>{const walk=(rng,callback)=>{return walk$3(dom,rng,callback);};const split$1=split;const normalize=rng=>{return normalize$2(dom,rng).fold(never,normalizedRng=>{rng.setStart(normalizedRng.startContainer,normalizedRng.startOffset);rng.setEnd(normalizedRng.endContainer,normalizedRng.endOffset);return true;});};const expand=(rng,options={type:'word'})=>{if(options.type==='word'){const rangeLike=expandRng(dom,rng,[{inline:'span'}]);const newRange=dom.createRng();newRange.setStart(rangeLike.startContainer,rangeLike.startOffset);newRange.setEnd(rangeLike.endContainer,rangeLike.endOffset);return newRange;}return rng;};return{walk,split:split$1,expand,normalize};};RangeUtils.compareRanges=isEq$4;RangeUtils.getCaretRangeFromPoint=fromPoint;RangeUtils.getSelectedNode=getSelectedNode;RangeUtils.getNode=getNode$1;const Dimension=(name,getOffset)=>{const set=(element,h)=>{if(!isNumber(h)&&!h.match(/^[0-9]+$/)){throw new Error(name+'.set accepts only positive integer values. Value was '+h);}const dom=element.dom;if(isSupported(dom)){dom.style[name]=h+'px';}};const get=element=>{const r=getOffset(element);if(r<=0||r===null){const css=get$7(element,name);return parseFloat(css)||0;}return r;};const getOuter=get;const aggregate=(element,properties)=>foldl(properties,(acc,property)=>{const val=get$7(element,property);const value=val===undefined?0:parseInt(val,10);return isNaN(value)?acc:acc+value;},0);const max=(element,value,properties)=>{const cumulativeInclusions=aggregate(element,properties);const absoluteMax=value>cumulativeInclusions?value-cumulativeInclusions:0;return absoluteMax;};return{set,get,getOuter,aggregate,max};};const api=Dimension('height',element=>{const dom=element.dom;return inBody(element)?dom.getBoundingClientRect().height:dom.offsetHeight;});const get$2=element=>api.get(element);const getDocument=()=>SugarElement.fromDom(document);const walkUp=(navigation,doc)=>{const frame=navigation.view(doc);return frame.fold(constant([]),f=>{const parent=navigation.owner(f);const rest=walkUp(navigation,parent);return[f].concat(rest);});};const pathTo=(element,navigation)=>{const d=navigation.owner(element);return walkUp(navigation,d);};const view=doc=>{var _a;const element=doc.dom===document?Optional.none():Optional.from((_a=doc.dom.defaultView)===null||_a===void 0?void 0:_a.frameElement);return element.map(SugarElement.fromDom);};const owner=element=>documentOrOwner(element);var Navigation=/*#__PURE__*/Object.freeze({__proto__:null,view:view,owner:owner});const find=element=>{const doc=getDocument();const scroll=get$5(doc);const frames=pathTo(element,Navigation);const offset=viewport(element);const r=foldr(frames,(b,a)=>{const loc=viewport(a);return{left:b.left+loc.left,top:b.top+loc.top};},{left:0,top:0});return SugarPosition(r.left+offset.left+scroll.left,r.top+offset.top+scroll.top);};const excludeFromDescend=element=>name(element)==='textarea';const fireScrollIntoViewEvent=(editor,data)=>{const scrollEvent=editor.dispatch('ScrollIntoView',data);return scrollEvent.isDefaultPrevented();};const fireAfterScrollIntoViewEvent=(editor,data)=>{editor.dispatch('AfterScrollIntoView',data);};const descend=(element,offset)=>{const children=children$1(element);if(children.length===0||excludeFromDescend(element)){return{element,offset};}else if(offset<children.length&&!excludeFromDescend(children[offset])){return{element:children[offset],offset:0};}else{const last=children[children.length-1];if(excludeFromDescend(last)){return{element,offset};}else{if(name(last)==='img'){return{element:last,offset:1};}else if(isText$b(last)){return{element:last,offset:get$3(last).length};}else{return{element:last,offset:children$1(last).length};}}}};const markerInfo=(element,cleanupFun)=>{const pos=absolute(element);const height=get$2(element);return{element,bottom:pos.top+height,height,pos,cleanup:cleanupFun};};const createMarker$1=(element,offset)=>{const startPoint=descend(element,offset);const span=SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">'+ZWSP$1+'</span>');before$3(startPoint.element,span);return markerInfo(span,()=>remove$5(span));};const elementMarker=element=>markerInfo(SugarElement.fromDom(element),noop);const withMarker=(editor,f,rng,alignToTop)=>{preserveWith(editor,(_s,_e)=>applyWithMarker(editor,f,rng,alignToTop),rng);};const withScrollEvents=(editor,doc,f,marker,alignToTop)=>{const data={elm:marker.element.dom,alignToTop};if(fireScrollIntoViewEvent(editor,data)){return;}const scrollTop=get$5(doc).top;f(editor,doc,scrollTop,marker,alignToTop);fireAfterScrollIntoViewEvent(editor,data);};const applyWithMarker=(editor,f,rng,alignToTop)=>{const body=SugarElement.fromDom(editor.getBody());const doc=SugarElement.fromDom(editor.getDoc());reflow(body);const marker=createMarker$1(SugarElement.fromDom(rng.startContainer),rng.startOffset);withScrollEvents(editor,doc,f,marker,alignToTop);marker.cleanup();};const withElement=(editor,element,f,alignToTop)=>{const doc=SugarElement.fromDom(editor.getDoc());withScrollEvents(editor,doc,f,elementMarker(element),alignToTop);};const preserveWith=(editor,f,rng)=>{const startElement=rng.startContainer;const startOffset=rng.startOffset;const endElement=rng.endContainer;const endOffset=rng.endOffset;f(SugarElement.fromDom(startElement),SugarElement.fromDom(endElement));const newRng=editor.dom.createRng();newRng.setStart(startElement,startOffset);newRng.setEnd(endElement,endOffset);editor.selection.setRng(rng);};const scrollToMarker=(editor,marker,viewHeight,alignToTop,doc)=>{const pos=marker.pos;if(alignToTop){to(pos.left,pos.top,doc);}else{const y=pos.top-viewHeight+marker.height;to(-editor.getBody().getBoundingClientRect().left,y,doc);}};const intoWindowIfNeeded=(editor,doc,scrollTop,viewHeight,marker,alignToTop)=>{const viewportBottom=viewHeight+scrollTop;const markerTop=marker.pos.top;const markerBottom=marker.bottom;const largerThanViewport=markerBottom-markerTop>=viewHeight;if(markerTop<scrollTop){scrollToMarker(editor,marker,viewHeight,alignToTop!==false,doc);}else if(markerTop>viewportBottom){const align=largerThanViewport?alignToTop!==false:alignToTop===true;scrollToMarker(editor,marker,viewHeight,align,doc);}else if(markerBottom>viewportBottom&&!largerThanViewport){scrollToMarker(editor,marker,viewHeight,alignToTop===true,doc);}};const intoWindow=(editor,doc,scrollTop,marker,alignToTop)=>{const viewHeight=defaultView(doc).dom.innerHeight;intoWindowIfNeeded(editor,doc,scrollTop,viewHeight,marker,alignToTop);};const intoFrame=(editor,doc,scrollTop,marker,alignToTop)=>{const frameViewHeight=defaultView(doc).dom.innerHeight;intoWindowIfNeeded(editor,doc,scrollTop,frameViewHeight,marker,alignToTop);const op=find(marker.element);const viewportBounds=getBounds(window);if(op.top<viewportBounds.y){intoView(marker.element,alignToTop!==false);}else if(op.top>viewportBounds.bottom){intoView(marker.element,alignToTop===true);}};const rangeIntoWindow=(editor,rng,alignToTop)=>withMarker(editor,intoWindow,rng,alignToTop);const elementIntoWindow=(editor,element,alignToTop)=>withElement(editor,element,intoWindow,alignToTop);const rangeIntoFrame=(editor,rng,alignToTop)=>withMarker(editor,intoFrame,rng,alignToTop);const elementIntoFrame=(editor,element,alignToTop)=>withElement(editor,element,intoFrame,alignToTop);const scrollElementIntoView=(editor,element,alignToTop)=>{const scroller=editor.inline?elementIntoWindow:elementIntoFrame;scroller(editor,element,alignToTop);};const scrollRangeIntoView=(editor,rng,alignToTop)=>{const scroller=editor.inline?rangeIntoWindow:rangeIntoFrame;scroller(editor,rng,alignToTop);};const focus$1=(element,preventScroll=false)=>element.dom.focus({preventScroll});const hasFocus$1=element=>{const root=getRootNode(element).dom;return element.dom===root.activeElement;};const active$1=(root=getDocument())=>Optional.from(root.dom.activeElement).map(SugarElement.fromDom);const search=element=>active$1(getRootNode(element)).filter(e=>element.dom.contains(e.dom));const clamp$1=(offset,element)=>{const max=isText$b(element)?get$3(element).length:children$1(element).length+1;if(offset>max){return max;}else if(offset<0){return 0;}return offset;};const normalizeRng=rng=>SimSelection.range(rng.start,clamp$1(rng.soffset,rng.start),rng.finish,clamp$1(rng.foffset,rng.finish));const isOrContains=(root,elm)=>!isRestrictedNode(elm.dom)&&(contains(root,elm)||eq(root,elm));const isRngInRoot=root=>rng=>isOrContains(root,rng.start)&&isOrContains(root,rng.finish);const shouldStore=editor=>editor.inline||Env.browser.isFirefox();const nativeRangeToSelectionRange=r=>SimSelection.range(SugarElement.fromDom(r.startContainer),r.startOffset,SugarElement.fromDom(r.endContainer),r.endOffset);const readRange=win=>{const selection=win.getSelection();const rng=!selection||selection.rangeCount===0?Optional.none():Optional.from(selection.getRangeAt(0));return rng.map(nativeRangeToSelectionRange);};const getBookmark=root=>{const win=defaultView(root);return readRange(win.dom).filter(isRngInRoot(root));};const validate=(root,bookmark)=>Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);const bookmarkToNativeRng=bookmark=>{const rng=document.createRange();try{rng.setStart(bookmark.start.dom,bookmark.soffset);rng.setEnd(bookmark.finish.dom,bookmark.foffset);return Optional.some(rng);}catch(_){return Optional.none();}};const store=editor=>{const newBookmark=shouldStore(editor)?getBookmark(SugarElement.fromDom(editor.getBody())):Optional.none();editor.bookmark=newBookmark.isSome()?newBookmark:editor.bookmark;};const getRng=editor=>{const bookmark=editor.bookmark?editor.bookmark:Optional.none();return bookmark.bind(x=>validate(SugarElement.fromDom(editor.getBody()),x)).bind(bookmarkToNativeRng);};const restore=editor=>{getRng(editor).each(rng=>editor.selection.setRng(rng));};const isEditorUIElement$1=elm=>{const className=elm.className.toString();return className.indexOf('tox-')!==-1||className.indexOf('mce-')!==-1;};const FocusManager={isEditorUIElement:isEditorUIElement$1};const wrappedSetTimeout=(callback,time)=>{if(!isNumber(time)){time=0;}return setTimeout(callback,time);};const wrappedSetInterval=(callback,time)=>{if(!isNumber(time)){time=0;}return setInterval(callback,time);};const Delay={setEditorTimeout:(editor,callback,time)=>{return wrappedSetTimeout(()=>{if(!editor.removed){callback();}},time);},setEditorInterval:(editor,callback,time)=>{const timer=wrappedSetInterval(()=>{if(!editor.removed){callback();}else{clearInterval(timer);}},time);return timer;}};const isManualNodeChange=e=>{return e.type==='nodechange'&&e.selectionChange;};const registerPageMouseUp=(editor,throttledStore)=>{const mouseUpPage=()=>{throttledStore.throttle();};DOMUtils.DOM.bind(document,'mouseup',mouseUpPage);editor.on('remove',()=>{DOMUtils.DOM.unbind(document,'mouseup',mouseUpPage);});};const registerMouseUp=(editor,throttledStore)=>{editor.on('mouseup touchend',_e=>{throttledStore.throttle();});};const registerEditorEvents=(editor,throttledStore)=>{registerMouseUp(editor,throttledStore);editor.on('keyup NodeChange AfterSetSelectionRange',e=>{if(!isManualNodeChange(e)){store(editor);}});};const register$6=editor=>{const throttledStore=first$1(()=>{store(editor);},0);editor.on('init',()=>{if(editor.inline){registerPageMouseUp(editor,throttledStore);}registerEditorEvents(editor,throttledStore);});editor.on('remove',()=>{throttledStore.cancel();});};let documentFocusInHandler;const DOM$9=DOMUtils.DOM;const isEditorUIElement=elm=>{return isElement$6(elm)&&FocusManager.isEditorUIElement(elm);};const isEditorContentAreaElement=elm=>{const classList=elm.classList;if(classList!==undefined){return classList.contains('tox-edit-area')||classList.contains('tox-edit-area__iframe')||classList.contains('mce-content-body');}else{return false;}};const isUIElement=(editor,elm)=>{const customSelector=getCustomUiSelector(editor);const parent=DOM$9.getParent(elm,elm=>{return isEditorUIElement(elm)||(customSelector?editor.dom.is(elm,customSelector):false);});return parent!==null;};const getActiveElement=editor=>{try{const root=getRootNode(SugarElement.fromDom(editor.getElement()));return active$1(root).fold(()=>document.body,x=>x.dom);}catch(ex){return document.body;}};const registerEvents$1=(editorManager,e)=>{const editor=e.editor;register$6(editor);const toggleContentAreaOnFocus=(editor,fn)=>{if(shouldHighlightOnFocus(editor)&&editor.inline!==true){const contentArea=SugarElement.fromDom(editor.getContainer());fn(contentArea,'tox-edit-focus');}};editor.on('focusin',()=>{const focusedEditor=editorManager.focusedEditor;if(isEditorContentAreaElement(getActiveElement(editor))){toggleContentAreaOnFocus(editor,add$2);}if(focusedEditor!==editor){if(focusedEditor){focusedEditor.dispatch('blur',{focusedEditor:editor});}editorManager.setActive(editor);editorManager.focusedEditor=editor;editor.dispatch('focus',{blurredEditor:focusedEditor});editor.focus(true);}});editor.on('focusout',()=>{Delay.setEditorTimeout(editor,()=>{const focusedEditor=editorManager.focusedEditor;if(!isEditorContentAreaElement(getActiveElement(editor))||focusedEditor!==editor){toggleContentAreaOnFocus(editor,remove$7);}if(!isUIElement(editor,getActiveElement(editor))&&focusedEditor===editor){editor.dispatch('blur',{focusedEditor:null});editorManager.focusedEditor=null;}});});if(!documentFocusInHandler){documentFocusInHandler=e=>{const activeEditor=editorManager.activeEditor;if(activeEditor){getOriginalEventTarget(e).each(target=>{const elem=target;if(elem.ownerDocument===document){if(elem!==document.body&&!isUIElement(activeEditor,elem)&&editorManager.focusedEditor===activeEditor){activeEditor.dispatch('blur',{focusedEditor:null});editorManager.focusedEditor=null;}}});}};DOM$9.bind(document,'focusin',documentFocusInHandler);}};const unregisterDocumentEvents=(editorManager,e)=>{if(editorManager.focusedEditor===e.editor){editorManager.focusedEditor=null;}if(!editorManager.activeEditor&&documentFocusInHandler){DOM$9.unbind(document,'focusin',documentFocusInHandler);documentFocusInHandler=null;}};const setup$w=editorManager=>{editorManager.on('AddEditor',curry(registerEvents$1,editorManager));editorManager.on('RemoveEditor',curry(unregisterDocumentEvents,editorManager));};const getContentEditableHost=(editor,node)=>editor.dom.getParent(node,node=>editor.dom.getContentEditable(node)==='true');const getCollapsedNode=rng=>rng.collapsed?Optional.from(getNode$1(rng.startContainer,rng.startOffset)).map(SugarElement.fromDom):Optional.none();const getFocusInElement=(root,rng)=>getCollapsedNode(rng).bind(node=>{if(isTableSection(node)){return Optional.some(node);}else if(!contains(root,node)){return Optional.some(root);}else{return Optional.none();}});const normalizeSelection=(editor,rng)=>{getFocusInElement(SugarElement.fromDom(editor.getBody()),rng).bind(elm=>{return firstPositionIn(elm.dom);}).fold(()=>{editor.selection.normalize();},caretPos=>editor.selection.setRng(caretPos.toRange()));};const focusBody=body=>{if(body.setActive){try{body.setActive();}catch(ex){body.focus();}}else{body.focus();}};const hasElementFocus=elm=>hasFocus$1(elm)||search(elm).isSome();const hasIframeFocus=editor=>isNonNullable(editor.iframeElement)&&hasFocus$1(SugarElement.fromDom(editor.iframeElement));const hasInlineFocus=editor=>{const rawBody=editor.getBody();return rawBody&&hasElementFocus(SugarElement.fromDom(rawBody));};const hasUiFocus=editor=>{const dos=getRootNode(SugarElement.fromDom(editor.getElement()));return active$1(dos).filter(elem=>!isEditorContentAreaElement(elem.dom)&&isUIElement(editor,elem.dom)).isSome();};const hasFocus=editor=>editor.inline?hasInlineFocus(editor):hasIframeFocus(editor);const hasEditorOrUiFocus=editor=>hasFocus(editor)||hasUiFocus(editor);const focusEditor=editor=>{const selection=editor.selection;const body=editor.getBody();let rng=selection.getRng();editor.quirks.refreshContentEditable();if(isNonNullable(editor.bookmark)&&!hasFocus(editor)){getRng(editor).each(bookmarkRng=>{editor.selection.setRng(bookmarkRng);rng=bookmarkRng;});}const contentEditableHost=getContentEditableHost(editor,selection.getNode());if(contentEditableHost&&editor.dom.isChildOf(contentEditableHost,body)){focusBody(contentEditableHost);normalizeSelection(editor,rng);activateEditor(editor);return;}if(!editor.inline){if(!Env.browser.isOpera()){focusBody(body);}editor.getWin().focus();}if(Env.browser.isFirefox()||editor.inline){focusBody(body);normalizeSelection(editor,rng);}activateEditor(editor);};const activateEditor=editor=>editor.editorManager.setActive(editor);const focus=(editor,skipFocus)=>{if(editor.removed){return;}if(skipFocus){activateEditor(editor);}else{focusEditor(editor);}};const isEditableRange=(dom,rng)=>{if(rng.collapsed){return dom.isEditable(rng.startContainer);}else{return dom.isEditable(rng.startContainer)&&dom.isEditable(rng.endContainer);}};const getEndpointElement=(root,rng,start,real,resolve)=>{const container=start?rng.startContainer:rng.endContainer;const offset=start?rng.startOffset:rng.endOffset;return Optional.from(container).map(SugarElement.fromDom).map(elm=>!real||!rng.collapsed?child$1(elm,resolve(elm,offset)).getOr(elm):elm).bind(elm=>isElement$7(elm)?Optional.some(elm):parent(elm).filter(isElement$7)).map(elm=>elm.dom).getOr(root);};const getStart=(root,rng,real=false)=>getEndpointElement(root,rng,true,real,(elm,offset)=>Math.min(childNodesCount(elm),offset));const getEnd$1=(root,rng,real=false)=>getEndpointElement(root,rng,false,real,(elm,offset)=>offset>0?offset-1:offset);const skipEmptyTextNodes=(node,forwards)=>{const orig=node;while(node&&isText$a(node)&&node.length===0){node=forwards?node.nextSibling:node.previousSibling;}return node||orig;};const getNode=(root,rng)=>{if(!rng){return root;}let startContainer=rng.startContainer;let endContainer=rng.endContainer;const startOffset=rng.startOffset;const endOffset=rng.endOffset;let node=rng.commonAncestorContainer;if(!rng.collapsed){if(startContainer===endContainer){if(endOffset-startOffset<2){if(startContainer.hasChildNodes()){node=startContainer.childNodes[startOffset];}}}if(isText$a(startContainer)&&isText$a(endContainer)){if(startContainer.length===startOffset){startContainer=skipEmptyTextNodes(startContainer.nextSibling,true);}else{startContainer=startContainer.parentNode;}if(endOffset===0){endContainer=skipEmptyTextNodes(endContainer.previousSibling,false);}else{endContainer=endContainer.parentNode;}if(startContainer&&startContainer===endContainer){node=startContainer;}}}const elm=isText$a(node)?node.parentNode:node;return isHTMLElement(elm)?elm:root;};const getSelectedBlocks=(dom,rng,startElm,endElm)=>{const selectedBlocks=[];const root=dom.getRoot();const start=dom.getParent(startElm||getStart(root,rng,rng.collapsed),dom.isBlock);const end=dom.getParent(endElm||getEnd$1(root,rng,rng.collapsed),dom.isBlock);if(start&&start!==root){selectedBlocks.push(start);}if(start&&end&&start!==end){let node;const walker=new DomTreeWalker(start,root);while((node=walker.next())&&node!==end){if(dom.isBlock(node)){selectedBlocks.push(node);}}}if(end&&start!==end&&end!==root){selectedBlocks.push(end);}return selectedBlocks;};const select=(dom,node,content)=>Optional.from(node).bind(node=>Optional.from(node.parentNode).map(parent=>{const idx=dom.nodeIndex(node);const rng=dom.createRng();rng.setStart(parent,idx);rng.setEnd(parent,idx+1);if(content){moveEndPoint(dom,rng,node,true);moveEndPoint(dom,rng,node,false);}return rng;}));const processRanges=(editor,ranges)=>map$3(ranges,range=>{const evt=editor.dispatch('GetSelectionRange',{range});return evt.range!==range?evt.range:range;});const getEnd=element=>name(element)==='img'?1:getOption(element).fold(()=>children$1(element).length,v=>v.length);const isTextNodeWithCursorPosition=el=>getOption(el).filter(text=>text.trim().length!==0||text.indexOf(nbsp)>-1).isSome();const isContentEditableFalse$5=elem=>isHTMLElement$1(elem)&&get$9(elem,'contenteditable')==='false';const elementsWithCursorPosition=['img','br'];const isCursorPosition=elem=>{const hasCursorPosition=isTextNodeWithCursorPosition(elem);return hasCursorPosition||contains$2(elementsWithCursorPosition,name(elem))||isContentEditableFalse$5(elem);};const first=element=>descendant$2(element,isCursorPosition);const last=element=>descendantRtl(element,isCursorPosition);const descendantRtl=(scope,predicate)=>{const descend=element=>{const children=children$1(element);for(let i=children.length-1;i>=0;i--){const child=children[i];if(predicate(child)){return Optional.some(child);}const res=descend(child);if(res.isSome()){return res;}}return Optional.none();};return descend(scope);};const autocompleteSelector='[data-mce-autocompleter]';const create$9=(editor,range)=>{if(findIn(SugarElement.fromDom(editor.getBody())).isNone()){const wrapper=SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>',editor.getDoc());append$1(wrapper,SugarElement.fromDom(range.extractContents()));range.insertNode(wrapper.dom);parent(wrapper).each(elm=>elm.dom.normalize());last(wrapper).map(last=>{editor.selection.setCursorLocation(last.dom,getEnd(last));});}};const detect$1=elm=>closest$3(elm,autocompleteSelector);const findIn=elm=>descendant$1(elm,autocompleteSelector);const remove$2=(editor,elm)=>findIn(elm).each(wrapper=>{const bookmark=editor.selection.getBookmark();unwrap(wrapper);editor.selection.moveToBookmark(bookmark);});const typeLookup={'#text':3,'#comment':8,'#cdata':4,'#pi':7,'#doctype':10,'#document-fragment':11};const walk$2=(node,root,prev)=>{const startName=prev?'lastChild':'firstChild';const siblingName=prev?'prev':'next';if(node[startName]){return node[startName];}if(node!==root){let sibling=node[siblingName];if(sibling){return sibling;}for(let parent=node.parent;parent&&parent!==root;parent=parent.parent){sibling=parent[siblingName];if(sibling){return sibling;}}}return undefined;};const isEmptyTextNode=node=>{var _a;const text=(_a=node.value)!==null&&_a!==void 0?_a:'';if(!isWhitespaceText(text)){return false;}const parentNode=node.parent;if(parentNode&&(parentNode.name!=='span'||parentNode.attr('style'))&&/^[ ]+$/.test(text)){return false;}return true;};const isNonEmptyElement=node=>{const isNamedAnchor=node.name==='a'&&!node.attr('href')&&node.attr('id');return node.attr('name')||node.attr('id')&&!node.firstChild||node.attr('data-mce-bookmark')||isNamedAnchor;};class AstNode{static create(name,attrs){const node=new AstNode(name,typeLookup[name]||1);if(attrs){each$d(attrs,(value,attrName)=>{node.attr(attrName,value);});}return node;}constructor(name,type){this.name=name;this.type=type;if(type===1){this.attributes=[];this.attributes.map={};}}replace(node){const self=this;if(node.parent){node.remove();}self.insert(node,self);self.remove();return self;}attr(name,value){const self=this;if(!isString(name)){if(isNonNullable(name)){each$d(name,(value,key)=>{self.attr(key,value);});}return self;}const attrs=self.attributes;if(attrs){if(value!==undefined){if(value===null){if(name in attrs.map){delete attrs.map[name];let i=attrs.length;while(i--){if(attrs[i].name===name){attrs.splice(i,1);return self;}}}return self;}if(name in attrs.map){let i=attrs.length;while(i--){if(attrs[i].name===name){attrs[i].value=value;break;}}}else{attrs.push({name,value});}attrs.map[name]=value;return self;}return attrs.map[name];}return undefined;}clone(){const self=this;const clone=new AstNode(self.name,self.type);const selfAttrs=self.attributes;if(selfAttrs){const cloneAttrs=[];cloneAttrs.map={};for(let i=0,l=selfAttrs.length;i<l;i++){const selfAttr=selfAttrs[i];if(selfAttr.name!=='id'){cloneAttrs[cloneAttrs.length]={name:selfAttr.name,value:selfAttr.value};cloneAttrs.map[selfAttr.name]=selfAttr.value;}}clone.attributes=cloneAttrs;}clone.value=self.value;return clone;}wrap(wrapper){const self=this;if(self.parent){self.parent.insert(wrapper,self);wrapper.append(self);}return self;}unwrap(){const self=this;for(let node=self.firstChild;node;){const next=node.next;self.insert(node,self,true);node=next;}self.remove();}remove(){const self=this,parent=self.parent,next=self.next,prev=self.prev;if(parent){if(parent.firstChild===self){parent.firstChild=next;if(next){next.prev=null;}}else if(prev){prev.next=next;}if(parent.lastChild===self){parent.lastChild=prev;if(prev){prev.next=null;}}else if(next){next.prev=prev;}self.parent=self.next=self.prev=null;}return self;}append(node){const self=this;if(node.parent){node.remove();}const last=self.lastChild;if(last){last.next=node;node.prev=last;self.lastChild=node;}else{self.lastChild=self.firstChild=node;}node.parent=self;return node;}insert(node,refNode,before){if(node.parent){node.remove();}const parent=refNode.parent||this;if(before){if(refNode===parent.firstChild){parent.firstChild=node;}else if(refNode.prev){refNode.prev.next=node;}node.prev=refNode.prev;node.next=refNode;refNode.prev=node;}else{if(refNode===parent.lastChild){parent.lastChild=node;}else if(refNode.next){refNode.next.prev=node;}node.next=refNode.next;node.prev=refNode;refNode.next=node;}node.parent=parent;return node;}getAll(name){const self=this;const collection=[];for(let node=self.firstChild;node;node=walk$2(node,self)){if(node.name===name){collection.push(node);}}return collection;}children(){const self=this;const collection=[];for(let node=self.firstChild;node;node=node.next){collection.push(node);}return collection;}empty(){const self=this;if(self.firstChild){const nodes=[];for(let node=self.firstChild;node;node=walk$2(node,self)){nodes.push(node);}let i=nodes.length;while(i--){const node=nodes[i];node.parent=node.firstChild=node.lastChild=node.next=node.prev=null;}}self.firstChild=self.lastChild=null;return self;}isEmpty(elements,whitespace={},predicate){var _a;const self=this;let node=self.firstChild;if(isNonEmptyElement(self)){return false;}if(node){do{if(node.type===1){if(node.attr('data-mce-bogus')){continue;}if(elements[node.name]){return false;}if(isNonEmptyElement(node)){return false;}}if(node.type===8){return false;}if(node.type===3&&!isEmptyTextNode(node)){return false;}if(node.type===3&&node.parent&&whitespace[node.parent.name]&&isWhitespaceText((_a=node.value)!==null&&_a!==void 0?_a:'')){return false;}if(predicate&&predicate(node)){return false;}}while(node=walk$2(node,self));}return true;}walk(prev){return walk$2(this,null,prev);}}const unescapedTextParents=Tools.makeMap('NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT',' ');const containsZwsp=node=>isString(node.nodeValue)&&node.nodeValue.includes(ZWSP$1);const getTemporaryNodeSelector=tempAttrs=>`${tempAttrs.length===0?'':`${map$3(tempAttrs,attr=>`[${attr}]`).join(',')},`}[data-mce-bogus=\"all\"]`;const getTemporaryNodes=(tempAttrs,body)=>body.querySelectorAll(getTemporaryNodeSelector(tempAttrs));const createZwspCommentWalker=body=>document.createTreeWalker(body,NodeFilter.SHOW_COMMENT,node=>containsZwsp(node)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP);const createUnescapedZwspTextWalker=body=>document.createTreeWalker(body,NodeFilter.SHOW_TEXT,node=>{if(containsZwsp(node)){const parent=node.parentNode;return parent&&has$2(unescapedTextParents,parent.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;}else{return NodeFilter.FILTER_SKIP;}});const hasZwspComment=body=>createZwspCommentWalker(body).nextNode()!==null;const hasUnescapedZwspText=body=>createUnescapedZwspTextWalker(body).nextNode()!==null;const hasTemporaryNode=(tempAttrs,body)=>body.querySelector(getTemporaryNodeSelector(tempAttrs))!==null;const trimTemporaryNodes=(tempAttrs,body)=>{each$e(getTemporaryNodes(tempAttrs,body),elm=>{const element=SugarElement.fromDom(elm);if(get$9(element,'data-mce-bogus')==='all'){remove$5(element);}else{each$e(tempAttrs,attr=>{if(has$1(element,attr)){remove$a(element,attr);}});}});};const emptyAllNodeValuesInWalker=walker=>{let curr=walker.nextNode();while(curr!==null){curr.nodeValue=null;curr=walker.nextNode();}};const emptyZwspComments=compose(emptyAllNodeValuesInWalker,createZwspCommentWalker);const emptyUnescapedZwspTexts=compose(emptyAllNodeValuesInWalker,createUnescapedZwspTextWalker);const trim$1=(body,tempAttrs)=>{const conditionalTrims=[{condition:curry(hasTemporaryNode,tempAttrs),action:curry(trimTemporaryNodes,tempAttrs)},{condition:hasZwspComment,action:emptyZwspComments},{condition:hasUnescapedZwspText,action:emptyUnescapedZwspTexts}];let trimmed=body;let cloned=false;each$e(conditionalTrims,({condition,action})=>{if(condition(trimmed)){if(!cloned){trimmed=body.cloneNode(true);cloned=true;}action(trimmed);}});return trimmed;};const cleanupBogusElements=parent=>{const bogusElements=descendants(parent,'[data-mce-bogus]');each$e(bogusElements,elem=>{const bogusValue=get$9(elem,'data-mce-bogus');if(bogusValue==='all'){remove$5(elem);}else if(isBr$5(elem)){before$3(elem,SugarElement.fromText(zeroWidth));remove$5(elem);}else{unwrap(elem);}});};const cleanupInputNames=parent=>{const inputs=descendants(parent,'input');each$e(inputs,input=>{remove$a(input,'name');});};const trimEmptyContents=(editor,html)=>{const blockName=getForcedRootBlock(editor);const emptyRegExp=new RegExp(`^(<${blockName}[^>]*>(&nbsp;|&#160;|\\\\s|\\u00a0|<br \\\\/>|)<\\\\/${blockName}>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$`);return html.replace(emptyRegExp,'');};const getPlainTextContent=(editor,body)=>{const doc=editor.getDoc();const dos=getRootNode(SugarElement.fromDom(editor.getBody()));const offscreenDiv=SugarElement.fromTag('div',doc);set$3(offscreenDiv,'data-mce-bogus','all');setAll(offscreenDiv,{position:'fixed',left:'-9999999px',top:'0'});set$1(offscreenDiv,body.innerHTML);cleanupBogusElements(offscreenDiv);cleanupInputNames(offscreenDiv);const root=getContentContainer(dos);append$1(root,offscreenDiv);const content=trim$2(offscreenDiv.dom.innerText);remove$5(offscreenDiv);return content;};const getContentFromBody=(editor,args,body)=>{let content;if(args.format==='raw'){content=Tools.trim(trim$2(trim$1(body,editor.serializer.getTempAttrs()).innerHTML));}else if(args.format==='text'){content=getPlainTextContent(editor,body);}else if(args.format==='tree'){content=editor.serializer.serialize(body,args);}else{content=trimEmptyContents(editor,editor.serializer.serialize(body,args));}const shouldTrim=args.format!=='text'&&!isWsPreserveElement(SugarElement.fromDom(body));return shouldTrim&&isString(content)?Tools.trim(content):content;};const getContentInternal=(editor,args)=>Optional.from(editor.getBody()).fold(constant(args.format==='tree'?new AstNode('body',11):''),body=>getContentFromBody(editor,args,body));const makeMap$1=Tools.makeMap;const Writer=settings=>{const html=[];settings=settings||{};const indent=settings.indent;const indentBefore=makeMap$1(settings.indent_before||'');const indentAfter=makeMap$1(settings.indent_after||'');const encode=Entities.getEncodeFunc(settings.entity_encoding||'raw',settings.entities);const htmlOutput=settings.element_format!=='xhtml';return{start:(name,attrs,empty)=>{if(indent&&indentBefore[name]&&html.length>0){const value=html[html.length-1];if(value.length>0&&value!=='\\n'){html.push('\\n');}}html.push('<',name);if(attrs){for(let i=0,l=attrs.length;i<l;i++){const attr=attrs[i];html.push(' ',attr.name,'=\"',encode(attr.value,true),'\"');}}if(!empty||htmlOutput){html[html.length]='>';}else{html[html.length]=' />';}if(empty&&indent&&indentAfter[name]&&html.length>0){const value=html[html.length-1];if(value.length>0&&value!=='\\n'){html.push('\\n');}}},end:name=>{let value;html.push('</',name,'>');if(indent&&indentAfter[name]&&html.length>0){value=html[html.length-1];if(value.length>0&&value!=='\\n'){html.push('\\n');}}},text:(text,raw)=>{if(text.length>0){html[html.length]=raw?text:encode(text);}},cdata:text=>{html.push('<![CDATA[',text,']]>');},comment:text=>{html.push('<!--',text,'-->');},pi:(name,text)=>{if(text){html.push('<?',name,' ',encode(text),'?>');}else{html.push('<?',name,'?>');}if(indent){html.push('\\n');}},doctype:text=>{html.push('<!DOCTYPE',text,'>',indent?'\\n':'');},reset:()=>{html.length=0;},getContent:()=>{return html.join('').replace(/\\n$/,'');}};};const HtmlSerializer=(settings={},schema=Schema())=>{const writer=Writer(settings);settings.validate='validate'in settings?settings.validate:true;const serialize=node=>{const validate=settings.validate;const handlers={3:node=>{var _a;writer.text((_a=node.value)!==null&&_a!==void 0?_a:'',node.raw);},8:node=>{var _a;writer.comment((_a=node.value)!==null&&_a!==void 0?_a:'');},7:node=>{writer.pi(node.name,node.value);},10:node=>{var _a;writer.doctype((_a=node.value)!==null&&_a!==void 0?_a:'');},4:node=>{var _a;writer.cdata((_a=node.value)!==null&&_a!==void 0?_a:'');},11:node=>{let tempNode=node;if(tempNode=tempNode.firstChild){do{walk(tempNode);}while(tempNode=tempNode.next);}}};writer.reset();const walk=node=>{var _a;const handler=handlers[node.type];if(!handler){const name=node.name;const isEmpty=(name in schema.getVoidElements());let attrs=node.attributes;if(validate&&attrs&&attrs.length>1){const sortedAttrs=[];sortedAttrs.map={};const elementRule=schema.getElementRule(node.name);if(elementRule){for(let i=0,l=elementRule.attributesOrder.length;i<l;i++){const attrName=elementRule.attributesOrder[i];if(attrName in attrs.map){const attrValue=attrs.map[attrName];sortedAttrs.map[attrName]=attrValue;sortedAttrs.push({name:attrName,value:attrValue});}}for(let i=0,l=attrs.length;i<l;i++){const attrName=attrs[i].name;if(!(attrName in sortedAttrs.map)){const attrValue=attrs.map[attrName];sortedAttrs.map[attrName]=attrValue;sortedAttrs.push({name:attrName,value:attrValue});}}attrs=sortedAttrs;}}writer.start(name,attrs,isEmpty);if(isNonHtmlElementRootName(name)){if(isString(node.value)){writer.text(node.value,true);}writer.end(name);}else{if(!isEmpty){let child=node.firstChild;if(child){if((name==='pre'||name==='textarea')&&child.type===3&&((_a=child.value)===null||_a===void 0?void 0:_a[0])==='\\n'){writer.text('\\n',true);}do{walk(child);}while(child=child.next);}writer.end(name);}}}else{handler(node);}};if(node.type===1&&!settings.inner){walk(node);}else if(node.type===3){handlers[3](node);}else{handlers[11](node);}return writer.getContent();};return{serialize};};const nonInheritableStyles=new Set();(()=>{const nonInheritableStylesArr=['margin','margin-left','margin-right','margin-top','margin-bottom','padding','padding-left','padding-right','padding-top','padding-bottom','border','border-width','border-style','border-color','background','background-attachment','background-clip','background-color','background-image','background-origin','background-position','background-repeat','background-size','float','position','left','right','top','bottom','z-index','display','transform','width','max-width','min-width','height','max-height','min-height','overflow','overflow-x','overflow-y','text-overflow','vertical-align','transition','transition-delay','transition-duration','transition-property','transition-timing-function'];each$e(nonInheritableStylesArr,style=>{nonInheritableStyles.add(style);});})();const shorthandStyleProps=['font','text-decoration','text-emphasis'];const getStyleProps=(dom,node)=>keys(dom.parseStyle(dom.getAttrib(node,'style')));const isNonInheritableStyle=style=>nonInheritableStyles.has(style);const hasInheritableStyles=(dom,node)=>forall(getStyleProps(dom,node),style=>!isNonInheritableStyle(style));const getLonghandStyleProps=styles=>filter$5(styles,style=>exists(shorthandStyleProps,prop=>startsWith(style,prop)));const hasStyleConflict=(dom,node,parentNode)=>{const nodeStyleProps=getStyleProps(dom,node);const parentNodeStyleProps=getStyleProps(dom,parentNode);const valueMismatch=prop=>{var _a,_b;const nodeValue=(_a=dom.getStyle(node,prop))!==null&&_a!==void 0?_a:'';const parentValue=(_b=dom.getStyle(parentNode,prop))!==null&&_b!==void 0?_b:'';return isNotEmpty(nodeValue)&&isNotEmpty(parentValue)&&nodeValue!==parentValue;};return exists(nodeStyleProps,nodeStyleProp=>{const propExists=props=>exists(props,prop=>prop===nodeStyleProp);if(!propExists(parentNodeStyleProps)&&propExists(shorthandStyleProps)){const longhandProps=getLonghandStyleProps(parentNodeStyleProps);return exists(longhandProps,valueMismatch);}else{return valueMismatch(nodeStyleProp);}});};const isChar=(forward,predicate,pos)=>Optional.from(pos.container()).filter(isText$a).exists(text=>{const delta=forward?0:-1;return predicate(text.data.charAt(pos.offset()+delta));});const isBeforeSpace=curry(isChar,true,isWhiteSpace);const isAfterSpace=curry(isChar,false,isWhiteSpace);const isEmptyText=pos=>{const container=pos.container();return isText$a(container)&&(container.data.length===0||isZwsp$1(container.data)&&BookmarkManager.isBookmarkNode(container.parentNode));};const matchesElementPosition=(before,predicate)=>pos=>getChildNodeAtRelativeOffset(before?0:-1,pos).filter(predicate).isSome();const isImageBlock=node=>isImg(node)&&get$7(SugarElement.fromDom(node),'display')==='block';const isCefNode=node=>isContentEditableFalse$b(node)&&!isBogusAll$1(node);const isBeforeImageBlock=matchesElementPosition(true,isImageBlock);const isAfterImageBlock=matchesElementPosition(false,isImageBlock);const isBeforeMedia=matchesElementPosition(true,isMedia$2);const isAfterMedia=matchesElementPosition(false,isMedia$2);const isBeforeTable=matchesElementPosition(true,isTable$2);const isAfterTable=matchesElementPosition(false,isTable$2);const isBeforeContentEditableFalse=matchesElementPosition(true,isCefNode);const isAfterContentEditableFalse=matchesElementPosition(false,isCefNode);const dropLast=xs=>xs.slice(0,-1);const parentsUntil=(start,root,predicate)=>{if(contains(root,start)){return dropLast(parents$1(start,elm=>{return predicate(elm)||eq(elm,root);}));}else{return[];}};const parents=(start,root)=>parentsUntil(start,root,never);const parentsAndSelf=(start,root)=>[start].concat(parents(start,root));const navigateIgnoreEmptyTextNodes=(forward,root,from)=>navigateIgnore(forward,root,from,isEmptyText);const isBlock$1=schema=>el=>schema.isBlock(name(el));const getClosestBlock$1=(root,pos,schema)=>find$2(parentsAndSelf(SugarElement.fromDom(pos.container()),root),isBlock$1(schema));const isAtBeforeAfterBlockBoundary=(forward,root,pos,schema)=>navigateIgnoreEmptyTextNodes(forward,root.dom,pos).forall(newPos=>getClosestBlock$1(root,pos,schema).fold(()=>!isInSameBlock(newPos,pos,root.dom),fromBlock=>!isInSameBlock(newPos,pos,root.dom)&&contains(fromBlock,SugarElement.fromDom(newPos.container()))));const isAtBlockBoundary=(forward,root,pos,schema)=>getClosestBlock$1(root,pos,schema).fold(()=>navigateIgnoreEmptyTextNodes(forward,root.dom,pos).forall(newPos=>!isInSameBlock(newPos,pos,root.dom)),parent=>navigateIgnoreEmptyTextNodes(forward,parent.dom,pos).isNone());const isAtStartOfBlock=curry(isAtBlockBoundary,false);const isAtEndOfBlock=curry(isAtBlockBoundary,true);const isBeforeBlock=curry(isAtBeforeAfterBlockBoundary,false);const isAfterBlock=curry(isAtBeforeAfterBlockBoundary,true);const isBr$1=pos=>getElementFromPosition(pos).exists(isBr$5);const findBr=(forward,root,pos,schema)=>{const parentBlocks=filter$5(parentsAndSelf(SugarElement.fromDom(pos.container()),root),el=>schema.isBlock(name(el)));const scope=head(parentBlocks).getOr(root);return fromPosition(forward,scope.dom,pos).filter(isBr$1);};const isBeforeBr$1=(root,pos,schema)=>getElementFromPosition(pos).exists(isBr$5)||findBr(true,root,pos,schema).isSome();const isAfterBr=(root,pos,schema)=>getElementFromPrevPosition(pos).exists(isBr$5)||findBr(false,root,pos,schema).isSome();const findPreviousBr=curry(findBr,false);const findNextBr=curry(findBr,true);const isInMiddleOfText=pos=>CaretPosition.isTextPosition(pos)&&!pos.isAtStart()&&!pos.isAtEnd();const getClosestBlock=(root,pos,schema)=>{const parentBlocks=filter$5(parentsAndSelf(SugarElement.fromDom(pos.container()),root),el=>schema.isBlock(name(el)));return head(parentBlocks).getOr(root);};const hasSpaceBefore=(root,pos,schema)=>{if(isInMiddleOfText(pos)){return isAfterSpace(pos);}else{return isAfterSpace(pos)||prevPosition(getClosestBlock(root,pos,schema).dom,pos).exists(isAfterSpace);}};const hasSpaceAfter=(root,pos,schema)=>{if(isInMiddleOfText(pos)){return isBeforeSpace(pos);}else{return isBeforeSpace(pos)||nextPosition(getClosestBlock(root,pos,schema).dom,pos).exists(isBeforeSpace);}};const isPreValue=value=>contains$2(['pre','pre-wrap'],value);const isInPre=pos=>getElementFromPosition(pos).bind(elm=>closest$4(elm,isElement$7)).exists(elm=>isPreValue(get$7(elm,'white-space')));const isAtBeginningOfBody=(root,pos)=>prevPosition(root.dom,pos).isNone();const isAtEndOfBody=(root,pos)=>nextPosition(root.dom,pos).isNone();const isAtLineBoundary=(root,pos,schema)=>isAtBeginningOfBody(root,pos)||isAtEndOfBody(root,pos)||isAtStartOfBlock(root,pos,schema)||isAtEndOfBlock(root,pos,schema)||isAfterBr(root,pos,schema)||isBeforeBr$1(root,pos,schema);const isCefBlock=node=>isNonNullable(node)&&isContentEditableFalse$b(node)&&isBlockLike(node);const isSiblingCefBlock=(root,direction)=>container=>{return isCefBlock(new DomTreeWalker(container,root)[direction]());};const isBeforeCefBlock=(root,pos)=>{const nextPos=nextPosition(root.dom,pos).getOr(pos);const isNextCefBlock=isSiblingCefBlock(root.dom,'next');return pos.isAtEnd()&&(isNextCefBlock(pos.container())||isNextCefBlock(nextPos.container()));};const isAfterCefBlock=(root,pos)=>{const prevPos=prevPosition(root.dom,pos).getOr(pos);const isPrevCefBlock=isSiblingCefBlock(root.dom,'prev');return pos.isAtStart()&&(isPrevCefBlock(pos.container())||isPrevCefBlock(prevPos.container()));};const needsToHaveNbsp=(root,pos,schema)=>{if(isInPre(pos)){return false;}else{return isAtLineBoundary(root,pos,schema)||hasSpaceBefore(root,pos,schema)||hasSpaceAfter(root,pos,schema);}};const needsToBeNbspLeft=(root,pos,schema)=>{if(isInPre(pos)){return false;}else{return isAtStartOfBlock(root,pos,schema)||isBeforeBlock(root,pos,schema)||isAfterBr(root,pos,schema)||hasSpaceBefore(root,pos,schema)||isAfterCefBlock(root,pos);}};const leanRight=pos=>{const container=pos.container();const offset=pos.offset();if(isText$a(container)&&offset<container.data.length){return CaretPosition(container,offset+1);}else{return pos;}};const needsToBeNbspRight=(root,pos,schema)=>{if(isInPre(pos)){return false;}else{return isAtEndOfBlock(root,pos,schema)||isAfterBlock(root,pos,schema)||isBeforeBr$1(root,pos,schema)||hasSpaceAfter(root,pos,schema)||isBeforeCefBlock(root,pos);}};const needsToBeNbsp=(root,pos,schema)=>needsToBeNbspLeft(root,pos,schema)||needsToBeNbspRight(root,leanRight(pos),schema);const isNbspAt=(text,offset)=>isNbsp(text.charAt(offset));const isWhiteSpaceAt=(text,offset)=>isWhiteSpace(text.charAt(offset));const hasNbsp=pos=>{const container=pos.container();return isText$a(container)&&contains$1(container.data,nbsp);};const normalizeNbspMiddle=text=>{const chars=text.split('');return map$3(chars,(chr,i)=>{if(isNbsp(chr)&&i>0&&i<chars.length-1&&isContent(chars[i-1])&&isContent(chars[i+1])){return' ';}else{return chr;}}).join('');};const normalizeNbspAtStart=(root,node,makeNbsp,schema)=>{const text=node.data;const firstPos=CaretPosition(node,0);if(!makeNbsp&&isNbspAt(text,0)&&!needsToBeNbsp(root,firstPos,schema)){node.data=' '+text.slice(1);return true;}else if(makeNbsp&&isWhiteSpaceAt(text,0)&&needsToBeNbspLeft(root,firstPos,schema)){node.data=nbsp+text.slice(1);return true;}else{return false;}};const normalizeNbspInMiddleOfTextNode=node=>{const text=node.data;const newText=normalizeNbspMiddle(text);if(newText!==text){node.data=newText;return true;}else{return false;}};const normalizeNbspAtEnd=(root,node,makeNbsp,schema)=>{const text=node.data;const lastPos=CaretPosition(node,text.length-1);if(!makeNbsp&&isNbspAt(text,text.length-1)&&!needsToBeNbsp(root,lastPos,schema)){node.data=text.slice(0,-1)+' ';return true;}else if(makeNbsp&&isWhiteSpaceAt(text,text.length-1)&&needsToBeNbspRight(root,lastPos,schema)){node.data=text.slice(0,-1)+nbsp;return true;}else{return false;}};const normalizeNbsps=(root,pos,schema)=>{const container=pos.container();if(!isText$a(container)){return Optional.none();}if(hasNbsp(pos)){const normalized=normalizeNbspAtStart(root,container,false,schema)||normalizeNbspInMiddleOfTextNode(container)||normalizeNbspAtEnd(root,container,false,schema);return someIf(normalized,pos);}else if(needsToBeNbsp(root,pos,schema)){const normalized=normalizeNbspAtStart(root,container,true,schema)||normalizeNbspAtEnd(root,container,true,schema);return someIf(normalized,pos);}else{return Optional.none();}};const normalizeNbspsInEditor=editor=>{const root=SugarElement.fromDom(editor.getBody());if(editor.selection.isCollapsed()){normalizeNbsps(root,CaretPosition.fromRangeStart(editor.selection.getRng()),editor.schema).each(pos=>{editor.selection.setRng(pos.toRange());});}};const normalize$1=(node,offset,count,schema)=>{if(count===0){return;}const elm=SugarElement.fromDom(node);const root=ancestor$4(elm,el=>schema.isBlock(name(el))).getOr(elm);const whitespace=node.data.slice(offset,offset+count);const isEndOfContent=offset+count>=node.data.length&&needsToBeNbspRight(root,CaretPosition(node,node.data.length),schema);const isStartOfContent=offset===0&&needsToBeNbspLeft(root,CaretPosition(node,0),schema);node.replaceData(offset,count,normalize$4(whitespace,4,isStartOfContent,isEndOfContent));};const normalizeWhitespaceAfter=(node,offset,schema)=>{const content=node.data.slice(offset);const whitespaceCount=content.length-lTrim(content).length;normalize$1(node,offset,whitespaceCount,schema);};const normalizeWhitespaceBefore=(node,offset,schema)=>{const content=node.data.slice(0,offset);const whitespaceCount=content.length-rTrim(content).length;normalize$1(node,offset-whitespaceCount,whitespaceCount,schema);};const mergeTextNodes=(prevNode,nextNode,schema,normalizeWhitespace,mergeToPrev=true)=>{const whitespaceOffset=rTrim(prevNode.data).length;const newNode=mergeToPrev?prevNode:nextNode;const removeNode=mergeToPrev?nextNode:prevNode;if(mergeToPrev){newNode.appendData(removeNode.data);}else{newNode.insertData(0,removeNode.data);}remove$5(SugarElement.fromDom(removeNode));if(normalizeWhitespace){normalizeWhitespaceAfter(newNode,whitespaceOffset,schema);}return newNode;};const needsReposition=(pos,elm)=>{const container=pos.container();const offset=pos.offset();return!CaretPosition.isTextPosition(pos)&&container===elm.parentNode&&offset>CaretPosition.before(elm).offset();};const reposition=(elm,pos)=>needsReposition(pos,elm)?CaretPosition(pos.container(),pos.offset()-1):pos;const beforeOrStartOf=node=>isText$a(node)?CaretPosition(node,0):CaretPosition.before(node);const afterOrEndOf=node=>isText$a(node)?CaretPosition(node,node.data.length):CaretPosition.after(node);const getPreviousSiblingCaretPosition=elm=>{if(isCaretCandidate$3(elm.previousSibling)){return Optional.some(afterOrEndOf(elm.previousSibling));}else{return elm.previousSibling?lastPositionIn(elm.previousSibling):Optional.none();}};const getNextSiblingCaretPosition=elm=>{if(isCaretCandidate$3(elm.nextSibling)){return Optional.some(beforeOrStartOf(elm.nextSibling));}else{return elm.nextSibling?firstPositionIn(elm.nextSibling):Optional.none();}};const findCaretPositionBackwardsFromElm=(rootElement,elm)=>{return Optional.from(elm.previousSibling?elm.previousSibling:elm.parentNode).bind(node=>prevPosition(rootElement,CaretPosition.before(node))).orThunk(()=>nextPosition(rootElement,CaretPosition.after(elm)));};const findCaretPositionForwardsFromElm=(rootElement,elm)=>nextPosition(rootElement,CaretPosition.after(elm)).orThunk(()=>prevPosition(rootElement,CaretPosition.before(elm)));const findCaretPositionBackwards=(rootElement,elm)=>getPreviousSiblingCaretPosition(elm).orThunk(()=>getNextSiblingCaretPosition(elm)).orThunk(()=>findCaretPositionBackwardsFromElm(rootElement,elm));const findCaretPositionForward=(rootElement,elm)=>getNextSiblingCaretPosition(elm).orThunk(()=>getPreviousSiblingCaretPosition(elm)).orThunk(()=>findCaretPositionForwardsFromElm(rootElement,elm));const findCaretPosition=(forward,rootElement,elm)=>forward?findCaretPositionForward(rootElement,elm):findCaretPositionBackwards(rootElement,elm);const findCaretPosOutsideElmAfterDelete=(forward,rootElement,elm)=>findCaretPosition(forward,rootElement,elm).map(curry(reposition,elm));const setSelection$1=(editor,forward,pos)=>{pos.fold(()=>{editor.focus();},pos=>{editor.selection.setRng(pos.toRange(),forward);});};const eqRawNode=rawNode=>elm=>elm.dom===rawNode;const isBlock=(editor,elm)=>elm&&has$2(editor.schema.getBlockElements(),name(elm));const paddEmptyBlock=(elm,preserveEmptyCaret)=>{if(isEmpty$2(elm)){const br=SugarElement.fromHtml('<br data-mce-bogus=\"1\">');if(preserveEmptyCaret){each$e(children$1(elm),node=>{if(!isEmptyCaretFormatElement(node)){remove$5(node);}});}else{empty(elm);}append$1(elm,br);return Optional.some(CaretPosition.before(br.dom));}else{return Optional.none();}};const deleteNormalized=(elm,afterDeletePosOpt,schema,normalizeWhitespace)=>{const prevTextOpt=prevSibling(elm).filter(isText$b);const nextTextOpt=nextSibling(elm).filter(isText$b);remove$5(elm);return lift3(prevTextOpt,nextTextOpt,afterDeletePosOpt,(prev,next,pos)=>{const prevNode=prev.dom,nextNode=next.dom;const offset=prevNode.data.length;mergeTextNodes(prevNode,nextNode,schema,normalizeWhitespace);return pos.container()===nextNode?CaretPosition(prevNode,offset):pos;}).orThunk(()=>{if(normalizeWhitespace){prevTextOpt.each(elm=>normalizeWhitespaceBefore(elm.dom,elm.dom.length,schema));nextTextOpt.each(elm=>normalizeWhitespaceAfter(elm.dom,0,schema));}return afterDeletePosOpt;});};const isInlineElement=(editor,element)=>has$2(editor.schema.getTextInlineElements(),name(element));const deleteElement$2=(editor,forward,elm,moveCaret=true,preserveEmptyCaret=false)=>{const afterDeletePos=findCaretPosOutsideElmAfterDelete(forward,editor.getBody(),elm.dom);const parentBlock=ancestor$4(elm,curry(isBlock,editor),eqRawNode(editor.getBody()));const normalizedAfterDeletePos=deleteNormalized(elm,afterDeletePos,editor.schema,isInlineElement(editor,elm));if(editor.dom.isEmpty(editor.getBody())){editor.setContent('');editor.selection.setCursorLocation();}else{parentBlock.bind(elm=>paddEmptyBlock(elm,preserveEmptyCaret)).fold(()=>{if(moveCaret){setSelection$1(editor,forward,normalizedAfterDeletePos);}},paddPos=>{if(moveCaret){setSelection$1(editor,forward,Optional.some(paddPos));}});}};const strongRtl=/[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;const hasStrongRtl=text=>strongRtl.test(text);const isInlineTarget=(editor,elm)=>is$1(SugarElement.fromDom(elm),getInlineBoundarySelector(editor))&&!isTransparentBlock(editor.schema,elm)&&editor.dom.isEditable(elm);const isRtl=element=>{var _a;return DOMUtils.DOM.getStyle(element,'direction',true)==='rtl'||hasStrongRtl((_a=element.textContent)!==null&&_a!==void 0?_a:'');};const findInlineParents=(isInlineTarget,rootNode,pos)=>filter$5(DOMUtils.DOM.getParents(pos.container(),'*',rootNode),isInlineTarget);const findRootInline=(isInlineTarget,rootNode,pos)=>{const parents=findInlineParents(isInlineTarget,rootNode,pos);return Optional.from(parents[parents.length-1]);};const hasSameParentBlock=(rootNode,node1,node2)=>{const block1=getParentBlock$3(node1,rootNode);const block2=getParentBlock$3(node2,rootNode);return isNonNullable(block1)&&block1===block2;};const isAtZwsp=pos=>isBeforeInline(pos)||isAfterInline(pos);const normalizePosition=(forward,pos)=>{const container=pos.container(),offset=pos.offset();if(forward){if(isCaretContainerInline(container)){if(isText$a(container.nextSibling)){return CaretPosition(container.nextSibling,0);}else{return CaretPosition.after(container);}}else{return isBeforeInline(pos)?CaretPosition(container,offset+1):pos;}}else{if(isCaretContainerInline(container)){if(isText$a(container.previousSibling)){return CaretPosition(container.previousSibling,container.previousSibling.data.length);}else{return CaretPosition.before(container);}}else{return isAfterInline(pos)?CaretPosition(container,offset-1):pos;}}};const normalizeForwards=curry(normalizePosition,true);const normalizeBackwards=curry(normalizePosition,false);const execCommandIgnoreInputEvents=(editor,command)=>{const inputBlocker=e=>e.stopImmediatePropagation();editor.on('beforeinput input',inputBlocker,true);editor.getDoc().execCommand(command);editor.off('beforeinput input',inputBlocker);};const execEditorDeleteCommand=editor=>{editor.execCommand('delete');};const execNativeDeleteCommand=editor=>execCommandIgnoreInputEvents(editor,'Delete');const execNativeForwardDeleteCommand=editor=>execCommandIgnoreInputEvents(editor,'ForwardDelete');const isBeforeRoot=rootNode=>elm=>is$2(parent(elm),rootNode,eq);const isTextBlockOrListItem=element=>isTextBlock$2(element)||isListItem$1(element);const getParentBlock$2=(rootNode,elm)=>{if(contains(rootNode,elm)){return closest$4(elm,isTextBlockOrListItem,isBeforeRoot(rootNode));}else{return Optional.none();}};const paddEmptyBody=(editor,moveSelection=true)=>{if(editor.dom.isEmpty(editor.getBody())){editor.setContent('',{no_selection:!moveSelection});}};const willDeleteLastPositionInElement=(forward,fromPos,elm)=>lift2(firstPositionIn(elm),lastPositionIn(elm),(firstPos,lastPos)=>{const normalizedFirstPos=normalizePosition(true,firstPos);const normalizedLastPos=normalizePosition(false,lastPos);const normalizedFromPos=normalizePosition(false,fromPos);if(forward){return nextPosition(elm,normalizedFromPos).exists(nextPos=>nextPos.isEqual(normalizedLastPos)&&fromPos.isEqual(normalizedFirstPos));}else{return prevPosition(elm,normalizedFromPos).exists(prevPos=>prevPos.isEqual(normalizedFirstPos)&&fromPos.isEqual(normalizedLastPos));}}).getOr(true);const freefallRtl=root=>{const child=isComment$1(root)?prevSibling(root):lastChild(root);return child.bind(freefallRtl).orThunk(()=>Optional.some(root));};const deleteRangeContents=(editor,rng,root,moveSelection=true)=>{var _a;rng.deleteContents();const lastNode=freefallRtl(root).getOr(root);const lastBlock=SugarElement.fromDom((_a=editor.dom.getParent(lastNode.dom,editor.dom.isBlock))!==null&&_a!==void 0?_a:root.dom);if(lastBlock.dom===editor.getBody()){paddEmptyBody(editor,moveSelection);}else if(isEmpty$2(lastBlock)){fillWithPaddingBr(lastBlock);if(moveSelection){editor.selection.setCursorLocation(lastBlock.dom,0);}}if(!eq(root,lastBlock)){const additionalCleanupNodes=is$2(parent(lastBlock),root)?[]:siblings(lastBlock);each$e(additionalCleanupNodes.concat(children$1(root)),node=>{if(!eq(node,lastBlock)&&!contains(node,lastBlock)&&isEmpty$2(node)){remove$5(node);}});}};const ancestor$1=(scope,predicate,isRoot)=>ancestor$4(scope,predicate,isRoot).isSome();const sibling=(scope,predicate)=>sibling$1(scope,predicate).isSome();const descendant=(scope,predicate)=>descendant$2(scope,predicate).isSome();const isRootFromElement=root=>cur=>eq(root,cur);const getTableCells=table=>descendants(table,'td,th');const getTable$1=(node,isRoot)=>getClosestTable(SugarElement.fromDom(node),isRoot);const selectionInTableWithNestedTable=details=>{return lift2(details.startTable,details.endTable,(startTable,endTable)=>{const isStartTableParentOfEndTable=descendant(startTable,t=>eq(t,endTable));const isEndTableParentOfStartTable=descendant(endTable,t=>eq(t,startTable));return!isStartTableParentOfEndTable&&!isEndTableParentOfStartTable?details:{...details,startTable:isStartTableParentOfEndTable?Optional.none():details.startTable,endTable:isEndTableParentOfStartTable?Optional.none():details.endTable,isSameTable:false,isMultiTable:false};}).getOr(details);};const adjustQuirksInDetails=details=>{return selectionInTableWithNestedTable(details);};const getTableDetailsFromRange=(rng,isRoot)=>{const startTable=getTable$1(rng.startContainer,isRoot);const endTable=getTable$1(rng.endContainer,isRoot);const isStartInTable=startTable.isSome();const isEndInTable=endTable.isSome();const isSameTable=lift2(startTable,endTable,eq).getOr(false);const isMultiTable=!isSameTable&&isStartInTable&&isEndInTable;return adjustQuirksInDetails({startTable,endTable,isStartInTable,isEndInTable,isSameTable,isMultiTable});};const tableCellRng=(start,end)=>({start,end});const tableSelection=(rng,table,cells)=>({rng,table,cells});const deleteAction=Adt.generate([{singleCellTable:['rng','cell']},{fullTable:['table']},{partialTable:['cells','outsideDetails']},{multiTable:['startTableCells','endTableCells','betweenRng']}]);const getClosestCell$1=(container,isRoot)=>closest$3(SugarElement.fromDom(container),'td,th',isRoot);const isExpandedCellRng=cellRng=>!eq(cellRng.start,cellRng.end);const getTableFromCellRng=(cellRng,isRoot)=>getClosestTable(cellRng.start,isRoot).bind(startParentTable=>getClosestTable(cellRng.end,isRoot).bind(endParentTable=>someIf(eq(startParentTable,endParentTable),startParentTable)));const isSingleCellTable=(cellRng,isRoot)=>!isExpandedCellRng(cellRng)&&getTableFromCellRng(cellRng,isRoot).exists(table=>{const rows=table.dom.rows;return rows.length===1&&rows[0].cells.length===1;});const getCellRng=(rng,isRoot)=>{const startCell=getClosestCell$1(rng.startContainer,isRoot);const endCell=getClosestCell$1(rng.endContainer,isRoot);return lift2(startCell,endCell,tableCellRng);};const getCellRangeFromStartTable=isRoot=>startCell=>getClosestTable(startCell,isRoot).bind(table=>last$3(getTableCells(table)).map(endCell=>tableCellRng(startCell,endCell)));const getCellRangeFromEndTable=isRoot=>endCell=>getClosestTable(endCell,isRoot).bind(table=>head(getTableCells(table)).map(startCell=>tableCellRng(startCell,endCell)));const getTableSelectionFromCellRng=isRoot=>cellRng=>getTableFromCellRng(cellRng,isRoot).map(table=>tableSelection(cellRng,table,getTableCells(table)));const getTableSelections=(cellRng,selectionDetails,rng,isRoot)=>{if(rng.collapsed||!cellRng.forall(isExpandedCellRng)){return Optional.none();}else if(selectionDetails.isSameTable){const sameTableSelection=cellRng.bind(getTableSelectionFromCellRng(isRoot));return Optional.some({start:sameTableSelection,end:sameTableSelection});}else{const startCell=getClosestCell$1(rng.startContainer,isRoot);const endCell=getClosestCell$1(rng.endContainer,isRoot);const startTableSelection=startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));const endTableSelection=endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));return Optional.some({start:startTableSelection,end:endTableSelection});}};const getCellIndex=(cells,cell)=>findIndex$2(cells,x=>eq(x,cell));const getSelectedCells=tableSelection=>lift2(getCellIndex(tableSelection.cells,tableSelection.rng.start),getCellIndex(tableSelection.cells,tableSelection.rng.end),(startIndex,endIndex)=>tableSelection.cells.slice(startIndex,endIndex+1));const isSingleCellTableContentSelected=(optCellRng,rng,isRoot)=>optCellRng.exists(cellRng=>isSingleCellTable(cellRng,isRoot)&&hasAllContentsSelected(cellRng.start,rng));const unselectCells=(rng,selectionDetails)=>{const{startTable,endTable}=selectionDetails;const otherContentRng=rng.cloneRange();startTable.each(table=>otherContentRng.setStartAfter(table.dom));endTable.each(table=>otherContentRng.setEndBefore(table.dom));return otherContentRng;};const handleSingleTable=(cellRng,selectionDetails,rng,isRoot)=>getTableSelections(cellRng,selectionDetails,rng,isRoot).bind(({start,end})=>start.or(end)).bind(tableSelection=>{const{isSameTable}=selectionDetails;const selectedCells=getSelectedCells(tableSelection).getOr([]);if(isSameTable&&tableSelection.cells.length===selectedCells.length){return Optional.some(deleteAction.fullTable(tableSelection.table));}else if(selectedCells.length>0){if(isSameTable){return Optional.some(deleteAction.partialTable(selectedCells,Optional.none()));}else{const otherContentRng=unselectCells(rng,selectionDetails);return Optional.some(deleteAction.partialTable(selectedCells,Optional.some({...selectionDetails,rng:otherContentRng})));}}else{return Optional.none();}});const handleMultiTable=(cellRng,selectionDetails,rng,isRoot)=>getTableSelections(cellRng,selectionDetails,rng,isRoot).bind(({start,end})=>{const startTableSelectedCells=start.bind(getSelectedCells).getOr([]);const endTableSelectedCells=end.bind(getSelectedCells).getOr([]);if(startTableSelectedCells.length>0&&endTableSelectedCells.length>0){const otherContentRng=unselectCells(rng,selectionDetails);return Optional.some(deleteAction.multiTable(startTableSelectedCells,endTableSelectedCells,otherContentRng));}else{return Optional.none();}});const getActionFromRange=(root,rng)=>{const isRoot=isRootFromElement(root);const optCellRng=getCellRng(rng,isRoot);const selectionDetails=getTableDetailsFromRange(rng,isRoot);if(isSingleCellTableContentSelected(optCellRng,rng,isRoot)){return optCellRng.map(cellRng=>deleteAction.singleCellTable(rng,cellRng.start));}else if(selectionDetails.isMultiTable){return handleMultiTable(optCellRng,selectionDetails,rng,isRoot);}else{return handleSingleTable(optCellRng,selectionDetails,rng,isRoot);}};const cleanCells=cells=>each$e(cells,cell=>{remove$a(cell,'contenteditable');fillWithPaddingBr(cell);});const getOutsideBlock=(editor,container)=>Optional.from(editor.dom.getParent(container,editor.dom.isBlock)).map(SugarElement.fromDom);const handleEmptyBlock=(editor,startInTable,emptyBlock)=>{emptyBlock.each(block=>{if(startInTable){remove$5(block);}else{fillWithPaddingBr(block);editor.selection.setCursorLocation(block.dom,0);}});};const deleteContentInsideCell=(editor,cell,rng,isFirstCellInSelection)=>{const insideTableRng=rng.cloneRange();if(isFirstCellInSelection){insideTableRng.setStart(rng.startContainer,rng.startOffset);insideTableRng.setEndAfter(cell.dom.lastChild);}else{insideTableRng.setStartBefore(cell.dom.firstChild);insideTableRng.setEnd(rng.endContainer,rng.endOffset);}deleteCellContents(editor,insideTableRng,cell,false).each(action=>action());};const collapseAndRestoreCellSelection=editor=>{const selectedCells=getCellsFromEditor(editor);const selectedNode=SugarElement.fromDom(editor.selection.getNode());if(isTableCell$3(selectedNode.dom)&&isEmpty$2(selectedNode)){editor.selection.setCursorLocation(selectedNode.dom,0);}else{editor.selection.collapse(true);}if(selectedCells.length>1&&exists(selectedCells,cell=>eq(cell,selectedNode))){set$3(selectedNode,'data-mce-selected','1');}};const emptySingleTableCells=(editor,cells,outsideDetails)=>Optional.some(()=>{const editorRng=editor.selection.getRng();const cellsToClean=outsideDetails.bind(({rng,isStartInTable})=>{const outsideBlock=getOutsideBlock(editor,isStartInTable?rng.endContainer:rng.startContainer);rng.deleteContents();handleEmptyBlock(editor,isStartInTable,outsideBlock.filter(isEmpty$2));const endPointCell=isStartInTable?cells[0]:cells[cells.length-1];deleteContentInsideCell(editor,endPointCell,editorRng,isStartInTable);if(!isEmpty$2(endPointCell)){return Optional.some(isStartInTable?cells.slice(1):cells.slice(0,-1));}else{return Optional.none();}}).getOr(cells);cleanCells(cellsToClean);collapseAndRestoreCellSelection(editor);});const emptyMultiTableCells=(editor,startTableCells,endTableCells,betweenRng)=>Optional.some(()=>{const rng=editor.selection.getRng();const startCell=startTableCells[0];const endCell=endTableCells[endTableCells.length-1];deleteContentInsideCell(editor,startCell,rng,true);deleteContentInsideCell(editor,endCell,rng,false);const startTableCellsToClean=isEmpty$2(startCell)?startTableCells:startTableCells.slice(1);const endTableCellsToClean=isEmpty$2(endCell)?endTableCells:endTableCells.slice(0,-1);cleanCells(startTableCellsToClean.concat(endTableCellsToClean));betweenRng.deleteContents();collapseAndRestoreCellSelection(editor);});const deleteCellContents=(editor,rng,cell,moveSelection=true)=>Optional.some(()=>{deleteRangeContents(editor,rng,cell,moveSelection);});const deleteTableElement=(editor,table)=>Optional.some(()=>deleteElement$2(editor,false,table));const deleteCellRange=(editor,rootElm,rng)=>getActionFromRange(rootElm,rng).bind(action=>action.fold(curry(deleteCellContents,editor),curry(deleteTableElement,editor),curry(emptySingleTableCells,editor),curry(emptyMultiTableCells,editor)));const deleteCaptionRange=(editor,caption)=>emptyElement(editor,caption);const deleteTableRange=(editor,rootElm,rng,startElm)=>getParentCaption(rootElm,startElm).fold(()=>deleteCellRange(editor,rootElm,rng),caption=>deleteCaptionRange(editor,caption));const deleteRange$3=(editor,startElm,selectedCells)=>{const rootNode=SugarElement.fromDom(editor.getBody());const rng=editor.selection.getRng();return selectedCells.length!==0?emptySingleTableCells(editor,selectedCells,Optional.none()):deleteTableRange(editor,rootNode,rng,startElm);};const getParentCell=(rootElm,elm)=>find$2(parentsAndSelf(elm,rootElm),isTableCell$2);const getParentCaption=(rootElm,elm)=>find$2(parentsAndSelf(elm,rootElm),isTag('caption'));const deleteBetweenCells=(editor,rootElm,forward,fromCell,from)=>navigate(forward,editor.getBody(),from).bind(to=>getParentCell(rootElm,SugarElement.fromDom(to.getNode())).bind(toCell=>eq(toCell,fromCell)?Optional.none():Optional.some(noop)));const emptyElement=(editor,elm)=>Optional.some(()=>{fillWithPaddingBr(elm);editor.selection.setCursorLocation(elm.dom,0);});const isDeleteOfLastCharPos=(fromCaption,forward,from,to)=>firstPositionIn(fromCaption.dom).bind(first=>lastPositionIn(fromCaption.dom).map(last=>forward?from.isEqual(first)&&to.isEqual(last):from.isEqual(last)&&to.isEqual(first))).getOr(true);const emptyCaretCaption=(editor,elm)=>emptyElement(editor,elm);const validateCaretCaption=(rootElm,fromCaption,to)=>getParentCaption(rootElm,SugarElement.fromDom(to.getNode())).fold(()=>Optional.some(noop),toCaption=>someIf(!eq(toCaption,fromCaption),noop));const deleteCaretInsideCaption=(editor,rootElm,forward,fromCaption,from)=>navigate(forward,editor.getBody(),from).fold(()=>Optional.some(noop),to=>isDeleteOfLastCharPos(fromCaption,forward,from,to)?emptyCaretCaption(editor,fromCaption):validateCaretCaption(rootElm,fromCaption,to));const deleteCaretCells=(editor,forward,rootElm,startElm)=>{const from=CaretPosition.fromRangeStart(editor.selection.getRng());return getParentCell(rootElm,startElm).bind(fromCell=>isEmpty$2(fromCell)?emptyElement(editor,fromCell):deleteBetweenCells(editor,rootElm,forward,fromCell,from));};const deleteCaretCaption=(editor,forward,rootElm,fromCaption)=>{const from=CaretPosition.fromRangeStart(editor.selection.getRng());return isEmpty$2(fromCaption)?emptyElement(editor,fromCaption):deleteCaretInsideCaption(editor,rootElm,forward,fromCaption,from);};const isNearTable=(forward,pos)=>forward?isBeforeTable(pos):isAfterTable(pos);const isBeforeOrAfterTable=(editor,forward)=>{const fromPos=CaretPosition.fromRangeStart(editor.selection.getRng());return isNearTable(forward,fromPos)||fromPosition(forward,editor.getBody(),fromPos).exists(pos=>isNearTable(forward,pos));};const deleteCaret$3=(editor,forward,startElm)=>{const rootElm=SugarElement.fromDom(editor.getBody());return getParentCaption(rootElm,startElm).fold(()=>deleteCaretCells(editor,forward,rootElm,startElm).orThunk(()=>someIf(isBeforeOrAfterTable(editor,forward),noop)),fromCaption=>deleteCaretCaption(editor,forward,rootElm,fromCaption));};const backspaceDelete$a=(editor,forward)=>{const startElm=SugarElement.fromDom(editor.selection.getStart(true));const cells=getCellsFromEditor(editor);return editor.selection.isCollapsed()&&cells.length===0?deleteCaret$3(editor,forward,startElm):deleteRange$3(editor,startElm,cells);};const getContentEditableRoot$1=(root,node)=>{let tempNode=node;while(tempNode&&tempNode!==root){if(isContentEditableTrue$3(tempNode)||isContentEditableFalse$b(tempNode)){return tempNode;}tempNode=tempNode.parentNode;}return null;};const internalAttributesPrefixes=['data-ephox-','data-mce-','data-alloy-','data-snooker-','_'];const each$9=Tools.each;const ElementUtils=editor=>{const dom=editor.dom;const internalAttributes=new Set(editor.serializer.getTempAttrs());const compare=(node1,node2)=>{if(node1.nodeName!==node2.nodeName||node1.nodeType!==node2.nodeType){return false;}const getAttribs=node=>{const attribs={};each$9(dom.getAttribs(node),attr=>{const name=attr.nodeName.toLowerCase();if(name!=='style'&&!isAttributeInternal(name)){attribs[name]=dom.getAttrib(node,name);}});return attribs;};const compareObjects=(obj1,obj2)=>{for(const name in obj1){if(has$2(obj1,name)){const value=obj2[name];if(isUndefined(value)){return false;}if(obj1[name]!==value){return false;}delete obj2[name];}}for(const name in obj2){if(has$2(obj2,name)){return false;}}return true;};if(isElement$6(node1)&&isElement$6(node2)){if(!compareObjects(getAttribs(node1),getAttribs(node2))){return false;}if(!compareObjects(dom.parseStyle(dom.getAttrib(node1,'style')),dom.parseStyle(dom.getAttrib(node2,'style')))){return false;}}return!isBookmarkNode$1(node1)&&!isBookmarkNode$1(node2);};const isAttributeInternal=attributeName=>exists(internalAttributesPrefixes,value=>startsWith(attributeName,value))||internalAttributes.has(attributeName);return{compare,isAttributeInternal};};const isHeading=node=>['h1','h2','h3','h4','h5','h6'].includes(node.name);const isSummary=node=>node.name==='summary';const traverse=(root,fn)=>{let node=root;while(node=node.walk()){fn(node);}};const matchNode$1=(nodeFilters,attributeFilters,node,matches)=>{const name=node.name;for(let ni=0,nl=nodeFilters.length;ni<nl;ni++){const filter=nodeFilters[ni];if(filter.name===name){const match=matches.nodes[name];if(match){match.nodes.push(node);}else{matches.nodes[name]={filter,nodes:[node]};}}}if(node.attributes){for(let ai=0,al=attributeFilters.length;ai<al;ai++){const filter=attributeFilters[ai];const attrName=filter.name;if(attrName in node.attributes.map){const match=matches.attributes[attrName];if(match){match.nodes.push(node);}else{matches.attributes[attrName]={filter,nodes:[node]};}}}}};const findMatchingNodes=(nodeFilters,attributeFilters,node)=>{const matches={nodes:{},attributes:{}};if(node.firstChild){traverse(node,childNode=>{matchNode$1(nodeFilters,attributeFilters,childNode,matches);});}return matches;};const runFilters=(matches,args)=>{const run=(matchRecord,filteringAttributes)=>{each$d(matchRecord,match=>{const nodes=from(match.nodes);each$e(match.filter.callbacks,callback=>{for(let i=nodes.length-1;i>=0;i--){const node=nodes[i];const valueMatches=filteringAttributes?node.attr(match.filter.name)!==undefined:node.name===match.filter.name;if(!valueMatches||isNullable(node.parent)){nodes.splice(i,1);}}if(nodes.length>0){callback(nodes,match.filter.name,args);}});});};run(matches.nodes,false);run(matches.attributes,true);};const filter$2=(nodeFilters,attributeFilters,node,args={})=>{const matches=findMatchingNodes(nodeFilters,attributeFilters,node);runFilters(matches,args);};const paddEmptyNode=(settings,args,isBlock,node)=>{const brPreferred=settings.pad_empty_with_br||args.insert;if(brPreferred&&isBlock(node)){const astNode=new AstNode('br',1);if(args.insert){astNode.attr('data-mce-bogus','1');}node.empty().append(astNode);}else{node.empty().append(new AstNode('#text',3)).value=nbsp;}};const isPaddedWithNbsp=node=>{var _a;return hasOnlyChild(node,'#text')&&((_a=node===null||node===void 0?void 0:node.firstChild)===null||_a===void 0?void 0:_a.value)===nbsp;};const hasOnlyChild=(node,name)=>{const firstChild=node===null||node===void 0?void 0:node.firstChild;return isNonNullable(firstChild)&&firstChild===node.lastChild&&firstChild.name===name;};const isPadded=(schema,node)=>{const rule=schema.getElementRule(node.name);return(rule===null||rule===void 0?void 0:rule.paddEmpty)===true;};const isEmpty=(schema,nonEmptyElements,whitespaceElements,node)=>node.isEmpty(nonEmptyElements,whitespaceElements,node=>isPadded(schema,node));const isLineBreakNode=(node,isBlock)=>isNonNullable(node)&&(isBlock(node)||node.name==='br');const findClosestEditingHost=scope=>{let editableNode;for(let node=scope;node;node=node.parent){const contentEditable=node.attr('contenteditable');if(contentEditable==='false'){break;}else if(contentEditable==='true'){editableNode=node;}}return Optional.from(editableNode);};const removeOrUnwrapInvalidNode=(node,schema,originalNodeParent=node.parent)=>{if(schema.getSpecialElements()[node.name]){node.empty().remove();}else{const children=node.children();for(const childNode of children){if(originalNodeParent&&!schema.isValidChild(originalNodeParent.name,childNode.name)){removeOrUnwrapInvalidNode(childNode,schema,originalNodeParent);}}node.unwrap();}};const cleanInvalidNodes=(nodes,schema,rootNode,onCreate=noop)=>{const textBlockElements=schema.getTextBlockElements();const nonEmptyElements=schema.getNonEmptyElements();const whitespaceElements=schema.getWhitespaceElements();const nonSplittableElements=Tools.makeMap('tr,td,th,tbody,thead,tfoot,table,summary');const fixed=new Set();const isSplittableElement=node=>node!==rootNode&&!nonSplittableElements[node.name];for(let ni=0;ni<nodes.length;ni++){const node=nodes[ni];let parent;let newParent;let tempNode;if(!node.parent||fixed.has(node)){continue;}if(textBlockElements[node.name]&&node.parent.name==='li'){let sibling=node.next;while(sibling){if(textBlockElements[sibling.name]){sibling.name='li';fixed.add(sibling);node.parent.insert(sibling,node.parent);}else{break;}sibling=sibling.next;}node.unwrap();continue;}const parents=[node];for(parent=node.parent;parent&&!schema.isValidChild(parent.name,node.name)&&isSplittableElement(parent);parent=parent.parent){parents.push(parent);}if(parent&&parents.length>1){if(!isInvalid(schema,node,parent)){parents.reverse();newParent=parents[0].clone();onCreate(newParent);let currentNode=newParent;for(let i=0;i<parents.length-1;i++){if(schema.isValidChild(currentNode.name,parents[i].name)&&i>0){tempNode=parents[i].clone();onCreate(tempNode);currentNode.append(tempNode);}else{tempNode=currentNode;}for(let childNode=parents[i].firstChild;childNode&&childNode!==parents[i+1];){const nextNode=childNode.next;tempNode.append(childNode);childNode=nextNode;}currentNode=tempNode;}if(!isEmpty(schema,nonEmptyElements,whitespaceElements,newParent)){parent.insert(newParent,parents[0],true);parent.insert(node,newParent);}else{parent.insert(node,parents[0],true);}parent=parents[0];if(isEmpty(schema,nonEmptyElements,whitespaceElements,parent)||hasOnlyChild(parent,'br')){parent.empty().remove();}}else{removeOrUnwrapInvalidNode(node,schema);}}else if(node.parent){if(node.name==='li'){let sibling=node.prev;if(sibling&&(sibling.name==='ul'||sibling.name==='ol')){sibling.append(node);continue;}sibling=node.next;if(sibling&&(sibling.name==='ul'||sibling.name==='ol')&&sibling.firstChild){sibling.insert(node,sibling.firstChild,true);continue;}const wrapper=new AstNode('ul',1);onCreate(wrapper);node.wrap(wrapper);continue;}if(schema.isValidChild(node.parent.name,'div')&&schema.isValidChild('div',node.name)){const wrapper=new AstNode('div',1);onCreate(wrapper);node.wrap(wrapper);}else{removeOrUnwrapInvalidNode(node,schema);}}}};const hasClosest=(node,parentName)=>{let tempNode=node;while(tempNode){if(tempNode.name===parentName){return true;}tempNode=tempNode.parent;}return false;};const isInvalid=(schema,node,parent=node.parent)=>{if(!parent){return false;}if(schema.children[node.name]&&!schema.isValidChild(parent.name,node.name)){return true;}if(node.name==='a'&&hasClosest(parent,'a')){return true;}if(isSummary(parent)&&isHeading(node)){return!((parent===null||parent===void 0?void 0:parent.firstChild)===node&&(parent===null||parent===void 0?void 0:parent.lastChild)===node);}return false;};const createRange=(sc,so,ec,eo)=>{const rng=document.createRange();rng.setStart(sc,so);rng.setEnd(ec,eo);return rng;};const normalizeBlockSelectionRange=rng=>{const startPos=CaretPosition.fromRangeStart(rng);const endPos=CaretPosition.fromRangeEnd(rng);const rootNode=rng.commonAncestorContainer;return fromPosition(false,rootNode,endPos).map(newEndPos=>{if(!isInSameBlock(startPos,endPos,rootNode)&&isInSameBlock(startPos,newEndPos,rootNode)){return createRange(startPos.container(),startPos.offset(),newEndPos.container(),newEndPos.offset());}else{return rng;}}).getOr(rng);};const normalize=rng=>rng.collapsed?rng:normalizeBlockSelectionRange(rng);const hasOnlyOneChild$1=node=>{return isNonNullable(node.firstChild)&&node.firstChild===node.lastChild;};const isPaddingNode=node=>{return node.name==='br'||node.value===nbsp;};const isPaddedEmptyBlock=(schema,node)=>{const blockElements=schema.getBlockElements();return blockElements[node.name]&&hasOnlyOneChild$1(node)&&isPaddingNode(node.firstChild);};const isEmptyFragmentElement=(schema,node)=>{const nonEmptyElements=schema.getNonEmptyElements();return isNonNullable(node)&&(node.isEmpty(nonEmptyElements)||isPaddedEmptyBlock(schema,node));};const isListFragment=(schema,fragment)=>{let firstChild=fragment.firstChild;let lastChild=fragment.lastChild;if(firstChild&&firstChild.name==='meta'){firstChild=firstChild.next;}if(lastChild&&lastChild.attr('id')==='mce_marker'){lastChild=lastChild.prev;}if(isEmptyFragmentElement(schema,lastChild)){lastChild=lastChild===null||lastChild===void 0?void 0:lastChild.prev;}if(!firstChild||firstChild!==lastChild){return false;}return firstChild.name==='ul'||firstChild.name==='ol';};const cleanupDomFragment=domFragment=>{var _a,_b;const firstChild=domFragment.firstChild;const lastChild=domFragment.lastChild;if(firstChild&&firstChild.nodeName==='META'){(_a=firstChild.parentNode)===null||_a===void 0?void 0:_a.removeChild(firstChild);}if(lastChild&&lastChild.id==='mce_marker'){(_b=lastChild.parentNode)===null||_b===void 0?void 0:_b.removeChild(lastChild);}return domFragment;};const toDomFragment=(dom,serializer,fragment)=>{const html=serializer.serialize(fragment);const domFragment=dom.createFragment(html);return cleanupDomFragment(domFragment);};const listItems=elm=>{var _a;return filter$5((_a=elm===null||elm===void 0?void 0:elm.childNodes)!==null&&_a!==void 0?_a:[],child=>{return child.nodeName==='LI';});};const isPadding=node=>{return node.data===nbsp||isBr$6(node);};const isListItemPadded=node=>{return isNonNullable(node===null||node===void 0?void 0:node.firstChild)&&node.firstChild===node.lastChild&&isPadding(node.firstChild);};const isEmptyOrPadded=elm=>{return!elm.firstChild||isListItemPadded(elm);};const trimListItems=elms=>{return elms.length>0&&isEmptyOrPadded(elms[elms.length-1])?elms.slice(0,-1):elms;};const getParentLi=(dom,node)=>{const parentBlock=dom.getParent(node,dom.isBlock);return parentBlock&&parentBlock.nodeName==='LI'?parentBlock:null;};const isParentBlockLi=(dom,node)=>{return!!getParentLi(dom,node);};const getSplit=(parentNode,rng)=>{const beforeRng=rng.cloneRange();const afterRng=rng.cloneRange();beforeRng.setStartBefore(parentNode);afterRng.setEndAfter(parentNode);return[beforeRng.cloneContents(),afterRng.cloneContents()];};const findFirstIn=(node,rootNode)=>{const caretPos=CaretPosition.before(node);const caretWalker=CaretWalker(rootNode);const newCaretPos=caretWalker.next(caretPos);return newCaretPos?newCaretPos.toRange():null;};const findLastOf=(node,rootNode)=>{const caretPos=CaretPosition.after(node);const caretWalker=CaretWalker(rootNode);const newCaretPos=caretWalker.prev(caretPos);return newCaretPos?newCaretPos.toRange():null;};const insertMiddle=(target,elms,rootNode,rng)=>{const parts=getSplit(target,rng);const parentElm=target.parentNode;if(parentElm){parentElm.insertBefore(parts[0],target);Tools.each(elms,li=>{parentElm.insertBefore(li,target);});parentElm.insertBefore(parts[1],target);parentElm.removeChild(target);}return findLastOf(elms[elms.length-1],rootNode);};const insertBefore$2=(target,elms,rootNode)=>{const parentElm=target.parentNode;if(parentElm){Tools.each(elms,elm=>{parentElm.insertBefore(elm,target);});}return findFirstIn(target,rootNode);};const insertAfter$2=(target,elms,rootNode,dom)=>{dom.insertAfter(elms.reverse(),target);return findLastOf(elms[0],rootNode);};const insertAtCaret$1=(serializer,dom,rng,fragment)=>{const domFragment=toDomFragment(dom,serializer,fragment);const liTarget=getParentLi(dom,rng.startContainer);const liElms=trimListItems(listItems(domFragment.firstChild));const BEGINNING=1,END=2;const rootNode=dom.getRoot();const isAt=location=>{const caretPos=CaretPosition.fromRangeStart(rng);const caretWalker=CaretWalker(dom.getRoot());const newPos=location===BEGINNING?caretWalker.prev(caretPos):caretWalker.next(caretPos);const newPosNode=newPos===null||newPos===void 0?void 0:newPos.getNode();return newPosNode?getParentLi(dom,newPosNode)!==liTarget:true;};if(!liTarget){return null;}else if(isAt(BEGINNING)){return insertBefore$2(liTarget,liElms,rootNode);}else if(isAt(END)){return insertAfter$2(liTarget,liElms,rootNode,dom);}else{return insertMiddle(liTarget,liElms,rootNode,rng);}};const mergeableWrappedElements=['pre'];const shouldPasteContentOnly=(dom,fragment,parentNode,root)=>{var _a;const firstNode=fragment.firstChild;const lastNode=fragment.lastChild;const last=lastNode.attr('data-mce-type')==='bookmark'?lastNode.prev:lastNode;const isPastingSingleElement=firstNode===last;const isWrappedElement=contains$2(mergeableWrappedElements,firstNode.name);if(isPastingSingleElement&&isWrappedElement){const isContentEditable=firstNode.attr('contenteditable')!=='false';const isPastingInTheSameBlockTag=((_a=dom.getParent(parentNode,dom.isBlock))===null||_a===void 0?void 0:_a.nodeName.toLowerCase())===firstNode.name;const isPastingInContentEditable=Optional.from(getContentEditableRoot$1(root,parentNode)).forall(isContentEditableTrue$3);return isContentEditable&&isPastingInTheSameBlockTag&&isPastingInContentEditable;}else{return false;}};const isTableCell=isTableCell$3;const isTableCellContentSelected=(dom,rng,cell)=>{if(isNonNullable(cell)){const endCell=dom.getParent(rng.endContainer,isTableCell);return cell===endCell&&hasAllContentsSelected(SugarElement.fromDom(cell),rng);}else{return false;}};const validInsertion=(editor,value,parentNode)=>{var _a;if(parentNode.getAttribute('data-mce-bogus')==='all'){(_a=parentNode.parentNode)===null||_a===void 0?void 0:_a.insertBefore(editor.dom.createFragment(value),parentNode);}else{const node=parentNode.firstChild;const node2=parentNode.lastChild;if(!node||node===node2&&node.nodeName==='BR'){editor.dom.setHTML(parentNode,value);}else{editor.selection.setContent(value,{no_events:true});}}};const trimBrsFromTableCell=(dom,elm,schema)=>{Optional.from(dom.getParent(elm,'td,th')).map(SugarElement.fromDom).each(el=>trimBlockTrailingBr(el,schema));};const reduceInlineTextElements=(editor,merge)=>{const textInlineElements=editor.schema.getTextInlineElements();const dom=editor.dom;if(merge){const root=editor.getBody();const elementUtils=ElementUtils(editor);Tools.each(dom.select('*[data-mce-fragment]'),node=>{const isInline=isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);if(isInline&&hasInheritableStyles(dom,node)){for(let parentNode=node.parentElement;isNonNullable(parentNode)&&parentNode!==root;parentNode=parentNode.parentElement){const styleConflict=hasStyleConflict(dom,node,parentNode);if(styleConflict){break;}if(elementUtils.compare(parentNode,node)){dom.remove(node,true);break;}}}});}};const markFragmentElements=fragment=>{let node=fragment;while(node=node.walk()){if(node.type===1){node.attr('data-mce-fragment','1');}}};const unmarkFragmentElements=elm=>{Tools.each(elm.getElementsByTagName('*'),elm=>{elm.removeAttribute('data-mce-fragment');});};const isPartOfFragment=node=>{return!!node.getAttribute('data-mce-fragment');};const canHaveChildren=(editor,node)=>{return isNonNullable(node)&&!editor.schema.getVoidElements()[node.nodeName];};const moveSelectionToMarker=(editor,marker)=>{var _a,_b,_c;let nextRng;const dom=editor.dom;const selection=editor.selection;if(!marker){return;}selection.scrollIntoView(marker);const parentEditableElm=getContentEditableRoot$1(editor.getBody(),marker);if(parentEditableElm&&dom.getContentEditable(parentEditableElm)==='false'){dom.remove(marker);selection.select(parentEditableElm);return;}let rng=dom.createRng();const node=marker.previousSibling;if(isText$a(node)){rng.setStart(node,(_b=(_a=node.nodeValue)===null||_a===void 0?void 0:_a.length)!==null&&_b!==void 0?_b:0);const node2=marker.nextSibling;if(isText$a(node2)){node.appendData(node2.data);(_c=node2.parentNode)===null||_c===void 0?void 0:_c.removeChild(node2);}}else{rng.setStartBefore(marker);rng.setEndBefore(marker);}const findNextCaretRng=rng=>{let caretPos=CaretPosition.fromRangeStart(rng);const caretWalker=CaretWalker(editor.getBody());caretPos=caretWalker.next(caretPos);return caretPos===null||caretPos===void 0?void 0:caretPos.toRange();};const parentBlock=dom.getParent(marker,dom.isBlock);dom.remove(marker);if(parentBlock&&dom.isEmpty(parentBlock)){const isCell=isTableCell(parentBlock);empty(SugarElement.fromDom(parentBlock));rng.setStart(parentBlock,0);rng.setEnd(parentBlock,0);if(!isCell&&!isPartOfFragment(parentBlock)&&(nextRng=findNextCaretRng(rng))){rng=nextRng;dom.remove(parentBlock);}else{dom.add(parentBlock,dom.create('br',isCell?{}:{'data-mce-bogus':'1'}));}}selection.setRng(rng);};const deleteSelectedContent=editor=>{const dom=editor.dom;const rng=normalize(editor.selection.getRng());editor.selection.setRng(rng);const startCell=dom.getParent(rng.startContainer,isTableCell);if(isTableCellContentSelected(dom,rng,startCell)){deleteCellContents(editor,rng,SugarElement.fromDom(startCell));}else if(rng.startContainer===rng.endContainer&&rng.endOffset-rng.startOffset===1&&isText$a(rng.startContainer.childNodes[rng.startOffset])){rng.deleteContents();}else{editor.getDoc().execCommand('Delete',false);}};const findMarkerNode=scope=>{for(let markerNode=scope;markerNode;markerNode=markerNode.walk()){if(markerNode.attr('id')==='mce_marker'){return Optional.some(markerNode);}}return Optional.none();};const notHeadingsInSummary=(dom,node,fragment)=>{var _a;return exists(fragment.children(),isHeading)&&((_a=dom.getParent(node,dom.isBlock))===null||_a===void 0?void 0:_a.nodeName)==='SUMMARY';};const insertHtmlAtCaret=(editor,value,details)=>{var _a,_b;const selection=editor.selection;const dom=editor.dom;const parser=editor.parser;const merge=details.merge;const serializer=HtmlSerializer({validate:true},editor.schema);const bookmarkHtml='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';if(!details.preserve_zwsp){value=trim$2(value);}if(value.indexOf('{$caret}')===-1){value+='{$caret}';}value=value.replace(/\\{\\$caret\\}/,bookmarkHtml);let rng=selection.getRng();const caretElement=rng.startContainer;const body=editor.getBody();if(caretElement===body&&selection.isCollapsed()){if(dom.isBlock(body.firstChild)&&canHaveChildren(editor,body.firstChild)&&dom.isEmpty(body.firstChild)){rng=dom.createRng();rng.setStart(body.firstChild,0);rng.setEnd(body.firstChild,0);selection.setRng(rng);}}if(!selection.isCollapsed()){deleteSelectedContent(editor);}const parentNode=selection.getNode();const parserArgs={context:parentNode.nodeName.toLowerCase(),data:details.data,insert:true};const fragment=parser.parse(value,parserArgs);if(details.paste===true&&isListFragment(editor.schema,fragment)&&isParentBlockLi(dom,parentNode)){rng=insertAtCaret$1(serializer,dom,selection.getRng(),fragment);if(rng){selection.setRng(rng);}return value;}if(details.paste===true&&shouldPasteContentOnly(dom,fragment,parentNode,editor.getBody())){(_a=fragment.firstChild)===null||_a===void 0?void 0:_a.unwrap();}markFragmentElements(fragment);let node=fragment.lastChild;if(node&&node.attr('id')==='mce_marker'){const marker=node;for(node=node.prev;node;node=node.walk(true)){if(node.type===3||!dom.isBlock(node.name)){if(node.parent&&editor.schema.isValidChild(node.parent.name,'span')){node.parent.insert(marker,node,node.name==='br');}break;}}}editor._selectionOverrides.showBlockCaretContainer(parentNode);if(!parserArgs.invalid&&!notHeadingsInSummary(dom,parentNode,fragment)){value=serializer.serialize(fragment);validInsertion(editor,value,parentNode);}else{editor.selection.setContent(bookmarkHtml);let parentNode=selection.getNode();let tempNode;const rootNode=editor.getBody();if(isDocument$1(parentNode)){parentNode=tempNode=rootNode;}else{tempNode=parentNode;}while(tempNode&&tempNode!==rootNode){parentNode=tempNode;tempNode=tempNode.parentNode;}value=parentNode===rootNode?rootNode.innerHTML:dom.getOuterHTML(parentNode);const root=parser.parse(value);const markerNode=findMarkerNode(root);const editingHost=markerNode.bind(findClosestEditingHost).getOr(root);markerNode.each(marker=>marker.replace(fragment));const toExtract=fragment.children();const parent=(_b=fragment.parent)!==null&&_b!==void 0?_b:root;fragment.unwrap();const invalidChildren=filter$5(toExtract,node=>isInvalid(editor.schema,node,parent));cleanInvalidNodes(invalidChildren,editor.schema,editingHost);filter$2(parser.getNodeFilters(),parser.getAttributeFilters(),root);value=serializer.serialize(root);if(parentNode===rootNode){dom.setHTML(rootNode,value);}else{dom.setOuterHTML(parentNode,value);}}reduceInlineTextElements(editor,merge);moveSelectionToMarker(editor,dom.get('mce_marker'));unmarkFragmentElements(editor.getBody());trimBrsFromTableCell(dom,selection.getStart(),editor.schema);updateCaret(editor.schema,editor.getBody(),selection.getStart());return value;};const isTreeNode=content=>content instanceof AstNode;const moveSelection=editor=>{if(hasFocus(editor)){firstPositionIn(editor.getBody()).each(pos=>{const node=pos.getNode();const caretPos=isTable$2(node)?firstPositionIn(node).getOr(pos):pos;editor.selection.setRng(caretPos.toRange());});}};const setEditorHtml=(editor,html,noSelection)=>{editor.dom.setHTML(editor.getBody(),html);if(noSelection!==true){moveSelection(editor);}};const setContentString=(editor,body,content,args)=>{content=trim$2(content);if(content.length===0||/^\\s+$/.test(content)){const padd='<br data-mce-bogus=\"1\">';if(body.nodeName==='TABLE'){content='<tr><td>'+padd+'</td></tr>';}else if(/^(UL|OL)$/.test(body.nodeName)){content='<li>'+padd+'</li>';}const forcedRootBlockName=getForcedRootBlock(editor);if(editor.schema.isValidChild(body.nodeName.toLowerCase(),forcedRootBlockName.toLowerCase())){content=padd;content=editor.dom.createHTML(forcedRootBlockName,getForcedRootBlockAttrs(editor),content);}else if(!content){content=padd;}setEditorHtml(editor,content,args.no_selection);return{content,html:content};}else{if(args.format!=='raw'){content=HtmlSerializer({validate:false},editor.schema).serialize(editor.parser.parse(content,{isRootContent:true,insert:true}));}const trimmedHtml=isWsPreserveElement(SugarElement.fromDom(body))?content:Tools.trim(content);setEditorHtml(editor,trimmedHtml,args.no_selection);return{content:trimmedHtml,html:trimmedHtml};}};const setContentTree=(editor,body,content,args)=>{filter$2(editor.parser.getNodeFilters(),editor.parser.getAttributeFilters(),content);const html=HtmlSerializer({validate:false},editor.schema).serialize(content);const trimmedHtml=trim$2(isWsPreserveElement(SugarElement.fromDom(body))?html:Tools.trim(html));setEditorHtml(editor,trimmedHtml,args.no_selection);return{content,html:trimmedHtml};};const setContentInternal=(editor,content,args)=>{return Optional.from(editor.getBody()).map(body=>{if(isTreeNode(content)){return setContentTree(editor,body,content,args);}else{return setContentString(editor,body,content,args);}}).getOr({content,html:isTreeNode(args.content)?'':args.content});};const ensureIsRoot=isRoot=>isFunction(isRoot)?isRoot:never;const ancestor=(scope,transform,isRoot)=>{let element=scope.dom;const stop=ensureIsRoot(isRoot);while(element.parentNode){element=element.parentNode;const el=SugarElement.fromDom(element);const transformed=transform(el);if(transformed.isSome()){return transformed;}else if(stop(el)){break;}}return Optional.none();};const closest$1=(scope,transform,isRoot)=>{const current=transform(scope);const stop=ensureIsRoot(isRoot);return current.orThunk(()=>stop(scope)?Optional.none():ancestor(scope,transform,stop));};const isEq$3=isEq$5;const matchesUnInheritedFormatSelector=(ed,node,name)=>{const formatList=ed.formatter.get(name);if(formatList){for(let i=0;i<formatList.length;i++){const format=formatList[i];if(isSelectorFormat(format)&&format.inherit===false&&ed.dom.is(node,format.selector)){return true;}}}return false;};const matchParents=(editor,node,name,vars,similar)=>{const root=editor.dom.getRoot();if(node===root){return false;}const matchedNode=editor.dom.getParent(node,elm=>{if(matchesUnInheritedFormatSelector(editor,elm,name)){return true;}return elm.parentNode===root||!!matchNode(editor,elm,name,vars,true);});return!!matchNode(editor,matchedNode,name,vars,similar);};const matchName=(dom,node,format)=>{if(isInlineFormat(format)&&isEq$3(node,format.inline)){return true;}if(isBlockFormat(format)&&isEq$3(node,format.block)){return true;}if(isSelectorFormat(format)){return isElement$6(node)&&dom.is(node,format.selector);}return false;};const matchItems=(dom,node,format,itemName,similar,vars)=>{const items=format[itemName];const matchAttributes=itemName==='attributes';if(isFunction(format.onmatch)){return format.onmatch(node,format,itemName);}if(items){if(!isArrayLike(items)){for(const key in items){if(has$2(items,key)){const value=matchAttributes?dom.getAttrib(node,key):getStyle(dom,node,key);const expectedValue=replaceVars(items[key],vars);const isEmptyValue=isNullable(value)||isEmpty$3(value);if(isEmptyValue&&isNullable(expectedValue)){continue;}if(similar&&isEmptyValue&&!format.exact){return false;}if((!similar||format.exact)&&!isEq$3(value,normalizeStyleValue(expectedValue,key))){return false;}}}}else{for(let i=0;i<items.length;i++){if(matchAttributes?dom.getAttrib(node,items[i]):getStyle(dom,node,items[i])){return true;}}}}return true;};const matchNode=(ed,node,name,vars,similar)=>{const formatList=ed.formatter.get(name);const dom=ed.dom;if(formatList&&isElement$6(node)){for(let i=0;i<formatList.length;i++){const format=formatList[i];if(matchName(ed.dom,node,format)&&matchItems(dom,node,format,'attributes',similar,vars)&&matchItems(dom,node,format,'styles',similar,vars)){const classes=format.classes;if(classes){for(let x=0;x<classes.length;x++){if(!ed.dom.hasClass(node,replaceVars(classes[x],vars))){return;}}}return format;}}}return undefined;};const match$2=(editor,name,vars,node,similar)=>{if(node){return matchParents(editor,node,name,vars,similar);}node=editor.selection.getNode();if(matchParents(editor,node,name,vars,similar)){return true;}const startNode=editor.selection.getStart();if(startNode!==node){if(matchParents(editor,startNode,name,vars,similar)){return true;}}return false;};const matchAll=(editor,names,vars)=>{const matchedFormatNames=[];const checkedMap={};const startElement=editor.selection.getStart();editor.dom.getParent(startElement,node=>{for(let i=0;i<names.length;i++){const name=names[i];if(!checkedMap[name]&&matchNode(editor,node,name,vars)){checkedMap[name]=true;matchedFormatNames.push(name);}}},editor.dom.getRoot());return matchedFormatNames;};const closest=(editor,names)=>{const isRoot=elm=>eq(elm,SugarElement.fromDom(editor.getBody()));const match=(elm,name)=>matchNode(editor,elm.dom,name)?Optional.some(name):Optional.none();return Optional.from(editor.selection.getStart(true)).bind(rawElm=>closest$1(SugarElement.fromDom(rawElm),elm=>findMap(names,name=>match(elm,name)),isRoot)).getOrNull();};const canApply=(editor,name)=>{const formatList=editor.formatter.get(name);const dom=editor.dom;if(formatList&&editor.selection.isEditable()){const startNode=editor.selection.getStart();const parents=getParents$2(dom,startNode);for(let x=formatList.length-1;x>=0;x--){const format=formatList[x];if(!isSelectorFormat(format)){return true;}for(let i=parents.length-1;i>=0;i--){if(dom.is(parents[i],format.selector)){return true;}}}}return false;};const matchAllOnNode=(editor,node,formatNames)=>foldl(formatNames,(acc,name)=>{const matchSimilar=isVariableFormatName(editor,name);if(editor.formatter.matchNode(node,name,{},matchSimilar)){return acc.concat([name]);}else{return acc;}},[]);const ZWSP=ZWSP$1;const importNode=(ownerDocument,node)=>{return ownerDocument.importNode(node,true);};const findFirstTextNode=node=>{if(node){const walker=new DomTreeWalker(node,node);for(let tempNode=walker.current();tempNode;tempNode=walker.next()){if(isText$a(tempNode)){return tempNode;}}}return null;};const createCaretContainer=fill=>{const caretContainer=SugarElement.fromTag('span');setAll$1(caretContainer,{'id':CARET_ID,'data-mce-bogus':'1','data-mce-type':'format-caret'});if(fill){append$1(caretContainer,SugarElement.fromText(ZWSP));}return caretContainer;};const trimZwspFromCaretContainer=caretContainerNode=>{const textNode=findFirstTextNode(caretContainerNode);if(textNode&&textNode.data.charAt(0)===ZWSP){textNode.deleteData(0,1);}return textNode;};const removeCaretContainerNode=(editor,node,moveCaret)=>{const dom=editor.dom,selection=editor.selection;if(isCaretContainerEmpty(node)){deleteElement$2(editor,false,SugarElement.fromDom(node),moveCaret,true);}else{const rng=selection.getRng();const block=dom.getParent(node,dom.isBlock);const startContainer=rng.startContainer;const startOffset=rng.startOffset;const endContainer=rng.endContainer;const endOffset=rng.endOffset;const textNode=trimZwspFromCaretContainer(node);dom.remove(node,true);if(startContainer===textNode&&startOffset>0){rng.setStart(textNode,startOffset-1);}if(endContainer===textNode&&endOffset>0){rng.setEnd(textNode,endOffset-1);}if(block&&dom.isEmpty(block)){fillWithPaddingBr(SugarElement.fromDom(block));}selection.setRng(rng);}};const removeCaretContainer=(editor,node,moveCaret)=>{const dom=editor.dom,selection=editor.selection;if(!node){node=getParentCaretContainer(editor.getBody(),selection.getStart());if(!node){while(node=dom.get(CARET_ID)){removeCaretContainerNode(editor,node,moveCaret);}}}else{removeCaretContainerNode(editor,node,moveCaret);}};const insertCaretContainerNode=(editor,caretContainer,formatNode)=>{var _a,_b;const dom=editor.dom;const block=dom.getParent(formatNode,curry(isTextBlock$1,editor.schema));if(block&&dom.isEmpty(block)){(_a=formatNode.parentNode)===null||_a===void 0?void 0:_a.replaceChild(caretContainer,formatNode);}else{removeTrailingBr(SugarElement.fromDom(formatNode));if(dom.isEmpty(formatNode)){(_b=formatNode.parentNode)===null||_b===void 0?void 0:_b.replaceChild(caretContainer,formatNode);}else{dom.insertAfter(caretContainer,formatNode);}}};const appendNode=(parentNode,node)=>{parentNode.appendChild(node);return node;};const insertFormatNodesIntoCaretContainer=(formatNodes,caretContainer)=>{var _a;const innerMostFormatNode=foldr(formatNodes,(parentNode,formatNode)=>{return appendNode(parentNode,formatNode.cloneNode(false));},caretContainer);const doc=(_a=innerMostFormatNode.ownerDocument)!==null&&_a!==void 0?_a:document;return appendNode(innerMostFormatNode,doc.createTextNode(ZWSP));};const cleanFormatNode=(editor,caretContainer,formatNode,name,vars,similar)=>{const formatter=editor.formatter;const dom=editor.dom;const validFormats=filter$5(keys(formatter.get()),formatName=>formatName!==name&&!contains$1(formatName,'removeformat'));const matchedFormats=matchAllOnNode(editor,formatNode,validFormats);const uniqueFormats=filter$5(matchedFormats,fmtName=>!areSimilarFormats(editor,fmtName,name));if(uniqueFormats.length>0){const clonedFormatNode=formatNode.cloneNode(false);dom.add(caretContainer,clonedFormatNode);formatter.remove(name,vars,clonedFormatNode,similar);dom.remove(clonedFormatNode);return Optional.some(clonedFormatNode);}else{return Optional.none();}};const applyCaretFormat=(editor,name,vars)=>{let caretContainer;const selection=editor.selection;const formatList=editor.formatter.get(name);if(!formatList){return;}const selectionRng=selection.getRng();let offset=selectionRng.startOffset;const container=selectionRng.startContainer;const text=container.nodeValue;caretContainer=getParentCaretContainer(editor.getBody(),selection.getStart());const wordcharRegex=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;if(text&&offset>0&&offset<text.length&&wordcharRegex.test(text.charAt(offset))&&wordcharRegex.test(text.charAt(offset-1))){const bookmark=selection.getBookmark();selectionRng.collapse(true);let rng=expandRng(editor.dom,selectionRng,formatList);rng=split(rng);editor.formatter.apply(name,vars,rng);selection.moveToBookmark(bookmark);}else{let textNode=caretContainer?findFirstTextNode(caretContainer):null;if(!caretContainer||(textNode===null||textNode===void 0?void 0:textNode.data)!==ZWSP){caretContainer=importNode(editor.getDoc(),createCaretContainer(true).dom);textNode=caretContainer.firstChild;selectionRng.insertNode(caretContainer);offset=1;editor.formatter.apply(name,vars,caretContainer);}else{editor.formatter.apply(name,vars,caretContainer);}selection.setCursorLocation(textNode,offset);}};const removeCaretFormat=(editor,name,vars,similar)=>{const dom=editor.dom;const selection=editor.selection;let hasContentAfter=false;const formatList=editor.formatter.get(name);if(!formatList){return;}const rng=selection.getRng();const container=rng.startContainer;const offset=rng.startOffset;let node=container;if(isText$a(container)){if(offset!==container.data.length){hasContentAfter=true;}node=node.parentNode;}const parents=[];let formatNode;while(node){if(matchNode(editor,node,name,vars,similar)){formatNode=node;break;}if(node.nextSibling){hasContentAfter=true;}parents.push(node);node=node.parentNode;}if(!formatNode){return;}if(hasContentAfter){const bookmark=selection.getBookmark();rng.collapse(true);let expandedRng=expandRng(dom,rng,formatList,true);expandedRng=split(expandedRng);editor.formatter.remove(name,vars,expandedRng,similar);selection.moveToBookmark(bookmark);}else{const caretContainer=getParentCaretContainer(editor.getBody(),formatNode);const parentsAfter=isNonNullable(caretContainer)?dom.getParents(formatNode.parentNode,always,caretContainer):[];const newCaretContainer=createCaretContainer(false).dom;insertCaretContainerNode(editor,newCaretContainer,caretContainer!==null&&caretContainer!==void 0?caretContainer:formatNode);const cleanedFormatNode=cleanFormatNode(editor,newCaretContainer,formatNode,name,vars,similar);const caretTextNode=insertFormatNodesIntoCaretContainer([...parents,...cleanedFormatNode.toArray(),...parentsAfter],newCaretContainer);if(caretContainer){removeCaretContainerNode(editor,caretContainer,isNonNullable(caretContainer));}selection.setCursorLocation(caretTextNode,1);if(dom.isEmpty(formatNode)){dom.remove(formatNode);}}};const disableCaretContainer=(editor,keyCode,moveCaret)=>{const selection=editor.selection,body=editor.getBody();removeCaretContainer(editor,null,moveCaret);if((keyCode===8||keyCode===46)&&selection.isCollapsed()&&selection.getStart().innerHTML===ZWSP){removeCaretContainer(editor,getParentCaretContainer(body,selection.getStart()),true);}if(keyCode===37||keyCode===39){removeCaretContainer(editor,getParentCaretContainer(body,selection.getStart()),true);}};const endsWithNbsp=element=>isText$a(element)&&endsWith(element.data,nbsp);const setup$v=editor=>{editor.on('mouseup keydown',e=>{disableCaretContainer(editor,e.keyCode,endsWithNbsp(editor.selection.getRng().endContainer));});};const createCaretFormat=formatNodes=>{const caretContainer=createCaretContainer(false);const innerMost=insertFormatNodesIntoCaretContainer(formatNodes,caretContainer.dom);return{caretContainer,caretPosition:CaretPosition(innerMost,0)};};const replaceWithCaretFormat=(targetNode,formatNodes)=>{const{caretContainer,caretPosition}=createCaretFormat(formatNodes);before$3(SugarElement.fromDom(targetNode),caretContainer);remove$5(SugarElement.fromDom(targetNode));return caretPosition;};const createCaretFormatAtStart$1=(rng,formatNodes)=>{const{caretContainer,caretPosition}=createCaretFormat(formatNodes);rng.insertNode(caretContainer.dom);return caretPosition;};const isFormatElement=(editor,element)=>{if(isCaretNode(element.dom)){return false;}const inlineElements=editor.schema.getTextInlineElements();return has$2(inlineElements,name(element))&&!isCaretNode(element.dom)&&!isBogus$2(element.dom);};const postProcessHooks={};const isPre=matchNodeNames(['pre']);const addPostProcessHook=(name,hook)=>{const hooks=postProcessHooks[name];if(!hooks){postProcessHooks[name]=[];}postProcessHooks[name].push(hook);};const postProcess$1=(name,editor)=>{if(has$2(postProcessHooks,name)){each$e(postProcessHooks[name],hook=>{hook(editor);});}};addPostProcessHook('pre',editor=>{const rng=editor.selection.getRng();const hasPreSibling=blocks=>pre=>{const prev=pre.previousSibling;return isPre(prev)&&contains$2(blocks,prev);};const joinPre=(pre1,pre2)=>{const sPre2=SugarElement.fromDom(pre2);const doc=documentOrOwner(sPre2).dom;remove$5(sPre2);append(SugarElement.fromDom(pre1),[SugarElement.fromTag('br',doc),SugarElement.fromTag('br',doc),...children$1(sPre2)]);};if(!rng.collapsed){const blocks=editor.selection.getSelectedBlocks();const preBlocks=filter$5(filter$5(blocks,isPre),hasPreSibling(blocks));each$e(preBlocks,pre=>{joinPre(pre.previousSibling,pre);});}});const listItemStyles=['fontWeight','fontStyle','color','fontSize','fontFamily'];const hasListStyles=fmt=>isObject(fmt.styles)&&exists(keys(fmt.styles),name=>contains$2(listItemStyles,name));const findExpandedListItemFormat=formats=>find$2(formats,fmt=>isInlineFormat(fmt)&&fmt.inline==='span'&&hasListStyles(fmt));const getExpandedListItemFormat=(formatter,format)=>{const formatList=formatter.get(format);return isArray$1(formatList)?findExpandedListItemFormat(formatList):Optional.none();};const isRngStartAtStartOfElement=(rng,elm)=>prevPosition(elm,CaretPosition.fromRangeStart(rng)).isNone();const isRngEndAtEndOfElement=(rng,elm)=>{return nextPosition(elm,CaretPosition.fromRangeEnd(rng)).exists(pos=>!isBr$6(pos.getNode())||nextPosition(elm,pos).isSome())===false;};const isEditableListItem=dom=>elm=>isListItem$2(elm)&&dom.isEditable(elm);const getFullySelectedBlocks=selection=>{const blocks=selection.getSelectedBlocks();const rng=selection.getRng();if(selection.isCollapsed()){return[];}if(blocks.length===1){return isRngStartAtStartOfElement(rng,blocks[0])&&isRngEndAtEndOfElement(rng,blocks[0])?blocks:[];}else{const first=head(blocks).filter(elm=>isRngStartAtStartOfElement(rng,elm)).toArray();const last=last$3(blocks).filter(elm=>isRngEndAtEndOfElement(rng,elm)).toArray();const middle=blocks.slice(1,-1);return first.concat(middle).concat(last);}};const getFullySelectedListItems=selection=>filter$5(getFullySelectedBlocks(selection),isEditableListItem(selection.dom));const getPartiallySelectedListItems=selection=>filter$5(selection.getSelectedBlocks(),isEditableListItem(selection.dom));const each$8=Tools.each;const isElementNode=node=>isElement$6(node)&&!isBookmarkNode$1(node)&&!isCaretNode(node)&&!isBogus$2(node);const findElementSibling=(node,siblingName)=>{for(let sibling=node;sibling;sibling=sibling[siblingName]){if(isText$a(sibling)&&isNotEmpty(sibling.data)){return node;}if(isElement$6(sibling)&&!isBookmarkNode$1(sibling)){return sibling;}}return node;};const mergeSiblingsNodes=(editor,prev,next)=>{const elementUtils=ElementUtils(editor);const isPrevEditable=isHTMLElement(prev)&&editor.dom.isEditable(prev);const isNextEditable=isHTMLElement(next)&&editor.dom.isEditable(next);if(isPrevEditable&&isNextEditable){const prevSibling=findElementSibling(prev,'previousSibling');const nextSibling=findElementSibling(next,'nextSibling');if(elementUtils.compare(prevSibling,nextSibling)){for(let sibling=prevSibling.nextSibling;sibling&&sibling!==nextSibling;){const tmpSibling=sibling;sibling=sibling.nextSibling;prevSibling.appendChild(tmpSibling);}editor.dom.remove(nextSibling);Tools.each(Tools.grep(nextSibling.childNodes),node=>{prevSibling.appendChild(node);});return prevSibling;}}return next;};const mergeSiblings=(editor,format,vars,node)=>{var _a;if(node&&format.merge_siblings!==false){const newNode=(_a=mergeSiblingsNodes(editor,getNonWhiteSpaceSibling(node),node))!==null&&_a!==void 0?_a:node;mergeSiblingsNodes(editor,newNode,getNonWhiteSpaceSibling(newNode,true));}};const clearChildStyles=(dom,format,node)=>{if(format.clear_child_styles){const selector=format.links?'*:not(a)':'*';each$8(dom.select(selector,node),childNode=>{if(isElementNode(childNode)&&dom.isEditable(childNode)){each$8(format.styles,(_value,name)=>{dom.setStyle(childNode,name,'');});}});}};const processChildElements=(node,filter,process)=>{each$8(node.childNodes,node=>{if(isElementNode(node)){if(filter(node)){process(node);}if(node.hasChildNodes()){processChildElements(node,filter,process);}}});};const unwrapEmptySpan=(dom,node)=>{if(node.nodeName==='SPAN'&&dom.getAttribs(node).length===0){dom.remove(node,true);}};const hasStyle=(dom,name)=>node=>!!(node&&getStyle(dom,node,name));const applyStyle=(dom,name,value)=>node=>{dom.setStyle(node,name,value);if(node.getAttribute('style')===''){node.removeAttribute('style');}unwrapEmptySpan(dom,node);};const removeResult=Adt.generate([{keep:[]},{rename:['name']},{removed:[]}]);const MCE_ATTR_RE=/^(src|href|style)$/;const each$7=Tools.each;const isEq$2=isEq$5;const isTableCellOrRow=node=>/^(TR|TH|TD)$/.test(node.nodeName);const isChildOfInlineParent=(dom,node,parent)=>dom.isChildOf(node,parent)&&node!==parent&&!dom.isBlock(parent);const getContainer=(ed,rng,start)=>{let container=rng[start?'startContainer':'endContainer'];let offset=rng[start?'startOffset':'endOffset'];if(isElement$6(container)){const lastIdx=container.childNodes.length-1;if(!start&&offset){offset--;}container=container.childNodes[offset>lastIdx?lastIdx:offset];}if(isText$a(container)&&start&&offset>=container.data.length){container=new DomTreeWalker(container,ed.getBody()).next()||container;}if(isText$a(container)&&!start&&offset===0){container=new DomTreeWalker(container,ed.getBody()).prev()||container;}return container;};const normalizeTableSelection=(node,start)=>{const prop=start?'firstChild':'lastChild';const childNode=node[prop];if(isTableCellOrRow(node)&&childNode){if(node.nodeName==='TR'){return childNode[prop]||childNode;}else{return childNode;}}return node;};const wrap$1=(dom,node,name,attrs)=>{var _a;const wrapper=dom.create(name,attrs);(_a=node.parentNode)===null||_a===void 0?void 0:_a.insertBefore(wrapper,node);wrapper.appendChild(node);return wrapper;};const wrapWithSiblings=(dom,node,next,name,attrs)=>{const start=SugarElement.fromDom(node);const wrapper=SugarElement.fromDom(dom.create(name,attrs));const siblings=next?nextSiblings(start):prevSiblings(start);append(wrapper,siblings);if(next){before$3(start,wrapper);prepend(wrapper,start);}else{after$4(start,wrapper);append$1(wrapper,start);}return wrapper.dom;};const isColorFormatAndAnchor=(node,format)=>format.links&&node.nodeName==='A';const removeNode=(ed,node,format)=>{const parentNode=node.parentNode;let rootBlockElm;const dom=ed.dom;const forcedRootBlock=getForcedRootBlock(ed);if(isBlockFormat(format)){if(parentNode===dom.getRoot()){if(!format.list_block||!isEq$2(node,format.list_block)){each$e(from(node.childNodes),node=>{if(isValid(ed,forcedRootBlock,node.nodeName.toLowerCase())){if(!rootBlockElm){rootBlockElm=wrap$1(dom,node,forcedRootBlock);dom.setAttribs(rootBlockElm,getForcedRootBlockAttrs(ed));}else{rootBlockElm.appendChild(node);}}else{rootBlockElm=null;}});}}}if(isMixedFormat(format)&&!isEq$2(format.inline,node)){return;}dom.remove(node,true);};const processFormatAttrOrStyle=(name,value,vars)=>{if(isNumber(name)){return{name:value,value:null};}else{return{name,value:replaceVars(value,vars)};}};const removeEmptyStyleAttributeIfNeeded=(dom,elm)=>{if(dom.getAttrib(elm,'style')===''){elm.removeAttribute('style');elm.removeAttribute('data-mce-style');}};const removeStyles=(dom,elm,format,vars,compareNode)=>{let stylesModified=false;each$7(format.styles,(value,name)=>{const{name:styleName,value:styleValue}=processFormatAttrOrStyle(name,value,vars);const normalizedStyleValue=normalizeStyleValue(styleValue,styleName);if(format.remove_similar||isNull(styleValue)||!isElement$6(compareNode)||isEq$2(getStyle(dom,compareNode,styleName),normalizedStyleValue)){dom.setStyle(elm,styleName,'');}stylesModified=true;});if(stylesModified){removeEmptyStyleAttributeIfNeeded(dom,elm);}};const removeListStyleFormats=(editor,name,vars)=>{if(name==='removeformat'){each$e(getPartiallySelectedListItems(editor.selection),li=>{each$e(listItemStyles,name=>editor.dom.setStyle(li,name,''));removeEmptyStyleAttributeIfNeeded(editor.dom,li);});}else{getExpandedListItemFormat(editor.formatter,name).each(liFmt=>{each$e(getPartiallySelectedListItems(editor.selection),li=>removeStyles(editor.dom,li,liFmt,vars,null));});}};const removeNodeFormatInternal=(ed,format,vars,node,compareNode)=>{const dom=ed.dom;const elementUtils=ElementUtils(ed);const schema=ed.schema;if(isInlineFormat(format)&&isTransparentElementName(schema,format.inline)&&isTransparentBlock(schema,node)&&node.parentElement===ed.getBody()){removeNode(ed,node,format);return removeResult.removed();}if(!format.ceFalseOverride&&node&&dom.getContentEditableParent(node)==='false'){return removeResult.keep();}if(node&&!matchName(dom,node,format)&&!isColorFormatAndAnchor(node,format)){return removeResult.keep();}const elm=node;const preserveAttributes=format.preserve_attributes;if(isInlineFormat(format)&&format.remove==='all'&&isArray$1(preserveAttributes)){const attrsToPreserve=filter$5(dom.getAttribs(elm),attr=>contains$2(preserveAttributes,attr.name.toLowerCase()));dom.removeAllAttribs(elm);each$e(attrsToPreserve,attr=>dom.setAttrib(elm,attr.name,attr.value));if(attrsToPreserve.length>0){return removeResult.rename('span');}}if(format.remove!=='all'){removeStyles(dom,elm,format,vars,compareNode);each$7(format.attributes,(value,name)=>{const{name:attrName,value:attrValue}=processFormatAttrOrStyle(name,value,vars);if(format.remove_similar||isNull(attrValue)||!isElement$6(compareNode)||isEq$2(dom.getAttrib(compareNode,attrName),attrValue)){if(attrName==='class'){const currentValue=dom.getAttrib(elm,attrName);if(currentValue){let valueOut='';each$e(currentValue.split(/\\s+/),cls=>{if(/mce\\-\\w+/.test(cls)){valueOut+=(valueOut?' ':'')+cls;}});if(valueOut){dom.setAttrib(elm,attrName,valueOut);return;}}}if(MCE_ATTR_RE.test(attrName)){elm.removeAttribute('data-mce-'+attrName);}if(attrName==='style'&&matchNodeNames(['li'])(elm)&&dom.getStyle(elm,'list-style-type')==='none'){elm.removeAttribute(attrName);dom.setStyle(elm,'list-style-type','none');return;}if(attrName==='class'){elm.removeAttribute('className');}elm.removeAttribute(attrName);}});each$7(format.classes,value=>{value=replaceVars(value,vars);if(!isElement$6(compareNode)||dom.hasClass(compareNode,value)){dom.removeClass(elm,value);}});const attrs=dom.getAttribs(elm);for(let i=0;i<attrs.length;i++){const attrName=attrs[i].nodeName;if(!elementUtils.isAttributeInternal(attrName)){return removeResult.keep();}}}if(format.remove!=='none'){removeNode(ed,elm,format);return removeResult.removed();}return removeResult.keep();};const findFormatRoot=(editor,container,name,vars,similar)=>{let formatRoot;if(container.parentNode){each$e(getParents$2(editor.dom,container.parentNode).reverse(),parent=>{if(!formatRoot&&isElement$6(parent)&&parent.id!=='_start'&&parent.id!=='_end'){const format=matchNode(editor,parent,name,vars,similar);if(format&&format.split!==false){formatRoot=parent;}}});}return formatRoot;};const removeNodeFormatFromClone=(editor,format,vars,clone)=>removeNodeFormatInternal(editor,format,vars,clone,clone).fold(constant(clone),newName=>{const fragment=editor.dom.createFragment();fragment.appendChild(clone);return editor.dom.rename(clone,newName);},constant(null));const wrapAndSplit=(editor,formatList,formatRoot,container,target,split,format,vars)=>{var _a,_b;let lastClone;let firstClone;const dom=editor.dom;if(formatRoot){const formatRootParent=formatRoot.parentNode;for(let parent=container.parentNode;parent&&parent!==formatRootParent;parent=parent.parentNode){let clone=dom.clone(parent,false);for(let i=0;i<formatList.length;i++){clone=removeNodeFormatFromClone(editor,formatList[i],vars,clone);if(clone===null){break;}}if(clone){if(lastClone){clone.appendChild(lastClone);}if(!firstClone){firstClone=clone;}lastClone=clone;}}if(split&&(!format.mixed||!dom.isBlock(formatRoot))){container=(_a=dom.split(formatRoot,container))!==null&&_a!==void 0?_a:container;}if(lastClone&&firstClone){(_b=target.parentNode)===null||_b===void 0?void 0:_b.insertBefore(lastClone,target);firstClone.appendChild(target);if(isInlineFormat(format)){mergeSiblings(editor,format,vars,lastClone);}}}return container;};const removeFormatInternal=(ed,name,vars,node,similar)=>{const formatList=ed.formatter.get(name);const format=formatList[0];const dom=ed.dom;const selection=ed.selection;const splitToFormatRoot=container=>{const formatRoot=findFormatRoot(ed,container,name,vars,similar);return wrapAndSplit(ed,formatList,formatRoot,container,container,true,format,vars);};const isRemoveBookmarkNode=node=>isBookmarkNode$1(node)&&isElement$6(node)&&(node.id==='_start'||node.id==='_end');const removeFormatOnNode=node=>exists(formatList,fmt=>removeNodeFormat(ed,fmt,vars,node,node));const process=node=>{const children=from(node.childNodes);const removed=removeFormatOnNode(node);const currentNodeMatches=removed||exists(formatList,f=>matchName(dom,node,f));const parentNode=node.parentNode;if(!currentNodeMatches&&isNonNullable(parentNode)&&shouldExpandToSelector(format)){removeFormatOnNode(parentNode);}if(format.deep){if(children.length){for(let i=0;i<children.length;i++){process(children[i]);}}}const textDecorations=['underline','line-through','overline'];each$e(textDecorations,decoration=>{if(isElement$6(node)&&ed.dom.getStyle(node,'text-decoration')===decoration&&node.parentNode&&getTextDecoration(dom,node.parentNode)===decoration){removeNodeFormat(ed,{deep:false,exact:true,inline:'span',styles:{textDecoration:decoration}},undefined,node);}});};const unwrap=start=>{const node=dom.get(start?'_start':'_end');if(node){let out=node[start?'firstChild':'lastChild'];if(isRemoveBookmarkNode(out)){out=out[start?'firstChild':'lastChild'];}if(isText$a(out)&&out.data.length===0){out=start?node.previousSibling||node.nextSibling:node.nextSibling||node.previousSibling;}dom.remove(node,true);return out;}else{return null;}};const removeRngStyle=rng=>{let startContainer;let endContainer;let expandedRng=expandRng(dom,rng,formatList,rng.collapsed);if(format.split){expandedRng=split(expandedRng);startContainer=getContainer(ed,expandedRng,true);endContainer=getContainer(ed,expandedRng);if(startContainer!==endContainer){startContainer=normalizeTableSelection(startContainer,true);endContainer=normalizeTableSelection(endContainer,false);if(isChildOfInlineParent(dom,startContainer,endContainer)){const marker=Optional.from(startContainer.firstChild).getOr(startContainer);splitToFormatRoot(wrapWithSiblings(dom,marker,true,'span',{'id':'_start','data-mce-type':'bookmark'}));unwrap(true);return;}if(isChildOfInlineParent(dom,endContainer,startContainer)){const marker=Optional.from(endContainer.lastChild).getOr(endContainer);splitToFormatRoot(wrapWithSiblings(dom,marker,false,'span',{'id':'_end','data-mce-type':'bookmark'}));unwrap(false);return;}startContainer=wrap$1(dom,startContainer,'span',{'id':'_start','data-mce-type':'bookmark'});endContainer=wrap$1(dom,endContainer,'span',{'id':'_end','data-mce-type':'bookmark'});const newRng=dom.createRng();newRng.setStartAfter(startContainer);newRng.setEndBefore(endContainer);walk$3(dom,newRng,nodes=>{each$e(nodes,n=>{if(!isBookmarkNode$1(n)&&!isBookmarkNode$1(n.parentNode)){splitToFormatRoot(n);}});});splitToFormatRoot(startContainer);splitToFormatRoot(endContainer);startContainer=unwrap(true);endContainer=unwrap();}else{startContainer=endContainer=splitToFormatRoot(startContainer);}expandedRng.startContainer=startContainer.parentNode?startContainer.parentNode:startContainer;expandedRng.startOffset=dom.nodeIndex(startContainer);expandedRng.endContainer=endContainer.parentNode?endContainer.parentNode:endContainer;expandedRng.endOffset=dom.nodeIndex(endContainer)+1;}walk$3(dom,expandedRng,nodes=>{each$e(nodes,process);});};if(node){if(isNode(node)){const rng=dom.createRng();rng.setStartBefore(node);rng.setEndAfter(node);removeRngStyle(rng);}else{removeRngStyle(node);}fireFormatRemove(ed,name,node,vars);return;}if(!selection.isCollapsed()||!isInlineFormat(format)||getCellsFromEditor(ed).length){preserveSelection(ed,()=>runOnRanges(ed,removeRngStyle),startNode=>isInlineFormat(format)&&match$2(ed,name,vars,startNode));ed.nodeChanged();}else{removeCaretFormat(ed,name,vars,similar);}removeListStyleFormats(ed,name,vars);fireFormatRemove(ed,name,node,vars);};const removeFormat$1=(ed,name,vars,node,similar)=>{if(node||ed.selection.isEditable()){removeFormatInternal(ed,name,vars,node,similar);}};const removeNodeFormat=(editor,format,vars,node,compareNode)=>{return removeNodeFormatInternal(editor,format,vars,node,compareNode).fold(never,newName=>{editor.dom.rename(node,newName);return true;},always);};const each$6=Tools.each;const mergeTextDecorationsAndColor=(dom,format,vars,node)=>{const processTextDecorationsAndColor=n=>{if(isHTMLElement(n)&&isElement$6(n.parentNode)&&dom.isEditable(n)){const parentTextDecoration=getTextDecoration(dom,n.parentNode);if(dom.getStyle(n,'color')&&parentTextDecoration){dom.setStyle(n,'text-decoration',parentTextDecoration);}else if(dom.getStyle(n,'text-decoration')===parentTextDecoration){dom.setStyle(n,'text-decoration',null);}}};if(format.styles&&(format.styles.color||format.styles.textDecoration)){Tools.walk(node,processTextDecorationsAndColor,'childNodes');processTextDecorationsAndColor(node);}};const mergeBackgroundColorAndFontSize=(dom,format,vars,node)=>{if(format.styles&&format.styles.backgroundColor){const hasFontSize=hasStyle(dom,'fontSize');processChildElements(node,elm=>hasFontSize(elm)&&dom.isEditable(elm),applyStyle(dom,'backgroundColor',replaceVars(format.styles.backgroundColor,vars)));}};const mergeSubSup=(dom,format,vars,node)=>{if(isInlineFormat(format)&&(format.inline==='sub'||format.inline==='sup')){const hasFontSize=hasStyle(dom,'fontSize');processChildElements(node,elm=>hasFontSize(elm)&&dom.isEditable(elm),applyStyle(dom,'fontSize',''));const inverseTagDescendants=filter$5(dom.select(format.inline==='sup'?'sub':'sup',node),dom.isEditable);dom.remove(inverseTagDescendants,true);}};const mergeWithChildren=(editor,formatList,vars,node)=>{each$6(formatList,format=>{if(isInlineFormat(format)){each$6(editor.dom.select(format.inline,node),child=>{if(isElementNode(child)){removeNodeFormat(editor,format,vars,child,format.exact?child:null);}});}clearChildStyles(editor.dom,format,node);});};const mergeWithParents=(editor,format,name,vars,node)=>{const parentNode=node.parentNode;if(matchNode(editor,parentNode,name,vars)){if(removeNodeFormat(editor,format,vars,node)){return;}}if(format.merge_with_parents&&parentNode){editor.dom.getParent(parentNode,parent=>{if(matchNode(editor,parent,name,vars)){removeNodeFormat(editor,format,vars,node);return true;}else{return false;}});}};const each$5=Tools.each;const canFormatBR=(editor,format,node,parentName)=>{if(canFormatEmptyLines(editor)&&isInlineFormat(format)&&node.parentNode){const validBRParentElements=getTextRootBlockElements(editor.schema);const hasCaretNodeSibling=sibling(SugarElement.fromDom(node),sibling=>isCaretNode(sibling.dom));return hasNonNullableKey(validBRParentElements,parentName)&&isEmpty$2(SugarElement.fromDom(node.parentNode),false)&&!hasCaretNodeSibling;}else{return false;}};const applyStyles=(dom,elm,format,vars)=>{each$5(format.styles,(value,name)=>{dom.setStyle(elm,name,replaceVars(value,vars));});if(format.styles){const styleVal=dom.getAttrib(elm,'style');if(styleVal){dom.setAttrib(elm,'data-mce-style',styleVal);}}};const applyFormatAction=(ed,name,vars,node)=>{const formatList=ed.formatter.get(name);const format=formatList[0];const isCollapsed=!node&&ed.selection.isCollapsed();const dom=ed.dom;const selection=ed.selection;const setElementFormat=(elm,fmt=format)=>{if(isFunction(fmt.onformat)){fmt.onformat(elm,fmt,vars,node);}applyStyles(dom,elm,fmt,vars);each$5(fmt.attributes,(value,name)=>{dom.setAttrib(elm,name,replaceVars(value,vars));});each$5(fmt.classes,value=>{const newValue=replaceVars(value,vars);if(!dom.hasClass(elm,newValue)){dom.addClass(elm,newValue);}});};const applyNodeStyle=(formatList,node)=>{let found=false;each$5(formatList,format=>{if(!isSelectorFormat(format)){return false;}if(dom.getContentEditable(node)==='false'&&!format.ceFalseOverride){return true;}if(isNonNullable(format.collapsed)&&format.collapsed!==isCollapsed){return true;}if(dom.is(node,format.selector)&&!isCaretNode(node)){setElementFormat(node,format);found=true;return false;}return true;});return found;};const createWrapElement=wrapName=>{if(isString(wrapName)){const wrapElm=dom.create(wrapName);setElementFormat(wrapElm);return wrapElm;}else{return null;}};const applyRngStyle=(dom,rng,nodeSpecific)=>{const newWrappers=[];let contentEditable=true;const wrapName=format.inline||format.block;const wrapElm=createWrapElement(wrapName);const isMatchingWrappingBlock=node=>isWrappingBlockFormat(format)&&matchNode(ed,node,name,vars);const canRenameBlock=(node,parentName,isEditableDescendant)=>{const isValidBlockFormatForNode=isNonWrappingBlockFormat(format)&&isTextBlock$1(ed.schema,node)&&isValid(ed,parentName,wrapName);return isEditableDescendant&&isValidBlockFormatForNode;};const canWrapNode=(node,parentName,isEditableDescendant,isWrappableNoneditableElm)=>{const nodeName=node.nodeName.toLowerCase();const isValidWrapNode=isValid(ed,wrapName,nodeName)&&isValid(ed,parentName,wrapName);const isZwsp=!nodeSpecific&&isText$a(node)&&isZwsp$1(node.data);const isCaret=isCaretNode(node);const isCorrectFormatForNode=!isInlineFormat(format)||!dom.isBlock(node);return(isEditableDescendant||isWrappableNoneditableElm)&&isValidWrapNode&&!isZwsp&&!isCaret&&isCorrectFormatForNode;};walk$3(dom,rng,nodes=>{let currentWrapElm;const process=node=>{let hasContentEditableState=false;let lastContentEditable=contentEditable;let isWrappableNoneditableElm=false;const parentNode=node.parentNode;const parentName=parentNode.nodeName.toLowerCase();const contentEditableValue=dom.getContentEditable(node);if(isNonNullable(contentEditableValue)){lastContentEditable=contentEditable;contentEditable=contentEditableValue==='true';hasContentEditableState=true;isWrappableNoneditableElm=isWrappableNoneditable(ed,node);}const isEditableDescendant=contentEditable&&!hasContentEditableState;if(isBr$6(node)&&!canFormatBR(ed,format,node,parentName)){currentWrapElm=null;if(isBlockFormat(format)){dom.remove(node);}return;}if(isMatchingWrappingBlock(node)){currentWrapElm=null;return;}if(canRenameBlock(node,parentName,isEditableDescendant)){const elm=dom.rename(node,wrapName);setElementFormat(elm);newWrappers.push(elm);currentWrapElm=null;return;}if(isSelectorFormat(format)){let found=applyNodeStyle(formatList,node);if(!found&&isNonNullable(parentNode)&&shouldExpandToSelector(format)){found=applyNodeStyle(formatList,parentNode);}if(!isInlineFormat(format)||found){currentWrapElm=null;return;}}if(isNonNullable(wrapElm)&&canWrapNode(node,parentName,isEditableDescendant,isWrappableNoneditableElm)){if(!currentWrapElm){currentWrapElm=dom.clone(wrapElm,false);parentNode.insertBefore(currentWrapElm,node);newWrappers.push(currentWrapElm);}if(isWrappableNoneditableElm&&hasContentEditableState){contentEditable=lastContentEditable;}currentWrapElm.appendChild(node);}else{currentWrapElm=null;each$e(from(node.childNodes),process);if(hasContentEditableState){contentEditable=lastContentEditable;}currentWrapElm=null;}};each$e(nodes,process);});if(format.links===true){each$e(newWrappers,node=>{const process=node=>{if(node.nodeName==='A'){setElementFormat(node,format);}each$e(from(node.childNodes),process);};process(node);});}each$e(newWrappers,node=>{const getChildCount=node=>{let count=0;each$e(node.childNodes,node=>{if(!isEmptyTextNode$1(node)&&!isBookmarkNode$1(node)){count++;}});return count;};const mergeStyles=node=>{const childElement=find$2(node.childNodes,isElementNode$1).filter(child=>dom.getContentEditable(child)!=='false'&&matchName(dom,child,format));return childElement.map(child=>{const clone=dom.clone(child,false);setElementFormat(clone);dom.replace(clone,node,true);dom.remove(child,true);return clone;}).getOr(node);};const childCount=getChildCount(node);if((newWrappers.length>1||!dom.isBlock(node))&&childCount===0){dom.remove(node,true);return;}if(isInlineFormat(format)||isBlockFormat(format)&&format.wrapper){if(!format.exact&&childCount===1){node=mergeStyles(node);}mergeWithChildren(ed,formatList,vars,node);mergeWithParents(ed,format,name,vars,node);mergeBackgroundColorAndFontSize(dom,format,vars,node);mergeTextDecorationsAndColor(dom,format,vars,node);mergeSubSup(dom,format,vars,node);mergeSiblings(ed,format,vars,node);}});};const targetNode=isNode(node)?node:selection.getNode();if(dom.getContentEditable(targetNode)==='false'&&!isWrappableNoneditable(ed,targetNode)){node=targetNode;applyNodeStyle(formatList,node);fireFormatApply(ed,name,node,vars);return;}if(format){if(node){if(isNode(node)){if(!applyNodeStyle(formatList,node)){const rng=dom.createRng();rng.setStartBefore(node);rng.setEndAfter(node);applyRngStyle(dom,expandRng(dom,rng,formatList),true);}}else{applyRngStyle(dom,node,true);}}else{if(!isCollapsed||!isInlineFormat(format)||getCellsFromEditor(ed).length){selection.setRng(normalize(selection.getRng()));preserveSelection(ed,()=>{runOnRanges(ed,(selectionRng,fake)=>{const expandedRng=fake?selectionRng:expandRng(dom,selectionRng,formatList);applyRngStyle(dom,expandedRng,false);});},always);ed.nodeChanged();}else{applyCaretFormat(ed,name,vars);}getExpandedListItemFormat(ed.formatter,name).each(liFmt=>{each$e(getFullySelectedListItems(ed.selection),li=>applyStyles(dom,li,liFmt,vars));});}postProcess$1(name,ed);}fireFormatApply(ed,name,node,vars);};const applyFormat$1=(editor,name,vars,node)=>{if(node||editor.selection.isEditable()){applyFormatAction(editor,name,vars,node);}};const hasVars=value=>has$2(value,'vars');const setup$u=(registeredFormatListeners,editor)=>{registeredFormatListeners.set({});editor.on('NodeChange',e=>{updateAndFireChangeCallbacks(editor,e.element,registeredFormatListeners.get());});editor.on('FormatApply FormatRemove',e=>{const element=Optional.from(e.node).map(nodeOrRange=>isNode(nodeOrRange)?nodeOrRange:nodeOrRange.startContainer).bind(node=>isElement$6(node)?Optional.some(node):Optional.from(node.parentElement)).getOrThunk(()=>fallbackElement(editor));updateAndFireChangeCallbacks(editor,element,registeredFormatListeners.get());});};const fallbackElement=editor=>editor.selection.getStart();const matchingNode=(editor,parents,format,similar,vars)=>{const isMatchingNode=node=>{const matchingFormat=editor.formatter.matchNode(node,format,vars!==null&&vars!==void 0?vars:{},similar);return!isUndefined(matchingFormat);};const isUnableToMatch=node=>{if(matchesUnInheritedFormatSelector(editor,node,format)){return true;}else{if(!similar){return isNonNullable(editor.formatter.matchNode(node,format,vars,true));}else{return false;}}};return findUntil$1(parents,isMatchingNode,isUnableToMatch);};const getParents=(editor,elm)=>{const element=elm!==null&&elm!==void 0?elm:fallbackElement(editor);return filter$5(getParents$2(editor.dom,element),node=>isElement$6(node)&&!isBogus$2(node));};const updateAndFireChangeCallbacks=(editor,elm,registeredCallbacks)=>{const parents=getParents(editor,elm);each$d(registeredCallbacks,(data,format)=>{const runIfChanged=spec=>{const match=matchingNode(editor,parents,format,spec.similar,hasVars(spec)?spec.vars:undefined);const isSet=match.isSome();if(spec.state.get()!==isSet){spec.state.set(isSet);const node=match.getOr(elm);if(hasVars(spec)){spec.callback(isSet,{node,format,parents});}else{each$e(spec.callbacks,callback=>callback(isSet,{node,format,parents}));}}};each$e([data.withSimilar,data.withoutSimilar],runIfChanged);each$e(data.withVars,runIfChanged);});};const addListeners=(editor,registeredFormatListeners,formats,callback,similar,vars)=>{const formatChangeItems=registeredFormatListeners.get();each$e(formats.split(','),format=>{const group=get$a(formatChangeItems,format).getOrThunk(()=>{const base={withSimilar:{state:Cell(false),similar:true,callbacks:[]},withoutSimilar:{state:Cell(false),similar:false,callbacks:[]},withVars:[]};formatChangeItems[format]=base;return base;});const getCurrent=()=>{const parents=getParents(editor);return matchingNode(editor,parents,format,similar,vars).isSome();};if(isUndefined(vars)){const toAppendTo=similar?group.withSimilar:group.withoutSimilar;toAppendTo.callbacks.push(callback);if(toAppendTo.callbacks.length===1){toAppendTo.state.set(getCurrent());}}else{group.withVars.push({state:Cell(getCurrent()),similar,vars,callback});}});registeredFormatListeners.set(formatChangeItems);};const removeListeners=(registeredFormatListeners,formats,callback)=>{const formatChangeItems=registeredFormatListeners.get();each$e(formats.split(','),format=>get$a(formatChangeItems,format).each(group=>{formatChangeItems[format]={withSimilar:{...group.withSimilar,callbacks:filter$5(group.withSimilar.callbacks,cb=>cb!==callback)},withoutSimilar:{...group.withoutSimilar,callbacks:filter$5(group.withoutSimilar.callbacks,cb=>cb!==callback)},withVars:filter$5(group.withVars,item=>item.callback!==callback)};}));registeredFormatListeners.set(formatChangeItems);};const formatChangedInternal=(editor,registeredFormatListeners,formats,callback,similar,vars)=>{addListeners(editor,registeredFormatListeners,formats,callback,similar,vars);return{unbind:()=>removeListeners(registeredFormatListeners,formats,callback)};};const toggle=(editor,name,vars,node)=>{const fmt=editor.formatter.get(name);if(fmt){if(match$2(editor,name,vars,node)&&(!('toggle'in fmt[0])||fmt[0].toggle)){removeFormat$1(editor,name,vars,node);}else{applyFormat$1(editor,name,vars,node);}}};const explode$1=Tools.explode;const create$8=()=>{const filters={};const addFilter=(name,callback)=>{each$e(explode$1(name),name=>{if(!has$2(filters,name)){filters[name]={name,callbacks:[]};}filters[name].callbacks.push(callback);});};const getFilters=()=>values(filters);const removeFilter=(name,callback)=>{each$e(explode$1(name),name=>{if(has$2(filters,name)){if(isNonNullable(callback)){const filter=filters[name];const newCallbacks=filter$5(filter.callbacks,c=>c!==callback);if(newCallbacks.length>0){filter.callbacks=newCallbacks;}else{delete filters[name];}}else{delete filters[name];}}});};return{addFilter,getFilters,removeFilter};};const removeAttrs=(node,names)=>{each$e(names,name=>{node.attr(name,null);});};const addFontToSpansFilter=(domParser,styles,fontSizes)=>{domParser.addNodeFilter('font',nodes=>{each$e(nodes,node=>{const props=styles.parse(node.attr('style'));const color=node.attr('color');const face=node.attr('face');const size=node.attr('size');if(color){props.color=color;}if(face){props['font-family']=face;}if(size){toInt(size).each(num=>{props['font-size']=fontSizes[num-1];});}node.name='span';node.attr('style',styles.serialize(props));removeAttrs(node,['color','face','size']);});});};const addStrikeFilter=(domParser,schema,styles)=>{domParser.addNodeFilter('strike',nodes=>{const convertToSTag=schema.type!=='html4';each$e(nodes,node=>{if(convertToSTag){node.name='s';}else{const props=styles.parse(node.attr('style'));props['text-decoration']='line-through';node.name='span';node.attr('style',styles.serialize(props));}});});};const addFilters=(domParser,settings,schema)=>{var _a;const styles=Styles();if(settings.convert_fonts_to_spans){addFontToSpansFilter(domParser,styles,Tools.explode((_a=settings.font_size_legacy_values)!==null&&_a!==void 0?_a:''));}addStrikeFilter(domParser,schema,styles);};const register$5=(domParser,settings,schema)=>{if(settings.inline_styles){addFilters(domParser,settings,schema);}};const addNodeFilter=(settings,htmlParser,schema)=>{htmlParser.addNodeFilter('br',(nodes,_,args)=>{const blockElements=Tools.extend({},schema.getBlockElements());const nonEmptyElements=schema.getNonEmptyElements();const whitespaceElements=schema.getWhitespaceElements();blockElements.body=1;const isBlock=node=>node.name in blockElements||isTransparentAstBlock(schema,node);for(let i=0,l=nodes.length;i<l;i++){let node=nodes[i];let parent=node.parent;if(parent&&isBlock(parent)&&node===parent.lastChild){let prev=node.prev;while(prev){const prevName=prev.name;if(prevName!=='span'||prev.attr('data-mce-type')!=='bookmark'){if(prevName==='br'){node=null;}break;}prev=prev.prev;}if(node){node.remove();if(isEmpty(schema,nonEmptyElements,whitespaceElements,parent)){const elementRule=schema.getElementRule(parent.name);if(elementRule){if(elementRule.removeEmpty){parent.remove();}else if(elementRule.paddEmpty){paddEmptyNode(settings,args,isBlock,parent);}}}}}else{let lastParent=node;while(parent&&parent.firstChild===lastParent&&parent.lastChild===lastParent){lastParent=parent;if(blockElements[parent.name]){break;}parent=parent.parent;}if(lastParent===parent){const textNode=new AstNode('#text',3);textNode.value=nbsp;node.replace(textNode);}}}});};const blobUriToBlob=url=>fetch(url).then(res=>res.ok?res.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${url} to Blob. Resource might not exist or is inaccessible.`,uriType:'blob'}));const extractBase64Data=data=>{const matches=/([a-z0-9+\\/=\\s]+)/i.exec(data);return matches?matches[1]:'';};const parseDataUri=uri=>{const[type,...rest]=uri.split(',');const data=rest.join(',');const matches=/data:([^/]+\\/[^;]+)(;.+)?/.exec(type);if(matches){const base64Encoded=matches[2]===';base64';const extractedData=base64Encoded?extractBase64Data(data):decodeURIComponent(data);return Optional.some({type:matches[1],data:extractedData,base64Encoded});}else{return Optional.none();}};const buildBlob=(type,data,base64Encoded=true)=>{let str=data;if(base64Encoded){try{str=atob(data);}catch(e){return Optional.none();}}const arr=new Uint8Array(str.length);for(let i=0;i<arr.length;i++){arr[i]=str.charCodeAt(i);}return Optional.some(new Blob([arr],{type}));};const dataUriToBlob=uri=>{return new Promise((resolve,reject)=>{parseDataUri(uri).bind(({type,data,base64Encoded})=>buildBlob(type,data,base64Encoded)).fold(()=>reject('Invalid data URI'),resolve);});};const uriToBlob=url=>{if(startsWith(url,'blob:')){return blobUriToBlob(url);}else if(startsWith(url,'data:')){return dataUriToBlob(url);}else{return Promise.reject('Unknown URI format');}};const blobToDataUri=blob=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onloadend=()=>{resolve(reader.result);};reader.onerror=()=>{var _a;reject((_a=reader.error)===null||_a===void 0?void 0:_a.message);};reader.readAsDataURL(blob);});};let count$1=0;const uniqueId$1=prefix=>{return(prefix||'blobid')+count$1++;};const processDataUri=(dataUri,base64Only,generateBlobInfo)=>{return parseDataUri(dataUri).bind(({data,type,base64Encoded})=>{if(base64Only&&!base64Encoded){return Optional.none();}else{const base64=base64Encoded?data:btoa(data);return generateBlobInfo(base64,type);}});};const createBlobInfo$1=(blobCache,blob,base64)=>{const blobInfo=blobCache.create(uniqueId$1(),blob,base64);blobCache.add(blobInfo);return blobInfo;};const dataUriToBlobInfo=(blobCache,dataUri,base64Only=false)=>{return processDataUri(dataUri,base64Only,(base64,type)=>Optional.from(blobCache.getByData(base64,type)).orThunk(()=>buildBlob(type,base64).map(blob=>createBlobInfo$1(blobCache,blob,base64))));};const imageToBlobInfo=(blobCache,imageSrc)=>{const invalidDataUri=()=>Promise.reject('Invalid data URI');if(startsWith(imageSrc,'blob:')){const blobInfo=blobCache.getByUri(imageSrc);if(isNonNullable(blobInfo)){return Promise.resolve(blobInfo);}else{return uriToBlob(imageSrc).then(blob=>{return blobToDataUri(blob).then(dataUri=>{return processDataUri(dataUri,false,base64=>{return Optional.some(createBlobInfo$1(blobCache,blob,base64));}).getOrThunk(invalidDataUri);});});}}else if(startsWith(imageSrc,'data:')){return dataUriToBlobInfo(blobCache,imageSrc).fold(invalidDataUri,blobInfo=>Promise.resolve(blobInfo));}else{return Promise.reject('Unknown image data format');}};const isBogusImage=img=>isNonNullable(img.attr('data-mce-bogus'));const isInternalImageSource=img=>img.attr('src')===Env.transparentSrc||isNonNullable(img.attr('data-mce-placeholder'));const registerBase64ImageFilter=(parser,settings)=>{const{blob_cache:blobCache}=settings;if(blobCache){const processImage=img=>{const inputSrc=img.attr('src');if(isInternalImageSource(img)||isBogusImage(img)||isNullable(inputSrc)){return;}dataUriToBlobInfo(blobCache,inputSrc,true).each(blobInfo=>{img.attr('src',blobInfo.blobUri());});};parser.addAttributeFilter('src',nodes=>each$e(nodes,processImage));}};const isMimeType=(mime,type)=>startsWith(mime,`${type}/`);const createSafeEmbed=(mime,src,width,height,sandboxIframes)=>{let name;if(isUndefined(mime)){name='iframe';}else if(isMimeType(mime,'image')){name='img';}else if(isMimeType(mime,'video')){name='video';}else if(isMimeType(mime,'audio')){name='audio';}else{name='iframe';}const embed=new AstNode(name,1);embed.attr(name==='audio'?{src}:{src,width,height});if(name==='audio'||name==='video'){embed.attr('controls','');}if(name==='iframe'&&sandboxIframes){embed.attr('sandbox','');}return embed;};const register$4=(parser,settings)=>{const schema=parser.schema;if(settings.remove_trailing_brs){addNodeFilter(settings,parser,schema);}parser.addAttributeFilter('href',nodes=>{let i=nodes.length;const appendRel=rel=>{const parts=rel.split(' ').filter(p=>p.length>0);return parts.concat(['noopener']).sort().join(' ');};const addNoOpener=rel=>{const newRel=rel?Tools.trim(rel):'';if(!/\\b(noopener)\\b/g.test(newRel)){return appendRel(newRel);}else{return newRel;}};if(!settings.allow_unsafe_link_target){while(i--){const node=nodes[i];if(node.name==='a'&&node.attr('target')==='_blank'){node.attr('rel',addNoOpener(node.attr('rel')));}}}});if(!settings.allow_html_in_named_anchor){parser.addAttributeFilter('id,name',nodes=>{let i=nodes.length,sibling,prevSibling,parent,node;while(i--){node=nodes[i];if(node.name==='a'&&node.firstChild&&!node.attr('href')){parent=node.parent;sibling=node.lastChild;while(sibling&&parent){prevSibling=sibling.prev;parent.insert(sibling,node);sibling=prevSibling;}}}});}if(settings.fix_list_elements){parser.addNodeFilter('ul,ol',nodes=>{let i=nodes.length,node,parentNode;while(i--){node=nodes[i];parentNode=node.parent;if(parentNode&&(parentNode.name==='ul'||parentNode.name==='ol')){if(node.prev&&node.prev.name==='li'){node.prev.append(node);}else{const li=new AstNode('li',1);li.attr('style','list-style-type: none');node.wrap(li);}}}});}const validClasses=schema.getValidClasses();if(settings.validate&&validClasses){parser.addAttributeFilter('class',nodes=>{var _a;let i=nodes.length;while(i--){const node=nodes[i];const clazz=(_a=node.attr('class'))!==null&&_a!==void 0?_a:'';const classList=Tools.explode(clazz,' ');let classValue='';for(let ci=0;ci<classList.length;ci++){const className=classList[ci];let valid=false;let validClassesMap=validClasses['*'];if(validClassesMap&&validClassesMap[className]){valid=true;}validClassesMap=validClasses[node.name];if(!valid&&validClassesMap&&validClassesMap[className]){valid=true;}if(valid){if(classValue){classValue+=' ';}classValue+=className;}}if(!classValue.length){classValue=null;}node.attr('class',classValue);}});}registerBase64ImageFilter(parser,settings);if(settings.convert_unsafe_embeds){parser.addNodeFilter('object,embed',nodes=>each$e(nodes,node=>{node.replace(createSafeEmbed(node.attr('type'),node.name==='object'?node.attr('data'):node.attr('src'),node.attr('width'),node.attr('height'),settings.sandbox_iframes));}));}if(settings.sandbox_iframes){parser.addNodeFilter('iframe',nodes=>each$e(nodes,node=>node.attr('sandbox','')));}};const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$7}=Object;let{apply,construct}=typeof Reflect!=='undefined'&&Reflect;if(!apply){apply=function apply(fun,thisValue,args){return fun.apply(thisValue,args);};}if(!freeze){freeze=function freeze(x){return x;};}if(!seal){seal=function seal(x){return x;};}if(!construct){construct=function construct(Func,args){return new Func(...args);};}const arrayForEach=unapply(Array.prototype.forEach);const arrayPop=unapply(Array.prototype.pop);const arrayPush=unapply(Array.prototype.push);const stringToLowerCase=unapply(String.prototype.toLowerCase);const stringToString=unapply(String.prototype.toString);const stringMatch=unapply(String.prototype.match);const stringReplace=unapply(String.prototype.replace);const stringIndexOf=unapply(String.prototype.indexOf);const stringTrim=unapply(String.prototype.trim);const regExpTest=unapply(RegExp.prototype.test);const typeErrorCreate=unconstruct(TypeError);function unapply(func){return function(thisArg){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return apply(func,thisArg,args);};}function unconstruct(func){return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return construct(func,args);};}function addToSet(set,array,transformCaseFunc){var _transformCaseFunc;transformCaseFunc=(_transformCaseFunc=transformCaseFunc)!==null&&_transformCaseFunc!==void 0?_transformCaseFunc:stringToLowerCase;if(setPrototypeOf){setPrototypeOf(set,null);}let l=array.length;while(l--){let element=array[l];if(typeof element==='string'){const lcElement=transformCaseFunc(element);if(lcElement!==element){if(!isFrozen(array)){array[l]=lcElement;}element=lcElement;}}set[element]=true;}return set;}function clone(object){const newObject=create$7(null);for(const[property,value]of entries(object)){newObject[property]=value;}return newObject;}function lookupGetter(object,prop){while(object!==null){const desc=getOwnPropertyDescriptor(object,prop);if(desc){if(desc.get){return unapply(desc.get);}if(typeof desc.value==='function'){return unapply(desc.value);}}object=getPrototypeOf(object);}function fallbackValue(element){console.warn('fallback value for',element);return null;}return fallbackValue;}const html$1=freeze(['a','abbr','acronym','address','area','article','aside','audio','b','bdi','bdo','big','blink','blockquote','body','br','button','canvas','caption','center','cite','code','col','colgroup','content','data','datalist','dd','decorator','del','details','dfn','dialog','dir','div','dl','dt','element','em','fieldset','figcaption','figure','font','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','img','input','ins','kbd','label','legend','li','main','map','mark','marquee','menu','menuitem','meter','nav','nobr','ol','optgroup','option','output','p','picture','pre','progress','q','rp','rt','ruby','s','samp','section','select','shadow','small','source','spacer','span','strike','strong','style','sub','summary','sup','table','tbody','td','template','textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var','video','wbr']);const svg$1=freeze(['svg','a','altglyph','altglyphdef','altglyphitem','animatecolor','animatemotion','animatetransform','circle','clippath','defs','desc','ellipse','filter','font','g','glyph','glyphref','hkern','image','line','lineargradient','marker','mask','metadata','mpath','path','pattern','polygon','polyline','radialgradient','rect','stop','style','switch','symbol','text','textpath','title','tref','tspan','view','vkern']);const svgFilters=freeze(['feBlend','feColorMatrix','feComponentTransfer','feComposite','feConvolveMatrix','feDiffuseLighting','feDisplacementMap','feDistantLight','feDropShadow','feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur','feImage','feMerge','feMergeNode','feMorphology','feOffset','fePointLight','feSpecularLighting','feSpotLight','feTile','feTurbulence']);const svgDisallowed=freeze(['animate','color-profile','cursor','discard','font-face','font-face-format','font-face-name','font-face-src','font-face-uri','foreignobject','hatch','hatchpath','mesh','meshgradient','meshpatch','meshrow','missing-glyph','script','set','solidcolor','unknown','use']);const mathMl$1=freeze(['math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr','mmultiscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow','ms','mspace','msqrt','mstyle','msub','msup','msubsup','mtable','mtd','mtext','mtr','munder','munderover','mprescripts']);const mathMlDisallowed=freeze(['maction','maligngroup','malignmark','mlongdiv','mscarries','mscarry','msgroup','mstack','msline','msrow','semantics','annotation','annotation-xml','mprescripts','none']);const text=freeze(['#text']);const html=freeze(['accept','action','align','alt','autocapitalize','autocomplete','autopictureinpicture','autoplay','background','bgcolor','border','capture','cellpadding','cellspacing','checked','cite','class','clear','color','cols','colspan','controls','controlslist','coords','crossorigin','datetime','decoding','default','dir','disabled','disablepictureinpicture','disableremoteplayback','download','draggable','enctype','enterkeyhint','face','for','headers','height','hidden','high','href','hreflang','id','inputmode','integrity','ismap','kind','label','lang','list','loading','loop','low','max','maxlength','media','method','min','minlength','multiple','muted','name','nonce','noshade','novalidate','nowrap','open','optimum','pattern','placeholder','playsinline','poster','preload','pubdate','radiogroup','readonly','rel','required','rev','reversed','role','rows','rowspan','spellcheck','scope','selected','shape','size','sizes','span','srclang','start','src','srcset','step','style','summary','tabindex','title','translate','type','usemap','valign','value','width','xmlns','slot']);const svg=freeze(['accent-height','accumulate','additive','alignment-baseline','ascent','attributename','attributetype','azimuth','basefrequency','baseline-shift','begin','bias','by','class','clip','clippathunits','clip-path','clip-rule','color','color-interpolation','color-interpolation-filters','color-profile','color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction','display','divisor','dur','edgemode','elevation','end','fill','fill-opacity','fill-rule','filter','filterunits','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','fx','fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform','height','href','id','image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints','keysplines','keytimes','lang','lengthadjust','letter-spacing','kernelmatrix','kernelunitlength','lighting-color','local','marker-end','marker-mid','marker-start','markerheight','markerunits','markerwidth','maskcontentunits','maskunits','max','mask','media','method','mode','min','name','numoctaves','offset','operator','opacity','order','orient','orientation','origin','overflow','paint-order','path','pathlength','patterncontentunits','patterntransform','patternunits','points','preservealpha','preserveaspectratio','primitiveunits','r','rx','ry','radius','refx','refy','repeatcount','repeatdur','restart','result','rotate','scale','seed','shape-rendering','specularconstant','specularexponent','spreadmethod','startoffset','stddeviation','stitchtiles','stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width','style','surfacescale','systemlanguage','tabindex','targetx','targety','transform','transform-origin','text-anchor','text-decoration','text-rendering','textlength','type','u1','u2','unicode','values','viewbox','visibility','version','vert-adv-y','vert-origin-x','vert-origin-y','width','word-spacing','wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2','xmlns','y','y1','y2','z','zoomandpan']);const mathMl=freeze(['accent','accentunder','align','bevelled','close','columnsalign','columnlines','columnspan','denomalign','depth','dir','display','displaystyle','encoding','fence','frame','height','href','id','largeop','length','linethickness','lspace','lquote','mathbackground','mathcolor','mathsize','mathvariant','maxsize','minsize','movablelimits','notation','numalign','open','rowalign','rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel','scriptminsize','scriptsizemultiplier','selection','separator','separators','stretchy','subscriptshift','supscriptshift','symmetric','voffset','width','xmlns']);const xml=freeze(['xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink']);const MUSTACHE_EXPR=seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);const ERB_EXPR=seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);const TMPLIT_EXPR=seal(/\\${[\\w\\W]*}/gm);const DATA_ATTR=seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);const ARIA_ATTR=seal(/^aria-[\\-\\w]+$/);const IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);const IS_SCRIPT_OR_DATA=seal(/^(?:\\w+script|data):/i);const ATTR_WHITESPACE=seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);const DOCTYPE_NAME=seal(/^html$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR:MUSTACHE_EXPR,ERB_EXPR:ERB_EXPR,TMPLIT_EXPR:TMPLIT_EXPR,DATA_ATTR:DATA_ATTR,ARIA_ATTR:ARIA_ATTR,IS_ALLOWED_URI:IS_ALLOWED_URI,IS_SCRIPT_OR_DATA:IS_SCRIPT_OR_DATA,ATTR_WHITESPACE:ATTR_WHITESPACE,DOCTYPE_NAME:DOCTYPE_NAME});const getGlobal=()=>typeof window==='undefined'?null:window;const _createTrustedTypesPolicy=function _createTrustedTypesPolicy(trustedTypes,purifyHostElement){if(typeof trustedTypes!=='object'||typeof trustedTypes.createPolicy!=='function'){return null;}let suffix=null;const ATTR_NAME='data-tt-policy-suffix';if(purifyHostElement&&purifyHostElement.hasAttribute(ATTR_NAME)){suffix=purifyHostElement.getAttribute(ATTR_NAME);}const policyName='dompurify'+(suffix?'#'+suffix:'');try{return trustedTypes.createPolicy(policyName,{createHTML(html){return html;},createScriptURL(scriptUrl){return scriptUrl;}});}catch(_){console.warn('TrustedTypes policy '+policyName+' could not be created.');return null;}};function createDOMPurify(){let window=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getGlobal();const DOMPurify=root=>createDOMPurify(root);DOMPurify.version='3.0.5';DOMPurify.removed=[];if(!window||!window.document||window.document.nodeType!==9){DOMPurify.isSupported=false;return DOMPurify;}const originalDocument=window.document;const currentScript=originalDocument.currentScript;let{document}=window;const{DocumentFragment,HTMLTemplateElement,Node,Element,NodeFilter,NamedNodeMap=window.NamedNodeMap||window.MozNamedAttrMap,HTMLFormElement,DOMParser,trustedTypes}=window;const ElementPrototype=Element.prototype;const cloneNode=lookupGetter(ElementPrototype,'cloneNode');const getNextSibling=lookupGetter(ElementPrototype,'nextSibling');const getChildNodes=lookupGetter(ElementPrototype,'childNodes');const getParentNode=lookupGetter(ElementPrototype,'parentNode');if(typeof HTMLTemplateElement==='function'){const template=document.createElement('template');if(template.content&&template.content.ownerDocument){document=template.content.ownerDocument;}}let trustedTypesPolicy;let emptyHTML='';const{implementation,createNodeIterator,createDocumentFragment,getElementsByTagName}=document;const{importNode}=originalDocument;let hooks={};DOMPurify.isSupported=typeof entries==='function'&&typeof getParentNode==='function'&&implementation&&implementation.createHTMLDocument!==undefined;const{MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE}=EXPRESSIONS;let{IS_ALLOWED_URI:IS_ALLOWED_URI$1}=EXPRESSIONS;let ALLOWED_TAGS=null;const DEFAULT_ALLOWED_TAGS=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let ALLOWED_ATTR=null;const DEFAULT_ALLOWED_ATTR=addToSet({},[...html,...svg,...mathMl,...xml]);let CUSTOM_ELEMENT_HANDLING=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));let FORBID_TAGS=null;let FORBID_ATTR=null;let ALLOW_ARIA_ATTR=true;let ALLOW_DATA_ATTR=true;let ALLOW_UNKNOWN_PROTOCOLS=false;let ALLOW_SELF_CLOSE_IN_ATTR=true;let SAFE_FOR_TEMPLATES=false;let WHOLE_DOCUMENT=false;let SET_CONFIG=false;let FORCE_BODY=false;let RETURN_DOM=false;let RETURN_DOM_FRAGMENT=false;let RETURN_TRUSTED_TYPE=false;let SANITIZE_DOM=true;let SANITIZE_NAMED_PROPS=false;const SANITIZE_NAMED_PROPS_PREFIX='user-content-';let KEEP_CONTENT=true;let IN_PLACE=false;let USE_PROFILES={};let FORBID_CONTENTS=null;const DEFAULT_FORBID_CONTENTS=addToSet({},['annotation-xml','audio','colgroup','desc','foreignobject','head','iframe','math','mi','mn','mo','ms','mtext','noembed','noframes','noscript','plaintext','script','style','svg','template','thead','title','video','xmp']);let DATA_URI_TAGS=null;const DEFAULT_DATA_URI_TAGS=addToSet({},['audio','video','img','source','image','track']);let URI_SAFE_ATTRIBUTES=null;const DEFAULT_URI_SAFE_ATTRIBUTES=addToSet({},['alt','class','for','id','label','name','pattern','placeholder','role','summary','title','value','style','xmlns']);const MATHML_NAMESPACE='http://www.w3.org/1998/Math/MathML';const SVG_NAMESPACE='http://www.w3.org/2000/svg';const HTML_NAMESPACE='http://www.w3.org/1999/xhtml';let NAMESPACE=HTML_NAMESPACE;let IS_EMPTY_INPUT=false;let ALLOWED_NAMESPACES=null;const DEFAULT_ALLOWED_NAMESPACES=addToSet({},[MATHML_NAMESPACE,SVG_NAMESPACE,HTML_NAMESPACE],stringToString);let PARSER_MEDIA_TYPE;const SUPPORTED_PARSER_MEDIA_TYPES=['application/xhtml+xml','text/html'];const DEFAULT_PARSER_MEDIA_TYPE='text/html';let transformCaseFunc;let CONFIG=null;const formElement=document.createElement('form');const isRegexOrFunction=function isRegexOrFunction(testValue){return testValue instanceof RegExp||testValue instanceof Function;};const _parseConfig=function _parseConfig(cfg){if(CONFIG&&CONFIG===cfg){return;}if(!cfg||typeof cfg!=='object'){cfg={};}cfg=clone(cfg);PARSER_MEDIA_TYPE=SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE)===-1?PARSER_MEDIA_TYPE=DEFAULT_PARSER_MEDIA_TYPE:PARSER_MEDIA_TYPE=cfg.PARSER_MEDIA_TYPE;transformCaseFunc=PARSER_MEDIA_TYPE==='application/xhtml+xml'?stringToString:stringToLowerCase;ALLOWED_TAGS='ALLOWED_TAGS'in cfg?addToSet({},cfg.ALLOWED_TAGS,transformCaseFunc):DEFAULT_ALLOWED_TAGS;ALLOWED_ATTR='ALLOWED_ATTR'in cfg?addToSet({},cfg.ALLOWED_ATTR,transformCaseFunc):DEFAULT_ALLOWED_ATTR;ALLOWED_NAMESPACES='ALLOWED_NAMESPACES'in cfg?addToSet({},cfg.ALLOWED_NAMESPACES,stringToString):DEFAULT_ALLOWED_NAMESPACES;URI_SAFE_ATTRIBUTES='ADD_URI_SAFE_ATTR'in cfg?addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),cfg.ADD_URI_SAFE_ATTR,transformCaseFunc):DEFAULT_URI_SAFE_ATTRIBUTES;DATA_URI_TAGS='ADD_DATA_URI_TAGS'in cfg?addToSet(clone(DEFAULT_DATA_URI_TAGS),cfg.ADD_DATA_URI_TAGS,transformCaseFunc):DEFAULT_DATA_URI_TAGS;FORBID_CONTENTS='FORBID_CONTENTS'in cfg?addToSet({},cfg.FORBID_CONTENTS,transformCaseFunc):DEFAULT_FORBID_CONTENTS;FORBID_TAGS='FORBID_TAGS'in cfg?addToSet({},cfg.FORBID_TAGS,transformCaseFunc):{};FORBID_ATTR='FORBID_ATTR'in cfg?addToSet({},cfg.FORBID_ATTR,transformCaseFunc):{};USE_PROFILES='USE_PROFILES'in cfg?cfg.USE_PROFILES:false;ALLOW_ARIA_ATTR=cfg.ALLOW_ARIA_ATTR!==false;ALLOW_DATA_ATTR=cfg.ALLOW_DATA_ATTR!==false;ALLOW_UNKNOWN_PROTOCOLS=cfg.ALLOW_UNKNOWN_PROTOCOLS||false;ALLOW_SELF_CLOSE_IN_ATTR=cfg.ALLOW_SELF_CLOSE_IN_ATTR!==false;SAFE_FOR_TEMPLATES=cfg.SAFE_FOR_TEMPLATES||false;WHOLE_DOCUMENT=cfg.WHOLE_DOCUMENT||false;RETURN_DOM=cfg.RETURN_DOM||false;RETURN_DOM_FRAGMENT=cfg.RETURN_DOM_FRAGMENT||false;RETURN_TRUSTED_TYPE=cfg.RETURN_TRUSTED_TYPE||false;FORCE_BODY=cfg.FORCE_BODY||false;SANITIZE_DOM=cfg.SANITIZE_DOM!==false;SANITIZE_NAMED_PROPS=cfg.SANITIZE_NAMED_PROPS||false;KEEP_CONTENT=cfg.KEEP_CONTENT!==false;IN_PLACE=cfg.IN_PLACE||false;IS_ALLOWED_URI$1=cfg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI;NAMESPACE=cfg.NAMESPACE||HTML_NAMESPACE;CUSTOM_ELEMENT_HANDLING=cfg.CUSTOM_ELEMENT_HANDLING||{};if(cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){CUSTOM_ELEMENT_HANDLING.tagNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;}if(cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){CUSTOM_ELEMENT_HANDLING.attributeNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;}if(cfg.CUSTOM_ELEMENT_HANDLING&&typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==='boolean'){CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;}if(SAFE_FOR_TEMPLATES){ALLOW_DATA_ATTR=false;}if(RETURN_DOM_FRAGMENT){RETURN_DOM=true;}if(USE_PROFILES){ALLOWED_TAGS=addToSet({},[...text]);ALLOWED_ATTR=[];if(USE_PROFILES.html===true){addToSet(ALLOWED_TAGS,html$1);addToSet(ALLOWED_ATTR,html);}if(USE_PROFILES.svg===true){addToSet(ALLOWED_TAGS,svg$1);addToSet(ALLOWED_ATTR,svg);addToSet(ALLOWED_ATTR,xml);}if(USE_PROFILES.svgFilters===true){addToSet(ALLOWED_TAGS,svgFilters);addToSet(ALLOWED_ATTR,svg);addToSet(ALLOWED_ATTR,xml);}if(USE_PROFILES.mathMl===true){addToSet(ALLOWED_TAGS,mathMl$1);addToSet(ALLOWED_ATTR,mathMl);addToSet(ALLOWED_ATTR,xml);}}if(cfg.ADD_TAGS){if(ALLOWED_TAGS===DEFAULT_ALLOWED_TAGS){ALLOWED_TAGS=clone(ALLOWED_TAGS);}addToSet(ALLOWED_TAGS,cfg.ADD_TAGS,transformCaseFunc);}if(cfg.ADD_ATTR){if(ALLOWED_ATTR===DEFAULT_ALLOWED_ATTR){ALLOWED_ATTR=clone(ALLOWED_ATTR);}addToSet(ALLOWED_ATTR,cfg.ADD_ATTR,transformCaseFunc);}if(cfg.ADD_URI_SAFE_ATTR){addToSet(URI_SAFE_ATTRIBUTES,cfg.ADD_URI_SAFE_ATTR,transformCaseFunc);}if(cfg.FORBID_CONTENTS){if(FORBID_CONTENTS===DEFAULT_FORBID_CONTENTS){FORBID_CONTENTS=clone(FORBID_CONTENTS);}addToSet(FORBID_CONTENTS,cfg.FORBID_CONTENTS,transformCaseFunc);}if(KEEP_CONTENT){ALLOWED_TAGS['#text']=true;}if(WHOLE_DOCUMENT){addToSet(ALLOWED_TAGS,['html','head','body']);}if(ALLOWED_TAGS.table){addToSet(ALLOWED_TAGS,['tbody']);delete FORBID_TAGS.tbody;}if(cfg.TRUSTED_TYPES_POLICY){if(typeof cfg.TRUSTED_TYPES_POLICY.createHTML!=='function'){throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');}if(typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL!=='function'){throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');}trustedTypesPolicy=cfg.TRUSTED_TYPES_POLICY;emptyHTML=trustedTypesPolicy.createHTML('');}else{if(trustedTypesPolicy===undefined){trustedTypesPolicy=_createTrustedTypesPolicy(trustedTypes,currentScript);}if(trustedTypesPolicy!==null&&typeof emptyHTML==='string'){emptyHTML=trustedTypesPolicy.createHTML('');}}if(freeze){freeze(cfg);}CONFIG=cfg;};const MATHML_TEXT_INTEGRATION_POINTS=addToSet({},['mi','mo','mn','ms','mtext']);const HTML_INTEGRATION_POINTS=addToSet({},['foreignobject','desc','title','annotation-xml']);const COMMON_SVG_AND_HTML_ELEMENTS=addToSet({},['title','style','font','a','script']);const ALL_SVG_TAGS=addToSet({},svg$1);addToSet(ALL_SVG_TAGS,svgFilters);addToSet(ALL_SVG_TAGS,svgDisallowed);const ALL_MATHML_TAGS=addToSet({},mathMl$1);addToSet(ALL_MATHML_TAGS,mathMlDisallowed);const _checkValidNamespace=function _checkValidNamespace(element){let parent=getParentNode(element);if(!parent||!parent.tagName){parent={namespaceURI:NAMESPACE,tagName:'template'};}const tagName=stringToLowerCase(element.tagName);const parentTagName=stringToLowerCase(parent.tagName);if(!ALLOWED_NAMESPACES[element.namespaceURI]){return false;}if(element.namespaceURI===SVG_NAMESPACE){if(parent.namespaceURI===HTML_NAMESPACE){return tagName==='svg';}if(parent.namespaceURI===MATHML_NAMESPACE){return tagName==='svg'&&(parentTagName==='annotation-xml'||MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);}return Boolean(ALL_SVG_TAGS[tagName]);}if(element.namespaceURI===MATHML_NAMESPACE){if(parent.namespaceURI===HTML_NAMESPACE){return tagName==='math';}if(parent.namespaceURI===SVG_NAMESPACE){return tagName==='math'&&HTML_INTEGRATION_POINTS[parentTagName];}return Boolean(ALL_MATHML_TAGS[tagName]);}if(element.namespaceURI===HTML_NAMESPACE){if(parent.namespaceURI===SVG_NAMESPACE&&!HTML_INTEGRATION_POINTS[parentTagName]){return false;}if(parent.namespaceURI===MATHML_NAMESPACE&&!MATHML_TEXT_INTEGRATION_POINTS[parentTagName]){return false;}return!ALL_MATHML_TAGS[tagName]&&(COMMON_SVG_AND_HTML_ELEMENTS[tagName]||!ALL_SVG_TAGS[tagName]);}if(PARSER_MEDIA_TYPE==='application/xhtml+xml'&&ALLOWED_NAMESPACES[element.namespaceURI]){return true;}return false;};const _forceRemove=function _forceRemove(node){arrayPush(DOMPurify.removed,{element:node});try{node.parentNode.removeChild(node);}catch(_){node.remove();}};const _removeAttribute=function _removeAttribute(name,node){try{arrayPush(DOMPurify.removed,{attribute:node.getAttributeNode(name),from:node});}catch(_){arrayPush(DOMPurify.removed,{attribute:null,from:node});}node.removeAttribute(name);if(name==='is'&&!ALLOWED_ATTR[name]){if(RETURN_DOM||RETURN_DOM_FRAGMENT){try{_forceRemove(node);}catch(_){}}else{try{node.setAttribute(name,'');}catch(_){}}}};const _initDocument=function _initDocument(dirty){let doc;let leadingWhitespace;if(FORCE_BODY){dirty='<remove></remove>'+dirty;}else{const matches=stringMatch(dirty,/^[\\r\\n\\t ]+/);leadingWhitespace=matches&&matches[0];}if(PARSER_MEDIA_TYPE==='application/xhtml+xml'&&NAMESPACE===HTML_NAMESPACE){dirty='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+dirty+'</body></html>';}const dirtyPayload=trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;if(NAMESPACE===HTML_NAMESPACE){try{doc=new DOMParser().parseFromString(dirtyPayload,PARSER_MEDIA_TYPE);}catch(_){}}if(!doc||!doc.documentElement){doc=implementation.createDocument(NAMESPACE,'template',null);try{doc.documentElement.innerHTML=IS_EMPTY_INPUT?emptyHTML:dirtyPayload;}catch(_){}}const body=doc.body||doc.documentElement;if(dirty&&leadingWhitespace){body.insertBefore(document.createTextNode(leadingWhitespace),body.childNodes[0]||null);}if(NAMESPACE===HTML_NAMESPACE){return getElementsByTagName.call(doc,WHOLE_DOCUMENT?'html':'body')[0];}return WHOLE_DOCUMENT?doc.documentElement:body;};const _createIterator=function _createIterator(root){return createNodeIterator.call(root.ownerDocument||root,root,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,null,false);};const _isClobbered=function _isClobbered(elm){return elm instanceof HTMLFormElement&&(typeof elm.nodeName!=='string'||typeof elm.textContent!=='string'||typeof elm.removeChild!=='function'||!(elm.attributes instanceof NamedNodeMap)||typeof elm.removeAttribute!=='function'||typeof elm.setAttribute!=='function'||typeof elm.namespaceURI!=='string'||typeof elm.insertBefore!=='function'||typeof elm.hasChildNodes!=='function');};const _isNode=function _isNode(object){return typeof Node==='object'?object instanceof Node:object&&typeof object==='object'&&typeof object.nodeType==='number'&&typeof object.nodeName==='string';};const _executeHook=function _executeHook(entryPoint,currentNode,data){if(!hooks[entryPoint]){return;}arrayForEach(hooks[entryPoint],hook=>{hook.call(DOMPurify,currentNode,data,CONFIG);});};const _sanitizeElements=function _sanitizeElements(currentNode){let content;_executeHook('beforeSanitizeElements',currentNode,null);if(_isClobbered(currentNode)){_forceRemove(currentNode);return true;}const tagName=transformCaseFunc(currentNode.nodeName);_executeHook('uponSanitizeElement',currentNode,{tagName,allowedTags:ALLOWED_TAGS});if(currentNode.hasChildNodes()&&!_isNode(currentNode.firstElementChild)&&(!_isNode(currentNode.content)||!_isNode(currentNode.content.firstElementChild))&&regExpTest(/<[/\\w]/g,currentNode.innerHTML)&&regExpTest(/<[/\\w]/g,currentNode.textContent)){_forceRemove(currentNode);return true;}if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){if(!FORBID_TAGS[tagName]&&_basicCustomElementTest(tagName)){if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,tagName))return false;if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))return false;}if(KEEP_CONTENT&&!FORBID_CONTENTS[tagName]){const parentNode=getParentNode(currentNode)||currentNode.parentNode;const childNodes=getChildNodes(currentNode)||currentNode.childNodes;if(childNodes&&parentNode){const childCount=childNodes.length;for(let i=childCount-1;i>=0;--i){parentNode.insertBefore(cloneNode(childNodes[i],true),getNextSibling(currentNode));}}}_forceRemove(currentNode);return true;}if(currentNode instanceof Element&&!_checkValidNamespace(currentNode)){_forceRemove(currentNode);return true;}if((tagName==='noscript'||tagName==='noembed'||tagName==='noframes')&&regExpTest(/<\\/no(script|embed|frames)/i,currentNode.innerHTML)){_forceRemove(currentNode);return true;}if(SAFE_FOR_TEMPLATES&&currentNode.nodeType===3){content=currentNode.textContent;content=stringReplace(content,MUSTACHE_EXPR,' ');content=stringReplace(content,ERB_EXPR,' ');content=stringReplace(content,TMPLIT_EXPR,' ');if(currentNode.textContent!==content){arrayPush(DOMPurify.removed,{element:currentNode.cloneNode()});currentNode.textContent=content;}}_executeHook('afterSanitizeElements',currentNode,null);return false;};const _isValidAttribute=function _isValidAttribute(lcTag,lcName,value){if(SANITIZE_DOM&&(lcName==='id'||lcName==='name')&&(value in document||value in formElement)){return false;}if(ALLOW_DATA_ATTR&&!FORBID_ATTR[lcName]&&regExpTest(DATA_ATTR,lcName));else if(ALLOW_ARIA_ATTR&&regExpTest(ARIA_ATTR,lcName));else if(!ALLOWED_ATTR[lcName]||FORBID_ATTR[lcName]){if(_basicCustomElementTest(lcTag)&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,lcTag)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))&&(CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck,lcName)||CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName))||lcName==='is'&&CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,value)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));else{return false;}}else if(URI_SAFE_ATTRIBUTES[lcName]);else if(regExpTest(IS_ALLOWED_URI$1,stringReplace(value,ATTR_WHITESPACE,'')));else if((lcName==='src'||lcName==='xlink:href'||lcName==='href')&&lcTag!=='script'&&stringIndexOf(value,'data:')===0&&DATA_URI_TAGS[lcTag]);else if(ALLOW_UNKNOWN_PROTOCOLS&&!regExpTest(IS_SCRIPT_OR_DATA,stringReplace(value,ATTR_WHITESPACE,'')));else if(value){return false;}else;return true;};const _basicCustomElementTest=function _basicCustomElementTest(tagName){return tagName.indexOf('-')>0;};const _sanitizeAttributes=function _sanitizeAttributes(currentNode){let attr;let value;let lcName;let l;_executeHook('beforeSanitizeAttributes',currentNode,null);const{attributes}=currentNode;if(!attributes){return;}const hookEvent={attrName:'',attrValue:'',keepAttr:true,allowedAttributes:ALLOWED_ATTR};l=attributes.length;while(l--){attr=attributes[l];const{name,namespaceURI}=attr;value=name==='value'?attr.value:stringTrim(attr.value);const initValue=value;lcName=transformCaseFunc(name);hookEvent.attrName=lcName;hookEvent.attrValue=value;hookEvent.keepAttr=true;hookEvent.forceKeepAttr=undefined;_executeHook('uponSanitizeAttribute',currentNode,hookEvent);value=hookEvent.attrValue;if(hookEvent.forceKeepAttr){continue;}if(!hookEvent.keepAttr){_removeAttribute(name,currentNode);continue;}if(!ALLOW_SELF_CLOSE_IN_ATTR&&regExpTest(/\\/>/i,value)){_removeAttribute(name,currentNode);continue;}if(SAFE_FOR_TEMPLATES){value=stringReplace(value,MUSTACHE_EXPR,' ');value=stringReplace(value,ERB_EXPR,' ');value=stringReplace(value,TMPLIT_EXPR,' ');}const lcTag=transformCaseFunc(currentNode.nodeName);if(!_isValidAttribute(lcTag,lcName,value)){_removeAttribute(name,currentNode);continue;}if(SANITIZE_NAMED_PROPS&&(lcName==='id'||lcName==='name')){_removeAttribute(name,currentNode);value=SANITIZE_NAMED_PROPS_PREFIX+value;}if(trustedTypesPolicy&&typeof trustedTypes==='object'&&typeof trustedTypes.getAttributeType==='function'){if(namespaceURI);else{switch(trustedTypes.getAttributeType(lcTag,lcName)){case'TrustedHTML':{value=trustedTypesPolicy.createHTML(value);break;}case'TrustedScriptURL':{value=trustedTypesPolicy.createScriptURL(value);break;}}}}if(value!==initValue){try{if(namespaceURI){currentNode.setAttributeNS(namespaceURI,name,value);}else{currentNode.setAttribute(name,value);}}catch(_){_removeAttribute(name,currentNode);}}}_executeHook('afterSanitizeAttributes',currentNode,null);};const _sanitizeShadowDOM=function _sanitizeShadowDOM(fragment){let shadowNode;const shadowIterator=_createIterator(fragment);_executeHook('beforeSanitizeShadowDOM',fragment,null);while(shadowNode=shadowIterator.nextNode()){_executeHook('uponSanitizeShadowNode',shadowNode,null);if(_sanitizeElements(shadowNode)){continue;}if(shadowNode.content instanceof DocumentFragment){_sanitizeShadowDOM(shadowNode.content);}_sanitizeAttributes(shadowNode);}_executeHook('afterSanitizeShadowDOM',fragment,null);};DOMPurify.sanitize=function(dirty){let cfg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let body;let importedNode;let currentNode;let returnNode;IS_EMPTY_INPUT=!dirty;if(IS_EMPTY_INPUT){dirty='<!-->';}if(typeof dirty!=='string'&&!_isNode(dirty)){if(typeof dirty.toString==='function'){dirty=dirty.toString();if(typeof dirty!=='string'){throw typeErrorCreate('dirty is not a string, aborting');}}else{throw typeErrorCreate('toString is not a function');}}if(!DOMPurify.isSupported){return dirty;}if(!SET_CONFIG){_parseConfig(cfg);}DOMPurify.removed=[];if(typeof dirty==='string'){IN_PLACE=false;}if(IN_PLACE){if(dirty.nodeName){const tagName=transformCaseFunc(dirty.nodeName);if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');}}}else if(dirty instanceof Node){body=_initDocument('<!---->');importedNode=body.ownerDocument.importNode(dirty,true);if(importedNode.nodeType===1&&importedNode.nodeName==='BODY'){body=importedNode;}else if(importedNode.nodeName==='HTML'){body=importedNode;}else{body.appendChild(importedNode);}}else{if(!RETURN_DOM&&!SAFE_FOR_TEMPLATES&&!WHOLE_DOCUMENT&&dirty.indexOf('<')===-1){return trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(dirty):dirty;}body=_initDocument(dirty);if(!body){return RETURN_DOM?null:RETURN_TRUSTED_TYPE?emptyHTML:'';}}if(body&&FORCE_BODY){_forceRemove(body.firstChild);}const nodeIterator=_createIterator(IN_PLACE?dirty:body);while(currentNode=nodeIterator.nextNode()){if(_sanitizeElements(currentNode)){continue;}if(currentNode.content instanceof DocumentFragment){_sanitizeShadowDOM(currentNode.content);}_sanitizeAttributes(currentNode);}if(IN_PLACE){return dirty;}if(RETURN_DOM){if(RETURN_DOM_FRAGMENT){returnNode=createDocumentFragment.call(body.ownerDocument);while(body.firstChild){returnNode.appendChild(body.firstChild);}}else{returnNode=body;}if(ALLOWED_ATTR.shadowroot||ALLOWED_ATTR.shadowrootmode){returnNode=importNode.call(originalDocument,returnNode,true);}return returnNode;}let serializedHTML=WHOLE_DOCUMENT?body.outerHTML:body.innerHTML;if(WHOLE_DOCUMENT&&ALLOWED_TAGS['!doctype']&&body.ownerDocument&&body.ownerDocument.doctype&&body.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,body.ownerDocument.doctype.name)){serializedHTML='<!DOCTYPE '+body.ownerDocument.doctype.name+'>\\n'+serializedHTML;}if(SAFE_FOR_TEMPLATES){serializedHTML=stringReplace(serializedHTML,MUSTACHE_EXPR,' ');serializedHTML=stringReplace(serializedHTML,ERB_EXPR,' ');serializedHTML=stringReplace(serializedHTML,TMPLIT_EXPR,' ');}return trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(serializedHTML):serializedHTML;};DOMPurify.setConfig=function(cfg){_parseConfig(cfg);SET_CONFIG=true;};DOMPurify.clearConfig=function(){CONFIG=null;SET_CONFIG=false;};DOMPurify.isValidAttribute=function(tag,attr,value){if(!CONFIG){_parseConfig({});}const lcTag=transformCaseFunc(tag);const lcName=transformCaseFunc(attr);return _isValidAttribute(lcTag,lcName,value);};DOMPurify.addHook=function(entryPoint,hookFunction){if(typeof hookFunction!=='function'){return;}hooks[entryPoint]=hooks[entryPoint]||[];arrayPush(hooks[entryPoint],hookFunction);};DOMPurify.removeHook=function(entryPoint){if(hooks[entryPoint]){return arrayPop(hooks[entryPoint]);}};DOMPurify.removeHooks=function(entryPoint){if(hooks[entryPoint]){hooks[entryPoint]=[];}};DOMPurify.removeAllHooks=function(){hooks={};};return DOMPurify;}var purify=createDOMPurify();const each$4=Tools.each,trim=Tools.trim;const queryParts=['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'];const DEFAULT_PORTS={ftp:21,http:80,https:443,mailto:25};const safeSvgDataUrlElements=['img','video'];const blockSvgDataUris=(allowSvgDataUrls,tagName)=>{if(isNonNullable(allowSvgDataUrls)){return!allowSvgDataUrls;}else{return isNonNullable(tagName)?!contains$2(safeSvgDataUrlElements,tagName):true;}};const decodeUri=encodedUri=>{try{return decodeURIComponent(encodedUri);}catch(ex){return unescape(encodedUri);}};const isInvalidUri=(settings,uri,tagName)=>{const decodedUri=decodeUri(uri).replace(/\\s/g,'');if(settings.allow_script_urls){return false;}else if(/((java|vb)script|mhtml):/i.test(decodedUri)){return true;}else if(settings.allow_html_data_urls){return false;}else if(/^data:image\\//i.test(decodedUri)){return blockSvgDataUris(settings.allow_svg_data_urls,tagName)&&/^data:image\\/svg\\+xml/i.test(decodedUri);}else{return /^data:/i.test(decodedUri);}};class URI{static parseDataUri(uri){let type;const uriComponents=decodeURIComponent(uri).split(',');const matches=/data:([^;]+)/.exec(uriComponents[0]);if(matches){type=matches[1];}return{type,data:uriComponents[1]};}static isDomSafe(uri,context,options={}){if(options.allow_script_urls){return true;}else{const decodedUri=Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g,'');return!isInvalidUri(options,decodedUri,context);}}static getDocumentBaseUrl(loc){var _a;let baseUrl;if(loc.protocol.indexOf('http')!==0&&loc.protocol!=='file:'){baseUrl=(_a=loc.href)!==null&&_a!==void 0?_a:'';}else{baseUrl=loc.protocol+'//'+loc.host+loc.pathname;}if(/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)){baseUrl=baseUrl.replace(/[\\?#].*$/,'').replace(/[\\/\\\\][^\\/]+$/,'');if(!/[\\/\\\\]$/.test(baseUrl)){baseUrl+='/';}}return baseUrl;}constructor(url,settings={}){this.path='';this.directory='';url=trim(url);this.settings=settings;const baseUri=settings.base_uri;const self=this;if(/^([\\w\\-]+):([^\\/]{2})/i.test(url)||/^\\s*#/.test(url)){self.source=url;return;}const isProtocolRelative=url.indexOf('//')===0;if(url.indexOf('/')===0&&!isProtocolRelative){url=(baseUri?baseUri.protocol||'http':'http')+'://mce_host'+url;}if(!/^[\\w\\-]*:?\\/\\//.test(url)){const baseUrl=baseUri?baseUri.path:new URI(document.location.href).directory;if((baseUri===null||baseUri===void 0?void 0:baseUri.protocol)===''){url='//mce_host'+self.toAbsPath(baseUrl,url);}else{const match=/([^#?]*)([#?]?.*)/.exec(url);if(match){url=(baseUri&&baseUri.protocol||'http')+'://mce_host'+self.toAbsPath(baseUrl,match[1])+match[2];}}}url=url.replace(/@@/g,'(mce_at)');const urlMatch=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);if(urlMatch){each$4(queryParts,(v,i)=>{let part=urlMatch[i];if(part){part=part.replace(/\\(mce_at\\)/g,'@@');}self[v]=part;});}if(baseUri){if(!self.protocol){self.protocol=baseUri.protocol;}if(!self.userInfo){self.userInfo=baseUri.userInfo;}if(!self.port&&self.host==='mce_host'){self.port=baseUri.port;}if(!self.host||self.host==='mce_host'){self.host=baseUri.host;}self.source='';}if(isProtocolRelative){self.protocol='';}}setPath(path){const pathMatch=/^(.*?)\\/?(\\w+)?$/.exec(path);if(pathMatch){this.path=pathMatch[0];this.directory=pathMatch[1];this.file=pathMatch[2];}this.source='';this.getURI();}toRelative(uri){if(uri==='./'){return uri;}const relativeUri=new URI(uri,{base_uri:this});if(relativeUri.host!=='mce_host'&&this.host!==relativeUri.host&&relativeUri.host||this.port!==relativeUri.port||this.protocol!==relativeUri.protocol&&relativeUri.protocol!==''){return relativeUri.getURI();}const tu=this.getURI(),uu=relativeUri.getURI();if(tu===uu||tu.charAt(tu.length-1)==='/'&&tu.substr(0,tu.length-1)===uu){return tu;}let output=this.toRelPath(this.path,relativeUri.path);if(relativeUri.query){output+='?'+relativeUri.query;}if(relativeUri.anchor){output+='#'+relativeUri.anchor;}return output;}toAbsolute(uri,noHost){const absoluteUri=new URI(uri,{base_uri:this});return absoluteUri.getURI(noHost&&this.isSameOrigin(absoluteUri));}isSameOrigin(uri){if(this.host==uri.host&&this.protocol==uri.protocol){if(this.port==uri.port){return true;}const defaultPort=this.protocol?DEFAULT_PORTS[this.protocol]:null;if(defaultPort&&(this.port||defaultPort)==(uri.port||defaultPort)){return true;}}return false;}toRelPath(base,path){let breakPoint=0,out='',i,l;const normalizedBase=base.substring(0,base.lastIndexOf('/')).split('/');const items=path.split('/');if(normalizedBase.length>=items.length){for(i=0,l=normalizedBase.length;i<l;i++){if(i>=items.length||normalizedBase[i]!==items[i]){breakPoint=i+1;break;}}}if(normalizedBase.length<items.length){for(i=0,l=items.length;i<l;i++){if(i>=normalizedBase.length||normalizedBase[i]!==items[i]){breakPoint=i+1;break;}}}if(breakPoint===1){return path;}for(i=0,l=normalizedBase.length-(breakPoint-1);i<l;i++){out+='../';}for(i=breakPoint-1,l=items.length;i<l;i++){if(i!==breakPoint-1){out+='/'+items[i];}else{out+=items[i];}}return out;}toAbsPath(base,path){let nb=0;const tr=/\\/$/.test(path)?'/':'';const normalizedBase=base.split('/');const normalizedPath=path.split('/');const baseParts=[];each$4(normalizedBase,k=>{if(k){baseParts.push(k);}});const pathParts=[];for(let i=normalizedPath.length-1;i>=0;i--){if(normalizedPath[i].length===0||normalizedPath[i]==='.'){continue;}if(normalizedPath[i]==='..'){nb++;continue;}if(nb>0){nb--;continue;}pathParts.push(normalizedPath[i]);}const i=baseParts.length-nb;let outPath;if(i<=0){outPath=reverse(pathParts).join('/');}else{outPath=baseParts.slice(0,i).join('/')+'/'+reverse(pathParts).join('/');}if(outPath.indexOf('/')!==0){outPath='/'+outPath;}if(tr&&outPath.lastIndexOf('/')!==outPath.length-1){outPath+=tr;}return outPath;}getURI(noProtoHost=false){let s;if(!this.source||noProtoHost){s='';if(!noProtoHost){if(this.protocol){s+=this.protocol+'://';}else{s+='//';}if(this.userInfo){s+=this.userInfo+'@';}if(this.host){s+=this.host;}if(this.port){s+=':'+this.port;}}if(this.path){s+=this.path;}if(this.query){s+='?'+this.query;}if(this.anchor){s+='#'+this.anchor;}this.source=s;}return this.source;}}const filteredUrlAttrs=Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');const internalElementAttr='data-mce-type';let uid=0;const processNode=(node,settings,schema,scope,evt)=>{var _a,_b,_c,_d;const validate=settings.validate;const specialElements=schema.getSpecialElements();if(node.nodeType===COMMENT&&!settings.allow_conditional_comments&&/^\\[if/i.test((_a=node.nodeValue)!==null&&_a!==void 0?_a:'')){node.nodeValue=' '+node.nodeValue;}const lcTagName=(_b=evt===null||evt===void 0?void 0:evt.tagName)!==null&&_b!==void 0?_b:node.nodeName.toLowerCase();if(scope!=='html'&&schema.isValid(scope)){if(isNonNullable(evt)){evt.allowedTags[lcTagName]=true;}return;}if(node.nodeType!==ELEMENT||lcTagName==='body'){return;}const element=SugarElement.fromDom(node);const isInternalElement=has$1(element,internalElementAttr);const bogus=get$9(element,'data-mce-bogus');if(!isInternalElement&&isString(bogus)){if(bogus==='all'){remove$5(element);}else{unwrap(element);}return;}const rule=schema.getElementRule(lcTagName);if(validate&&!rule){if(has$2(specialElements,lcTagName)){remove$5(element);}else{unwrap(element);}return;}else{if(isNonNullable(evt)){evt.allowedTags[lcTagName]=true;}}if(validate&&rule&&!isInternalElement){each$e((_c=rule.attributesForced)!==null&&_c!==void 0?_c:[],attr=>{set$3(element,attr.name,attr.value==='{$uid}'?`mce_${uid++}`:attr.value);});each$e((_d=rule.attributesDefault)!==null&&_d!==void 0?_d:[],attr=>{if(!has$1(element,attr.name)){set$3(element,attr.name,attr.value==='{$uid}'?`mce_${uid++}`:attr.value);}});if(rule.attributesRequired&&!exists(rule.attributesRequired,attr=>has$1(element,attr))){unwrap(element);return;}if(rule.removeEmptyAttrs&&hasNone(element)){unwrap(element);return;}if(rule.outputName&&rule.outputName!==lcTagName){mutate(element,rule.outputName);}}};const processAttr=(ele,settings,schema,scope,evt)=>{const tagName=ele.tagName.toLowerCase();const{attrName,attrValue}=evt;evt.keepAttr=shouldKeepAttribute(settings,schema,scope,tagName,attrName,attrValue);if(evt.keepAttr){evt.allowedAttributes[attrName]=true;if(isBooleanAttribute(attrName,schema)){evt.attrValue=attrName;}if(settings.allow_svg_data_urls&&startsWith(attrValue,'data:image/svg+xml')){evt.forceKeepAttr=true;}}else if(isRequiredAttributeOfInternalElement(ele,attrName)){evt.forceKeepAttr=true;}};const shouldKeepAttribute=(settings,schema,scope,tagName,attrName,attrValue)=>{if(scope!=='html'&&!isNonHtmlElementRootName(tagName)){return true;}return!(attrName in filteredUrlAttrs&&isInvalidUri(settings,attrValue,tagName))&&(!settings.validate||schema.isValid(tagName,attrName)||startsWith(attrName,'data-')||startsWith(attrName,'aria-'));};const isRequiredAttributeOfInternalElement=(ele,attrName)=>ele.hasAttribute(internalElementAttr)&&(attrName==='id'||attrName==='class'||attrName==='style');const isBooleanAttribute=(attrName,schema)=>attrName in schema.getBoolAttrs();const filterAttributes=(ele,settings,schema,scope)=>{const{attributes}=ele;for(let i=attributes.length-1;i>=0;i--){const attr=attributes[i];const attrName=attr.name;const attrValue=attr.value;if(!shouldKeepAttribute(settings,schema,scope,ele.tagName.toLowerCase(),attrName,attrValue)&&!isRequiredAttributeOfInternalElement(ele,attrName)){ele.removeAttribute(attrName);}else if(isBooleanAttribute(attrName,schema)){ele.setAttribute(attrName,attrName);}}};const setupPurify=(settings,schema,namespaceTracker)=>{const purify$1=purify();purify$1.addHook('uponSanitizeElement',(ele,evt)=>{processNode(ele,settings,schema,namespaceTracker.track(ele),evt);});purify$1.addHook('uponSanitizeAttribute',(ele,evt)=>{processAttr(ele,settings,schema,namespaceTracker.current(),evt);});return purify$1;};const getPurifyConfig=(settings,mimeType)=>{const basePurifyConfig={IN_PLACE:true,ALLOW_UNKNOWN_PROTOCOLS:true,ALLOWED_TAGS:['#comment','#cdata-section','body'],ALLOWED_ATTR:[]};const config={...basePurifyConfig};config.PARSER_MEDIA_TYPE=mimeType;if(settings.allow_script_urls){config.ALLOWED_URI_REGEXP=/.*/;}else if(settings.allow_html_data_urls){config.ALLOWED_URI_REGEXP=/^(?!(\\w+script|mhtml):)/i;}return config;};const sanitizeNamespaceElement=ele=>{const xlinkAttrs=['type','href','role','arcrole','title','show','actuate','label','from','to'].map(name=>`xlink:${name}`);const config={IN_PLACE:true,USE_PROFILES:{html:true,svg:true,svgFilters:true},ALLOWED_ATTR:xlinkAttrs};purify().sanitize(ele,config);return ele.innerHTML;};const getSanitizer=(settings,schema)=>{const namespaceTracker=createNamespaceTracker();if(settings.sanitize){const purify=setupPurify(settings,schema,namespaceTracker);const sanitizeHtmlElement=(body,mimeType)=>{purify.sanitize(body,getPurifyConfig(settings,mimeType));purify.removed=[];namespaceTracker.reset();};return{sanitizeHtmlElement,sanitizeNamespaceElement};}else{const sanitizeHtmlElement=(body,_mimeType)=>{const nodeIterator=document.createNodeIterator(body,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let node;while(node=nodeIterator.nextNode()){const currentScope=namespaceTracker.track(node);processNode(node,settings,schema,currentScope);if(isElement$6(node)){filterAttributes(node,settings,schema,currentScope);}}namespaceTracker.reset();};const sanitizeNamespaceElement=noop;return{sanitizeHtmlElement,sanitizeNamespaceElement};}};const makeMap=Tools.makeMap,extend$1=Tools.extend;const transferChildren=(parent,nativeParent,specialElements,nsSanitizer)=>{const parentName=parent.name;const isSpecial=parentName in specialElements&&parentName!=='title'&&parentName!=='textarea';const childNodes=nativeParent.childNodes;for(let ni=0,nl=childNodes.length;ni<nl;ni++){const nativeChild=childNodes[ni];const child=new AstNode(nativeChild.nodeName.toLowerCase(),nativeChild.nodeType);if(isElement$6(nativeChild)){const attributes=nativeChild.attributes;for(let ai=0,al=attributes.length;ai<al;ai++){const attr=attributes[ai];child.attr(attr.name,attr.value);}if(isNonHtmlElementRootName(child.name)){nsSanitizer(nativeChild);child.value=nativeChild.innerHTML;}}else if(isText$a(nativeChild)){child.value=nativeChild.data;if(isSpecial){child.raw=true;}}else if(isComment(nativeChild)||isCData(nativeChild)||isPi(nativeChild)){child.value=nativeChild.data;}if(!isNonHtmlElementRootName(child.name)){transferChildren(child,nativeChild,specialElements,nsSanitizer);}parent.append(child);}};const walkTree=(root,preprocessors,postprocessors)=>{const traverseOrder=[];for(let node=root,lastNode=node;node;lastNode=node,node=node.walk()){const tempNode=node;each$e(preprocessors,preprocess=>preprocess(tempNode));if(isNullable(tempNode.parent)&&tempNode!==root){node=lastNode;}else{traverseOrder.push(tempNode);}}for(let i=traverseOrder.length-1;i>=0;i--){const node=traverseOrder[i];each$e(postprocessors,postprocess=>postprocess(node));}};const whitespaceCleaner=(root,schema,settings,args)=>{const validate=settings.validate;const nonEmptyElements=schema.getNonEmptyElements();const whitespaceElements=schema.getWhitespaceElements();const blockElements=extend$1(makeMap('script,style,head,html,body,title,meta,param'),schema.getBlockElements());const textRootBlockElements=getTextRootBlockElements(schema);const allWhiteSpaceRegExp=/[ \\t\\r\\n]+/g;const startWhiteSpaceRegExp=/^[ \\t\\r\\n]+/;const endWhiteSpaceRegExp=/[ \\t\\r\\n]+$/;const hasWhitespaceParent=node=>{let tempNode=node.parent;while(isNonNullable(tempNode)){if(tempNode.name in whitespaceElements){return true;}else{tempNode=tempNode.parent;}}return false;};const isTextRootBlockEmpty=node=>{let tempNode=node;while(isNonNullable(tempNode)){if(tempNode.name in textRootBlockElements){return isEmpty(schema,nonEmptyElements,whitespaceElements,tempNode);}else{tempNode=tempNode.parent;}}return false;};const isBlock=node=>node.name in blockElements||isTransparentAstBlock(schema,node)||isNonHtmlElementRootName(node.name)&&node.parent===root;const isAtEdgeOfBlock=(node,start)=>{const neighbour=start?node.prev:node.next;if(isNonNullable(neighbour)||isNullable(node.parent)){return false;}return isBlock(node.parent)&&(node.parent!==root||args.isRootContent===true);};const preprocess=node=>{var _a;if(node.type===3){if(!hasWhitespaceParent(node)){let text=(_a=node.value)!==null&&_a!==void 0?_a:'';text=text.replace(allWhiteSpaceRegExp,' ');if(isLineBreakNode(node.prev,isBlock)||isAtEdgeOfBlock(node,true)){text=text.replace(startWhiteSpaceRegExp,'');}if(text.length===0){node.remove();}else{node.value=text;}}}};const postprocess=node=>{var _a;if(node.type===1){const elementRule=schema.getElementRule(node.name);if(validate&&elementRule){const isNodeEmpty=isEmpty(schema,nonEmptyElements,whitespaceElements,node);if(elementRule.paddInEmptyBlock&&isNodeEmpty&&isTextRootBlockEmpty(node)){paddEmptyNode(settings,args,isBlock,node);}else if(elementRule.removeEmpty&&isNodeEmpty){if(isBlock(node)){node.remove();}else{node.unwrap();}}else if(elementRule.paddEmpty&&(isNodeEmpty||isPaddedWithNbsp(node))){paddEmptyNode(settings,args,isBlock,node);}}}else if(node.type===3){if(!hasWhitespaceParent(node)){let text=(_a=node.value)!==null&&_a!==void 0?_a:'';if(node.next&&isBlock(node.next)||isAtEdgeOfBlock(node,false)){text=text.replace(endWhiteSpaceRegExp,'');}if(text.length===0){node.remove();}else{node.value=text;}}}};return[preprocess,postprocess];};const getRootBlockName=(settings,args)=>{var _a;const name=(_a=args.forced_root_block)!==null&&_a!==void 0?_a:settings.forced_root_block;if(name===false){return'';}else if(name===true){return'p';}else{return name;}};const DomParser=(settings={},schema=Schema())=>{const nodeFilterRegistry=create$8();const attributeFilterRegistry=create$8();const defaultedSettings={validate:true,root_name:'body',sanitize:true,...settings};const parser=new DOMParser();const sanitizer=getSanitizer(defaultedSettings,schema);const parseAndSanitizeWithContext=(html,rootName,format='html')=>{const mimeType=format==='xhtml'?'application/xhtml+xml':'text/html';const isSpecialRoot=has$2(schema.getSpecialElements(),rootName.toLowerCase());const content=isSpecialRoot?`<${rootName}>${html}</${rootName}>`:html;const wrappedHtml=format==='xhtml'?`<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>${content}</body></html>`:`<body>${content}</body>`;const body=parser.parseFromString(wrappedHtml,mimeType).body;sanitizer.sanitizeHtmlElement(body,mimeType);return isSpecialRoot?body.firstChild:body;};const addNodeFilter=nodeFilterRegistry.addFilter;const getNodeFilters=nodeFilterRegistry.getFilters;const removeNodeFilter=nodeFilterRegistry.removeFilter;const addAttributeFilter=attributeFilterRegistry.addFilter;const getAttributeFilters=attributeFilterRegistry.getFilters;const removeAttributeFilter=attributeFilterRegistry.removeFilter;const findInvalidChildren=(node,invalidChildren)=>{if(isInvalid(schema,node)){invalidChildren.push(node);}};const isWrappableNode=(blockElements,node)=>{const isInternalElement=isString(node.attr(internalElementAttr));const isInlineElement=node.type===1&&!has$2(blockElements,node.name)&&!isTransparentAstBlock(schema,node)&&!isNonHtmlElementRootName(node.name);return node.type===3||isInlineElement&&!isInternalElement;};const addRootBlocks=(rootNode,rootBlockName)=>{const blockElements=extend$1(makeMap('script,style,head,html,body,title,meta,param'),schema.getBlockElements());const startWhiteSpaceRegExp=/^[ \\t\\r\\n]+/;const endWhiteSpaceRegExp=/[ \\t\\r\\n]+$/;let node=rootNode.firstChild,rootBlockNode=null;const trim=rootBlock=>{var _a,_b;if(rootBlock){node=rootBlock.firstChild;if(node&&node.type===3){node.value=(_a=node.value)===null||_a===void 0?void 0:_a.replace(startWhiteSpaceRegExp,'');}node=rootBlock.lastChild;if(node&&node.type===3){node.value=(_b=node.value)===null||_b===void 0?void 0:_b.replace(endWhiteSpaceRegExp,'');}}};if(!schema.isValidChild(rootNode.name,rootBlockName.toLowerCase())){return;}while(node){const next=node.next;if(isWrappableNode(blockElements,node)){if(!rootBlockNode){rootBlockNode=new AstNode(rootBlockName,1);rootBlockNode.attr(defaultedSettings.forced_root_block_attrs);rootNode.insert(rootBlockNode,node);rootBlockNode.append(node);}else{rootBlockNode.append(node);}}else{trim(rootBlockNode);rootBlockNode=null;}node=next;}trim(rootBlockNode);};const parse=(html,args={})=>{var _a;const validate=defaultedSettings.validate;const rootName=(_a=args.context)!==null&&_a!==void 0?_a:defaultedSettings.root_name;const element=parseAndSanitizeWithContext(html,rootName,args.format);updateChildren(schema,element);const rootNode=new AstNode(rootName,11);transferChildren(rootNode,element,schema.getSpecialElements(),sanitizer.sanitizeNamespaceElement);element.innerHTML='';const[whitespacePre,whitespacePost]=whitespaceCleaner(rootNode,schema,defaultedSettings,args);const invalidChildren=[];const invalidFinder=validate?node=>findInvalidChildren(node,invalidChildren):noop;const matches={nodes:{},attributes:{}};const matchFinder=node=>matchNode$1(getNodeFilters(),getAttributeFilters(),node,matches);walkTree(rootNode,[whitespacePre,matchFinder],[whitespacePost,invalidFinder]);invalidChildren.reverse();if(validate&&invalidChildren.length>0){if(args.context){const{pass:topLevelChildren,fail:otherChildren}=partition$2(invalidChildren,child=>child.parent===rootNode);cleanInvalidNodes(otherChildren,schema,rootNode,matchFinder);args.invalid=topLevelChildren.length>0;}else{cleanInvalidNodes(invalidChildren,schema,rootNode,matchFinder);}}const rootBlockName=getRootBlockName(defaultedSettings,args);if(rootBlockName&&(rootNode.name==='body'||args.isRootContent)){addRootBlocks(rootNode,rootBlockName);}if(!args.invalid){runFilters(matches,args);}return rootNode;};const exports={schema,addAttributeFilter,getAttributeFilters,removeAttributeFilter,addNodeFilter,getNodeFilters,removeNodeFilter,parse};register$4(exports,defaultedSettings);register$5(exports,defaultedSettings,schema);return exports;};const serializeContent=content=>isTreeNode(content)?HtmlSerializer({validate:false}).serialize(content):content;const withSerializedContent=(content,fireEvent,parserSettings)=>{const serializedContent=serializeContent(content);const eventArgs=fireEvent(serializedContent);if(eventArgs.isDefaultPrevented()){return eventArgs;}else if(isTreeNode(content)){if(eventArgs.content!==serializedContent){const rootNode=DomParser({validate:false,forced_root_block:false,...parserSettings}).parse(eventArgs.content,{context:content.name});return{...eventArgs,content:rootNode};}else{return{...eventArgs,content};}}else{return eventArgs;}};const preProcessGetContent=(editor,args)=>{if(args.no_events){return Result.value(args);}else{const eventArgs=fireBeforeGetContent(editor,args);if(eventArgs.isDefaultPrevented()){return Result.error(fireGetContent(editor,{content:'',...eventArgs}).content);}else{return Result.value(eventArgs);}}};const postProcessGetContent=(editor,content,args)=>{if(args.no_events){return content;}else{const processedEventArgs=withSerializedContent(content,content=>fireGetContent(editor,{...args,content}),{sanitize:shouldSanitizeXss(editor),sandbox_iframes:shouldSandboxIframes(editor)});return processedEventArgs.content;}};const preProcessSetContent=(editor,args)=>{if(args.no_events){return Result.value(args);}else{const processedEventArgs=withSerializedContent(args.content,content=>fireBeforeSetContent(editor,{...args,content}),{sanitize:shouldSanitizeXss(editor),sandbox_iframes:shouldSandboxIframes(editor)});if(processedEventArgs.isDefaultPrevented()){fireSetContent(editor,processedEventArgs);return Result.error(undefined);}else{return Result.value(processedEventArgs);}}};const postProcessSetContent=(editor,content,args)=>{if(!args.no_events){fireSetContent(editor,{...args,content});}};const tableModel=(element,width,rows)=>({element,width,rows});const tableRow=(element,cells)=>({element,cells});const cellPosition=(x,y)=>({x,y});const getSpan=(td,key)=>{return getOpt(td,key).bind(toInt).getOr(1);};const fillout=(table,x,y,tr,td)=>{const rowspan=getSpan(td,'rowspan');const colspan=getSpan(td,'colspan');const rows=table.rows;for(let y2=y;y2<y+rowspan;y2++){if(!rows[y2]){rows[y2]=tableRow(deep$1(tr),[]);}for(let x2=x;x2<x+colspan;x2++){const cells=rows[y2].cells;cells[x2]=y2===y&&x2===x?td:shallow$1(td);}}};const cellExists=(table,x,y)=>{const rows=table.rows;const cells=rows[y]?rows[y].cells:[];return!!cells[x];};const skipCellsX=(table,x,y)=>{while(cellExists(table,x,y)){x++;}return x;};const getWidth=rows=>{return foldl(rows,(acc,row)=>{return row.cells.length>acc?row.cells.length:acc;},0);};const findElementPos=(table,element)=>{const rows=table.rows;for(let y=0;y<rows.length;y++){const cells=rows[y].cells;for(let x=0;x<cells.length;x++){if(eq(cells[x],element)){return Optional.some(cellPosition(x,y));}}}return Optional.none();};const extractRows=(table,sx,sy,ex,ey)=>{const newRows=[];const rows=table.rows;for(let y=sy;y<=ey;y++){const cells=rows[y].cells;const slice=sx<ex?cells.slice(sx,ex+1):cells.slice(ex,sx+1);newRows.push(tableRow(rows[y].element,slice));}return newRows;};const subTable=(table,startPos,endPos)=>{const sx=startPos.x,sy=startPos.y;const ex=endPos.x,ey=endPos.y;const newRows=sy<ey?extractRows(table,sx,sy,ex,ey):extractRows(table,sx,ey,ex,sy);return tableModel(table.element,getWidth(newRows),newRows);};const createDomTable=(table,rows)=>{const tableElement=shallow$1(table.element);const tableBody=SugarElement.fromTag('tbody');append(tableBody,rows);append$1(tableElement,tableBody);return tableElement;};const modelRowsToDomRows=table=>{return map$3(table.rows,row=>{const cells=map$3(row.cells,cell=>{const td=deep$1(cell);remove$a(td,'colspan');remove$a(td,'rowspan');return td;});const tr=shallow$1(row.element);append(tr,cells);return tr;});};const fromDom=tableElm=>{const table=tableModel(shallow$1(tableElm),0,[]);each$e(descendants(tableElm,'tr'),(tr,y)=>{each$e(descendants(tr,'td,th'),(td,x)=>{fillout(table,skipCellsX(table,x,y),y,tr,td);});});return tableModel(table.element,getWidth(table.rows),table.rows);};const toDom=table=>{return createDomTable(table,modelRowsToDomRows(table));};const subsection=(table,startElement,endElement)=>{return findElementPos(table,startElement).bind(startPos=>{return findElementPos(table,endElement).map(endPos=>{return subTable(table,startPos,endPos);});});};const findParentListContainer=parents=>find$2(parents,elm=>name(elm)==='ul'||name(elm)==='ol');const getFullySelectedListWrappers=(parents,rng)=>find$2(parents,elm=>name(elm)==='li'&&hasAllContentsSelected(elm,rng)).fold(constant([]),_li=>findParentListContainer(parents).map(listCont=>{const listElm=SugarElement.fromTag(name(listCont));const listStyles=filter$4(getAllRaw(listCont),(_style,name)=>startsWith(name,'list-style'));setAll(listElm,listStyles);return[SugarElement.fromTag('li'),listElm];}).getOr([]));const wrap=(innerElm,elms)=>{const wrapped=foldl(elms,(acc,elm)=>{append$1(elm,acc);return elm;},innerElm);return elms.length>0?fromElements([wrapped]):wrapped;};const directListWrappers=commonAnchorContainer=>{if(isListItem$1(commonAnchorContainer)){return parent(commonAnchorContainer).filter(isList).fold(constant([]),listElm=>[commonAnchorContainer,listElm]);}else{return isList(commonAnchorContainer)?[commonAnchorContainer]:[];}};const getWrapElements=(rootNode,rng,schema)=>{const commonAnchorContainer=SugarElement.fromDom(rng.commonAncestorContainer);const parents=parentsAndSelf(commonAnchorContainer,rootNode);const wrapElements=filter$5(parents,el=>schema.isWrapper(name(el)));const listWrappers=getFullySelectedListWrappers(parents,rng);const allWrappers=wrapElements.concat(listWrappers.length?listWrappers:directListWrappers(commonAnchorContainer));return map$3(allWrappers,shallow$1);};const emptyFragment=()=>fromElements([]);const getFragmentFromRange=(rootNode,rng,schema)=>wrap(SugarElement.fromDom(rng.cloneContents()),getWrapElements(rootNode,rng,schema));const getParentTable=(rootElm,cell)=>ancestor$3(cell,'table',curry(eq,rootElm));const getTableFragment=(rootNode,selectedTableCells)=>getParentTable(rootNode,selectedTableCells[0]).bind(tableElm=>{const firstCell=selectedTableCells[0];const lastCell=selectedTableCells[selectedTableCells.length-1];const fullTableModel=fromDom(tableElm);return subsection(fullTableModel,firstCell,lastCell).map(sectionedTableModel=>fromElements([toDom(sectionedTableModel)]));}).getOrThunk(emptyFragment);const getSelectionFragment=(rootNode,ranges,schema)=>ranges.length>0&&ranges[0].collapsed?emptyFragment():getFragmentFromRange(rootNode,ranges[0],schema);const read$3=(rootNode,ranges,schema)=>{const selectedCells=getCellsFromElementOrRanges(ranges,rootNode);return selectedCells.length>0?getTableFragment(rootNode,selectedCells):getSelectionFragment(rootNode,ranges,schema);};const isCollapsibleWhitespace=(text,index)=>index>=0&&index<text.length&&isWhiteSpace(text.charAt(index));const getInnerText=bin=>{return trim$2(bin.innerText);};const getContextNodeName=parentBlockOpt=>parentBlockOpt.map(block=>block.nodeName).getOr('div').toLowerCase();const getTextContent=editor=>Optional.from(editor.selection.getRng()).map(rng=>{var _a;const parentBlockOpt=Optional.from(editor.dom.getParent(rng.commonAncestorContainer,editor.dom.isBlock));const body=editor.getBody();const contextNodeName=getContextNodeName(parentBlockOpt);const rangeContentClone=SugarElement.fromDom(rng.cloneContents());cleanupBogusElements(rangeContentClone);cleanupInputNames(rangeContentClone);const bin=editor.dom.add(body,contextNodeName,{'data-mce-bogus':'all','style':'overflow: hidden; opacity: 0;'},rangeContentClone.dom);const text=getInnerText(bin);const nonRenderedText=trim$2((_a=bin.textContent)!==null&&_a!==void 0?_a:'');editor.dom.remove(bin);if(isCollapsibleWhitespace(nonRenderedText,0)||isCollapsibleWhitespace(nonRenderedText,nonRenderedText.length-1)){const parentBlock=parentBlockOpt.getOr(body);const parentBlockText=getInnerText(parentBlock);const textIndex=parentBlockText.indexOf(text);if(textIndex===-1){return text;}else{const hasProceedingSpace=isCollapsibleWhitespace(parentBlockText,textIndex-1);const hasTrailingSpace=isCollapsibleWhitespace(parentBlockText,textIndex+text.length);return(hasProceedingSpace?' ':'')+text+(hasTrailingSpace?' ':'');}}else{return text;}}).getOr('');const getSerializedContent=(editor,args)=>{const rng=editor.selection.getRng(),tmpElm=editor.dom.create('body');const sel=editor.selection.getSel();const ranges=processRanges(editor,getRanges$1(sel));const fragment=args.contextual?read$3(SugarElement.fromDom(editor.getBody()),ranges,editor.schema).dom:rng.cloneContents();if(fragment){tmpElm.appendChild(fragment);}return editor.selection.serializer.serialize(tmpElm,args);};const extractSelectedContent=(editor,args)=>{if(args.format==='text'){return getTextContent(editor);}else{const content=getSerializedContent(editor,args);if(args.format==='tree'){return content;}else{return editor.selection.isCollapsed()?'':content;}}};const setupArgs$3=(args,format)=>({...args,format,get:true,selection:true,getInner:true});const getSelectedContentInternal=(editor,format,args={})=>{const defaultedArgs=setupArgs$3(args,format);return preProcessGetContent(editor,defaultedArgs).fold(identity,updatedArgs=>{const content=extractSelectedContent(editor,updatedArgs);return postProcessGetContent(editor,content,updatedArgs);});};const KEEP=0,INSERT=1,DELETE=2;const diff=(left,right)=>{const size=left.length+right.length+2;const vDown=new Array(size);const vUp=new Array(size);const snake=(start,end,diag)=>{return{start,end,diag};};const buildScript=(start1,end1,start2,end2,script)=>{const middle=getMiddleSnake(start1,end1,start2,end2);if(middle===null||middle.start===end1&&middle.diag===end1-end2||middle.end===start1&&middle.diag===start1-start2){let i=start1;let j=start2;while(i<end1||j<end2){if(i<end1&&j<end2&&left[i]===right[j]){script.push([KEEP,left[i]]);++i;++j;}else{if(end1-start1>end2-start2){script.push([DELETE,left[i]]);++i;}else{script.push([INSERT,right[j]]);++j;}}}}else{buildScript(start1,middle.start,start2,middle.start-middle.diag,script);for(let i2=middle.start;i2<middle.end;++i2){script.push([KEEP,left[i2]]);}buildScript(middle.end,end1,middle.end-middle.diag,end2,script);}};const buildSnake=(start,diag,end1,end2)=>{let end=start;while(end-diag<end2&&end<end1&&left[end]===right[end-diag]){++end;}return snake(start,end,diag);};const getMiddleSnake=(start1,end1,start2,end2)=>{const m=end1-start1;const n=end2-start2;if(m===0||n===0){return null;}const delta=m-n;const sum=n+m;const offset=(sum%2===0?sum:sum+1)/2;vDown[1+offset]=start1;vUp[1+offset]=end1+1;let d,k,i,x,y;for(d=0;d<=offset;++d){for(k=-d;k<=d;k+=2){i=k+offset;if(k===-d||k!==d&&vDown[i-1]<vDown[i+1]){vDown[i]=vDown[i+1];}else{vDown[i]=vDown[i-1]+1;}x=vDown[i];y=x-start1+start2-k;while(x<end1&&y<end2&&left[x]===right[y]){vDown[i]=++x;++y;}if(delta%2!==0&&delta-d<=k&&k<=delta+d){if(vUp[i-delta]<=vDown[i]){return buildSnake(vUp[i-delta],k+start1-start2,end1,end2);}}}for(k=delta-d;k<=delta+d;k+=2){i=k+offset-delta;if(k===delta-d||k!==delta+d&&vUp[i+1]<=vUp[i-1]){vUp[i]=vUp[i+1]-1;}else{vUp[i]=vUp[i-1];}x=vUp[i]-1;y=x-start1+start2-k;while(x>=start1&&y>=start2&&left[x]===right[y]){vUp[i]=x--;y--;}if(delta%2===0&&-d<=k&&k<=d){if(vUp[i]<=vDown[i+delta]){return buildSnake(vUp[i],k+start1-start2,end1,end2);}}}}return null;};const script=[];buildScript(0,left.length,0,right.length,script);return script;};const getOuterHtml=elm=>{if(isElement$6(elm)){return elm.outerHTML;}else if(isText$a(elm)){return Entities.encodeRaw(elm.data,false);}else if(isComment(elm)){return'<!--'+elm.data+'-->';}return'';};const createFragment=html=>{let node;const container=document.createElement('div');const frag=document.createDocumentFragment();if(html){container.innerHTML=html;}while(node=container.firstChild){frag.appendChild(node);}return frag;};const insertAt=(elm,html,index)=>{const fragment=createFragment(html);if(elm.hasChildNodes()&&index<elm.childNodes.length){const target=elm.childNodes[index];elm.insertBefore(fragment,target);}else{elm.appendChild(fragment);}};const removeAt=(elm,index)=>{if(elm.hasChildNodes()&&index<elm.childNodes.length){const target=elm.childNodes[index];elm.removeChild(target);}};const applyDiff=(diff,elm)=>{let index=0;each$e(diff,action=>{if(action[0]===KEEP){index++;}else if(action[0]===INSERT){insertAt(elm,action[1],index);index++;}else if(action[0]===DELETE){removeAt(elm,index);}});};const read$2=(elm,trimZwsp)=>filter$5(map$3(from(elm.childNodes),trimZwsp?compose(trim$2,getOuterHtml):getOuterHtml),item=>{return item.length>0;});const write=(fragments,elm)=>{const currentFragments=map$3(from(elm.childNodes),getOuterHtml);applyDiff(diff(currentFragments,fragments),elm);return elm;};const lazyTempDocument=cached(()=>document.implementation.createHTMLDocument('undo'));const hasIframes=body=>body.querySelector('iframe')!==null;const createFragmentedLevel=fragments=>{return{type:'fragmented',fragments,content:'',bookmark:null,beforeBookmark:null};};const createCompleteLevel=content=>{return{type:'complete',fragments:null,content,bookmark:null,beforeBookmark:null};};const createFromEditor=editor=>{const tempAttrs=editor.serializer.getTempAttrs();const body=trim$1(editor.getBody(),tempAttrs);return hasIframes(body)?createFragmentedLevel(read$2(body,true)):createCompleteLevel(trim$2(body.innerHTML));};const applyToEditor=(editor,level,before)=>{const bookmark=before?level.beforeBookmark:level.bookmark;if(level.type==='fragmented'){write(level.fragments,editor.getBody());}else{editor.setContent(level.content,{format:'raw',no_selection:isNonNullable(bookmark)&&isPathBookmark(bookmark)?!bookmark.isFakeCaret:true});}if(bookmark){editor.selection.moveToBookmark(bookmark);editor.selection.scrollIntoView();}};const getLevelContent=level=>{return level.type==='fragmented'?level.fragments.join(''):level.content;};const getCleanLevelContent=level=>{const elm=SugarElement.fromTag('body',lazyTempDocument());set$1(elm,getLevelContent(level));each$e(descendants(elm,'*[data-mce-bogus]'),unwrap);return get$6(elm);};const hasEqualContent=(level1,level2)=>getLevelContent(level1)===getLevelContent(level2);const hasEqualCleanedContent=(level1,level2)=>getCleanLevelContent(level1)===getCleanLevelContent(level2);const isEq$1=(level1,level2)=>{if(!level1||!level2){return false;}else if(hasEqualContent(level1,level2)){return true;}else{return hasEqualCleanedContent(level1,level2);}};const isUnlocked=locks=>locks.get()===0;const setTyping=(undoManager,typing,locks)=>{if(isUnlocked(locks)){undoManager.typing=typing;}};const endTyping=(undoManager,locks)=>{if(undoManager.typing){setTyping(undoManager,false,locks);undoManager.add();}};const endTypingLevelIgnoreLocks=undoManager=>{if(undoManager.typing){undoManager.typing=false;undoManager.add();}};const beforeChange$1=(editor,locks,beforeBookmark)=>{if(isUnlocked(locks)){beforeBookmark.set(getUndoBookmark(editor.selection));}};const addUndoLevel$1=(editor,undoManager,index,locks,beforeBookmark,level,event)=>{const currentLevel=createFromEditor(editor);const newLevel=Tools.extend(level||{},currentLevel);if(!isUnlocked(locks)||editor.removed){return null;}const lastLevel=undoManager.data[index.get()];if(editor.dispatch('BeforeAddUndo',{level:newLevel,lastLevel,originalEvent:event}).isDefaultPrevented()){return null;}if(lastLevel&&isEq$1(lastLevel,newLevel)){return null;}if(undoManager.data[index.get()]){beforeBookmark.get().each(bm=>{undoManager.data[index.get()].beforeBookmark=bm;});}const customUndoRedoLevels=getCustomUndoRedoLevels(editor);if(customUndoRedoLevels){if(undoManager.data.length>customUndoRedoLevels){for(let i=0;i<undoManager.data.length-1;i++){undoManager.data[i]=undoManager.data[i+1];}undoManager.data.length--;index.set(undoManager.data.length);}}newLevel.bookmark=getUndoBookmark(editor.selection);if(index.get()<undoManager.data.length-1){undoManager.data.length=index.get()+1;}undoManager.data.push(newLevel);index.set(undoManager.data.length-1);const args={level:newLevel,lastLevel,originalEvent:event};if(index.get()>0){editor.setDirty(true);editor.dispatch('AddUndo',args);editor.dispatch('change',args);}else{editor.dispatch('AddUndo',args);}return newLevel;};const clear$1=(editor,undoManager,index)=>{undoManager.data=[];index.set(0);undoManager.typing=false;editor.dispatch('ClearUndos');};const extra$1=(editor,undoManager,index,callback1,callback2)=>{if(undoManager.transact(callback1)){const bookmark=undoManager.data[index.get()].bookmark;const lastLevel=undoManager.data[index.get()-1];applyToEditor(editor,lastLevel,true);if(undoManager.transact(callback2)){undoManager.data[index.get()-1].beforeBookmark=bookmark;}}};const redo$1=(editor,index,data)=>{let level;if(index.get()<data.length-1){index.set(index.get()+1);level=data[index.get()];applyToEditor(editor,level,false);editor.setDirty(true);editor.dispatch('Redo',{level});}return level;};const undo$1=(editor,undoManager,locks,index)=>{let level;if(undoManager.typing){undoManager.add();undoManager.typing=false;setTyping(undoManager,false,locks);}if(index.get()>0){index.set(index.get()-1);level=undoManager.data[index.get()];applyToEditor(editor,level,true);editor.setDirty(true);editor.dispatch('Undo',{level});}return level;};const reset$1=undoManager=>{undoManager.clear();undoManager.add();};const hasUndo$1=(editor,undoManager,index)=>index.get()>0||undoManager.typing&&undoManager.data[0]&&!isEq$1(createFromEditor(editor),undoManager.data[0]);const hasRedo$1=(undoManager,index)=>index.get()<undoManager.data.length-1&&!undoManager.typing;const transact$1=(undoManager,locks,callback)=>{endTyping(undoManager,locks);undoManager.beforeChange();undoManager.ignore(callback);return undoManager.add();};const ignore$1=(locks,callback)=>{try{locks.set(locks.get()+1);callback();}finally{locks.set(locks.get()-1);}};const addVisualInternal=(editor,elm)=>{const dom=editor.dom;const scope=isNonNullable(elm)?elm:editor.getBody();each$e(dom.select('table,a',scope),matchedElm=>{switch(matchedElm.nodeName){case'TABLE':const cls=getVisualAidsTableClass(editor);const value=dom.getAttrib(matchedElm,'border');if((!value||value==='0')&&editor.hasVisual){dom.addClass(matchedElm,cls);}else{dom.removeClass(matchedElm,cls);}break;case'A':if(!dom.getAttrib(matchedElm,'href')){const value=dom.getAttrib(matchedElm,'name')||matchedElm.id;const cls=getVisualAidsAnchorClass(editor);if(value&&editor.hasVisual){dom.addClass(matchedElm,cls);}else{dom.removeClass(matchedElm,cls);}}break;}});editor.dispatch('VisualAid',{element:elm,hasVisual:editor.hasVisual});};const makePlainAdaptor=editor=>({init:{bindEvents:noop},undoManager:{beforeChange:(locks,beforeBookmark)=>beforeChange$1(editor,locks,beforeBookmark),add:(undoManager,index,locks,beforeBookmark,level,event)=>addUndoLevel$1(editor,undoManager,index,locks,beforeBookmark,level,event),undo:(undoManager,locks,index)=>undo$1(editor,undoManager,locks,index),redo:(index,data)=>redo$1(editor,index,data),clear:(undoManager,index)=>clear$1(editor,undoManager,index),reset:undoManager=>reset$1(undoManager),hasUndo:(undoManager,index)=>hasUndo$1(editor,undoManager,index),hasRedo:(undoManager,index)=>hasRedo$1(undoManager,index),transact:(undoManager,locks,callback)=>transact$1(undoManager,locks,callback),ignore:(locks,callback)=>ignore$1(locks,callback),extra:(undoManager,index,callback1,callback2)=>extra$1(editor,undoManager,index,callback1,callback2)},formatter:{match:(name,vars,node,similar)=>match$2(editor,name,vars,node,similar),matchAll:(names,vars)=>matchAll(editor,names,vars),matchNode:(node,name,vars,similar)=>matchNode(editor,node,name,vars,similar),canApply:name=>canApply(editor,name),closest:names=>closest(editor,names),apply:(name,vars,node)=>applyFormat$1(editor,name,vars,node),remove:(name,vars,node,similar)=>removeFormat$1(editor,name,vars,node,similar),toggle:(name,vars,node)=>toggle(editor,name,vars,node),formatChanged:(registeredFormatListeners,formats,callback,similar,vars)=>formatChangedInternal(editor,registeredFormatListeners,formats,callback,similar,vars)},editor:{getContent:args=>getContentInternal(editor,args),setContent:(content,args)=>setContentInternal(editor,content,args),insertContent:(value,details)=>insertHtmlAtCaret(editor,value,details),addVisual:elm=>addVisualInternal(editor,elm)},selection:{getContent:(format,args)=>getSelectedContentInternal(editor,format,args)},autocompleter:{addDecoration:range=>create$9(editor,range),removeDecoration:()=>remove$2(editor,SugarElement.fromDom(editor.getBody()))},raw:{getModel:()=>Optional.none()}});const makeRtcAdaptor=rtcEditor=>{const defaultVars=vars=>isObject(vars)?vars:{};const{init,undoManager,formatter,editor,selection,autocompleter,raw}=rtcEditor;return{init:{bindEvents:init.bindEvents},undoManager:{beforeChange:undoManager.beforeChange,add:undoManager.add,undo:undoManager.undo,redo:undoManager.redo,clear:undoManager.clear,reset:undoManager.reset,hasUndo:undoManager.hasUndo,hasRedo:undoManager.hasRedo,transact:(_undoManager,_locks,fn)=>undoManager.transact(fn),ignore:(_locks,callback)=>undoManager.ignore(callback),extra:(_undoManager,_index,callback1,callback2)=>undoManager.extra(callback1,callback2)},formatter:{match:(name,vars,_node,similar)=>formatter.match(name,defaultVars(vars),similar),matchAll:formatter.matchAll,matchNode:formatter.matchNode,canApply:name=>formatter.canApply(name),closest:names=>formatter.closest(names),apply:(name,vars,_node)=>formatter.apply(name,defaultVars(vars)),remove:(name,vars,_node,_similar)=>formatter.remove(name,defaultVars(vars)),toggle:(name,vars,_node)=>formatter.toggle(name,defaultVars(vars)),formatChanged:(_rfl,formats,callback,similar,vars)=>formatter.formatChanged(formats,callback,similar,vars)},editor:{getContent:args=>editor.getContent(args),setContent:(content,args)=>{return{content:editor.setContent(content,args),html:''};},insertContent:(content,_details)=>{editor.insertContent(content);return'';},addVisual:editor.addVisual},selection:{getContent:(_format,args)=>selection.getContent(args)},autocompleter:{addDecoration:autocompleter.addDecoration,removeDecoration:autocompleter.removeDecoration},raw:{getModel:()=>Optional.some(raw.getRawModel())}};};const makeNoopAdaptor=()=>{const nul=constant(null);const empty=constant('');return{init:{bindEvents:noop},undoManager:{beforeChange:noop,add:nul,undo:nul,redo:nul,clear:noop,reset:noop,hasUndo:never,hasRedo:never,transact:nul,ignore:noop,extra:noop},formatter:{match:never,matchAll:constant([]),matchNode:constant(undefined),canApply:never,closest:empty,apply:noop,remove:noop,toggle:noop,formatChanged:constant({unbind:noop})},editor:{getContent:empty,setContent:constant({content:'',html:''}),insertContent:constant(''),addVisual:noop},selection:{getContent:empty},autocompleter:{addDecoration:noop,removeDecoration:noop},raw:{getModel:constant(Optional.none())}};};const isRtc=editor=>has$2(editor.plugins,'rtc');const getRtcSetup=editor=>get$a(editor.plugins,'rtc').bind(rtcPlugin=>Optional.from(rtcPlugin.setup));const setup$t=editor=>{const editorCast=editor;return getRtcSetup(editor).fold(()=>{editorCast.rtcInstance=makePlainAdaptor(editor);return Optional.none();},setup=>{editorCast.rtcInstance=makeNoopAdaptor();return Optional.some(()=>setup().then(rtcEditor=>{editorCast.rtcInstance=makeRtcAdaptor(rtcEditor);return rtcEditor.rtc.isRemote;}));});};const getRtcInstanceWithFallback=editor=>editor.rtcInstance?editor.rtcInstance:makePlainAdaptor(editor);const getRtcInstanceWithError=editor=>{const rtcInstance=editor.rtcInstance;if(!rtcInstance){throw new Error('Failed to get RTC instance not yet initialized.');}else{return rtcInstance;}};const beforeChange=(editor,locks,beforeBookmark)=>{getRtcInstanceWithError(editor).undoManager.beforeChange(locks,beforeBookmark);};const addUndoLevel=(editor,undoManager,index,locks,beforeBookmark,level,event)=>getRtcInstanceWithError(editor).undoManager.add(undoManager,index,locks,beforeBookmark,level,event);const undo=(editor,undoManager,locks,index)=>getRtcInstanceWithError(editor).undoManager.undo(undoManager,locks,index);const redo=(editor,index,data)=>getRtcInstanceWithError(editor).undoManager.redo(index,data);const clear=(editor,undoManager,index)=>{getRtcInstanceWithError(editor).undoManager.clear(undoManager,index);};const reset=(editor,undoManager)=>{getRtcInstanceWithError(editor).undoManager.reset(undoManager);};const hasUndo=(editor,undoManager,index)=>getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager,index);const hasRedo=(editor,undoManager,index)=>getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager,index);const transact=(editor,undoManager,locks,callback)=>getRtcInstanceWithError(editor).undoManager.transact(undoManager,locks,callback);const ignore=(editor,locks,callback)=>{getRtcInstanceWithError(editor).undoManager.ignore(locks,callback);};const extra=(editor,undoManager,index,callback1,callback2)=>{getRtcInstanceWithError(editor).undoManager.extra(undoManager,index,callback1,callback2);};const matchFormat=(editor,name,vars,node,similar)=>getRtcInstanceWithError(editor).formatter.match(name,vars,node,similar);const matchAllFormats=(editor,names,vars)=>getRtcInstanceWithError(editor).formatter.matchAll(names,vars);const matchNodeFormat=(editor,node,name,vars,similar)=>getRtcInstanceWithError(editor).formatter.matchNode(node,name,vars,similar);const canApplyFormat=(editor,name)=>getRtcInstanceWithError(editor).formatter.canApply(name);const closestFormat=(editor,names)=>getRtcInstanceWithError(editor).formatter.closest(names);const applyFormat=(editor,name,vars,node)=>{getRtcInstanceWithError(editor).formatter.apply(name,vars,node);};const removeFormat=(editor,name,vars,node,similar)=>{getRtcInstanceWithError(editor).formatter.remove(name,vars,node,similar);};const toggleFormat=(editor,name,vars,node)=>{getRtcInstanceWithError(editor).formatter.toggle(name,vars,node);};const formatChanged=(editor,registeredFormatListeners,formats,callback,similar,vars)=>getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners,formats,callback,similar,vars);const getContent$2=(editor,args)=>getRtcInstanceWithFallback(editor).editor.getContent(args);const setContent$2=(editor,content,args)=>getRtcInstanceWithFallback(editor).editor.setContent(content,args);const insertContent$1=(editor,value,details)=>getRtcInstanceWithFallback(editor).editor.insertContent(value,details);const getSelectedContent=(editor,format,args)=>getRtcInstanceWithError(editor).selection.getContent(format,args);const addVisual$1=(editor,elm)=>getRtcInstanceWithError(editor).editor.addVisual(elm);const bindEvents=editor=>getRtcInstanceWithError(editor).init.bindEvents();const addAutocompleterDecoration=(editor,range)=>getRtcInstanceWithError(editor).autocompleter.addDecoration(range);const removeAutocompleterDecoration=editor=>getRtcInstanceWithError(editor).autocompleter.removeDecoration();const getContent$1=(editor,args={})=>{const format=args.format?args.format:'html';return getSelectedContent(editor,format,args);};const removeEmpty=text=>{if(text.dom.length===0){remove$5(text);return Optional.none();}else{return Optional.some(text);}};const walkPastBookmark=(node,start)=>node.filter(elm=>BookmarkManager.isBookmarkNode(elm.dom)).bind(start?nextSibling:prevSibling);const merge$1=(outer,inner,rng,start,schema)=>{const outerElm=outer.dom;const innerElm=inner.dom;const oldLength=start?outerElm.length:innerElm.length;if(start){mergeTextNodes(outerElm,innerElm,schema,false,!start);rng.setStart(innerElm,oldLength);}else{mergeTextNodes(innerElm,outerElm,schema,false,!start);rng.setEnd(innerElm,oldLength);}};const normalizeTextIfRequired=(inner,start,schema)=>{parent(inner).each(root=>{const text=inner.dom;if(start&&needsToBeNbspLeft(root,CaretPosition(text,0),schema)){normalizeWhitespaceAfter(text,0,schema);}else if(!start&&needsToBeNbspRight(root,CaretPosition(text,text.length),schema)){normalizeWhitespaceBefore(text,text.length,schema);}});};const mergeAndNormalizeText=(outerNode,innerNode,rng,start,schema)=>{outerNode.bind(outer=>{const normalizer=start?normalizeWhitespaceBefore:normalizeWhitespaceAfter;normalizer(outer.dom,start?outer.dom.length:0,schema);return innerNode.filter(isText$b).map(inner=>merge$1(outer,inner,rng,start,schema));}).orThunk(()=>{const innerTextNode=walkPastBookmark(innerNode,start).or(innerNode).filter(isText$b);return innerTextNode.map(inner=>normalizeTextIfRequired(inner,start,schema));});};const rngSetContent=(rng,fragment,schema)=>{const firstChild=Optional.from(fragment.firstChild).map(SugarElement.fromDom);const lastChild=Optional.from(fragment.lastChild).map(SugarElement.fromDom);rng.deleteContents();rng.insertNode(fragment);const prevText=firstChild.bind(prevSibling).filter(isText$b).bind(removeEmpty);const nextText=lastChild.bind(nextSibling).filter(isText$b).bind(removeEmpty);mergeAndNormalizeText(prevText,firstChild,rng,true,schema);mergeAndNormalizeText(nextText,lastChild,rng,false,schema);rng.collapse(false);};const setupArgs$2=(args,content)=>({format:'html',...args,set:true,selection:true,content});const cleanContent=(editor,args)=>{if(args.format!=='raw'){const rng=editor.selection.getRng();const contextBlock=editor.dom.getParent(rng.commonAncestorContainer,editor.dom.isBlock);const contextArgs=contextBlock?{context:contextBlock.nodeName.toLowerCase()}:{};const node=editor.parser.parse(args.content,{forced_root_block:false,...contextArgs,...args});return HtmlSerializer({validate:false},editor.schema).serialize(node);}else{return args.content;}};const setContent$1=(editor,content,args={})=>{const defaultedArgs=setupArgs$2(args,content);preProcessSetContent(editor,defaultedArgs).each(updatedArgs=>{const cleanedContent=cleanContent(editor,updatedArgs);const rng=editor.selection.getRng();rngSetContent(rng,rng.createContextualFragment(cleanedContent),editor.schema);editor.selection.setRng(rng);scrollRangeIntoView(editor,rng);postProcessSetContent(editor,cleanedContent,updatedArgs);});};const deleteFromCallbackMap=(callbackMap,selector,callback)=>{if(has$2(callbackMap,selector)){const newCallbacks=filter$5(callbackMap[selector],cb=>cb!==callback);if(newCallbacks.length===0){delete callbackMap[selector];}else{callbackMap[selector]=newCallbacks;}}};var SelectorChanged=(dom,editor)=>{let selectorChangedData;let currentSelectors;const findMatchingNode=(selector,nodes)=>find$2(nodes,node=>dom.is(node,selector));const getParents=elem=>dom.getParents(elem,undefined,dom.getRoot());const setup=()=>{selectorChangedData={};currentSelectors={};editor.on('NodeChange',e=>{const node=e.element;const parents=getParents(node);const matchedSelectors={};each$d(selectorChangedData,(callbacks,selector)=>{findMatchingNode(selector,parents).each(node=>{if(!currentSelectors[selector]){each$e(callbacks,callback=>{callback(true,{node,selector,parents});});currentSelectors[selector]=callbacks;}matchedSelectors[selector]=callbacks;});});each$d(currentSelectors,(callbacks,selector)=>{if(!matchedSelectors[selector]){delete currentSelectors[selector];each$e(callbacks,callback=>{callback(false,{node,selector,parents});});}});});};return{selectorChangedWithUnbind:(selector,callback)=>{if(!selectorChangedData){setup();}if(!selectorChangedData[selector]){selectorChangedData[selector]=[];}selectorChangedData[selector].push(callback);findMatchingNode(selector,getParents(editor.selection.getStart())).each(()=>{currentSelectors[selector]=selectorChangedData[selector];});return{unbind:()=>{deleteFromCallbackMap(selectorChangedData,selector,callback);deleteFromCallbackMap(currentSelectors,selector,callback);}};}};};const isAttachedToDom=node=>{return!!(node&&node.ownerDocument)&&contains(SugarElement.fromDom(node.ownerDocument),SugarElement.fromDom(node));};const isValidRange=rng=>{if(!rng){return false;}else{return isAttachedToDom(rng.startContainer)&&isAttachedToDom(rng.endContainer);}};const EditorSelection=(dom,win,serializer,editor)=>{let selectedRange;let explicitRange;const{selectorChangedWithUnbind}=SelectorChanged(dom,editor);const setCursorLocation=(node,offset)=>{const rng=dom.createRng();if(isNonNullable(node)&&isNonNullable(offset)){rng.setStart(node,offset);rng.setEnd(node,offset);setRng(rng);collapse(false);}else{moveEndPoint(dom,rng,editor.getBody(),true);setRng(rng);}};const getContent=args=>getContent$1(editor,args);const setContent=(content,args)=>setContent$1(editor,content,args);const getStart$1=real=>getStart(editor.getBody(),getRng$1(),real);const getEnd=real=>getEnd$1(editor.getBody(),getRng$1(),real);const getBookmark=(type,normalized)=>bookmarkManager.getBookmark(type,normalized);const moveToBookmark=bookmark=>bookmarkManager.moveToBookmark(bookmark);const select$1=(node,content)=>{select(dom,node,content).each(setRng);return node;};const isCollapsed=()=>{const rng=getRng$1(),sel=getSel();if(!rng||rng.item){return false;}if(rng.compareEndPoints){return rng.compareEndPoints('StartToEnd',rng)===0;}return!sel||rng.collapsed;};const isEditable=()=>{const rng=getRng$1();const fakeSelectedElements=editor.getBody().querySelectorAll('[data-mce-selected=\"1\"]');if(fakeSelectedElements.length>0){return forall(fakeSelectedElements,el=>dom.isEditable(el.parentElement));}else{return isEditableRange(dom,rng);}};const collapse=toStart=>{const rng=getRng$1();rng.collapse(!!toStart);setRng(rng);};const getSel=()=>win.getSelection?win.getSelection():win.document.selection;const getRng$1=()=>{let rng;const tryCompareBoundaryPoints=(how,sourceRange,destinationRange)=>{try{return sourceRange.compareBoundaryPoints(how,destinationRange);}catch(ex){return-1;}};const doc=win.document;if(isNonNullable(editor.bookmark)&&!hasFocus(editor)){const bookmark=getRng(editor);if(bookmark.isSome()){return bookmark.map(r=>processRanges(editor,[r])[0]).getOr(doc.createRange());}}try{const selection=getSel();if(selection&&!isRestrictedNode(selection.anchorNode)){if(selection.rangeCount>0){rng=selection.getRangeAt(0);}else{rng=doc.createRange();}rng=processRanges(editor,[rng])[0];}}catch(ex){}if(!rng){rng=doc.createRange();}if(isDocument$1(rng.startContainer)&&rng.collapsed){const elm=dom.getRoot();rng.setStart(elm,0);rng.setEnd(elm,0);}if(selectedRange&&explicitRange){if(tryCompareBoundaryPoints(rng.START_TO_START,rng,selectedRange)===0&&tryCompareBoundaryPoints(rng.END_TO_END,rng,selectedRange)===0){rng=explicitRange;}else{selectedRange=null;explicitRange=null;}}return rng;};const setRng=(rng,forward)=>{if(!isValidRange(rng)){return;}const sel=getSel();const evt=editor.dispatch('SetSelectionRange',{range:rng,forward});rng=evt.range;if(sel){explicitRange=rng;try{sel.removeAllRanges();sel.addRange(rng);}catch(ex){}if(forward===false&&sel.extend){sel.collapse(rng.endContainer,rng.endOffset);sel.extend(rng.startContainer,rng.startOffset);}selectedRange=sel.rangeCount>0?sel.getRangeAt(0):null;}if(!rng.collapsed&&rng.startContainer===rng.endContainer&&(sel===null||sel===void 0?void 0:sel.setBaseAndExtent)){if(rng.endOffset-rng.startOffset<2){if(rng.startContainer.hasChildNodes()){const node=rng.startContainer.childNodes[rng.startOffset];if(node&&node.nodeName==='IMG'){sel.setBaseAndExtent(rng.startContainer,rng.startOffset,rng.endContainer,rng.endOffset);if(sel.anchorNode!==rng.startContainer||sel.focusNode!==rng.endContainer){sel.setBaseAndExtent(node,0,node,1);}}}}}editor.dispatch('AfterSetSelectionRange',{range:rng,forward});};const setNode=elm=>{setContent(dom.getOuterHTML(elm));return elm;};const getNode$1=()=>getNode(editor.getBody(),getRng$1());const getSelectedBlocks$1=(startElm,endElm)=>getSelectedBlocks(dom,getRng$1(),startElm,endElm);const isForward=()=>{const sel=getSel();const anchorNode=sel===null||sel===void 0?void 0:sel.anchorNode;const focusNode=sel===null||sel===void 0?void 0:sel.focusNode;if(!sel||!anchorNode||!focusNode||isRestrictedNode(anchorNode)||isRestrictedNode(focusNode)){return true;}const anchorRange=dom.createRng();const focusRange=dom.createRng();try{anchorRange.setStart(anchorNode,sel.anchorOffset);anchorRange.collapse(true);focusRange.setStart(focusNode,sel.focusOffset);focusRange.collapse(true);}catch(e){return true;}return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START,focusRange)<=0;};const normalize=()=>{const rng=getRng$1();const sel=getSel();if(!hasMultipleRanges(sel)&&hasAnyRanges(editor)){const normRng=normalize$2(dom,rng);normRng.each(normRng=>{setRng(normRng,isForward());});return normRng.getOr(rng);}return rng;};const selectorChanged=(selector,callback)=>{selectorChangedWithUnbind(selector,callback);return exports;};const getScrollContainer=()=>{let scrollContainer;let node=dom.getRoot();while(node&&node.nodeName!=='BODY'){if(node.scrollHeight>node.clientHeight){scrollContainer=node;break;}node=node.parentNode;}return scrollContainer;};const scrollIntoView=(elm,alignToTop)=>{if(isNonNullable(elm)){scrollElementIntoView(editor,elm,alignToTop);}else{scrollRangeIntoView(editor,getRng$1(),alignToTop);}};const placeCaretAt=(clientX,clientY)=>setRng(fromPoint(clientX,clientY,editor.getDoc()));const getBoundingClientRect=()=>{const rng=getRng$1();return rng.collapsed?CaretPosition.fromRangeStart(rng).getClientRects()[0]:rng.getBoundingClientRect();};const destroy=()=>{win=selectedRange=explicitRange=null;controlSelection.destroy();};const expand=(options={type:'word'})=>setRng(RangeUtils(dom).expand(getRng$1(),options));const exports={dom,win,serializer,editor,expand,collapse,setCursorLocation,getContent,setContent,getBookmark,moveToBookmark,select:select$1,isCollapsed,isEditable,isForward,setNode,getNode:getNode$1,getSel,setRng,getRng:getRng$1,getStart:getStart$1,getEnd,getSelectedBlocks:getSelectedBlocks$1,normalize,selectorChanged,selectorChangedWithUnbind,getScrollContainer,scrollIntoView,placeCaretAt,getBoundingClientRect,destroy};const bookmarkManager=BookmarkManager(exports);const controlSelection=ControlSelection(exports,editor);exports.bookmarkManager=bookmarkManager;exports.controlSelection=controlSelection;return exports;};const register$3=(htmlParser,settings,dom)=>{htmlParser.addAttributeFilter('data-mce-tabindex',(nodes,name)=>{let i=nodes.length;while(i--){const node=nodes[i];node.attr('tabindex',node.attr('data-mce-tabindex'));node.attr(name,null);}});htmlParser.addAttributeFilter('src,href,style',(nodes,name)=>{const internalName='data-mce-'+name;const urlConverter=settings.url_converter;const urlConverterScope=settings.url_converter_scope;let i=nodes.length;while(i--){const node=nodes[i];let value=node.attr(internalName);if(value!==undefined){node.attr(name,value.length>0?value:null);node.attr(internalName,null);}else{value=node.attr(name);if(name==='style'){value=dom.serializeStyle(dom.parseStyle(value),node.name);}else if(urlConverter){value=urlConverter.call(urlConverterScope,value,name,node.name);}node.attr(name,value.length>0?value:null);}}});htmlParser.addAttributeFilter('class',nodes=>{let i=nodes.length;while(i--){const node=nodes[i];let value=node.attr('class');if(value){value=value.replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,'');node.attr('class',value.length>0?value:null);}}});htmlParser.addAttributeFilter('data-mce-type',(nodes,name,args)=>{let i=nodes.length;while(i--){const node=nodes[i];if(node.attr('data-mce-type')==='bookmark'&&!args.cleanup){const hasChildren=Optional.from(node.firstChild).exists(firstChild=>{var _a;return!isZwsp$1((_a=firstChild.value)!==null&&_a!==void 0?_a:'');});if(hasChildren){node.unwrap();}else{node.remove();}}}});htmlParser.addNodeFilter('noscript',nodes=>{var _a;let i=nodes.length;while(i--){const node=nodes[i].firstChild;if(node){node.value=Entities.decode((_a=node.value)!==null&&_a!==void 0?_a:'');}}});htmlParser.addNodeFilter('script,style',(nodes,name)=>{var _a;const trim=value=>{return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,'\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g,'').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,'').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,'');};let i=nodes.length;while(i--){const node=nodes[i];const firstChild=node.firstChild;const value=(_a=firstChild===null||firstChild===void 0?void 0:firstChild.value)!==null&&_a!==void 0?_a:'';if(name==='script'){const type=node.attr('type');if(type){node.attr('type',type==='mce-no/type'?null:type.replace(/^mce\\-/,''));}if(settings.element_format==='xhtml'&&firstChild&&value.length>0){firstChild.value='// <![CDATA[\\n'+trim(value)+'\\n// ]]>';}}else{if(settings.element_format==='xhtml'&&firstChild&&value.length>0){firstChild.value='<!--\\n'+trim(value)+'\\n-->';}}}});htmlParser.addNodeFilter('#comment',nodes=>{let i=nodes.length;while(i--){const node=nodes[i];const value=node.value;if(settings.preserve_cdata&&(value===null||value===void 0?void 0:value.indexOf('[CDATA['))===0){node.name='#cdata';node.type=4;node.value=dom.decode(value.replace(/^\\[CDATA\\[|\\]\\]$/g,''));}else if((value===null||value===void 0?void 0:value.indexOf('mce:protected '))===0){node.name='#text';node.type=3;node.raw=true;node.value=unescape(value).substr(14);}}});htmlParser.addNodeFilter('xml:namespace,input',(nodes,name)=>{let i=nodes.length;while(i--){const node=nodes[i];if(node.type===7){node.remove();}else if(node.type===1){if(name==='input'&&!node.attr('type')){node.attr('type','text');}}}});htmlParser.addAttributeFilter('data-mce-type',nodes=>{each$e(nodes,node=>{if(node.attr('data-mce-type')==='format-caret'){if(node.isEmpty(htmlParser.schema.getNonEmptyElements())){node.remove();}else{node.unwrap();}}});});htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,'+'data-mce-selected,data-mce-expando,data-mce-block,'+'data-mce-type,data-mce-resize,data-mce-placeholder',(nodes,name)=>{let i=nodes.length;while(i--){nodes[i].attr(name,null);}});if(settings.remove_trailing_brs){addNodeFilter(settings,htmlParser,htmlParser.schema);}};const trimTrailingBr=rootNode=>{const isBr=node=>{return(node===null||node===void 0?void 0:node.name)==='br';};const brNode1=rootNode.lastChild;if(isBr(brNode1)){const brNode2=brNode1.prev;if(isBr(brNode2)){brNode1.remove();brNode2.remove();}}};const preProcess$1=(editor,node,args)=>{let oldDoc;const dom=editor.dom;let clonedNode=node.cloneNode(true);const impl=document.implementation;if(impl.createHTMLDocument){const doc=impl.createHTMLDocument('');Tools.each(clonedNode.nodeName==='BODY'?clonedNode.childNodes:[clonedNode],node=>{doc.body.appendChild(doc.importNode(node,true));});if(clonedNode.nodeName!=='BODY'){clonedNode=doc.body.firstChild;}else{clonedNode=doc.body;}oldDoc=dom.doc;dom.doc=doc;}firePreProcess(editor,{...args,node:clonedNode});if(oldDoc){dom.doc=oldDoc;}return clonedNode;};const shouldFireEvent=(editor,args)=>{return isNonNullable(editor)&&editor.hasEventListeners('PreProcess')&&!args.no_events;};const process$1=(editor,node,args)=>{return shouldFireEvent(editor,args)?preProcess$1(editor,node,args):node;};const addTempAttr=(htmlParser,tempAttrs,name)=>{if(Tools.inArray(tempAttrs,name)===-1){htmlParser.addAttributeFilter(name,(nodes,name)=>{let i=nodes.length;while(i--){nodes[i].attr(name,null);}});tempAttrs.push(name);}};const postProcess=(editor,args,content)=>{if(!args.no_events&&editor){const outArgs=firePostProcess(editor,{...args,content});return outArgs.content;}else{return content;}};const getHtmlFromNode=(dom,node,args)=>{const html=trim$2(args.getInner?node.innerHTML:dom.getOuterHTML(node));return args.selection||isWsPreserveElement(SugarElement.fromDom(node))?html:Tools.trim(html);};const parseHtml=(htmlParser,html,args)=>{const parserArgs=args.selection?{forced_root_block:false,...args}:args;const rootNode=htmlParser.parse(html,parserArgs);trimTrailingBr(rootNode);return rootNode;};const serializeNode=(settings,schema,node)=>{const htmlSerializer=HtmlSerializer(settings,schema);return htmlSerializer.serialize(node);};const toHtml=(editor,settings,schema,rootNode,args)=>{const content=serializeNode(settings,schema,rootNode);return postProcess(editor,args,content);};const DomSerializerImpl=(settings,editor)=>{const tempAttrs=['data-mce-selected'];const defaultedSettings={entity_encoding:'named',remove_trailing_brs:true,pad_empty_with_br:false,...settings};const dom=editor&&editor.dom?editor.dom:DOMUtils.DOM;const schema=editor&&editor.schema?editor.schema:Schema(defaultedSettings);const htmlParser=DomParser(defaultedSettings,schema);register$3(htmlParser,defaultedSettings,dom);const serialize=(node,parserArgs={})=>{const args={format:'html',...parserArgs};const targetNode=process$1(editor,node,args);const html=getHtmlFromNode(dom,targetNode,args);const rootNode=parseHtml(htmlParser,html,args);return args.format==='tree'?rootNode:toHtml(editor,defaultedSettings,schema,rootNode,args);};return{schema,addNodeFilter:htmlParser.addNodeFilter,addAttributeFilter:htmlParser.addAttributeFilter,serialize:serialize,addRules:schema.addValidElements,setRules:schema.setValidElements,addTempAttr:curry(addTempAttr,htmlParser,tempAttrs),getTempAttrs:constant(tempAttrs),getNodeFilters:htmlParser.getNodeFilters,getAttributeFilters:htmlParser.getAttributeFilters,removeNodeFilter:htmlParser.removeNodeFilter,removeAttributeFilter:htmlParser.removeAttributeFilter};};const DomSerializer=(settings,editor)=>{const domSerializer=DomSerializerImpl(settings,editor);return{schema:domSerializer.schema,addNodeFilter:domSerializer.addNodeFilter,addAttributeFilter:domSerializer.addAttributeFilter,serialize:domSerializer.serialize,addRules:domSerializer.addRules,setRules:domSerializer.setRules,addTempAttr:domSerializer.addTempAttr,getTempAttrs:domSerializer.getTempAttrs,getNodeFilters:domSerializer.getNodeFilters,getAttributeFilters:domSerializer.getAttributeFilters,removeNodeFilter:domSerializer.removeNodeFilter,removeAttributeFilter:domSerializer.removeAttributeFilter};};const defaultFormat$1='html';const setupArgs$1=(args,format)=>({...args,format,get:true,getInner:true});const getContent=(editor,args={})=>{const format=args.format?args.format:defaultFormat$1;const defaultedArgs=setupArgs$1(args,format);return preProcessGetContent(editor,defaultedArgs).fold(identity,updatedArgs=>{const content=getContent$2(editor,updatedArgs);return postProcessGetContent(editor,content,updatedArgs);});};const defaultFormat='html';const setupArgs=(args,content)=>({format:defaultFormat,...args,set:true,content});const setContent=(editor,content,args={})=>{const defaultedArgs=setupArgs(args,content);return preProcessSetContent(editor,defaultedArgs).map(updatedArgs=>{const result=setContent$2(editor,updatedArgs.content,updatedArgs);postProcessSetContent(editor,result.html,updatedArgs);return result.content;}).getOr(content);};const removedOptions=('autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,'+'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,'+'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,'+'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,'+'tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,'+'paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');const deprecatedOptions='template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format'.split(',');const removedPlugins='bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');const deprecatedPlugins=[{name:'template',replacedWith:'Advanced Template'},{name:'rtc'}];const getMatchingOptions=(options,searchingFor)=>{const settingNames=filter$5(searchingFor,setting=>has$2(options,setting));return sort(settingNames);};const getRemovedOptions=options=>{const settingNames=getMatchingOptions(options,removedOptions);const forcedRootBlock=options.forced_root_block;if(forcedRootBlock===false||forcedRootBlock===''){settingNames.push('forced_root_block (false only)');}return sort(settingNames);};const getDeprecatedOptions=options=>getMatchingOptions(options,deprecatedOptions);const getMatchingPlugins=(options,searchingFor)=>{const plugins=Tools.makeMap(options.plugins,' ');const hasPlugin=plugin=>has$2(plugins,plugin);const pluginNames=filter$5(searchingFor,hasPlugin);return sort(pluginNames);};const getRemovedPlugins=options=>getMatchingPlugins(options,removedPlugins);const getDeprecatedPlugins=options=>getMatchingPlugins(options,deprecatedPlugins.map(entry=>entry.name));const logRemovedWarnings=(rawOptions,normalizedOptions)=>{const removedOptions=getRemovedOptions(rawOptions);const removedPlugins=getRemovedPlugins(normalizedOptions);const hasRemovedPlugins=removedPlugins.length>0;const hasRemovedOptions=removedOptions.length>0;const isLegacyMobileTheme=normalizedOptions.theme==='mobile';if(hasRemovedPlugins||hasRemovedOptions||isLegacyMobileTheme){const listJoiner='\\n- ';const themesMessage=isLegacyMobileTheme?`\\n\\nThemes:${listJoiner}mobile`:'';const pluginsMessage=hasRemovedPlugins?`\\n\\nPlugins:${listJoiner}${removedPlugins.join(listJoiner)}`:'';const optionsMessage=hasRemovedOptions?`\\n\\nOptions:${listJoiner}${removedOptions.join(listJoiner)}`:'';console.warn('The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. '+'See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information.'+themesMessage+pluginsMessage+optionsMessage);}};const getPluginDescription=name=>find$2(deprecatedPlugins,entry=>entry.name===name).fold(()=>name,entry=>{if(entry.replacedWith){return`${name}, replaced by ${entry.replacedWith}`;}else{return name;}});const logDeprecatedWarnings=(rawOptions,normalizedOptions)=>{const deprecatedOptions=getDeprecatedOptions(rawOptions);const deprecatedPlugins=getDeprecatedPlugins(normalizedOptions);const hasDeprecatedPlugins=deprecatedPlugins.length>0;const hasDeprecatedOptions=deprecatedOptions.length>0;if(hasDeprecatedPlugins||hasDeprecatedOptions){const listJoiner='\\n- ';const pluginsMessage=hasDeprecatedPlugins?`\\n\\nPlugins:${listJoiner}${deprecatedPlugins.map(getPluginDescription).join(listJoiner)}`:'';const optionsMessage=hasDeprecatedOptions?`\\n\\nOptions:${listJoiner}${deprecatedOptions.join(listJoiner)}`:'';console.warn('The following deprecated features are currently enabled but will be removed soon.'+pluginsMessage+optionsMessage);}};const logWarnings=(rawOptions,normalizedOptions)=>{logRemovedWarnings(rawOptions,normalizedOptions);logDeprecatedWarnings(rawOptions,normalizedOptions);};const DOM$8=DOMUtils.DOM;const restoreOriginalStyles=editor=>{DOM$8.setStyle(editor.id,'display',editor.orgDisplay);};const safeDestroy=x=>Optional.from(x).each(x=>x.destroy());const clearDomReferences=editor=>{const ed=editor;ed.contentAreaContainer=ed.formElement=ed.container=ed.editorContainer=null;ed.bodyElement=ed.contentDocument=ed.contentWindow=null;ed.iframeElement=ed.targetElm=null;const selection=editor.selection;if(selection){const dom=selection.dom;ed.selection=selection.win=selection.dom=dom.doc=null;}};const restoreForm=editor=>{const form=editor.formElement;if(form){if(form._mceOldSubmit){form.submit=form._mceOldSubmit;delete form._mceOldSubmit;}DOM$8.unbind(form,'submit reset',editor.formEventDelegate);}};const remove$1=editor=>{if(!editor.removed){const{_selectionOverrides,editorUpload}=editor;const body=editor.getBody();const element=editor.getElement();if(body){editor.save({is_removing:true});}editor.removed=true;editor.unbindAllNativeEvents();if(editor.hasHiddenInput&&isNonNullable(element===null||element===void 0?void 0:element.nextSibling)){DOM$8.remove(element.nextSibling);}fireRemove(editor);editor.editorManager.remove(editor);if(!editor.inline&&body){restoreOriginalStyles(editor);}fireDetach(editor);DOM$8.remove(editor.getContainer());safeDestroy(_selectionOverrides);safeDestroy(editorUpload);editor.destroy();}};const destroy=(editor,automatic)=>{const{selection,dom}=editor;if(editor.destroyed){return;}if(!automatic&&!editor.removed){editor.remove();return;}if(!automatic){editor.editorManager.off('beforeunload',editor._beforeUnload);if(editor.theme&&editor.theme.destroy){editor.theme.destroy();}safeDestroy(selection);safeDestroy(dom);}restoreForm(editor);clearDomReferences(editor);editor.destroyed=true;};const CreateIconManager=()=>{const lookup={};const add=(id,iconPack)=>{lookup[id]=iconPack;};const get=id=>{if(lookup[id]){return lookup[id];}else{return{icons:{}};}};const has=id=>has$2(lookup,id);return{add,get,has};};const IconManager=CreateIconManager();const ModelManager=AddOnManager.ModelManager;const getProp=(propName,elm)=>{const rawElm=elm.dom;return rawElm[propName];};const getComputedSizeProp=(propName,elm)=>parseInt(get$7(elm,propName),10);const getClientWidth=curry(getProp,'clientWidth');const getClientHeight=curry(getProp,'clientHeight');const getMarginTop=curry(getComputedSizeProp,'margin-top');const getMarginLeft=curry(getComputedSizeProp,'margin-left');const getBoundingClientRect=elm=>elm.dom.getBoundingClientRect();const isInsideElementContentArea=(bodyElm,clientX,clientY)=>{const clientWidth=getClientWidth(bodyElm);const clientHeight=getClientHeight(bodyElm);return clientX>=0&&clientY>=0&&clientX<=clientWidth&&clientY<=clientHeight;};const transpose=(inline,elm,clientX,clientY)=>{const clientRect=getBoundingClientRect(elm);const deltaX=inline?clientRect.left+elm.dom.clientLeft+getMarginLeft(elm):0;const deltaY=inline?clientRect.top+elm.dom.clientTop+getMarginTop(elm):0;const x=clientX-deltaX;const y=clientY-deltaY;return{x,y};};const isXYInContentArea=(editor,clientX,clientY)=>{const bodyElm=SugarElement.fromDom(editor.getBody());const targetElm=editor.inline?bodyElm:documentElement(bodyElm);const transposedPoint=transpose(editor.inline,targetElm,clientX,clientY);return isInsideElementContentArea(targetElm,transposedPoint.x,transposedPoint.y);};const fromDomSafe=node=>Optional.from(node).map(SugarElement.fromDom);const isEditorAttachedToDom=editor=>{const rawContainer=editor.inline?editor.getBody():editor.getContentAreaContainer();return fromDomSafe(rawContainer).map(inBody).getOr(false);};var NotificationManagerImpl=()=>{const unimplemented=()=>{throw new Error('Theme did not provide a NotificationManager implementation.');};return{open:unimplemented,close:unimplemented,getArgs:unimplemented};};const NotificationManager=editor=>{const notifications=[];const getImplementation=()=>{const theme=editor.theme;return theme&&theme.getNotificationManagerImpl?theme.getNotificationManagerImpl():NotificationManagerImpl();};const getTopNotification=()=>{return Optional.from(notifications[0]);};const isEqual=(a,b)=>{return a.type===b.type&&a.text===b.text&&!a.progressBar&&!a.timeout&&!b.progressBar&&!b.timeout;};const reposition=()=>{each$e(notifications,notification=>{notification.reposition();});};const addNotification=notification=>{notifications.push(notification);};const closeNotification=notification=>{findIndex$2(notifications,otherNotification=>{return otherNotification===notification;}).each(index=>{notifications.splice(index,1);});};const open=(spec,fireEvent=true)=>{if(editor.removed||!isEditorAttachedToDom(editor)){return{};}if(fireEvent){editor.dispatch('BeforeOpenNotification',{notification:spec});}return find$2(notifications,notification=>{return isEqual(getImplementation().getArgs(notification),spec);}).getOrThunk(()=>{editor.editorManager.setActive(editor);const notification=getImplementation().open(spec,()=>{closeNotification(notification);reposition();if(hasEditorOrUiFocus(editor)){getTopNotification().fold(()=>editor.focus(),top=>focus$1(SugarElement.fromDom(top.getEl())));}});addNotification(notification);reposition();editor.dispatch('OpenNotification',{notification:{...notification}});return notification;});};const close=()=>{getTopNotification().each(notification=>{getImplementation().close(notification);closeNotification(notification);reposition();});};const getNotifications=constant(notifications);const registerEvents=editor=>{editor.on('SkinLoaded',()=>{const serviceMessage=getServiceMessage(editor);if(serviceMessage){open({text:serviceMessage,type:'warning',timeout:0},false);}reposition();});editor.on('show ResizeEditor ResizeWindow NodeChange',()=>{requestAnimationFrame(reposition);});editor.on('remove',()=>{each$e(notifications.slice(),notification=>{getImplementation().close(notification);});});};registerEvents(editor);return{open,close,getNotifications};};const PluginManager=AddOnManager.PluginManager;const ThemeManager=AddOnManager.ThemeManager;var WindowManagerImpl=()=>{const unimplemented=()=>{throw new Error('Theme did not provide a WindowManager implementation.');};return{open:unimplemented,openUrl:unimplemented,alert:unimplemented,confirm:unimplemented,close:unimplemented};};const WindowManager=editor=>{let dialogs=[];const getImplementation=()=>{const theme=editor.theme;return theme&&theme.getWindowManagerImpl?theme.getWindowManagerImpl():WindowManagerImpl();};const funcBind=(scope,f)=>{return(...args)=>{return f?f.apply(scope,args):undefined;};};const fireOpenEvent=dialog=>{editor.dispatch('OpenWindow',{dialog});};const fireCloseEvent=dialog=>{editor.dispatch('CloseWindow',{dialog});};const addDialog=dialog=>{dialogs.push(dialog);fireOpenEvent(dialog);};const closeDialog=dialog=>{fireCloseEvent(dialog);dialogs=filter$5(dialogs,otherDialog=>{return otherDialog!==dialog;});if(dialogs.length===0){editor.focus();}};const getTopDialog=()=>{return Optional.from(dialogs[dialogs.length-1]);};const storeSelectionAndOpenDialog=openDialog=>{editor.editorManager.setActive(editor);store(editor);editor.ui.show();const dialog=openDialog();addDialog(dialog);return dialog;};const open=(args,params)=>{return storeSelectionAndOpenDialog(()=>getImplementation().open(args,params,closeDialog));};const openUrl=args=>{return storeSelectionAndOpenDialog(()=>getImplementation().openUrl(args,closeDialog));};const alert=(message,callback,scope)=>{const windowManagerImpl=getImplementation();windowManagerImpl.alert(message,funcBind(scope?scope:windowManagerImpl,callback));};const confirm=(message,callback,scope)=>{const windowManagerImpl=getImplementation();windowManagerImpl.confirm(message,funcBind(scope?scope:windowManagerImpl,callback));};const close=()=>{getTopDialog().each(dialog=>{getImplementation().close(dialog);closeDialog(dialog);});};editor.on('remove',()=>{each$e(dialogs,dialog=>{getImplementation().close(dialog);});});return{open,openUrl,alert,confirm,close};};const displayNotification=(editor,message)=>{editor.notificationManager.open({type:'error',text:message});};const displayError=(editor,message)=>{if(editor._skinLoaded){displayNotification(editor,message);}else{editor.on('SkinLoaded',()=>{displayNotification(editor,message);});}};const uploadError=(editor,message)=>{displayError(editor,I18n.translate(['Failed to upload image: {0}',message]));};const logError=(editor,errorType,msg)=>{fireError(editor,errorType,{message:msg});console.error(msg);};const createLoadError=(type,url,name)=>name?`Failed to load ${type}: ${name} from url ${url}`:`Failed to load ${type} url: ${url}`;const pluginLoadError=(editor,url,name)=>{logError(editor,'PluginLoadError',createLoadError('plugin',url,name));};const iconsLoadError=(editor,url,name)=>{logError(editor,'IconsLoadError',createLoadError('icons',url,name));};const languageLoadError=(editor,url,name)=>{logError(editor,'LanguageLoadError',createLoadError('language',url,name));};const themeLoadError=(editor,url,name)=>{logError(editor,'ThemeLoadError',createLoadError('theme',url,name));};const modelLoadError=(editor,url,name)=>{logError(editor,'ModelLoadError',createLoadError('model',url,name));};const pluginInitError=(editor,name,err)=>{const message=I18n.translate(['Failed to initialize plugin: {0}',name]);fireError(editor,'PluginLoadError',{message});initError(message,err);displayError(editor,message);};const initError=(message,...x)=>{const console=window.console;if(console){if(console.error){console.error(message,...x);}else{console.log(message,...x);}}};const isContentCssSkinName=url=>/^[a-z0-9\\-]+$/i.test(url);const toContentSkinResourceName=url=>'content/'+url+'/content.css';const isBundledCssSkinName=url=>tinymce.Resource.has(toContentSkinResourceName(url));const getContentCssUrls=editor=>{return transformToUrls(editor,getContentCss(editor));};const getFontCssUrls=editor=>{return transformToUrls(editor,getFontCss(editor));};const transformToUrls=(editor,cssLinks)=>{const skinUrl=editor.editorManager.baseURL+'/skins/content';const suffix=editor.editorManager.suffix;const contentCssFile=`content${suffix}.css`;return map$3(cssLinks,url=>{if(isBundledCssSkinName(url)){return url;}else if(isContentCssSkinName(url)&&!editor.inline){return`${skinUrl}/${url}/${contentCssFile}`;}else{return editor.documentBaseURI.toAbsolute(url);}});};const appendContentCssFromSettings=editor=>{editor.contentCSS=editor.contentCSS.concat(getContentCssUrls(editor),getFontCssUrls(editor));};const getAllImages=elm=>{return elm?from(elm.getElementsByTagName('img')):[];};const ImageScanner=(uploadStatus,blobCache)=>{const cachedPromises={};const findAll=(elm,predicate=always)=>{const images=filter$5(getAllImages(elm),img=>{const src=img.src;if(img.hasAttribute('data-mce-bogus')){return false;}if(img.hasAttribute('data-mce-placeholder')){return false;}if(!src||src===Env.transparentSrc){return false;}if(startsWith(src,'blob:')){return!uploadStatus.isUploaded(src)&&predicate(img);}if(startsWith(src,'data:')){return predicate(img);}return false;});const promises=map$3(images,img=>{const imageSrc=img.src;if(has$2(cachedPromises,imageSrc)){return cachedPromises[imageSrc].then(imageInfo=>{if(isString(imageInfo)){return imageInfo;}else{return{image:img,blobInfo:imageInfo.blobInfo};}});}else{const newPromise=imageToBlobInfo(blobCache,imageSrc).then(blobInfo=>{delete cachedPromises[imageSrc];return{image:img,blobInfo};}).catch(error=>{delete cachedPromises[imageSrc];return error;});cachedPromises[imageSrc]=newPromise;return newPromise;}});return Promise.all(promises);};return{findAll};};const UploadStatus=()=>{const PENDING=1,UPLOADED=2;let blobUriStatuses={};const createStatus=(status,resultUri)=>{return{status,resultUri};};const hasBlobUri=blobUri=>{return blobUri in blobUriStatuses;};const getResultUri=blobUri=>{const result=blobUriStatuses[blobUri];return result?result.resultUri:null;};const isPending=blobUri=>{return hasBlobUri(blobUri)?blobUriStatuses[blobUri].status===PENDING:false;};const isUploaded=blobUri=>{return hasBlobUri(blobUri)?blobUriStatuses[blobUri].status===UPLOADED:false;};const markPending=blobUri=>{blobUriStatuses[blobUri]=createStatus(PENDING,null);};const markUploaded=(blobUri,resultUri)=>{blobUriStatuses[blobUri]=createStatus(UPLOADED,resultUri);};const removeFailed=blobUri=>{delete blobUriStatuses[blobUri];};const destroy=()=>{blobUriStatuses={};};return{hasBlobUri,getResultUri,isPending,isUploaded,markPending,markUploaded,removeFailed,destroy};};let count=0;const seed=()=>{const rnd=()=>{return Math.round(Math.random()*4294967295).toString(36);};const now=new Date().getTime();return's'+now.toString(36)+rnd()+rnd()+rnd();};const uuid=prefix=>{return prefix+count++ +seed();};const BlobCache=()=>{let cache=[];const mimeToExt=mime=>{const mimes={'image/jpeg':'jpg','image/jpg':'jpg','image/gif':'gif','image/png':'png','image/apng':'apng','image/avif':'avif','image/svg+xml':'svg','image/webp':'webp','image/bmp':'bmp','image/tiff':'tiff'};return mimes[mime.toLowerCase()]||'dat';};const create=(o,blob,base64,name,filename)=>{if(isString(o)){const id=o;return toBlobInfo({id,name,filename,blob:blob,base64:base64});}else if(isObject(o)){return toBlobInfo(o);}else{throw new Error('Unknown input type');}};const toBlobInfo=o=>{if(!o.blob||!o.base64){throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');}const id=o.id||uuid('blobid');const name=o.name||id;const blob=o.blob;return{id:constant(id),name:constant(name),filename:constant(o.filename||name+'.'+mimeToExt(blob.type)),blob:constant(blob),base64:constant(o.base64),blobUri:constant(o.blobUri||URL.createObjectURL(blob)),uri:constant(o.uri)};};const add=blobInfo=>{if(!get(blobInfo.id())){cache.push(blobInfo);}};const findFirst=predicate=>find$2(cache,predicate).getOrUndefined();const get=id=>findFirst(cachedBlobInfo=>cachedBlobInfo.id()===id);const getByUri=blobUri=>findFirst(blobInfo=>blobInfo.blobUri()===blobUri);const getByData=(base64,type)=>findFirst(blobInfo=>blobInfo.base64()===base64&&blobInfo.blob().type===type);const removeByUri=blobUri=>{cache=filter$5(cache,blobInfo=>{if(blobInfo.blobUri()===blobUri){URL.revokeObjectURL(blobInfo.blobUri());return false;}return true;});};const destroy=()=>{each$e(cache,cachedBlobInfo=>{URL.revokeObjectURL(cachedBlobInfo.blobUri());});cache=[];};return{create,add,get,getByUri,getByData,findFirst,removeByUri,destroy};};const Uploader=(uploadStatus,settings)=>{const pendingPromises={};const pathJoin=(path1,path2)=>{if(path1){return path1.replace(/\\/$/,'')+'/'+path2.replace(/^\\//,'');}return path2;};const defaultHandler=(blobInfo,progress)=>new Promise((success,failure)=>{const xhr=new XMLHttpRequest();xhr.open('POST',settings.url);xhr.withCredentials=settings.credentials;xhr.upload.onprogress=e=>{progress(e.loaded/e.total*100);};xhr.onerror=()=>{failure('Image upload failed due to a XHR Transport error. Code: '+xhr.status);};xhr.onload=()=>{if(xhr.status<200||xhr.status>=300){failure('HTTP Error: '+xhr.status);return;}const json=JSON.parse(xhr.responseText);if(!json||!isString(json.location)){failure('Invalid JSON: '+xhr.responseText);return;}success(pathJoin(settings.basePath,json.location));};const formData=new FormData();formData.append('file',blobInfo.blob(),blobInfo.filename());xhr.send(formData);});const uploadHandler=isFunction(settings.handler)?settings.handler:defaultHandler;const noUpload=()=>new Promise(resolve=>{resolve([]);});const handlerSuccess=(blobInfo,url)=>({url,blobInfo,status:true});const handlerFailure=(blobInfo,error)=>({url:'',blobInfo,status:false,error});const resolvePending=(blobUri,result)=>{Tools.each(pendingPromises[blobUri],resolve=>{resolve(result);});delete pendingPromises[blobUri];};const uploadBlobInfo=(blobInfo,handler,openNotification)=>{uploadStatus.markPending(blobInfo.blobUri());return new Promise(resolve=>{let notification;let progress;try{const closeNotification=()=>{if(notification){notification.close();progress=noop;}};const success=url=>{closeNotification();uploadStatus.markUploaded(blobInfo.blobUri(),url);resolvePending(blobInfo.blobUri(),handlerSuccess(blobInfo,url));resolve(handlerSuccess(blobInfo,url));};const failure=error=>{closeNotification();uploadStatus.removeFailed(blobInfo.blobUri());resolvePending(blobInfo.blobUri(),handlerFailure(blobInfo,error));resolve(handlerFailure(blobInfo,error));};progress=percent=>{if(percent<0||percent>100){return;}Optional.from(notification).orThunk(()=>Optional.from(openNotification).map(apply$1)).each(n=>{notification=n;n.progressBar.value(percent);});};handler(blobInfo,progress).then(success,err=>{failure(isString(err)?{message:err}:err);});}catch(ex){resolve(handlerFailure(blobInfo,ex));}});};const isDefaultHandler=handler=>handler===defaultHandler;const pendingUploadBlobInfo=blobInfo=>{const blobUri=blobInfo.blobUri();return new Promise(resolve=>{pendingPromises[blobUri]=pendingPromises[blobUri]||[];pendingPromises[blobUri].push(resolve);});};const uploadBlobs=(blobInfos,openNotification)=>{blobInfos=Tools.grep(blobInfos,blobInfo=>!uploadStatus.isUploaded(blobInfo.blobUri()));return Promise.all(Tools.map(blobInfos,blobInfo=>uploadStatus.isPending(blobInfo.blobUri())?pendingUploadBlobInfo(blobInfo):uploadBlobInfo(blobInfo,uploadHandler,openNotification)));};const upload=(blobInfos,openNotification)=>!settings.url&&isDefaultHandler(uploadHandler)?noUpload():uploadBlobs(blobInfos,openNotification);return{upload};};const openNotification=editor=>()=>editor.notificationManager.open({text:editor.translate('Image uploading...'),type:'info',timeout:-1,progressBar:true});const createUploader=(editor,uploadStatus)=>Uploader(uploadStatus,{url:getImageUploadUrl(editor),basePath:getImageUploadBasePath(editor),credentials:getImagesUploadCredentials(editor),handler:getImagesUploadHandler(editor)});const ImageUploader=editor=>{const uploadStatus=UploadStatus();const uploader=createUploader(editor,uploadStatus);return{upload:(blobInfos,showNotification=true)=>uploader.upload(blobInfos,showNotification?openNotification(editor):undefined)};};const isEmptyForPadding=(editor,element)=>editor.dom.isEmpty(element.dom)&&isNonNullable(editor.schema.getTextBlockElements()[name(element)]);const addPaddingToEmpty=editor=>element=>{if(isEmptyForPadding(editor,element)){append$1(element,SugarElement.fromHtml('<br data-mce-bogus=\"1\" />'));}};const EditorUpload=editor=>{const blobCache=BlobCache();let uploader,imageScanner;const uploadStatus=UploadStatus();const urlFilters=[];const aliveGuard=callback=>{return result=>{if(editor.selection){return callback(result);}return[];};};const cacheInvalidator=url=>url+(url.indexOf('?')===-1?'?':'&')+new Date().getTime();const replaceString=(content,search,replace)=>{let index=0;do{index=content.indexOf(search,index);if(index!==-1){content=content.substring(0,index)+replace+content.substr(index+search.length);index+=replace.length-search.length+1;}}while(index!==-1);return content;};const replaceImageUrl=(content,targetUrl,replacementUrl)=>{const replacementString=`src=\"${replacementUrl}\"${replacementUrl===Env.transparentSrc?' data-mce-placeholder=\"1\"':''}`;content=replaceString(content,`src=\"${targetUrl}\"`,replacementString);content=replaceString(content,'data-mce-src=\"'+targetUrl+'\"','data-mce-src=\"'+replacementUrl+'\"');return content;};const replaceUrlInUndoStack=(targetUrl,replacementUrl)=>{each$e(editor.undoManager.data,level=>{if(level.type==='fragmented'){level.fragments=map$3(level.fragments,fragment=>replaceImageUrl(fragment,targetUrl,replacementUrl));}else{level.content=replaceImageUrl(level.content,targetUrl,replacementUrl);}});};const replaceImageUriInView=(image,resultUri)=>{const src=editor.convertURL(resultUri,'src');replaceUrlInUndoStack(image.src,resultUri);setAll$1(SugarElement.fromDom(image),{'src':shouldReuseFileName(editor)?cacheInvalidator(resultUri):resultUri,'data-mce-src':src});};const uploadImages=()=>{if(!uploader){uploader=createUploader(editor,uploadStatus);}return scanForImages().then(aliveGuard(imageInfos=>{const blobInfos=map$3(imageInfos,imageInfo=>imageInfo.blobInfo);return uploader.upload(blobInfos,openNotification(editor)).then(aliveGuard(result=>{const imagesToRemove=[];let shouldDispatchChange=false;const filteredResult=map$3(result,(uploadInfo,index)=>{const{blobInfo,image}=imageInfos[index];let removed=false;if(uploadInfo.status&&shouldReplaceBlobUris(editor)){if(uploadInfo.url&&!contains$1(image.src,uploadInfo.url)){shouldDispatchChange=true;}blobCache.removeByUri(image.src);if(isRtc(editor));else{replaceImageUriInView(image,uploadInfo.url);}}else if(uploadInfo.error){if(uploadInfo.error.remove){replaceUrlInUndoStack(image.src,Env.transparentSrc);imagesToRemove.push(image);removed=true;}uploadError(editor,uploadInfo.error.message);}return{element:image,status:uploadInfo.status,uploadUri:uploadInfo.url,blobInfo,removed};});if(imagesToRemove.length>0&&!isRtc(editor)){editor.undoManager.transact(()=>{each$e(fromDom$1(imagesToRemove),sugarElement=>{const parentOpt=parent(sugarElement);remove$5(sugarElement);parentOpt.each(addPaddingToEmpty(editor));blobCache.removeByUri(sugarElement.dom.src);});});}else if(shouldDispatchChange){editor.undoManager.dispatchChange();}return filteredResult;}));}));};const uploadImagesAuto=()=>isAutomaticUploadsEnabled(editor)?uploadImages():Promise.resolve([]);const isValidDataUriImage=imgElm=>forall(urlFilters,filter=>filter(imgElm));const addFilter=filter=>{urlFilters.push(filter);};const scanForImages=()=>{if(!imageScanner){imageScanner=ImageScanner(uploadStatus,blobCache);}return imageScanner.findAll(editor.getBody(),isValidDataUriImage).then(aliveGuard(result=>{const filteredResult=filter$5(result,resultItem=>{if(isString(resultItem)){displayError(editor,resultItem);return false;}else if(resultItem.uriType==='blob'){return false;}else{return true;}});if(isRtc(editor));else{each$e(filteredResult,resultItem=>{replaceUrlInUndoStack(resultItem.image.src,resultItem.blobInfo.blobUri());resultItem.image.src=resultItem.blobInfo.blobUri();resultItem.image.removeAttribute('data-mce-src');});}return filteredResult;}));};const destroy=()=>{blobCache.destroy();uploadStatus.destroy();imageScanner=uploader=null;};const replaceBlobUris=content=>{return content.replace(/src=\"(blob:[^\"]+)\"/g,(match,blobUri)=>{const resultUri=uploadStatus.getResultUri(blobUri);if(resultUri){return'src=\"'+resultUri+'\"';}let blobInfo=blobCache.getByUri(blobUri);if(!blobInfo){blobInfo=foldl(editor.editorManager.get(),(result,editor)=>{return result||editor.editorUpload&&editor.editorUpload.blobCache.getByUri(blobUri);},undefined);}if(blobInfo){const blob=blobInfo.blob();return'src=\"data:'+blob.type+';base64,'+blobInfo.base64()+'\"';}return match;});};editor.on('SetContent',()=>{if(isAutomaticUploadsEnabled(editor)){uploadImagesAuto();}else{scanForImages();}});editor.on('RawSaveContent',e=>{e.content=replaceBlobUris(e.content);});editor.on('GetContent',e=>{if(e.source_view||e.format==='raw'||e.format==='tree'){return;}e.content=replaceBlobUris(e.content);});editor.on('PostRender',()=>{editor.parser.addNodeFilter('img',images=>{each$e(images,img=>{const src=img.attr('src');if(!src||blobCache.getByUri(src)){return;}const resultUri=uploadStatus.getResultUri(src);if(resultUri){img.attr('src',resultUri);}});});});return{blobCache,addFilter,uploadImages,uploadImagesAuto,scanForImages,destroy};};const get$1=editor=>{const dom=editor.dom;const schemaType=editor.schema.type;const formats={valigntop:[{selector:'td,th',styles:{verticalAlign:'top'}}],valignmiddle:[{selector:'td,th',styles:{verticalAlign:'middle'}}],valignbottom:[{selector:'td,th',styles:{verticalAlign:'bottom'}}],alignleft:[{selector:'figure.image',collapsed:false,classes:'align-left',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',styles:{textAlign:'left'},inherit:false,preview:false},{selector:'img,audio,video',collapsed:false,styles:{float:'left'},preview:'font-family font-size'},{selector:'table',collapsed:false,styles:{marginLeft:'0px',marginRight:'auto'},onformat:table=>{dom.setStyle(table,'float',null);},preview:'font-family font-size'},{selector:'.mce-preview-object,[data-ephox-embed-iri]',ceFalseOverride:true,styles:{float:'left'}}],aligncenter:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',styles:{textAlign:'center'},inherit:false,preview:'font-family font-size'},{selector:'figure.image',collapsed:false,classes:'align-center',ceFalseOverride:true,preview:'font-family font-size'},{selector:'img,audio,video',collapsed:false,styles:{display:'block',marginLeft:'auto',marginRight:'auto'},preview:false},{selector:'table',collapsed:false,styles:{marginLeft:'auto',marginRight:'auto'},preview:'font-family font-size'},{selector:'.mce-preview-object',ceFalseOverride:true,styles:{display:'table',marginLeft:'auto',marginRight:'auto'},preview:false},{selector:'[data-ephox-embed-iri]',ceFalseOverride:true,styles:{marginLeft:'auto',marginRight:'auto'},preview:false}],alignright:[{selector:'figure.image',collapsed:false,classes:'align-right',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',styles:{textAlign:'right'},inherit:false,preview:'font-family font-size'},{selector:'img,audio,video',collapsed:false,styles:{float:'right'},preview:'font-family font-size'},{selector:'table',collapsed:false,styles:{marginRight:'0px',marginLeft:'auto'},onformat:table=>{dom.setStyle(table,'float',null);},preview:'font-family font-size'},{selector:'.mce-preview-object,[data-ephox-embed-iri]',ceFalseOverride:true,styles:{float:'right'},preview:false}],alignjustify:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',styles:{textAlign:'justify'},inherit:false,preview:'font-family font-size'}],bold:[{inline:'strong',remove:'all',preserve_attributes:['class','style']},{inline:'span',styles:{fontWeight:'bold'}},{inline:'b',remove:'all',preserve_attributes:['class','style']}],italic:[{inline:'em',remove:'all',preserve_attributes:['class','style']},{inline:'span',styles:{fontStyle:'italic'}},{inline:'i',remove:'all',preserve_attributes:['class','style']}],underline:[{inline:'span',styles:{textDecoration:'underline'},exact:true},{inline:'u',remove:'all',preserve_attributes:['class','style']}],strikethrough:(()=>{const span={inline:'span',styles:{textDecoration:'line-through'},exact:true};const strike={inline:'strike',remove:'all',preserve_attributes:['class','style']};const s={inline:'s',remove:'all',preserve_attributes:['class','style']};return schemaType!=='html4'?[s,span,strike]:[span,s,strike];})(),forecolor:{inline:'span',styles:{color:'%value'},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:'span',styles:{backgroundColor:'%value'},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:'span',toggle:false,styles:{fontFamily:'%value'},clear_child_styles:true},fontsize:{inline:'span',toggle:false,styles:{fontSize:'%value'},clear_child_styles:true},lineheight:{selector:'h1,h2,h3,h4,h5,h6,p,li,td,th,div',styles:{lineHeight:'%value'}},fontsize_class:{inline:'span',attributes:{class:'%value'}},blockquote:{block:'blockquote',wrapper:true,remove:'all'},subscript:{inline:'sub'},superscript:{inline:'sup'},code:{inline:'code'},link:{inline:'a',selector:'a',remove:'all',split:true,deep:true,onmatch:(node,_fmt,_itemName)=>{return isElement$6(node)&&node.hasAttribute('href');},onformat:(elm,_fmt,vars)=>{Tools.each(vars,(value,key)=>{dom.setAttrib(elm,key,value);});}},lang:{inline:'span',clear_child_styles:true,remove_similar:true,attributes:{'lang':'%value','data-mce-lang':vars=>{var _a;return(_a=vars===null||vars===void 0?void 0:vars.customValue)!==null&&_a!==void 0?_a:null;}}},removeformat:[{selector:'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',remove:'all',split:true,expand:false,block_expand:true,deep:true},{selector:'span',attributes:['style','class'],remove:'empty',split:true,expand:false,deep:true},{selector:'*',attributes:['style','class'],split:false,expand:false,deep:true}]};Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/),name=>{formats[name]={block:name,remove:'all'};});return formats;};const genericBase={remove_similar:true,inherit:false};const cellBase={selector:'td,th',...genericBase};const cellFormats={tablecellbackgroundcolor:{styles:{backgroundColor:'%value'},...cellBase},tablecellverticalalign:{styles:{'vertical-align':'%value'},...cellBase},tablecellbordercolor:{styles:{borderColor:'%value'},...cellBase},tablecellclass:{classes:['%value'],...cellBase},tableclass:{selector:'table',classes:['%value'],...genericBase},tablecellborderstyle:{styles:{borderStyle:'%value'},...cellBase},tablecellborderwidth:{styles:{borderWidth:'%value'},...cellBase}};const get=constant(cellFormats);const FormatRegistry=editor=>{const formats={};const get$2=name=>isNonNullable(name)?formats[name]:formats;const has=name=>has$2(formats,name);const register=(name,format)=>{if(name){if(!isString(name)){each$d(name,(format,name)=>{register(name,format);});}else{if(!isArray$1(format)){format=[format];}each$e(format,format=>{if(isUndefined(format.deep)){format.deep=!isSelectorFormat(format);}if(isUndefined(format.split)){format.split=!isSelectorFormat(format)||isInlineFormat(format);}if(isUndefined(format.remove)&&isSelectorFormat(format)&&!isInlineFormat(format)){format.remove='none';}if(isSelectorFormat(format)&&isInlineFormat(format)){format.mixed=true;format.block_expand=true;}if(isString(format.classes)){format.classes=format.classes.split(/\\s+/);}});formats[name]=format;}}};const unregister=name=>{if(name&&formats[name]){delete formats[name];}return formats;};register(get$1(editor));register(get());register(getFormats(editor));return{get:get$2,has,register,unregister};};const each$3=Tools.each;const dom=DOMUtils.DOM;const isPreviewItem=item=>isNonNullable(item)&&isObject(item);const parsedSelectorToHtml=(ancestry,editor)=>{const schema=editor&&editor.schema||Schema({});const decorate=(elm,item)=>{if(item.classes.length>0){dom.addClass(elm,item.classes.join(' '));}dom.setAttribs(elm,item.attrs);};const createElement=sItem=>{const item=isString(sItem)?{name:sItem,classes:[],attrs:{}}:sItem;const elm=dom.create(item.name);decorate(elm,item);return elm;};const getRequiredParent=(elm,candidate)=>{const elmRule=schema.getElementRule(elm.nodeName.toLowerCase());const parentsRequired=elmRule===null||elmRule===void 0?void 0:elmRule.parentsRequired;if(parentsRequired&&parentsRequired.length){return candidate&&contains$2(parentsRequired,candidate)?candidate:parentsRequired[0];}else{return false;}};const wrapInHtml=(elm,ancestors,siblings)=>{let parentCandidate;const ancestor=ancestors[0];const ancestorName=isPreviewItem(ancestor)?ancestor.name:undefined;const parentRequired=getRequiredParent(elm,ancestorName);if(parentRequired){if(ancestorName===parentRequired){parentCandidate=ancestor;ancestors=ancestors.slice(1);}else{parentCandidate=parentRequired;}}else if(ancestor){parentCandidate=ancestor;ancestors=ancestors.slice(1);}else if(!siblings){return elm;}const parent=parentCandidate?createElement(parentCandidate):dom.create('div');parent.appendChild(elm);if(siblings){Tools.each(siblings,sibling=>{const siblingElm=createElement(sibling);parent.insertBefore(siblingElm,elm);});}const parentSiblings=isPreviewItem(parentCandidate)?parentCandidate.siblings:undefined;return wrapInHtml(parent,ancestors,parentSiblings);};const fragment=dom.create('div');if(ancestry.length>0){const item=ancestry[0];const elm=createElement(item);const siblings=isPreviewItem(item)?item.siblings:undefined;fragment.appendChild(wrapInHtml(elm,ancestry.slice(1),siblings));}return fragment;};const parseSelectorItem=item=>{item=Tools.trim(item);let tagName='div';const obj={name:tagName,classes:[],attrs:{},selector:item};if(item!=='*'){tagName=item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,($0,$1,$2,$3,$4)=>{switch($1){case'#':obj.attrs.id=$2;break;case'.':obj.classes.push($2);break;case':':if(Tools.inArray('checked disabled enabled read-only required'.split(' '),$2)!==-1){obj.attrs[$2]=$2;}break;}if($3==='['){const m=$4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);if(m){obj.attrs[m[1]]=m[2];}}return'';});}obj.name=tagName||'div';return obj;};const parseSelector=selector=>{if(!isString(selector)){return[];}selector=selector.split(/\\s*,\\s*/)[0];selector=selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g,'$1');return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),item=>{const siblings=Tools.map(item.split(/(?:~\\+|~|\\+)/),parseSelectorItem);const obj=siblings.pop();if(siblings.length){obj.siblings=siblings;}return obj;}).reverse();};const getCssText=(editor,format)=>{let previewCss='';let previewStyles=getPreviewStyles(editor);if(previewStyles===''){return'';}const removeVars=val=>{return isString(val)?val.replace(/%(\\w+)/g,''):'';};const getComputedStyle=(name,elm)=>{return dom.getStyle(elm!==null&&elm!==void 0?elm:editor.getBody(),name,true);};if(isString(format)){const formats=editor.formatter.get(format);if(!formats){return'';}format=formats[0];}if('preview'in format){const preview=format.preview;if(preview===false){return'';}else{previewStyles=preview||previewStyles;}}let name=format.block||format.inline||'span';let previewFrag;const items=parseSelector(format.selector);if(items.length>0){if(!items[0].name){items[0].name=name;}name=format.selector;previewFrag=parsedSelectorToHtml(items,editor);}else{previewFrag=parsedSelectorToHtml([name],editor);}const previewElm=dom.select(name,previewFrag)[0]||previewFrag.firstChild;each$3(format.styles,(value,name)=>{const newValue=removeVars(value);if(newValue){dom.setStyle(previewElm,name,newValue);}});each$3(format.attributes,(value,name)=>{const newValue=removeVars(value);if(newValue){dom.setAttrib(previewElm,name,newValue);}});each$3(format.classes,value=>{const newValue=removeVars(value);if(!dom.hasClass(previewElm,newValue)){dom.addClass(previewElm,newValue);}});editor.dispatch('PreviewFormats');dom.setStyles(previewFrag,{position:'absolute',left:-65535});editor.getBody().appendChild(previewFrag);const rawParentFontSize=getComputedStyle('fontSize');const parentFontSize=/px$/.test(rawParentFontSize)?parseInt(rawParentFontSize,10):0;each$3(previewStyles.split(' '),name=>{let value=getComputedStyle(name,previewElm);if(name==='background-color'&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)){value=getComputedStyle(name);if(rgbaToHexString(value).toLowerCase()==='#ffffff'){return;}}if(name==='color'){if(rgbaToHexString(value).toLowerCase()==='#000000'){return;}}if(name==='font-size'){if(/em|%$/.test(value)){if(parentFontSize===0){return;}const numValue=parseFloat(value)/(/%$/.test(value)?100:1);value=numValue*parentFontSize+'px';}}if(name==='border'&&value){previewCss+='padding:0 2px;';}previewCss+=name+':'+value+';';});editor.dispatch('AfterPreviewFormats');dom.remove(previewFrag);return previewCss;};const setup$s=editor=>{editor.addShortcut('meta+b','','Bold');editor.addShortcut('meta+i','','Italic');editor.addShortcut('meta+u','','Underline');for(let i=1;i<=6;i++){editor.addShortcut('access+'+i,'',['FormatBlock',false,'h'+i]);}editor.addShortcut('access+7','',['FormatBlock',false,'p']);editor.addShortcut('access+8','',['FormatBlock',false,'div']);editor.addShortcut('access+9','',['FormatBlock',false,'address']);};const Formatter=editor=>{const formats=FormatRegistry(editor);const formatChangeState=Cell({});setup$s(editor);setup$v(editor);if(!isRtc(editor)){setup$u(formatChangeState,editor);}return{get:formats.get,has:formats.has,register:formats.register,unregister:formats.unregister,apply:(name,vars,node)=>{applyFormat(editor,name,vars,node);},remove:(name,vars,node,similar)=>{removeFormat(editor,name,vars,node,similar);},toggle:(name,vars,node)=>{toggleFormat(editor,name,vars,node);},match:(name,vars,node,similar)=>matchFormat(editor,name,vars,node,similar),closest:names=>closestFormat(editor,names),matchAll:(names,vars)=>matchAllFormats(editor,names,vars),matchNode:(node,name,vars,similar)=>matchNodeFormat(editor,node,name,vars,similar),canApply:name=>canApplyFormat(editor,name),formatChanged:(formats,callback,similar,vars)=>formatChanged(editor,formatChangeState,formats,callback,similar,vars),getCssText:curry(getCssText,editor)};};const shouldIgnoreCommand=cmd=>{switch(cmd.toLowerCase()){case'undo':case'redo':case'mcefocus':return true;default:return false;}};const registerEvents=(editor,undoManager,locks)=>{const isFirstTypedCharacter=Cell(false);const addNonTypingUndoLevel=e=>{setTyping(undoManager,false,locks);undoManager.add({},e);};editor.on('init',()=>{undoManager.add();});editor.on('BeforeExecCommand',e=>{const cmd=e.command;if(!shouldIgnoreCommand(cmd)){endTyping(undoManager,locks);undoManager.beforeChange();}});editor.on('ExecCommand',e=>{const cmd=e.command;if(!shouldIgnoreCommand(cmd)){addNonTypingUndoLevel(e);}});editor.on('ObjectResizeStart cut',()=>{undoManager.beforeChange();});editor.on('SaveContent ObjectResized blur',addNonTypingUndoLevel);editor.on('dragend',addNonTypingUndoLevel);editor.on('keyup',e=>{const keyCode=e.keyCode;if(e.isDefaultPrevented()){return;}const isMeta=Env.os.isMacOS()&&e.key==='Meta';if(keyCode>=33&&keyCode<=36||keyCode>=37&&keyCode<=40||keyCode===45||e.ctrlKey||isMeta){addNonTypingUndoLevel();editor.nodeChanged();}if(keyCode===46||keyCode===8){editor.nodeChanged();}if(isFirstTypedCharacter.get()&&undoManager.typing&&!isEq$1(createFromEditor(editor),undoManager.data[0])){if(!editor.isDirty()){editor.setDirty(true);}editor.dispatch('TypingUndo');isFirstTypedCharacter.set(false);editor.nodeChanged();}});editor.on('keydown',e=>{const keyCode=e.keyCode;if(e.isDefaultPrevented()){return;}if(keyCode>=33&&keyCode<=36||keyCode>=37&&keyCode<=40||keyCode===45){if(undoManager.typing){addNonTypingUndoLevel(e);}return;}const modKey=e.ctrlKey&&!e.altKey||e.metaKey;if((keyCode<16||keyCode>20)&&keyCode!==224&&keyCode!==91&&!undoManager.typing&&!modKey){undoManager.beforeChange();setTyping(undoManager,true,locks);undoManager.add({},e);isFirstTypedCharacter.set(true);return;}const hasOnlyMetaOrCtrlModifier=Env.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey;if(hasOnlyMetaOrCtrlModifier){undoManager.beforeChange();}});editor.on('mousedown',e=>{if(undoManager.typing){addNonTypingUndoLevel(e);}});const isInsertReplacementText=event=>event.inputType==='insertReplacementText';const isInsertTextDataNull=event=>event.inputType==='insertText'&&event.data===null;const isInsertFromPasteOrDrop=event=>event.inputType==='insertFromPaste'||event.inputType==='insertFromDrop';editor.on('input',e=>{if(e.inputType&&(isInsertReplacementText(e)||isInsertTextDataNull(e)||isInsertFromPasteOrDrop(e))){addNonTypingUndoLevel(e);}});editor.on('AddUndo Undo Redo ClearUndos',e=>{if(!e.isDefaultPrevented()){editor.nodeChanged();}});};const addKeyboardShortcuts=editor=>{editor.addShortcut('meta+z','','Undo');editor.addShortcut('meta+y,meta+shift+z','','Redo');};const UndoManager=editor=>{const beforeBookmark=value$2();const locks=Cell(0);const index=Cell(0);const undoManager={data:[],typing:false,beforeChange:()=>{beforeChange(editor,locks,beforeBookmark);},add:(level,event)=>{return addUndoLevel(editor,undoManager,index,locks,beforeBookmark,level,event);},dispatchChange:()=>{editor.setDirty(true);const level=createFromEditor(editor);level.bookmark=getUndoBookmark(editor.selection);editor.dispatch('change',{level,lastLevel:get$b(undoManager.data,index.get()).getOrUndefined()});},undo:()=>{return undo(editor,undoManager,locks,index);},redo:()=>{return redo(editor,index,undoManager.data);},clear:()=>{clear(editor,undoManager,index);},reset:()=>{reset(editor,undoManager);},hasUndo:()=>{return hasUndo(editor,undoManager,index);},hasRedo:()=>{return hasRedo(editor,undoManager,index);},transact:callback=>{return transact(editor,undoManager,locks,callback);},ignore:callback=>{ignore(editor,locks,callback);},extra:(callback1,callback2)=>{extra(editor,undoManager,index,callback1,callback2);}};if(!isRtc(editor)){registerEvents(editor,undoManager,locks);}addKeyboardShortcuts(editor);return undoManager;};const nonTypingKeycodes=[9,27,VK.HOME,VK.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,VK.DOWN,VK.UP,VK.LEFT,VK.RIGHT].concat(Env.browser.isFirefox()?[224]:[]);const placeholderAttr='data-mce-placeholder';const isKeyboardEvent=e=>e.type==='keydown'||e.type==='keyup';const isDeleteEvent=e=>{const keyCode=e.keyCode;return keyCode===VK.BACKSPACE||keyCode===VK.DELETE;};const isNonTypingKeyboardEvent=e=>{if(isKeyboardEvent(e)){const keyCode=e.keyCode;return!isDeleteEvent(e)&&(VK.metaKeyPressed(e)||e.altKey||keyCode>=112&&keyCode<=123||contains$2(nonTypingKeycodes,keyCode));}else{return false;}};const isTypingKeyboardEvent=e=>isKeyboardEvent(e)&&!(isDeleteEvent(e)||e.type==='keyup'&&e.keyCode===229);const isVisuallyEmpty=(dom,rootElm,forcedRootBlock)=>{if(isEmpty$2(SugarElement.fromDom(rootElm),false)){const firstElement=rootElm.firstElementChild;if(!firstElement){return true;}else if(dom.getStyle(rootElm.firstElementChild,'padding-left')||dom.getStyle(rootElm.firstElementChild,'padding-right')){return false;}else{return forcedRootBlock===firstElement.nodeName.toLowerCase();}}else{return false;}};const setup$r=editor=>{var _a;const dom=editor.dom;const rootBlock=getForcedRootBlock(editor);const placeholder=(_a=getPlaceholder(editor))!==null&&_a!==void 0?_a:'';const updatePlaceholder=(e,initial)=>{if(isNonTypingKeyboardEvent(e)){return;}const body=editor.getBody();const showPlaceholder=isTypingKeyboardEvent(e)?false:isVisuallyEmpty(dom,body,rootBlock);const isPlaceholderShown=dom.getAttrib(body,placeholderAttr)!=='';if(isPlaceholderShown!==showPlaceholder||initial){dom.setAttrib(body,placeholderAttr,showPlaceholder?placeholder:null);dom.setAttrib(body,'aria-placeholder',showPlaceholder?placeholder:null);firePlaceholderToggle(editor,showPlaceholder);editor.on(showPlaceholder?'keydown':'keyup',updatePlaceholder);editor.off(showPlaceholder?'keyup':'keydown',updatePlaceholder);}};if(isNotEmpty(placeholder)){editor.on('init',e=>{updatePlaceholder(e,true);editor.on('change SetContent ExecCommand',updatePlaceholder);editor.on('paste',e=>Delay.setEditorTimeout(editor,()=>updatePlaceholder(e)));});}};const blockPosition=(block,position)=>({block,position});const blockBoundary=(from,to)=>({from,to});const getBlockPosition=(rootNode,pos)=>{const rootElm=SugarElement.fromDom(rootNode);const containerElm=SugarElement.fromDom(pos.container());return getParentBlock$2(rootElm,containerElm).map(block=>blockPosition(block,pos));};const isDifferentBlocks=blockBoundary=>!eq(blockBoundary.from.block,blockBoundary.to.block);const getClosestHost=(root,scope)=>{const isRoot=node=>eq(node,root);const isHost=node=>isTableCell$2(node)||isContentEditableTrue$3(node.dom);return closest$4(scope,isHost,isRoot).filter(isElement$7).getOr(root);};const hasSameHost=(rootNode,blockBoundary)=>{const root=SugarElement.fromDom(rootNode);return eq(getClosestHost(root,blockBoundary.from.block),getClosestHost(root,blockBoundary.to.block));};const isEditable$1=blockBoundary=>isContentEditableFalse$b(blockBoundary.from.block.dom)===false&&isContentEditableFalse$b(blockBoundary.to.block.dom)===false;const hasValidBlocks=blockBoundary=>{const isValidBlock=block=>isTextBlock$2(block)||hasBlockAttr(block.dom);return isValidBlock(blockBoundary.from.block)&&isValidBlock(blockBoundary.to.block);};const skipLastBr=(rootNode,forward,blockPosition)=>{if(isBr$6(blockPosition.position.getNode())&&!isEmpty$2(blockPosition.block)){return positionIn(false,blockPosition.block.dom).bind(lastPositionInBlock=>{if(lastPositionInBlock.isEqual(blockPosition.position)){return fromPosition(forward,rootNode,lastPositionInBlock).bind(to=>getBlockPosition(rootNode,to));}else{return Optional.some(blockPosition);}}).getOr(blockPosition);}else{return blockPosition;}};const readFromRange=(rootNode,forward,rng)=>{const fromBlockPos=getBlockPosition(rootNode,CaretPosition.fromRangeStart(rng));const toBlockPos=fromBlockPos.bind(blockPos=>fromPosition(forward,rootNode,blockPos.position).bind(to=>getBlockPosition(rootNode,to).map(blockPos=>skipLastBr(rootNode,forward,blockPos))));return lift2(fromBlockPos,toBlockPos,blockBoundary).filter(blockBoundary=>isDifferentBlocks(blockBoundary)&&hasSameHost(rootNode,blockBoundary)&&isEditable$1(blockBoundary)&&hasValidBlocks(blockBoundary));};const read$1=(rootNode,forward,rng)=>rng.collapsed?readFromRange(rootNode,forward,rng):Optional.none();const getChildrenUntilBlockBoundary=(block,schema)=>{const children=children$1(block);return findIndex$2(children,el=>schema.isBlock(name(el))).fold(constant(children),index=>children.slice(0,index));};const extractChildren=(block,schema)=>{const children=getChildrenUntilBlockBoundary(block,schema);each$e(children,remove$5);return children;};const removeEmptyRoot=(rootNode,block)=>{const parents=parentsAndSelf(block,rootNode);return find$2(parents.reverse(),element=>isEmpty$2(element)).each(remove$5);};const isEmptyBefore=el=>filter$5(prevSiblings(el),el=>!isEmpty$2(el)).length===0;const nestedBlockMerge=(rootNode,fromBlock,toBlock,schema,insertionPoint)=>{if(isEmpty$2(toBlock)){fillWithPaddingBr(toBlock);return firstPositionIn(toBlock.dom);}if(isEmptyBefore(insertionPoint)&&isEmpty$2(fromBlock)){before$3(insertionPoint,SugarElement.fromTag('br'));}const position=prevPosition(toBlock.dom,CaretPosition.before(insertionPoint.dom));each$e(extractChildren(fromBlock,schema),child=>{before$3(insertionPoint,child);});removeEmptyRoot(rootNode,fromBlock);return position;};const isInline=(schema,node)=>schema.isInline(name(node));const sidelongBlockMerge=(rootNode,fromBlock,toBlock,schema)=>{if(isEmpty$2(toBlock)){if(isEmpty$2(fromBlock)){const getInlineToBlockDescendants=el=>{const helper=(node,elements)=>firstChild(node).fold(()=>elements,child=>isInline(schema,child)?helper(child,elements.concat(shallow$1(child))):elements);return helper(el,[]);};const newFromBlockDescendants=foldr(getInlineToBlockDescendants(toBlock),(element,descendant)=>{wrap$2(element,descendant);return descendant;},createPaddingBr());empty(fromBlock);append$1(fromBlock,newFromBlockDescendants);}remove$5(toBlock);return firstPositionIn(fromBlock.dom);}const position=lastPositionIn(toBlock.dom);each$e(extractChildren(fromBlock,schema),child=>{append$1(toBlock,child);});removeEmptyRoot(rootNode,fromBlock);return position;};const findInsertionPoint=(toBlock,block)=>{const parentsAndSelf$1=parentsAndSelf(block,toBlock);return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length-1]);};const getInsertionPoint=(fromBlock,toBlock)=>contains(toBlock,fromBlock)?findInsertionPoint(toBlock,fromBlock):Optional.none();const trimBr=(first,block)=>{positionIn(first,block.dom).bind(position=>Optional.from(position.getNode())).map(SugarElement.fromDom).filter(isBr$5).each(remove$5);};const mergeBlockInto=(rootNode,fromBlock,toBlock,schema)=>{trimBr(true,fromBlock);trimBr(false,toBlock);return getInsertionPoint(fromBlock,toBlock).fold(curry(sidelongBlockMerge,rootNode,fromBlock,toBlock,schema),curry(nestedBlockMerge,rootNode,fromBlock,toBlock,schema));};const mergeBlocks=(rootNode,forward,block1,block2,schema)=>forward?mergeBlockInto(rootNode,block2,block1,schema):mergeBlockInto(rootNode,block1,block2,schema);const backspaceDelete$9=(editor,forward)=>{const rootNode=SugarElement.fromDom(editor.getBody());const position=read$1(rootNode.dom,forward,editor.selection.getRng()).map(blockBoundary=>()=>{mergeBlocks(rootNode,forward,blockBoundary.from.block,blockBoundary.to.block,editor.schema).each(pos=>{editor.selection.setRng(pos.toRange());});});return position;};const deleteRangeMergeBlocks=(rootNode,selection,schema)=>{const rng=selection.getRng();return lift2(getParentBlock$2(rootNode,SugarElement.fromDom(rng.startContainer)),getParentBlock$2(rootNode,SugarElement.fromDom(rng.endContainer)),(block1,block2)=>{if(!eq(block1,block2)){return Optional.some(()=>{rng.deleteContents();mergeBlocks(rootNode,true,block1,block2,schema).each(pos=>{selection.setRng(pos.toRange());});});}else{return Optional.none();}}).getOr(Optional.none());};const isRawNodeInTable=(root,rawNode)=>{const node=SugarElement.fromDom(rawNode);const isRoot=curry(eq,root);return ancestor$4(node,isTableCell$2,isRoot).isSome();};const isSelectionInTable=(root,rng)=>isRawNodeInTable(root,rng.startContainer)||isRawNodeInTable(root,rng.endContainer);const isEverythingSelected=(root,rng)=>{const noPrevious=prevPosition(root.dom,CaretPosition.fromRangeStart(rng)).isNone();const noNext=nextPosition(root.dom,CaretPosition.fromRangeEnd(rng)).isNone();return!isSelectionInTable(root,rng)&&noPrevious&&noNext;};const emptyEditor=editor=>{return Optional.some(()=>{editor.setContent('');editor.selection.setCursorLocation();});};const deleteRange$2=editor=>{const rootNode=SugarElement.fromDom(editor.getBody());const rng=editor.selection.getRng();return isEverythingSelected(rootNode,rng)?emptyEditor(editor):deleteRangeMergeBlocks(rootNode,editor.selection,editor.schema);};const backspaceDelete$8=(editor,_forward)=>editor.selection.isCollapsed()?Optional.none():deleteRange$2(editor);const showCaret=(direction,editor,node,before,scrollIntoView)=>Optional.from(editor._selectionOverrides.showCaret(direction,node,before,scrollIntoView));const getNodeRange=node=>{const rng=node.ownerDocument.createRange();rng.selectNode(node);return rng;};const selectNode=(editor,node)=>{const e=editor.dispatch('BeforeObjectSelected',{target:node});if(e.isDefaultPrevented()){return Optional.none();}return Optional.some(getNodeRange(node));};const renderCaretAtRange=(editor,range,scrollIntoView)=>{const normalizedRange=normalizeRange(1,editor.getBody(),range);const caretPosition=CaretPosition.fromRangeStart(normalizedRange);const caretPositionNode=caretPosition.getNode();if(isInlineFakeCaretTarget(caretPositionNode)){return showCaret(1,editor,caretPositionNode,!caretPosition.isAtEnd(),false);}const caretPositionBeforeNode=caretPosition.getNode(true);if(isInlineFakeCaretTarget(caretPositionBeforeNode)){return showCaret(1,editor,caretPositionBeforeNode,false,false);}const ceRoot=getContentEditableRoot$1(editor.dom.getRoot(),caretPosition.getNode());if(isInlineFakeCaretTarget(ceRoot)){return showCaret(1,editor,ceRoot,false,scrollIntoView);}return Optional.none();};const renderRangeCaret=(editor,range,scrollIntoView)=>range.collapsed?renderCaretAtRange(editor,range,scrollIntoView).getOr(range):range;const isBeforeBoundary=pos=>isBeforeContentEditableFalse(pos)||isBeforeMedia(pos);const isAfterBoundary=pos=>isAfterContentEditableFalse(pos)||isAfterMedia(pos);const trimEmptyTextNode=(dom,node)=>{if(isText$a(node)&&node.data.length===0){dom.remove(node);}};const deleteContentAndShowCaret=(editor,range,node,direction,forward,peekCaretPosition)=>{showCaret(direction,editor,peekCaretPosition.getNode(!forward),forward,true).each(caretRange=>{if(range.collapsed){const deleteRange=range.cloneRange();if(forward){deleteRange.setEnd(caretRange.startContainer,caretRange.startOffset);}else{deleteRange.setStart(caretRange.endContainer,caretRange.endOffset);}deleteRange.deleteContents();}else{range.deleteContents();}editor.selection.setRng(caretRange);});trimEmptyTextNode(editor.dom,node);};const deleteBoundaryText=(editor,forward)=>{const range=editor.selection.getRng();if(!isText$a(range.commonAncestorContainer)){return Optional.none();}const direction=forward?HDirection.Forwards:HDirection.Backwards;const caretWalker=CaretWalker(editor.getBody());const getNextPosFn=curry(getVisualCaretPosition,forward?caretWalker.next:caretWalker.prev);const isBeforeFn=forward?isBeforeBoundary:isAfterBoundary;const caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range);const nextCaretPosition=getNextPosFn(caretPosition);const normalizedNextCaretPosition=nextCaretPosition?normalizePosition(forward,nextCaretPosition):nextCaretPosition;if(!normalizedNextCaretPosition||!isMoveInsideSameBlock(caretPosition,normalizedNextCaretPosition)){return Optional.none();}else if(isBeforeFn(normalizedNextCaretPosition)){return Optional.some(()=>deleteContentAndShowCaret(editor,range,caretPosition.getNode(),direction,forward,normalizedNextCaretPosition));}const peekCaretPosition=getNextPosFn(normalizedNextCaretPosition);if(peekCaretPosition&&isBeforeFn(peekCaretPosition)){if(isMoveInsideSameBlock(normalizedNextCaretPosition,peekCaretPosition)){return Optional.some(()=>deleteContentAndShowCaret(editor,range,caretPosition.getNode(),direction,forward,peekCaretPosition));}}return Optional.none();};const backspaceDelete$7=(editor,forward)=>deleteBoundaryText(editor,forward);const getEdgeCefPosition=(editor,atStart)=>{const root=editor.getBody();return atStart?firstPositionIn(root).filter(isBeforeContentEditableFalse):lastPositionIn(root).filter(isAfterContentEditableFalse);};const isCefAtEdgeSelected=editor=>{const rng=editor.selection.getRng();return!rng.collapsed&&(getEdgeCefPosition(editor,true).exists(pos=>pos.isEqual(CaretPosition.fromRangeStart(rng)))||getEdgeCefPosition(editor,false).exists(pos=>pos.isEqual(CaretPosition.fromRangeEnd(rng))));};const isCompoundElement=node=>isNonNullable(node)&&(isTableCell$2(SugarElement.fromDom(node))||isListItem$1(SugarElement.fromDom(node)));const DeleteAction=Adt.generate([{remove:['element']},{moveToElement:['element']},{moveToPosition:['position']}]);const isAtContentEditableBlockCaret=(forward,from)=>{const elm=from.getNode(!forward);const caretLocation=forward?'after':'before';return isElement$6(elm)&&elm.getAttribute('data-mce-caret')===caretLocation;};const isDeleteFromCefDifferentBlocks=(root,forward,from,to,schema)=>{const inSameBlock=elm=>schema.isInline(elm.nodeName.toLowerCase())&&!isInSameBlock(from,to,root);return getRelativeCefElm(!forward,from).fold(()=>getRelativeCefElm(forward,to).fold(never,inSameBlock),inSameBlock);};const deleteEmptyBlockOrMoveToCef=(root,forward,from,to)=>{const toCefElm=to.getNode(!forward);return getParentBlock$2(SugarElement.fromDom(root),SugarElement.fromDom(from.getNode())).map(blockElm=>isEmpty$2(blockElm)?DeleteAction.remove(blockElm.dom):DeleteAction.moveToElement(toCefElm)).orThunk(()=>Optional.some(DeleteAction.moveToElement(toCefElm)));};const findCefPosition=(root,forward,from,schema)=>fromPosition(forward,root,from).bind(to=>{if(isCompoundElement(to.getNode())){return Optional.none();}else if(isDeleteFromCefDifferentBlocks(root,forward,from,to,schema)){return Optional.none();}else if(forward&&isContentEditableFalse$b(to.getNode())){return deleteEmptyBlockOrMoveToCef(root,forward,from,to);}else if(!forward&&isContentEditableFalse$b(to.getNode(true))){return deleteEmptyBlockOrMoveToCef(root,forward,from,to);}else if(forward&&isAfterContentEditableFalse(from)){return Optional.some(DeleteAction.moveToPosition(to));}else if(!forward&&isBeforeContentEditableFalse(from)){return Optional.some(DeleteAction.moveToPosition(to));}else{return Optional.none();}});const getContentEditableBlockAction=(forward,elm)=>{if(isNullable(elm)){return Optional.none();}else if(forward&&isContentEditableFalse$b(elm.nextSibling)){return Optional.some(DeleteAction.moveToElement(elm.nextSibling));}else if(!forward&&isContentEditableFalse$b(elm.previousSibling)){return Optional.some(DeleteAction.moveToElement(elm.previousSibling));}else{return Optional.none();}};const skipMoveToActionFromInlineCefToContent=(root,from,deleteAction)=>deleteAction.fold(elm=>Optional.some(DeleteAction.remove(elm)),elm=>Optional.some(DeleteAction.moveToElement(elm)),to=>{if(isInSameBlock(from,to,root)){return Optional.none();}else{return Optional.some(DeleteAction.moveToPosition(to));}});const getContentEditableAction=(root,forward,from,schema)=>{if(isAtContentEditableBlockCaret(forward,from)){return getContentEditableBlockAction(forward,from.getNode(!forward)).orThunk(()=>findCefPosition(root,forward,from,schema));}else{return findCefPosition(root,forward,from,schema).bind(deleteAction=>skipMoveToActionFromInlineCefToContent(root,from,deleteAction));}};const read=(root,forward,rng,schema)=>{const normalizedRange=normalizeRange(forward?1:-1,root,rng);const from=CaretPosition.fromRangeStart(normalizedRange);const rootElement=SugarElement.fromDom(root);if(!forward&&isAfterContentEditableFalse(from)){return Optional.some(DeleteAction.remove(from.getNode(true)));}else if(forward&&isBeforeContentEditableFalse(from)){return Optional.some(DeleteAction.remove(from.getNode()));}else if(!forward&&isBeforeContentEditableFalse(from)&&isAfterBr(rootElement,from,schema)){return findPreviousBr(rootElement,from,schema).map(br=>DeleteAction.remove(br.getNode()));}else if(forward&&isAfterContentEditableFalse(from)&&isBeforeBr$1(rootElement,from,schema)){return findNextBr(rootElement,from,schema).map(br=>DeleteAction.remove(br.getNode()));}else{return getContentEditableAction(root,forward,from,schema);}};const deleteElement$1=(editor,forward)=>element=>{editor._selectionOverrides.hideFakeCaret();deleteElement$2(editor,forward,SugarElement.fromDom(element));return true;};const moveToElement=(editor,forward)=>element=>{const pos=forward?CaretPosition.before(element):CaretPosition.after(element);editor.selection.setRng(pos.toRange());return true;};const moveToPosition=editor=>pos=>{editor.selection.setRng(pos.toRange());return true;};const getAncestorCe=(editor,node)=>Optional.from(getContentEditableRoot$1(editor.getBody(),node));const backspaceDeleteCaret=(editor,forward)=>{const selectedNode=editor.selection.getNode();return getAncestorCe(editor,selectedNode).filter(isContentEditableFalse$b).fold(()=>read(editor.getBody(),forward,editor.selection.getRng(),editor.schema).map(deleteAction=>()=>deleteAction.fold(deleteElement$1(editor,forward),moveToElement(editor,forward),moveToPosition(editor))),()=>Optional.some(noop));};const deleteOffscreenSelection=rootElement=>{each$e(descendants(rootElement,'.mce-offscreen-selection'),remove$5);};const backspaceDeleteRange=(editor,forward)=>{const selectedNode=editor.selection.getNode();if(isContentEditableFalse$b(selectedNode)&&!isTableCell$3(selectedNode)){const hasCefAncestor=getAncestorCe(editor,selectedNode.parentNode).filter(isContentEditableFalse$b);return hasCefAncestor.fold(()=>Optional.some(()=>{deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));deleteElement$2(editor,forward,SugarElement.fromDom(editor.selection.getNode()));paddEmptyBody(editor);}),()=>Optional.some(noop));}if(isCefAtEdgeSelected(editor)){return Optional.some(()=>{deleteRangeContents(editor,editor.selection.getRng(),SugarElement.fromDom(editor.getBody()));});}return Optional.none();};const paddEmptyElement=editor=>{const dom=editor.dom,selection=editor.selection;const ceRoot=getContentEditableRoot$1(editor.getBody(),selection.getNode());if(isContentEditableTrue$3(ceRoot)&&dom.isBlock(ceRoot)&&dom.isEmpty(ceRoot)){const br=dom.create('br',{'data-mce-bogus':'1'});dom.setHTML(ceRoot,'');ceRoot.appendChild(br);selection.setRng(CaretPosition.before(br).toRange());}return true;};const backspaceDelete$6=(editor,forward)=>{if(editor.selection.isCollapsed()){return backspaceDeleteCaret(editor,forward);}else{return backspaceDeleteRange(editor,forward);}};const deleteCaret$2=(editor,forward)=>{const fromPos=CaretPosition.fromRangeStart(editor.selection.getRng());return fromPosition(forward,editor.getBody(),fromPos).filter(pos=>forward?isBeforeImageBlock(pos):isAfterImageBlock(pos)).bind(pos=>getChildNodeAtRelativeOffset(forward?0:-1,pos)).map(elm=>()=>editor.selection.select(elm));};const backspaceDelete$5=(editor,forward)=>editor.selection.isCollapsed()?deleteCaret$2(editor,forward):Optional.none();const isText$2=isText$a;const startsWithCaretContainer=node=>isText$2(node)&&node.data[0]===ZWSP$1;const endsWithCaretContainer=node=>isText$2(node)&&node.data[node.data.length-1]===ZWSP$1;const createZwsp=node=>{var _a;const doc=(_a=node.ownerDocument)!==null&&_a!==void 0?_a:document;return doc.createTextNode(ZWSP$1);};const insertBefore$1=node=>{var _a;if(isText$2(node.previousSibling)){if(endsWithCaretContainer(node.previousSibling)){return node.previousSibling;}else{node.previousSibling.appendData(ZWSP$1);return node.previousSibling;}}else if(isText$2(node)){if(startsWithCaretContainer(node)){return node;}else{node.insertData(0,ZWSP$1);return node;}}else{const newNode=createZwsp(node);(_a=node.parentNode)===null||_a===void 0?void 0:_a.insertBefore(newNode,node);return newNode;}};const insertAfter$1=node=>{var _a,_b;if(isText$2(node.nextSibling)){if(startsWithCaretContainer(node.nextSibling)){return node.nextSibling;}else{node.nextSibling.insertData(0,ZWSP$1);return node.nextSibling;}}else if(isText$2(node)){if(endsWithCaretContainer(node)){return node;}else{node.appendData(ZWSP$1);return node;}}else{const newNode=createZwsp(node);if(node.nextSibling){(_a=node.parentNode)===null||_a===void 0?void 0:_a.insertBefore(newNode,node.nextSibling);}else{(_b=node.parentNode)===null||_b===void 0?void 0:_b.appendChild(newNode);}return newNode;}};const insertInline=(before,node)=>before?insertBefore$1(node):insertAfter$1(node);const insertInlineBefore=curry(insertInline,true);const insertInlineAfter=curry(insertInline,false);const insertInlinePos=(pos,before)=>{if(isText$a(pos.container())){return insertInline(before,pos.container());}else{return insertInline(before,pos.getNode());}};const isPosCaretContainer=(pos,caret)=>{const caretNode=caret.get();return caretNode&&pos.container()===caretNode&&isCaretContainerInline(caretNode);};const renderCaret=(caret,location)=>location.fold(element=>{remove$3(caret.get());const text=insertInlineBefore(element);caret.set(text);return Optional.some(CaretPosition(text,text.length-1));},element=>firstPositionIn(element).map(pos=>{if(!isPosCaretContainer(pos,caret)){remove$3(caret.get());const text=insertInlinePos(pos,true);caret.set(text);return CaretPosition(text,1);}else{const node=caret.get();return CaretPosition(node,1);}}),element=>lastPositionIn(element).map(pos=>{if(!isPosCaretContainer(pos,caret)){remove$3(caret.get());const text=insertInlinePos(pos,false);caret.set(text);return CaretPosition(text,text.length-1);}else{const node=caret.get();return CaretPosition(node,node.length-1);}}),element=>{remove$3(caret.get());const text=insertInlineAfter(element);caret.set(text);return Optional.some(CaretPosition(text,1));});const evaluateUntil=(fns,args)=>{for(let i=0;i<fns.length;i++){const result=fns[i].apply(null,args);if(result.isSome()){return result;}}return Optional.none();};const Location=Adt.generate([{before:['element']},{start:['element']},{end:['element']},{after:['element']}]);const rescope$1=(rootNode,node)=>{const parentBlock=getParentBlock$3(node,rootNode);return parentBlock?parentBlock:rootNode;};const before=(isInlineTarget,rootNode,pos)=>{const nPos=normalizeForwards(pos);const scope=rescope$1(rootNode,nPos.container());return findRootInline(isInlineTarget,scope,nPos).fold(()=>nextPosition(scope,nPos).bind(curry(findRootInline,isInlineTarget,scope)).map(inline=>Location.before(inline)),Optional.none);};const isNotInsideFormatCaretContainer=(rootNode,elm)=>getParentCaretContainer(rootNode,elm)===null;const findInsideRootInline=(isInlineTarget,rootNode,pos)=>findRootInline(isInlineTarget,rootNode,pos).filter(curry(isNotInsideFormatCaretContainer,rootNode));const start$1=(isInlineTarget,rootNode,pos)=>{const nPos=normalizeBackwards(pos);return findInsideRootInline(isInlineTarget,rootNode,nPos).bind(inline=>{const prevPos=prevPosition(inline,nPos);return prevPos.isNone()?Optional.some(Location.start(inline)):Optional.none();});};const end=(isInlineTarget,rootNode,pos)=>{const nPos=normalizeForwards(pos);return findInsideRootInline(isInlineTarget,rootNode,nPos).bind(inline=>{const nextPos=nextPosition(inline,nPos);return nextPos.isNone()?Optional.some(Location.end(inline)):Optional.none();});};const after=(isInlineTarget,rootNode,pos)=>{const nPos=normalizeBackwards(pos);const scope=rescope$1(rootNode,nPos.container());return findRootInline(isInlineTarget,scope,nPos).fold(()=>prevPosition(scope,nPos).bind(curry(findRootInline,isInlineTarget,scope)).map(inline=>Location.after(inline)),Optional.none);};const isValidLocation=location=>!isRtl(getElement(location));const readLocation=(isInlineTarget,rootNode,pos)=>{const location=evaluateUntil([before,start$1,end,after],[isInlineTarget,rootNode,pos]);return location.filter(isValidLocation);};const getElement=location=>location.fold(identity,identity,identity,identity);const getName=location=>location.fold(constant('before'),constant('start'),constant('end'),constant('after'));const outside=location=>location.fold(Location.before,Location.before,Location.after,Location.after);const inside=location=>location.fold(Location.start,Location.start,Location.end,Location.end);const isEq=(location1,location2)=>getName(location1)===getName(location2)&&getElement(location1)===getElement(location2);const betweenInlines=(forward,isInlineTarget,rootNode,from,to,location)=>lift2(findRootInline(isInlineTarget,rootNode,from),findRootInline(isInlineTarget,rootNode,to),(fromInline,toInline)=>{if(fromInline!==toInline&&hasSameParentBlock(rootNode,fromInline,toInline)){return Location.after(forward?fromInline:toInline);}else{return location;}}).getOr(location);const skipNoMovement=(fromLocation,toLocation)=>fromLocation.fold(always,fromLocation=>!isEq(fromLocation,toLocation));const findLocationTraverse=(forward,isInlineTarget,rootNode,fromLocation,pos)=>{const from=normalizePosition(forward,pos);const to=fromPosition(forward,rootNode,from).map(curry(normalizePosition,forward));const location=to.fold(()=>fromLocation.map(outside),to=>readLocation(isInlineTarget,rootNode,to).map(curry(betweenInlines,forward,isInlineTarget,rootNode,from,to)).filter(curry(skipNoMovement,fromLocation)));return location.filter(isValidLocation);};const findLocationSimple=(forward,location)=>{if(forward){return location.fold(compose(Optional.some,Location.start),Optional.none,compose(Optional.some,Location.after),Optional.none);}else{return location.fold(Optional.none,compose(Optional.some,Location.before),Optional.none,compose(Optional.some,Location.end));}};const findLocation$1=(forward,isInlineTarget,rootNode,pos)=>{const from=normalizePosition(forward,pos);const fromLocation=readLocation(isInlineTarget,rootNode,from);return readLocation(isInlineTarget,rootNode,from).bind(curry(findLocationSimple,forward)).orThunk(()=>findLocationTraverse(forward,isInlineTarget,rootNode,fromLocation,pos));};const hasSelectionModifyApi=editor=>{return isFunction(editor.selection.getSel().modify);};const moveRel=(forward,selection,pos)=>{const delta=forward?1:-1;selection.setRng(CaretPosition(pos.container(),pos.offset()+delta).toRange());selection.getSel().modify('move',forward?'forward':'backward','word');return true;};const moveByWord=(forward,editor)=>{const rng=editor.selection.getRng();const pos=forward?CaretPosition.fromRangeEnd(rng):CaretPosition.fromRangeStart(rng);if(!hasSelectionModifyApi(editor)){return false;}else if(forward&&isBeforeInline(pos)){return moveRel(true,editor.selection,pos);}else if(!forward&&isAfterInline(pos)){return moveRel(false,editor.selection,pos);}else{return false;}};var BreakType;(function(BreakType){BreakType[BreakType['Br']=0]='Br';BreakType[BreakType['Block']=1]='Block';BreakType[BreakType['Wrap']=2]='Wrap';BreakType[BreakType['Eol']=3]='Eol';})(BreakType||(BreakType={}));const flip=(direction,positions)=>direction===HDirection.Backwards?reverse(positions):positions;const walk$1=(direction,caretWalker,pos)=>direction===HDirection.Forwards?caretWalker.next(pos):caretWalker.prev(pos);const getBreakType=(scope,direction,currentPos,nextPos)=>{if(isBr$6(nextPos.getNode(direction===HDirection.Forwards))){return BreakType.Br;}else if(isInSameBlock(currentPos,nextPos)===false){return BreakType.Block;}else{return BreakType.Wrap;}};const getPositionsUntil=(predicate,direction,scope,start)=>{const caretWalker=CaretWalker(scope);let currentPos=start;const positions=[];while(currentPos){const nextPos=walk$1(direction,caretWalker,currentPos);if(!nextPos){break;}if(isBr$6(nextPos.getNode(false))){if(direction===HDirection.Forwards){return{positions:flip(direction,positions).concat([nextPos]),breakType:BreakType.Br,breakAt:Optional.some(nextPos)};}else{return{positions:flip(direction,positions),breakType:BreakType.Br,breakAt:Optional.some(nextPos)};}}if(!nextPos.isVisible()){currentPos=nextPos;continue;}if(predicate(currentPos,nextPos)){const breakType=getBreakType(scope,direction,currentPos,nextPos);return{positions:flip(direction,positions),breakType,breakAt:Optional.some(nextPos)};}positions.push(nextPos);currentPos=nextPos;}return{positions:flip(direction,positions),breakType:BreakType.Eol,breakAt:Optional.none()};};const getAdjacentLinePositions=(direction,getPositionsUntilBreak,scope,start)=>getPositionsUntilBreak(scope,start).breakAt.map(pos=>{const positions=getPositionsUntilBreak(scope,pos).positions;return direction===HDirection.Backwards?positions.concat(pos):[pos].concat(positions);}).getOr([]);const findClosestHorizontalPositionFromPoint=(positions,x)=>foldl(positions,(acc,newPos)=>acc.fold(()=>Optional.some(newPos),lastPos=>lift2(head(lastPos.getClientRects()),head(newPos.getClientRects()),(lastRect,newRect)=>{const lastDist=Math.abs(x-lastRect.left);const newDist=Math.abs(x-newRect.left);return newDist<=lastDist?newPos:lastPos;}).or(acc)),Optional.none());const findClosestHorizontalPosition=(positions,pos)=>head(pos.getClientRects()).bind(targetRect=>findClosestHorizontalPositionFromPoint(positions,targetRect.left));const getPositionsUntilPreviousLine=curry(getPositionsUntil,CaretPosition.isAbove,-1);const getPositionsUntilNextLine=curry(getPositionsUntil,CaretPosition.isBelow,1);const getPositionsAbove=curry(getAdjacentLinePositions,-1,getPositionsUntilPreviousLine);const getPositionsBelow=curry(getAdjacentLinePositions,1,getPositionsUntilNextLine);const isAtFirstLine=(scope,pos)=>getPositionsUntilPreviousLine(scope,pos).breakAt.isNone();const isAtLastLine=(scope,pos)=>getPositionsUntilNextLine(scope,pos).breakAt.isNone();const getFirstLinePositions=scope=>firstPositionIn(scope).map(pos=>[pos].concat(getPositionsUntilNextLine(scope,pos).positions)).getOr([]);const getLastLinePositions=scope=>lastPositionIn(scope).map(pos=>getPositionsUntilPreviousLine(scope,pos).positions.concat(pos)).getOr([]);const getClosestPositionAbove=(scope,pos)=>findClosestHorizontalPosition(getPositionsAbove(scope,pos),pos);const getClosestPositionBelow=(scope,pos)=>findClosestHorizontalPosition(getPositionsBelow(scope,pos),pos);const isContentEditableFalse$4=isContentEditableFalse$b;const distanceToRectLeft$1=(clientRect,clientX)=>Math.abs(clientRect.left-clientX);const distanceToRectRight$1=(clientRect,clientX)=>Math.abs(clientRect.right-clientX);const isNodeClientRect=rect=>hasNonNullableKey(rect,'node');const findClosestClientRect=(clientRects,clientX)=>reduce(clientRects,(oldClientRect,clientRect)=>{const oldDistance=Math.min(distanceToRectLeft$1(oldClientRect,clientX),distanceToRectRight$1(oldClientRect,clientX));const newDistance=Math.min(distanceToRectLeft$1(clientRect,clientX),distanceToRectRight$1(clientRect,clientX));if(newDistance===oldDistance&&isNodeClientRect(clientRect)&&isContentEditableFalse$4(clientRect.node)){return clientRect;}if(newDistance<oldDistance){return clientRect;}return oldClientRect;});const getNodeClientRects=node=>{const toArrayWithNode=clientRects=>{return map$3(clientRects,rect=>{const clientRect=clone$1(rect);clientRect.node=node;return clientRect;});};if(isElement$6(node)){return toArrayWithNode(node.getClientRects());}else if(isText$a(node)){const rng=node.ownerDocument.createRange();rng.setStart(node,0);rng.setEnd(node,node.data.length);return toArrayWithNode(rng.getClientRects());}else{return[];}};const getClientRects=nodes=>bind$3(nodes,getNodeClientRects);var VDirection;(function(VDirection){VDirection[VDirection['Up']=-1]='Up';VDirection[VDirection['Down']=1]='Down';})(VDirection||(VDirection={}));const findUntil=(direction,root,predicateFn,node)=>{let currentNode=node;while(currentNode=findNode(currentNode,direction,isEditableCaretCandidate$1,root)){if(predicateFn(currentNode)){return;}}};const walkUntil=(direction,isAboveFn,isBeflowFn,root,predicateFn,caretPosition)=>{let line=0;const result=[];const add=node=>{let clientRects=getClientRects([node]);if(direction===-1){clientRects=clientRects.reverse();}for(let i=0;i<clientRects.length;i++){const clientRect=clientRects[i];if(isBeflowFn(clientRect,targetClientRect)){continue;}if(result.length>0&&isAboveFn(clientRect,last$2(result))){line++;}clientRect.line=line;if(predicateFn(clientRect)){return true;}result.push(clientRect);}return false;};const targetClientRect=last$2(caretPosition.getClientRects());if(!targetClientRect){return result;}const node=caretPosition.getNode();if(node){add(node);findUntil(direction,root,add,node);}return result;};const aboveLineNumber=(lineNumber,clientRect)=>clientRect.line>lineNumber;const isLineNumber=(lineNumber,clientRect)=>clientRect.line===lineNumber;const upUntil=curry(walkUntil,VDirection.Up,isAbove$1,isBelow$1);const downUntil=curry(walkUntil,VDirection.Down,isBelow$1,isAbove$1);const getLastClientRect=caretPosition=>{return last$2(caretPosition.getClientRects());};const positionsUntil=(direction,root,predicateFn,node)=>{const caretWalker=CaretWalker(root);let walkFn;let isBelowFn;let isAboveFn;let caretPosition;const result=[];let line=0;if(direction===1){walkFn=caretWalker.next;isBelowFn=isBelow$1;isAboveFn=isAbove$1;caretPosition=CaretPosition.after(node);}else{walkFn=caretWalker.prev;isBelowFn=isAbove$1;isAboveFn=isBelow$1;caretPosition=CaretPosition.before(node);}const targetClientRect=getLastClientRect(caretPosition);do{if(!caretPosition.isVisible()){continue;}const rect=getLastClientRect(caretPosition);if(isAboveFn(rect,targetClientRect)){continue;}if(result.length>0&&isBelowFn(rect,last$2(result))){line++;}const clientRect=clone$1(rect);clientRect.position=caretPosition;clientRect.line=line;if(predicateFn(clientRect)){return result;}result.push(clientRect);}while(caretPosition=walkFn(caretPosition));return result;};const isAboveLine=lineNumber=>clientRect=>aboveLineNumber(lineNumber,clientRect);const isLine=lineNumber=>clientRect=>isLineNumber(lineNumber,clientRect);const moveToRange=(editor,rng)=>{editor.selection.setRng(rng);scrollRangeIntoView(editor,editor.selection.getRng());};const renderRangeCaretOpt=(editor,range,scrollIntoView)=>Optional.some(renderRangeCaret(editor,range,scrollIntoView));const moveHorizontally=(editor,direction,range,isBefore,isAfter,isElement)=>{const forwards=direction===HDirection.Forwards;const caretWalker=CaretWalker(editor.getBody());const getNextPosFn=curry(getVisualCaretPosition,forwards?caretWalker.next:caretWalker.prev);const isBeforeFn=forwards?isBefore:isAfter;if(!range.collapsed){const node=getSelectedNode(range);if(isElement(node)){return showCaret(direction,editor,node,direction===HDirection.Backwards,false);}else if(isCefAtEdgeSelected(editor)){const newRange=range.cloneRange();newRange.collapse(direction===HDirection.Backwards);return Optional.from(newRange);}}const caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range);if(isBeforeFn(caretPosition)){return selectNode(editor,caretPosition.getNode(!forwards));}let nextCaretPosition=getNextPosFn(caretPosition);const rangeIsInContainerBlock=isRangeInCaretContainerBlock(range);if(!nextCaretPosition){return rangeIsInContainerBlock?Optional.some(range):Optional.none();}else{nextCaretPosition=normalizePosition(forwards,nextCaretPosition);}if(isBeforeFn(nextCaretPosition)){return showCaret(direction,editor,nextCaretPosition.getNode(!forwards),forwards,false);}const peekCaretPosition=getNextPosFn(nextCaretPosition);if(peekCaretPosition&&isBeforeFn(peekCaretPosition)){if(isMoveInsideSameBlock(nextCaretPosition,peekCaretPosition)){return showCaret(direction,editor,peekCaretPosition.getNode(!forwards),forwards,false);}}if(rangeIsInContainerBlock){return renderRangeCaretOpt(editor,nextCaretPosition.toRange(),false);}return Optional.none();};const moveVertically=(editor,direction,range,isBefore,isAfter,isElement)=>{const caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range);const caretClientRect=last$2(caretPosition.getClientRects());const forwards=direction===VDirection.Down;const root=editor.getBody();if(!caretClientRect){return Optional.none();}if(isCefAtEdgeSelected(editor)){const caretPosition=forwards?CaretPosition.fromRangeEnd(range):CaretPosition.fromRangeStart(range);const getClosestFn=!forwards?getClosestPositionAbove:getClosestPositionBelow;return getClosestFn(root,caretPosition).orThunk(()=>Optional.from(caretPosition)).map(pos=>pos.toRange());}const walkerFn=forwards?downUntil:upUntil;const linePositions=walkerFn(root,isAboveLine(1),caretPosition);const nextLinePositions=filter$5(linePositions,isLine(1));const clientX=caretClientRect.left;const nextLineRect=findClosestClientRect(nextLinePositions,clientX);if(nextLineRect&&isElement(nextLineRect.node)){const dist1=Math.abs(clientX-nextLineRect.left);const dist2=Math.abs(clientX-nextLineRect.right);return showCaret(direction,editor,nextLineRect.node,dist1<dist2,false);}let currentNode;if(isBefore(caretPosition)){currentNode=caretPosition.getNode();}else if(isAfter(caretPosition)){currentNode=caretPosition.getNode(true);}else{currentNode=getSelectedNode(range);}if(currentNode){const caretPositions=positionsUntil(direction,root,isAboveLine(1),currentNode);let closestNextLineRect=findClosestClientRect(filter$5(caretPositions,isLine(1)),clientX);if(closestNextLineRect){return renderRangeCaretOpt(editor,closestNextLineRect.position.toRange(),false);}closestNextLineRect=last$2(filter$5(caretPositions,isLine(0)));if(closestNextLineRect){return renderRangeCaretOpt(editor,closestNextLineRect.position.toRange(),false);}}if(nextLinePositions.length===0){return getLineEndPoint(editor,forwards).filter(forwards?isAfter:isBefore).map(pos=>renderRangeCaret(editor,pos.toRange(),false));}return Optional.none();};const getLineEndPoint=(editor,forward)=>{const rng=editor.selection.getRng();const from=forward?CaretPosition.fromRangeEnd(rng):CaretPosition.fromRangeStart(rng);const host=getEditingHost(from.container(),editor.getBody());if(forward){const lineInfo=getPositionsUntilNextLine(host,from);return last$3(lineInfo.positions);}else{const lineInfo=getPositionsUntilPreviousLine(host,from);return head(lineInfo.positions);}};const moveToLineEndPoint$3=(editor,forward,isElementPosition)=>getLineEndPoint(editor,forward).filter(isElementPosition).exists(pos=>{editor.selection.setRng(pos.toRange());return true;});const setCaretPosition=(editor,pos)=>{const rng=editor.dom.createRng();rng.setStart(pos.container(),pos.offset());rng.setEnd(pos.container(),pos.offset());editor.selection.setRng(rng);};const setSelected=(state,elm)=>{if(state){elm.setAttribute('data-mce-selected','inline-boundary');}else{elm.removeAttribute('data-mce-selected');}};const renderCaretLocation=(editor,caret,location)=>renderCaret(caret,location).map(pos=>{setCaretPosition(editor,pos);return location;});const getPositionFromRange=(range,root,forward)=>{const start=CaretPosition.fromRangeStart(range);if(range.collapsed){return start;}else{const end=CaretPosition.fromRangeEnd(range);return forward?prevPosition(root,end).getOr(end):nextPosition(root,start).getOr(start);}};const findLocation=(editor,caret,forward)=>{const rootNode=editor.getBody();const from=getPositionFromRange(editor.selection.getRng(),rootNode,forward);const isInlineTarget$1=curry(isInlineTarget,editor);const location=findLocation$1(forward,isInlineTarget$1,rootNode,from);return location.bind(location=>renderCaretLocation(editor,caret,location));};const toggleInlines=(isInlineTarget,dom,elms)=>{const inlineBoundaries=map$3(descendants(SugarElement.fromDom(dom.getRoot()),'*[data-mce-selected=\"inline-boundary\"]'),e=>e.dom);const selectedInlines=filter$5(inlineBoundaries,isInlineTarget);const targetInlines=filter$5(elms,isInlineTarget);each$e(difference(selectedInlines,targetInlines),curry(setSelected,false));each$e(difference(targetInlines,selectedInlines),curry(setSelected,true));};const safeRemoveCaretContainer=(editor,caret)=>{const caretValue=caret.get();if(editor.selection.isCollapsed()&&!editor.composing&&caretValue){const pos=CaretPosition.fromRangeStart(editor.selection.getRng());if(CaretPosition.isTextPosition(pos)&&!isAtZwsp(pos)){setCaretPosition(editor,removeAndReposition(caretValue,pos));caret.set(null);}}};const renderInsideInlineCaret=(isInlineTarget,editor,caret,elms)=>{if(editor.selection.isCollapsed()){const inlines=filter$5(elms,isInlineTarget);each$e(inlines,_inline=>{const pos=CaretPosition.fromRangeStart(editor.selection.getRng());readLocation(isInlineTarget,editor.getBody(),pos).bind(location=>renderCaretLocation(editor,caret,location));});}};const move$3=(editor,caret,forward)=>isInlineBoundariesEnabled(editor)?findLocation(editor,caret,forward).isSome():false;const moveWord=(forward,editor,_caret)=>isInlineBoundariesEnabled(editor)?moveByWord(forward,editor):false;const setupSelectedState=editor=>{const caret=Cell(null);const isInlineTarget$1=curry(isInlineTarget,editor);editor.on('NodeChange',e=>{if(isInlineBoundariesEnabled(editor)){toggleInlines(isInlineTarget$1,editor.dom,e.parents);safeRemoveCaretContainer(editor,caret);renderInsideInlineCaret(isInlineTarget$1,editor,caret,e.parents);}});return caret;};const moveNextWord=curry(moveWord,true);const movePrevWord=curry(moveWord,false);const moveToLineEndPoint$2=(editor,forward,caret)=>{if(isInlineBoundariesEnabled(editor)){const linePoint=getLineEndPoint(editor,forward).getOrThunk(()=>{const rng=editor.selection.getRng();return forward?CaretPosition.fromRangeEnd(rng):CaretPosition.fromRangeStart(rng);});return readLocation(curry(isInlineTarget,editor),editor.getBody(),linePoint).exists(loc=>{const outsideLoc=outside(loc);return renderCaret(caret,outsideLoc).exists(pos=>{setCaretPosition(editor,pos);return true;});});}else{return false;}};const rangeFromPositions=(from,to)=>{const range=document.createRange();range.setStart(from.container(),from.offset());range.setEnd(to.container(),to.offset());return range;};const hasOnlyTwoOrLessPositionsLeft=elm=>lift2(firstPositionIn(elm),lastPositionIn(elm),(firstPos,lastPos)=>{const normalizedFirstPos=normalizePosition(true,firstPos);const normalizedLastPos=normalizePosition(false,lastPos);return nextPosition(elm,normalizedFirstPos).forall(pos=>pos.isEqual(normalizedLastPos));}).getOr(true);const setCaretLocation=(editor,caret)=>location=>renderCaret(caret,location).map(pos=>()=>setCaretPosition(editor,pos));const deleteFromTo=(editor,caret,from,to)=>{const rootNode=editor.getBody();const isInlineTarget$1=curry(isInlineTarget,editor);editor.undoManager.ignore(()=>{editor.selection.setRng(rangeFromPositions(from,to));execNativeDeleteCommand(editor);readLocation(isInlineTarget$1,rootNode,CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).bind(setCaretLocation(editor,caret)).each(call);});editor.nodeChanged();};const rescope=(rootNode,node)=>{const parentBlock=getParentBlock$3(node,rootNode);return parentBlock?parentBlock:rootNode;};const backspaceDeleteCollapsed=(editor,caret,forward,from)=>{const rootNode=rescope(editor.getBody(),from.container());const isInlineTarget$1=curry(isInlineTarget,editor);const fromLocation=readLocation(isInlineTarget$1,rootNode,from);const location=fromLocation.bind(location=>{if(forward){return location.fold(constant(Optional.some(inside(location))),Optional.none,constant(Optional.some(outside(location))),Optional.none);}else{return location.fold(Optional.none,constant(Optional.some(outside(location))),Optional.none,constant(Optional.some(inside(location))));}});return location.map(setCaretLocation(editor,caret)).getOrThunk(()=>{const toPosition=navigate(forward,rootNode,from);const toLocation=toPosition.bind(pos=>readLocation(isInlineTarget$1,rootNode,pos));return lift2(fromLocation,toLocation,()=>findRootInline(isInlineTarget$1,rootNode,from).bind(elm=>{if(hasOnlyTwoOrLessPositionsLeft(elm)){return Optional.some(()=>{deleteElement$2(editor,forward,SugarElement.fromDom(elm));});}else{return Optional.none();}})).getOrThunk(()=>toLocation.bind(()=>toPosition.map(to=>{return()=>{if(forward){deleteFromTo(editor,caret,from,to);}else{deleteFromTo(editor,caret,to,from);}};})));});};const backspaceDelete$4=(editor,caret,forward)=>{if(editor.selection.isCollapsed()&&isInlineBoundariesEnabled(editor)){const from=CaretPosition.fromRangeStart(editor.selection.getRng());return backspaceDeleteCollapsed(editor,caret,forward,from);}return Optional.none();};const hasMultipleChildren=elm=>childNodesCount(elm)>1;const getParentsUntil=(editor,pred)=>{const rootElm=SugarElement.fromDom(editor.getBody());const startElm=SugarElement.fromDom(editor.selection.getStart());const parents=parentsAndSelf(startElm,rootElm);return findIndex$2(parents,pred).fold(constant(parents),index=>parents.slice(0,index));};const hasOnlyOneChild=elm=>childNodesCount(elm)===1;const getParentInlinesUntilMultichildInline=editor=>getParentsUntil(editor,elm=>editor.schema.isBlock(name(elm))||hasMultipleChildren(elm));const getParentInlines=editor=>getParentsUntil(editor,el=>editor.schema.isBlock(name(el)));const getFormatNodes=(editor,parentInlines)=>{const isFormatElement$1=curry(isFormatElement,editor);return bind$3(parentInlines,elm=>isFormatElement$1(elm)?[elm.dom]:[]);};const getFormatNodesAtStart=editor=>{const parentInlines=getParentInlines(editor);return getFormatNodes(editor,parentInlines);};const deleteLastPosition=(forward,editor,target,parentInlines)=>{const formatNodes=getFormatNodes(editor,parentInlines);if(formatNodes.length===0){deleteElement$2(editor,forward,target);}else{const pos=replaceWithCaretFormat(target.dom,formatNodes);editor.selection.setRng(pos.toRange());}};const deleteCaret$1=(editor,forward)=>{const parentInlines=filter$5(getParentInlinesUntilMultichildInline(editor),hasOnlyOneChild);return last$3(parentInlines).bind(target=>{const fromPos=CaretPosition.fromRangeStart(editor.selection.getRng());if(willDeleteLastPositionInElement(forward,fromPos,target.dom)&&!isEmptyCaretFormatElement(target)){return Optional.some(()=>deleteLastPosition(forward,editor,target,parentInlines));}else{return Optional.none();}});};const isBrInEmptyElement=(editor,elm)=>{const parentElm=elm.parentElement;return isBr$6(elm)&&!isNull(parentElm)&&editor.dom.isEmpty(parentElm);};const isEmptyCaret=elm=>isEmptyCaretFormatElement(SugarElement.fromDom(elm));const createCaretFormatAtStart=(editor,formatNodes)=>{const startElm=editor.selection.getStart();const pos=isBrInEmptyElement(editor,startElm)||isEmptyCaret(startElm)?replaceWithCaretFormat(startElm,formatNodes):createCaretFormatAtStart$1(editor.selection.getRng(),formatNodes);editor.selection.setRng(pos.toRange());};const updateCaretFormat=(editor,updateFormats)=>{const missingFormats=difference(updateFormats,getFormatNodesAtStart(editor));if(missingFormats.length>0){createCaretFormatAtStart(editor,missingFormats);}};const rangeStartsAtTextContainer=rng=>isText$a(rng.startContainer);const rangeStartsAtStartOfTextContainer=rng=>rng.startOffset===0&&rangeStartsAtTextContainer(rng);const rangeStartParentIsFormatElement=(editor,rng)=>{const startParent=rng.startContainer.parentElement;return!isNull(startParent)&&isFormatElement(editor,SugarElement.fromDom(startParent));};const rangeStartAndEndHaveSameParent=rng=>{const startParent=rng.startContainer.parentNode;const endParent=rng.endContainer.parentNode;return!isNull(startParent)&&!isNull(endParent)&&startParent.isEqualNode(endParent);};const rangeEndsAtEndOfEndContainer=rng=>{const endContainer=rng.endContainer;return rng.endOffset===(isText$a(endContainer)?endContainer.length:endContainer.childNodes.length);};const rangeEndsAtEndOfStartContainer=rng=>rangeStartAndEndHaveSameParent(rng)&&rangeEndsAtEndOfEndContainer(rng);const rangeEndsAfterEndOfStartContainer=rng=>!rng.endContainer.isEqualNode(rng.commonAncestorContainer);const rangeEndsAtOrAfterEndOfStartContainer=rng=>rangeEndsAtEndOfStartContainer(rng)||rangeEndsAfterEndOfStartContainer(rng);const requiresDeleteRangeOverride=editor=>{const rng=editor.selection.getRng();return rangeStartsAtStartOfTextContainer(rng)&&rangeStartParentIsFormatElement(editor,rng)&&rangeEndsAtOrAfterEndOfStartContainer(rng);};const deleteRange$1=editor=>{if(requiresDeleteRangeOverride(editor)){const formatNodes=getFormatNodesAtStart(editor);return Optional.some(()=>{execNativeDeleteCommand(editor);updateCaretFormat(editor,formatNodes);});}else{return Optional.none();}};const backspaceDelete$3=(editor,forward)=>editor.selection.isCollapsed()?deleteCaret$1(editor,forward):deleteRange$1(editor);const hasAncestorInlineCaret=(elm,schema)=>ancestor$1(elm,node=>isCaretNode(node.dom),el=>schema.isBlock(name(el)));const hasAncestorInlineCaretAtStart=editor=>hasAncestorInlineCaret(SugarElement.fromDom(editor.selection.getStart()),editor.schema);const requiresRefreshCaretOverride=editor=>{const rng=editor.selection.getRng();return rng.collapsed&&(rangeStartsAtTextContainer(rng)||editor.dom.isEmpty(rng.startContainer))&&!hasAncestorInlineCaretAtStart(editor);};const refreshCaret=editor=>{if(requiresRefreshCaretOverride(editor)){createCaretFormatAtStart(editor,[]);}return true;};const deleteElement=(editor,forward,element)=>{if(isNonNullable(element)){return Optional.some(()=>{editor._selectionOverrides.hideFakeCaret();deleteElement$2(editor,forward,SugarElement.fromDom(element));});}else{return Optional.none();}};const deleteCaret=(editor,forward)=>{const isNearMedia=forward?isBeforeMedia:isAfterMedia;const direction=forward?HDirection.Forwards:HDirection.Backwards;const fromPos=getNormalizedRangeEndPoint(direction,editor.getBody(),editor.selection.getRng());if(isNearMedia(fromPos)){return deleteElement(editor,forward,fromPos.getNode(!forward));}else{return Optional.from(normalizePosition(forward,fromPos)).filter(pos=>isNearMedia(pos)&&isMoveInsideSameBlock(fromPos,pos)).bind(pos=>deleteElement(editor,forward,pos.getNode(!forward)));}};const deleteRange=(editor,forward)=>{const selectedNode=editor.selection.getNode();return isMedia$2(selectedNode)?deleteElement(editor,forward,selectedNode):Optional.none();};const backspaceDelete$2=(editor,forward)=>editor.selection.isCollapsed()?deleteCaret(editor,forward):deleteRange(editor,forward);const isEditable=target=>closest$4(target,elm=>isContentEditableTrue$3(elm.dom)||isContentEditableFalse$b(elm.dom)).exists(elm=>isContentEditableTrue$3(elm.dom));const parseIndentValue=value=>toInt(value!==null&&value!==void 0?value:'').getOr(0);const getIndentStyleName=(useMargin,element)=>{const indentStyleName=useMargin||isTable$1(element)?'margin':'padding';const suffix=get$7(element,'direction')==='rtl'?'-right':'-left';return indentStyleName+suffix;};const indentElement=(dom,command,useMargin,value,unit,element)=>{const indentStyleName=getIndentStyleName(useMargin,SugarElement.fromDom(element));const parsedValue=parseIndentValue(dom.getStyle(element,indentStyleName));if(command==='outdent'){const styleValue=Math.max(0,parsedValue-value);dom.setStyle(element,indentStyleName,styleValue?styleValue+unit:'');}else{const styleValue=parsedValue+value+unit;dom.setStyle(element,indentStyleName,styleValue);}};const validateBlocks=(editor,blocks)=>forall(blocks,block=>{const indentStyleName=getIndentStyleName(shouldIndentUseMargin(editor),block);const intentValue=getRaw(block,indentStyleName).map(parseIndentValue).getOr(0);const contentEditable=editor.dom.getContentEditable(block.dom);return contentEditable!=='false'&&intentValue>0;});const canOutdent=editor=>{const blocks=getBlocksToIndent(editor);return!editor.mode.isReadOnly()&&(blocks.length>1||validateBlocks(editor,blocks));};const isListComponent=el=>isList(el)||isListItem$1(el);const parentIsListComponent=el=>parent(el).exists(isListComponent);const getBlocksToIndent=editor=>filter$5(fromDom$1(editor.selection.getSelectedBlocks()),el=>!isListComponent(el)&&!parentIsListComponent(el)&&isEditable(el));const handle=(editor,command)=>{var _a,_b;const{dom}=editor;const indentation=getIndentation(editor);const indentUnit=(_b=(_a=/[a-z%]+$/i.exec(indentation))===null||_a===void 0?void 0:_a[0])!==null&&_b!==void 0?_b:'px';const indentValue=parseIndentValue(indentation);const useMargin=shouldIndentUseMargin(editor);each$e(getBlocksToIndent(editor),block=>{indentElement(dom,command,useMargin,indentValue,indentUnit,block.dom);});};const indent=editor=>handle(editor,'indent');const outdent=editor=>handle(editor,'outdent');const backspaceDelete$1=editor=>{if(editor.selection.isCollapsed()&&canOutdent(editor)){const dom=editor.dom;const rng=editor.selection.getRng();const pos=CaretPosition.fromRangeStart(rng);const block=dom.getParent(rng.startContainer,dom.isBlock);if(block!==null&&isAtStartOfBlock(SugarElement.fromDom(block),pos,editor.schema)){return Optional.some(()=>outdent(editor));}}return Optional.none();};const findAction=(editor,caret,forward)=>findMap([backspaceDelete$1,backspaceDelete$6,backspaceDelete$7,(editor,forward)=>backspaceDelete$4(editor,caret,forward),backspaceDelete$9,backspaceDelete$a,backspaceDelete$5,backspaceDelete$2,backspaceDelete$8,backspaceDelete$3],item=>item(editor,forward)).filter(_=>editor.selection.isEditable());const deleteCommand=(editor,caret)=>{const result=findAction(editor,caret,false);result.fold(()=>{if(editor.selection.isEditable()){execNativeDeleteCommand(editor);paddEmptyBody(editor);}},call);};const forwardDeleteCommand=(editor,caret)=>{const result=findAction(editor,caret,true);result.fold(()=>{if(editor.selection.isEditable()){execNativeForwardDeleteCommand(editor);}},call);};const setup$q=(editor,caret)=>{editor.addCommand('delete',()=>{deleteCommand(editor,caret);});editor.addCommand('forwardDelete',()=>{forwardDeleteCommand(editor,caret);});};const SIGNIFICANT_MOVE=5;const LONGPRESS_DELAY=400;const getTouch=event=>{if(event.touches===undefined||event.touches.length!==1){return Optional.none();}return Optional.some(event.touches[0]);};const isFarEnough=(touch,data)=>{const distX=Math.abs(touch.clientX-data.x);const distY=Math.abs(touch.clientY-data.y);return distX>SIGNIFICANT_MOVE||distY>SIGNIFICANT_MOVE;};const setup$p=editor=>{const startData=value$2();const longpressFired=Cell(false);const debounceLongpress=last$1(e=>{editor.dispatch('longpress',{...e,type:'longpress'});longpressFired.set(true);},LONGPRESS_DELAY);editor.on('touchstart',e=>{getTouch(e).each(touch=>{debounceLongpress.cancel();const data={x:touch.clientX,y:touch.clientY,target:e.target};debounceLongpress.throttle(e);longpressFired.set(false);startData.set(data);});},true);editor.on('touchmove',e=>{debounceLongpress.cancel();getTouch(e).each(touch=>{startData.on(data=>{if(isFarEnough(touch,data)){startData.clear();longpressFired.set(false);editor.dispatch('longpresscancel');}});});},true);editor.on('touchend touchcancel',e=>{debounceLongpress.cancel();if(e.type==='touchcancel'){return;}startData.get().filter(data=>data.target.isEqualNode(e.target)).each(()=>{if(longpressFired.get()){e.preventDefault();}else{editor.dispatch('tap',{...e,type:'tap'});}});},true);};const isBlockElement=(blockElements,node)=>has$2(blockElements,node.nodeName);const isValidTarget=(schema,node)=>{if(isText$a(node)){return true;}else if(isElement$6(node)){return!isBlockElement(schema.getBlockElements(),node)&&!isBookmarkNode$1(node)&&!isTransparentBlock(schema,node)&&!isNonHtmlElementRoot(node);}else{return false;}};const hasBlockParent=(blockElements,root,node)=>{return exists(parents(SugarElement.fromDom(node),SugarElement.fromDom(root)),elm=>{return isBlockElement(blockElements,elm.dom);});};const shouldRemoveTextNode=(blockElements,node)=>{if(isText$a(node)){if(node.data.length===0){return true;}else if(/^\\s+$/.test(node.data)){return!node.nextSibling||isBlockElement(blockElements,node.nextSibling)||isNonHtmlElementRoot(node.nextSibling);}}return false;};const createRootBlock=editor=>editor.dom.create(getForcedRootBlock(editor),getForcedRootBlockAttrs(editor));const addRootBlocks=editor=>{const dom=editor.dom,selection=editor.selection;const schema=editor.schema;const blockElements=schema.getBlockElements();const startNode=selection.getStart();const rootNode=editor.getBody();let rootBlockNode;let tempNode;let wrapped=false;const forcedRootBlock=getForcedRootBlock(editor);if(!startNode||!isElement$6(startNode)){return;}const rootNodeName=rootNode.nodeName.toLowerCase();if(!schema.isValidChild(rootNodeName,forcedRootBlock.toLowerCase())||hasBlockParent(blockElements,rootNode,startNode)){return;}const rng=selection.getRng();const{startContainer,startOffset,endContainer,endOffset}=rng;const restoreSelection=hasFocus(editor);let node=rootNode.firstChild;while(node){if(isElement$6(node)){updateElement(schema,node);}if(isValidTarget(schema,node)){if(shouldRemoveTextNode(blockElements,node)){tempNode=node;node=node.nextSibling;dom.remove(tempNode);continue;}if(!rootBlockNode){rootBlockNode=createRootBlock(editor);rootNode.insertBefore(rootBlockNode,node);wrapped=true;}tempNode=node;node=node.nextSibling;rootBlockNode.appendChild(tempNode);}else{rootBlockNode=null;node=node.nextSibling;}}if(wrapped&&restoreSelection){rng.setStart(startContainer,startOffset);rng.setEnd(endContainer,endOffset);selection.setRng(rng);editor.nodeChanged();}};const insertEmptyLine=(editor,root,insertBlock)=>{const block=SugarElement.fromDom(createRootBlock(editor));const br=createPaddingBr();append$1(block,br);insertBlock(root,block);const rng=document.createRange();rng.setStartBefore(br.dom);rng.setEndBefore(br.dom);return rng;};const setup$o=editor=>{editor.on('NodeChange',curry(addRootBlocks,editor));};const hasClass=checkClassName=>node=>(' '+node.attr('class')+' ').indexOf(checkClassName)!==-1;const replaceMatchWithSpan=(editor,content,cls)=>{return function(match){const args=arguments,index=args[args.length-2];const prevChar=index>0?content.charAt(index-1):'';if(prevChar==='\"'){return match;}if(prevChar==='>'){const findStartTagIndex=content.lastIndexOf('<',index);if(findStartTagIndex!==-1){const tagHtml=content.substring(findStartTagIndex,index);if(tagHtml.indexOf('contenteditable=\"false\"')!==-1){return match;}}}return'<span class=\"'+cls+'\" data-mce-content=\"'+editor.dom.encode(args[0])+'\">'+editor.dom.encode(typeof args[1]==='string'?args[1]:args[0])+'</span>';};};const convertRegExpsToNonEditable=(editor,nonEditableRegExps,e)=>{let i=nonEditableRegExps.length,content=e.content;if(e.format==='raw'){return;}while(i--){content=content.replace(nonEditableRegExps[i],replaceMatchWithSpan(editor,content,getNonEditableClass(editor)));}e.content=content;};const setup$n=editor=>{const contentEditableAttrName='contenteditable';const editClass=' '+Tools.trim(getEditableClass(editor))+' ';const nonEditClass=' '+Tools.trim(getNonEditableClass(editor))+' ';const hasEditClass=hasClass(editClass);const hasNonEditClass=hasClass(nonEditClass);const nonEditableRegExps=getNonEditableRegExps(editor);if(nonEditableRegExps.length>0){editor.on('BeforeSetContent',e=>{convertRegExpsToNonEditable(editor,nonEditableRegExps,e);});}editor.parser.addAttributeFilter('class',nodes=>{let i=nodes.length;while(i--){const node=nodes[i];if(hasEditClass(node)){node.attr(contentEditableAttrName,'true');}else if(hasNonEditClass(node)){node.attr(contentEditableAttrName,'false');}}});editor.serializer.addAttributeFilter(contentEditableAttrName,nodes=>{let i=nodes.length;while(i--){const node=nodes[i];if(!hasEditClass(node)&&!hasNonEditClass(node)){continue;}if(nonEditableRegExps.length>0&&node.attr('data-mce-content')){node.name='#text';node.type=3;node.raw=true;node.value=node.attr('data-mce-content');}else{node.attr(contentEditableAttrName,null);}}});};const findBlockCaretContainer=editor=>descendant$1(SugarElement.fromDom(editor.getBody()),'*[data-mce-caret]').map(elm=>elm.dom).getOrNull();const showBlockCaretContainer=(editor,blockCaretContainer)=>{if(blockCaretContainer.hasAttribute('data-mce-caret')){showCaretContainerBlock(blockCaretContainer);editor.selection.setRng(editor.selection.getRng());editor.selection.scrollIntoView(blockCaretContainer);}};const handleBlockContainer=(editor,e)=>{const blockCaretContainer=findBlockCaretContainer(editor);if(!blockCaretContainer){return;}if(e.type==='compositionstart'){e.preventDefault();e.stopPropagation();showBlockCaretContainer(editor,blockCaretContainer);return;}if(hasContent(blockCaretContainer)){showBlockCaretContainer(editor,blockCaretContainer);editor.undoManager.add();}};const setup$m=editor=>{editor.on('keyup compositionstart',curry(handleBlockContainer,editor));};const isContentEditableFalse$3=isContentEditableFalse$b;const moveToCeFalseHorizontally=(direction,editor,range)=>moveHorizontally(editor,direction,range,isBeforeContentEditableFalse,isAfterContentEditableFalse,isContentEditableFalse$3);const moveToCeFalseVertically=(direction,editor,range)=>{const isBefore=caretPosition=>isBeforeContentEditableFalse(caretPosition)||isBeforeTable(caretPosition);const isAfter=caretPosition=>isAfterContentEditableFalse(caretPosition)||isAfterTable(caretPosition);return moveVertically(editor,direction,range,isBefore,isAfter,isContentEditableFalse$3);};const createTextBlock=editor=>{const textBlock=editor.dom.create(getForcedRootBlock(editor));textBlock.innerHTML='<br data-mce-bogus=\"1\">';return textBlock;};const exitPreBlock=(editor,direction,range)=>{const caretWalker=CaretWalker(editor.getBody());const getVisualCaretPosition$1=curry(getVisualCaretPosition,direction===1?caretWalker.next:caretWalker.prev);if(range.collapsed){const pre=editor.dom.getParent(range.startContainer,'PRE');if(!pre){return;}const caretPos=getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));if(!caretPos){const newBlock=SugarElement.fromDom(createTextBlock(editor));if(direction===1){after$4(SugarElement.fromDom(pre),newBlock);}else{before$3(SugarElement.fromDom(pre),newBlock);}editor.selection.select(newBlock.dom,true);editor.selection.collapse();}}};const getHorizontalRange=(editor,forward)=>{const direction=forward?HDirection.Forwards:HDirection.Backwards;const range=editor.selection.getRng();return moveToCeFalseHorizontally(direction,editor,range).orThunk(()=>{exitPreBlock(editor,direction,range);return Optional.none();});};const getVerticalRange=(editor,down)=>{const direction=down?1:-1;const range=editor.selection.getRng();return moveToCeFalseVertically(direction,editor,range).orThunk(()=>{exitPreBlock(editor,direction,range);return Optional.none();});};const flipDirection=(selection,forward)=>{const elm=forward?selection.getEnd(true):selection.getStart(true);return isRtl(elm)?!forward:forward;};const moveH$2=(editor,forward)=>getHorizontalRange(editor,flipDirection(editor.selection,forward)).exists(newRange=>{moveToRange(editor,newRange);return true;});const moveV$4=(editor,down)=>getVerticalRange(editor,down).exists(newRange=>{moveToRange(editor,newRange);return true;});const moveToLineEndPoint$1=(editor,forward)=>{const isCefPosition=forward?isAfterContentEditableFalse:isBeforeContentEditableFalse;return moveToLineEndPoint$3(editor,forward,isCefPosition);};const selectToEndPoint=(editor,forward)=>getEdgeCefPosition(editor,!forward).map(pos=>{const rng=pos.toRange();const curRng=editor.selection.getRng();if(forward){rng.setStart(curRng.startContainer,curRng.startOffset);}else{rng.setEnd(curRng.endContainer,curRng.endOffset);}return rng;}).exists(rng=>{moveToRange(editor,rng);return true;});const isTarget=node=>contains$2(['figcaption'],name(node));const getClosestTargetBlock=(pos,root,schema)=>{const isRoot=curry(eq,root);return closest$4(SugarElement.fromDom(pos.container()),el=>schema.isBlock(name(el)),isRoot).filter(isTarget);};const isAtFirstOrLastLine=(root,forward,pos)=>forward?isAtLastLine(root.dom,pos):isAtFirstLine(root.dom,pos);const moveCaretToNewEmptyLine=(editor,forward)=>{const root=SugarElement.fromDom(editor.getBody());const pos=CaretPosition.fromRangeStart(editor.selection.getRng());return getClosestTargetBlock(pos,root,editor.schema).exists(()=>{if(isAtFirstOrLastLine(root,forward,pos)){const insertFn=forward?append$1:prepend;const rng=insertEmptyLine(editor,root,insertFn);editor.selection.setRng(rng);return true;}else{return false;}});};const moveV$3=(editor,forward)=>{if(editor.selection.isCollapsed()){return moveCaretToNewEmptyLine(editor,forward);}else{return false;}};const moveUp=(editor,details,summary)=>{const rng=editor.selection.getRng();const pos=CaretPosition.fromRangeStart(rng);const root=editor.getBody();if(root.firstChild===details&&isAtFirstLine(summary,pos)){editor.execCommand('InsertNewBlockBefore');return true;}else{return false;}};const moveDown=(editor,details)=>{const rng=editor.selection.getRng();const pos=CaretPosition.fromRangeStart(rng);const root=editor.getBody();if(root.lastChild===details&&isAtLastLine(details,pos)){editor.execCommand('InsertNewBlockAfter');return true;}else{return false;}};const move$2=(editor,forward)=>{if(forward){return Optional.from(editor.dom.getParent(editor.selection.getNode(),'details')).map(details=>moveDown(editor,details)).getOr(false);}else{return Optional.from(editor.dom.getParent(editor.selection.getNode(),'summary')).bind(summary=>Optional.from(editor.dom.getParent(summary,'details')).map(details=>moveUp(editor,details,summary))).getOr(false);}};const moveV$2=(editor,forward)=>move$2(editor,forward);const baseKeyPattern={shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0};const defaultPatterns=patterns=>map$3(patterns,pattern=>({...baseKeyPattern,...pattern}));const defaultDelayedPatterns=patterns=>map$3(patterns,pattern=>({...baseKeyPattern,...pattern}));const matchesEvent=(pattern,evt)=>evt.keyCode===pattern.keyCode&&evt.shiftKey===pattern.shiftKey&&evt.altKey===pattern.altKey&&evt.ctrlKey===pattern.ctrlKey&&evt.metaKey===pattern.metaKey;const match$1=(patterns,evt)=>bind$3(defaultPatterns(patterns),pattern=>matchesEvent(pattern,evt)?[pattern]:[]);const matchDelayed=(patterns,evt)=>bind$3(defaultDelayedPatterns(patterns),pattern=>matchesEvent(pattern,evt)?[pattern]:[]);const action=(f,...x)=>()=>f.apply(null,x);const execute=(patterns,evt)=>find$2(match$1(patterns,evt),pattern=>pattern.action());const executeWithDelayedAction=(patterns,evt)=>findMap(matchDelayed(patterns,evt),pattern=>pattern.action());const moveH$1=(editor,forward)=>{const direction=forward?HDirection.Forwards:HDirection.Backwards;const range=editor.selection.getRng();return moveHorizontally(editor,direction,range,isBeforeMedia,isAfterMedia,isMedia$2).exists(newRange=>{moveToRange(editor,newRange);return true;});};const moveV$1=(editor,down)=>{const direction=down?1:-1;const range=editor.selection.getRng();return moveVertically(editor,direction,range,isBeforeMedia,isAfterMedia,isMedia$2).exists(newRange=>{moveToRange(editor,newRange);return true;});};const moveToLineEndPoint=(editor,forward)=>{const isNearMedia=forward?isAfterMedia:isBeforeMedia;return moveToLineEndPoint$3(editor,forward,isNearMedia);};const adt=Adt.generate([{none:['current']},{first:['current']},{middle:['current','target']},{last:['current']}]);const none=current=>adt.none(current);const CellLocation={...adt,none};const firstLayer=(scope,selector)=>{return filterFirstLayer(scope,selector,always);};const filterFirstLayer=(scope,selector,predicate)=>{return bind$3(children$1(scope),x=>{if(is$1(x,selector)){return predicate(x)?[x]:[];}else{return filterFirstLayer(x,selector,predicate);}});};const lookup$1=(tags,element,isRoot=never)=>{if(isRoot(element)){return Optional.none();}if(contains$2(tags,name(element))){return Optional.some(element);}const isRootOrUpperTable=elm=>is$1(elm,'table')||isRoot(elm);return ancestor$3(element,tags.join(','),isRootOrUpperTable);};const cell=(element,isRoot)=>lookup$1(['td','th'],element,isRoot);const cells=ancestor=>firstLayer(ancestor,'th,td');const table=(element,isRoot)=>closest$3(element,'table',isRoot);const walk=(all,current,index,direction,isEligible=always)=>{const forwards=direction===1;if(!forwards&&index<=0){return CellLocation.first(all[0]);}else if(forwards&&index>=all.length-1){return CellLocation.last(all[all.length-1]);}else{const newIndex=index+direction;const elem=all[newIndex];return isEligible(elem)?CellLocation.middle(current,elem):walk(all,current,newIndex,direction,isEligible);}};const detect=(current,isRoot)=>{return table(current,isRoot).bind(table=>{const all=cells(table);const index=findIndex$2(all,x=>eq(current,x));return index.map(index=>({index,all}));});};const next=(current,isEligible,isRoot)=>{const detection=detect(current,isRoot);return detection.fold(()=>{return CellLocation.none(current);},info=>{return walk(info.all,current,info.index,1,isEligible);});};const prev=(current,isEligible,isRoot)=>{const detection=detect(current,isRoot);return detection.fold(()=>{return CellLocation.none();},info=>{return walk(info.all,current,info.index,-1,isEligible);});};const deflate=(rect,delta)=>({left:rect.left-delta,top:rect.top-delta,right:rect.right+delta*2,bottom:rect.bottom+delta*2,width:rect.width+delta,height:rect.height+delta});const getCorners=(getYAxisValue,tds)=>bind$3(tds,td=>{const rect=deflate(clone$1(td.getBoundingClientRect()),-1);return[{x:rect.left,y:getYAxisValue(rect),cell:td},{x:rect.right,y:getYAxisValue(rect),cell:td}];});const findClosestCorner=(corners,x,y)=>foldl(corners,(acc,newCorner)=>acc.fold(()=>Optional.some(newCorner),oldCorner=>{const oldDist=Math.sqrt(Math.abs(oldCorner.x-x)+Math.abs(oldCorner.y-y));const newDist=Math.sqrt(Math.abs(newCorner.x-x)+Math.abs(newCorner.y-y));return Optional.some(newDist<oldDist?newCorner:oldCorner);}),Optional.none());const getClosestCell=(getYAxisValue,isTargetCorner,table,x,y)=>{const cells=descendants(SugarElement.fromDom(table),'td,th,caption').map(e=>e.dom);const corners=filter$5(getCorners(getYAxisValue,cells),corner=>isTargetCorner(corner,y));return findClosestCorner(corners,x,y).map(corner=>corner.cell);};const getBottomValue=rect=>rect.bottom;const getTopValue=rect=>rect.top;const isAbove=(corner,y)=>corner.y<y;const isBelow=(corner,y)=>corner.y>y;const getClosestCellAbove=curry(getClosestCell,getBottomValue,isAbove);const getClosestCellBelow=curry(getClosestCell,getTopValue,isBelow);const findClosestPositionInAboveCell=(table,pos)=>head(pos.getClientRects()).bind(rect=>getClosestCellAbove(table,rect.left,rect.top)).bind(cell=>findClosestHorizontalPosition(getLastLinePositions(cell),pos));const findClosestPositionInBelowCell=(table,pos)=>last$3(pos.getClientRects()).bind(rect=>getClosestCellBelow(table,rect.left,rect.top)).bind(cell=>findClosestHorizontalPosition(getFirstLinePositions(cell),pos));const hasNextBreak=(getPositionsUntil,scope,lineInfo)=>lineInfo.breakAt.exists(breakPos=>getPositionsUntil(scope,breakPos).breakAt.isSome());const startsWithWrapBreak=lineInfo=>lineInfo.breakType===BreakType.Wrap&&lineInfo.positions.length===0;const startsWithBrBreak=lineInfo=>lineInfo.breakType===BreakType.Br&&lineInfo.positions.length===1;const isAtTableCellLine=(getPositionsUntil,scope,pos)=>{const lineInfo=getPositionsUntil(scope,pos);if(startsWithWrapBreak(lineInfo)||!isBr$6(pos.getNode())&&startsWithBrBreak(lineInfo)){return!hasNextBreak(getPositionsUntil,scope,lineInfo);}else{return lineInfo.breakAt.isNone();}};const isAtFirstTableCellLine=curry(isAtTableCellLine,getPositionsUntilPreviousLine);const isAtLastTableCellLine=curry(isAtTableCellLine,getPositionsUntilNextLine);const isCaretAtStartOrEndOfTable=(forward,rng,table)=>{const caretPos=CaretPosition.fromRangeStart(rng);return positionIn(!forward,table).exists(pos=>pos.isEqual(caretPos));};const navigateHorizontally=(editor,forward,table,_td)=>{const rng=editor.selection.getRng();const direction=forward?1:-1;if(isFakeCaretTableBrowser()&&isCaretAtStartOrEndOfTable(forward,rng,table)){showCaret(direction,editor,table,!forward,false).each(newRng=>{moveToRange(editor,newRng);});return true;}return false;};const getClosestAbovePosition=(root,table,start)=>findClosestPositionInAboveCell(table,start).orThunk(()=>head(start.getClientRects()).bind(rect=>findClosestHorizontalPositionFromPoint(getPositionsAbove(root,CaretPosition.before(table)),rect.left))).getOr(CaretPosition.before(table));const getClosestBelowPosition=(root,table,start)=>findClosestPositionInBelowCell(table,start).orThunk(()=>head(start.getClientRects()).bind(rect=>findClosestHorizontalPositionFromPoint(getPositionsBelow(root,CaretPosition.after(table)),rect.left))).getOr(CaretPosition.after(table));const getTable=(previous,pos)=>{const node=pos.getNode(previous);return isTable$2(node)?Optional.some(node):Optional.none();};const renderBlock=(down,editor,table)=>{editor.undoManager.transact(()=>{const insertFn=down?after$4:before$3;const rng=insertEmptyLine(editor,SugarElement.fromDom(table),insertFn);moveToRange(editor,rng);});};const moveCaret=(editor,down,pos)=>{const table=down?getTable(true,pos):getTable(false,pos);const last=down===false;table.fold(()=>moveToRange(editor,pos.toRange()),table=>positionIn(last,editor.getBody()).filter(lastPos=>lastPos.isEqual(pos)).fold(()=>moveToRange(editor,pos.toRange()),_=>renderBlock(down,editor,table)));};const navigateVertically=(editor,down,table,td)=>{const rng=editor.selection.getRng();const pos=CaretPosition.fromRangeStart(rng);const root=editor.getBody();if(!down&&isAtFirstTableCellLine(td,pos)){const newPos=getClosestAbovePosition(root,table,pos);moveCaret(editor,down,newPos);return true;}else if(down&&isAtLastTableCellLine(td,pos)){const newPos=getClosestBelowPosition(root,table,pos);moveCaret(editor,down,newPos);return true;}else{return false;}};const move$1=(editor,forward,mover)=>Optional.from(editor.dom.getParent(editor.selection.getNode(),'td,th')).bind(td=>Optional.from(editor.dom.getParent(td,'table')).map(table=>mover(editor,forward,table,td))).getOr(false);const moveH=(editor,forward)=>move$1(editor,forward,navigateHorizontally);const moveV=(editor,forward)=>move$1(editor,forward,navigateVertically);const getCellFirstCursorPosition=cell=>{const selection=SimSelection.exact(cell,0,cell,0);return toNative(selection);};const tabGo=(editor,isRoot,cell)=>{return cell.fold(Optional.none,Optional.none,(_current,next)=>{return first(next).map(cell=>{return getCellFirstCursorPosition(cell);});},current=>{editor.execCommand('mceTableInsertRowAfter');return tabForward(editor,isRoot,current);});};const tabForward=(editor,isRoot,cell)=>tabGo(editor,isRoot,next(cell,isEditable$2));const tabBackward=(editor,isRoot,cell)=>tabGo(editor,isRoot,prev(cell,isEditable$2));const handleTab=(editor,forward)=>{const rootElements=['table','li','dl'];const body=SugarElement.fromDom(editor.getBody());const isRoot=element=>{const name$1=name(element);return eq(element,body)||contains$2(rootElements,name$1);};const rng=editor.selection.getRng();const container=SugarElement.fromDom(!forward?rng.startContainer:rng.endContainer);return cell(container,isRoot).map(cell=>{table(cell,isRoot).each(table=>{editor.model.table.clearSelectedCells(table.dom);});editor.selection.collapse(!forward);const navigation=!forward?tabBackward:tabForward;const rng=navigation(editor,isRoot,cell);rng.each(range=>{editor.selection.setRng(range);});return true;}).getOr(false);};const executeKeydownOverride$4=(editor,caret,evt)=>{const isMac=Env.os.isMacOS()||Env.os.isiOS();execute([{keyCode:VK.RIGHT,action:action(moveH$2,editor,true)},{keyCode:VK.LEFT,action:action(moveH$2,editor,false)},{keyCode:VK.UP,action:action(moveV$4,editor,false)},{keyCode:VK.DOWN,action:action(moveV$4,editor,true)},...(isMac?[{keyCode:VK.UP,action:action(selectToEndPoint,editor,false),metaKey:true,shiftKey:true},{keyCode:VK.DOWN,action:action(selectToEndPoint,editor,true),metaKey:true,shiftKey:true}]:[]),{keyCode:VK.RIGHT,action:action(moveH,editor,true)},{keyCode:VK.LEFT,action:action(moveH,editor,false)},{keyCode:VK.UP,action:action(moveV,editor,false)},{keyCode:VK.DOWN,action:action(moveV,editor,true)},{keyCode:VK.UP,action:action(moveV,editor,false)},{keyCode:VK.UP,action:action(moveV$2,editor,false)},{keyCode:VK.DOWN,action:action(moveV$2,editor,true)},{keyCode:VK.RIGHT,action:action(moveH$1,editor,true)},{keyCode:VK.LEFT,action:action(moveH$1,editor,false)},{keyCode:VK.UP,action:action(moveV$1,editor,false)},{keyCode:VK.DOWN,action:action(moveV$1,editor,true)},{keyCode:VK.RIGHT,action:action(move$3,editor,caret,true)},{keyCode:VK.LEFT,action:action(move$3,editor,caret,false)},{keyCode:VK.RIGHT,ctrlKey:!isMac,altKey:isMac,action:action(moveNextWord,editor,caret)},{keyCode:VK.LEFT,ctrlKey:!isMac,altKey:isMac,action:action(movePrevWord,editor,caret)},{keyCode:VK.UP,action:action(moveV$3,editor,false)},{keyCode:VK.DOWN,action:action(moveV$3,editor,true)}],evt).each(_=>{evt.preventDefault();});};const setup$l=(editor,caret)=>{editor.on('keydown',evt=>{if(!evt.isDefaultPrevented()){executeKeydownOverride$4(editor,caret,evt);}});};const point=(container,offset)=>({container,offset});const DOM$7=DOMUtils.DOM;const alwaysNext=startNode=>node=>startNode===node?-1:0;const isBoundary=dom=>node=>dom.isBlock(node)||contains$2(['BR','IMG','HR','INPUT'],node.nodeName)||dom.getContentEditable(node)==='false';const textBefore=(node,offset,rootNode)=>{if(isText$a(node)&&offset>=0){return Optional.some(point(node,offset));}else{const textSeeker=TextSeeker(DOM$7);return Optional.from(textSeeker.backwards(node,offset,alwaysNext(node),rootNode)).map(prev=>point(prev.container,prev.container.data.length));}};const textAfter=(node,offset,rootNode)=>{if(isText$a(node)&&offset>=node.length){return Optional.some(point(node,offset));}else{const textSeeker=TextSeeker(DOM$7);return Optional.from(textSeeker.forwards(node,offset,alwaysNext(node),rootNode)).map(prev=>point(prev.container,0));}};const scanLeft=(node,offset,rootNode)=>{if(!isText$a(node)){return Optional.none();}const text=node.data;if(offset>=0&&offset<=text.length){return Optional.some(point(node,offset));}else{const textSeeker=TextSeeker(DOM$7);return Optional.from(textSeeker.backwards(node,offset,alwaysNext(node),rootNode)).bind(prev=>{const prevText=prev.container.data;return scanLeft(prev.container,offset+prevText.length,rootNode);});}};const scanRight=(node,offset,rootNode)=>{if(!isText$a(node)){return Optional.none();}const text=node.data;if(offset<=text.length){return Optional.some(point(node,offset));}else{const textSeeker=TextSeeker(DOM$7);return Optional.from(textSeeker.forwards(node,offset,alwaysNext(node),rootNode)).bind(next=>scanRight(next.container,offset-text.length,rootNode));}};const repeatLeft=(dom,node,offset,process,rootNode)=>{const search=TextSeeker(dom,isBoundary(dom));return Optional.from(search.backwards(node,offset,process,rootNode));};const isValidTextRange=rng=>rng.collapsed&&isText$a(rng.startContainer);const getText=rng=>trim$2(rng.toString().replace(/\\u00A0/g,' '));const isWhitespace=chr=>chr!==''&&' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr)!==-1;const stripTrigger=(text,trigger)=>text.substring(trigger.length);const findTrigger=(text,index,trigger)=>{let i;const firstChar=trigger.charAt(0);for(i=index-1;i>=0;i--){const char=text.charAt(i);if(isWhitespace(char)){return Optional.none();}if(firstChar===char&&contains$1(text,trigger,i,index)){break;}}return Optional.some(i);};const findStart=(dom,initRange,trigger,minChars=0)=>{if(!isValidTextRange(initRange)){return Optional.none();}const buffer={text:'',offset:0};const findTriggerIndex=(element,offset,text)=>{buffer.text=text+buffer.text;buffer.offset+=offset;return findTrigger(buffer.text,buffer.offset,trigger).getOr(offset);};const root=dom.getParent(initRange.startContainer,dom.isBlock)||dom.getRoot();return repeatLeft(dom,initRange.startContainer,initRange.startOffset,findTriggerIndex,root).bind(spot=>{const range=initRange.cloneRange();range.setStart(spot.container,spot.offset);range.setEnd(initRange.endContainer,initRange.endOffset);if(range.collapsed){return Optional.none();}const text=getText(range);const triggerIndex=text.lastIndexOf(trigger);if(triggerIndex!==0||stripTrigger(text,trigger).length<minChars){return Optional.none();}else{return Optional.some({text:stripTrigger(text,trigger),range,trigger});}});};const getContext=(dom,initRange,trigger,minChars=0)=>detect$1(SugarElement.fromDom(initRange.startContainer)).fold(()=>findStart(dom,initRange,trigger,minChars),elm=>{const range=dom.createRng();range.selectNode(elm.dom);const text=getText(range);return Optional.some({range,text:stripTrigger(text,trigger),trigger});});const isText$1=node=>node.nodeType===TEXT;const isElement=node=>node.nodeType===ELEMENT;const toLast=node=>{if(isText$1(node)){return point(node,node.data.length);}else{const children=node.childNodes;return children.length>0?toLast(children[children.length-1]):point(node,children.length);}};const toLeaf=(node,offset)=>{const children=node.childNodes;if(children.length>0&&offset<children.length){return toLeaf(children[offset],0);}else if(children.length>0&&isElement(node)&&children.length===offset){return toLast(children[children.length-1]);}else{return point(node,offset);}};const isPreviousCharContent=(dom,leaf)=>{var _a;const root=(_a=dom.getParent(leaf.container,dom.isBlock))!==null&&_a!==void 0?_a:dom.getRoot();return repeatLeft(dom,leaf.container,leaf.offset,(_element,offset)=>offset===0?-1:offset,root).filter(spot=>{const char=spot.container.data.charAt(spot.offset-1);return!isWhitespace(char);}).isSome();};const isStartOfWord=dom=>rng=>{const leaf=toLeaf(rng.startContainer,rng.startOffset);return!isPreviousCharContent(dom,leaf);};const getTriggerContext=(dom,initRange,database)=>findMap(database.triggers,trigger=>getContext(dom,initRange,trigger));const lookup=(editor,getDatabase)=>{const database=getDatabase();const rng=editor.selection.getRng();return getTriggerContext(editor.dom,rng,database).bind(context=>lookupWithContext(editor,getDatabase,context));};const lookupWithContext=(editor,getDatabase,context,fetchOptions={})=>{var _a;const database=getDatabase();const rng=editor.selection.getRng();const startText=(_a=rng.startContainer.nodeValue)!==null&&_a!==void 0?_a:'';const autocompleters=filter$5(database.lookupByTrigger(context.trigger),autocompleter=>context.text.length>=autocompleter.minChars&&autocompleter.matches.getOrThunk(()=>isStartOfWord(editor.dom))(context.range,startText,context.text));if(autocompleters.length===0){return Optional.none();}const lookupData=Promise.all(map$3(autocompleters,ac=>{const fetchResult=ac.fetch(context.text,ac.maxResults,fetchOptions);return fetchResult.then(results=>({matchText:context.text,items:results,columns:ac.columns,onAction:ac.onAction,highlightOn:ac.highlightOn}));}));return Optional.some({lookupData,context});};var SimpleResultType;(function(SimpleResultType){SimpleResultType[SimpleResultType['Error']=0]='Error';SimpleResultType[SimpleResultType['Value']=1]='Value';})(SimpleResultType||(SimpleResultType={}));const fold$1=(res,onError,onValue)=>res.stype===SimpleResultType.Error?onError(res.serror):onValue(res.svalue);const partition=results=>{const values=[];const errors=[];each$e(results,obj=>{fold$1(obj,err=>errors.push(err),val=>values.push(val));});return{values,errors};};const mapError=(res,f)=>{if(res.stype===SimpleResultType.Error){return{stype:SimpleResultType.Error,serror:f(res.serror)};}else{return res;}};const map=(res,f)=>{if(res.stype===SimpleResultType.Value){return{stype:SimpleResultType.Value,svalue:f(res.svalue)};}else{return res;}};const bind$1=(res,f)=>{if(res.stype===SimpleResultType.Value){return f(res.svalue);}else{return res;}};const bindError=(res,f)=>{if(res.stype===SimpleResultType.Error){return f(res.serror);}else{return res;}};const svalue=v=>({stype:SimpleResultType.Value,svalue:v});const serror=e=>({stype:SimpleResultType.Error,serror:e});const toResult=res=>fold$1(res,Result.error,Result.value);const fromResult=res=>res.fold(serror,svalue);const SimpleResult={fromResult,toResult,svalue,partition,serror,bind:bind$1,bindError,map,mapError,fold:fold$1};const formatObj=input=>{return isObject(input)&&keys(input).length>100?' removed due to size':JSON.stringify(input,null,2);};const formatErrors=errors=>{const es=errors.length>10?errors.slice(0,10).concat([{path:[],getErrorInfo:constant('... (only showing first ten failures)')}]):errors;return map$3(es,e=>{return'Failed path: ('+e.path.join(' > ')+')\\n'+e.getErrorInfo();});};const nu=(path,getErrorInfo)=>{return SimpleResult.serror([{path,getErrorInfo}]);};const missingRequired=(path,key,obj)=>nu(path,()=>'Could not find valid *required* value for \"'+key+'\" in '+formatObj(obj));const missingKey=(path,key)=>nu(path,()=>'Choice schema did not contain choice key: \"'+key+'\"');const missingBranch=(path,branches,branch)=>nu(path,()=>'The chosen schema: \"'+branch+'\" did not exist in branches: '+formatObj(branches));const custom=(path,err)=>nu(path,constant(err));const chooseFrom=(path,input,branches,ch)=>{const fields=get$a(branches,ch);return fields.fold(()=>missingBranch(path,branches,ch),vp=>vp.extract(path.concat(['branch: '+ch]),input));};const choose$1=(key,branches)=>{const extract=(path,input)=>{const choice=get$a(input,key);return choice.fold(()=>missingKey(path,key),chosen=>chooseFrom(path,input,branches,chosen));};const toString=()=>'chooseOn('+key+'). Possible values: '+keys(branches);return{extract,toString};};const shallow=(old,nu)=>{return nu;};const deep=(old,nu)=>{const bothObjects=isPlainObject(old)&&isPlainObject(nu);return bothObjects?deepMerge(old,nu):nu;};const baseMerge=merger=>{return(...objects)=>{if(objects.length===0){throw new Error(`Can't merge zero objects`);}const ret={};for(let j=0;j<objects.length;j++){const curObject=objects[j];for(const key in curObject){if(has$2(curObject,key)){ret[key]=merger(ret[key],curObject[key]);}}}return ret;};};const deepMerge=baseMerge(deep);const merge=baseMerge(shallow);const required=()=>({tag:'required',process:{}});const defaultedThunk=fallbackThunk=>({tag:'defaultedThunk',process:fallbackThunk});const defaulted$1=fallback=>defaultedThunk(constant(fallback));const asOption=()=>({tag:'option',process:{}});const mergeValues=(values,base)=>values.length>0?SimpleResult.svalue(deepMerge(base,merge.apply(undefined,values))):SimpleResult.svalue(base);const mergeErrors=errors=>compose(SimpleResult.serror,flatten)(errors);const consolidateObj=(objects,base)=>{const partition=SimpleResult.partition(objects);return partition.errors.length>0?mergeErrors(partition.errors):mergeValues(partition.values,base);};const consolidateArr=objects=>{const partitions=SimpleResult.partition(objects);return partitions.errors.length>0?mergeErrors(partitions.errors):SimpleResult.svalue(partitions.values);};const ResultCombine={consolidateObj,consolidateArr};const field$1=(key,newKey,presence,prop)=>({tag:'field',key,newKey,presence,prop});const customField$1=(newKey,instantiator)=>({tag:'custom',newKey,instantiator});const fold=(value,ifField,ifCustom)=>{switch(value.tag){case'field':return ifField(value.key,value.newKey,value.presence,value.prop);case'custom':return ifCustom(value.newKey,value.instantiator);}};const value=validator=>{const extract=(path,val)=>{return SimpleResult.bindError(validator(val),err=>custom(path,err));};const toString=constant('val');return{extract,toString};};const anyValue$1=value(SimpleResult.svalue);const requiredAccess=(path,obj,key,bundle)=>get$a(obj,key).fold(()=>missingRequired(path,key,obj),bundle);const fallbackAccess=(obj,key,fallback,bundle)=>{const v=get$a(obj,key).getOrThunk(()=>fallback(obj));return bundle(v);};const optionAccess=(obj,key,bundle)=>bundle(get$a(obj,key));const optionDefaultedAccess=(obj,key,fallback,bundle)=>{const opt=get$a(obj,key).map(val=>val===true?fallback(obj):val);return bundle(opt);};const extractField=(field,path,obj,key,prop)=>{const bundle=av=>prop.extract(path.concat([key]),av);const bundleAsOption=optValue=>optValue.fold(()=>SimpleResult.svalue(Optional.none()),ov=>{const result=prop.extract(path.concat([key]),ov);return SimpleResult.map(result,Optional.some);});switch(field.tag){case'required':return requiredAccess(path,obj,key,bundle);case'defaultedThunk':return fallbackAccess(obj,key,field.process,bundle);case'option':return optionAccess(obj,key,bundleAsOption);case'defaultedOptionThunk':return optionDefaultedAccess(obj,key,field.process,bundleAsOption);case'mergeWithThunk':{return fallbackAccess(obj,key,constant({}),v=>{const result=deepMerge(field.process(obj),v);return bundle(result);});}}};const extractFields=(path,obj,fields)=>{const success={};const errors=[];for(const field of fields){fold(field,(key,newKey,presence,prop)=>{const result=extractField(presence,path,obj,key,prop);SimpleResult.fold(result,err=>{errors.push(...err);},res=>{success[newKey]=res;});},(newKey,instantiator)=>{success[newKey]=instantiator(obj);});}return errors.length>0?SimpleResult.serror(errors):SimpleResult.svalue(success);};const objOf=values=>{const extract=(path,o)=>extractFields(path,o,values);const toString=()=>{const fieldStrings=map$3(values,value=>fold(value,(key,_okey,_presence,prop)=>key+' -> '+prop.toString(),(newKey,_instantiator)=>'state('+newKey+')'));return'obj{\\n'+fieldStrings.join('\\n')+'}';};return{extract,toString};};const arrOf=prop=>{const extract=(path,array)=>{const results=map$3(array,(a,i)=>prop.extract(path.concat(['['+i+']']),a));return ResultCombine.consolidateArr(results);};const toString=()=>'array('+prop.toString()+')';return{extract,toString};};const valueOf=validator=>value(v=>validator(v).fold(SimpleResult.serror,SimpleResult.svalue));const extractValue=(label,prop,obj)=>{const res=prop.extract([label],obj);return SimpleResult.mapError(res,errs=>({input:obj,errors:errs}));};const asRaw=(label,prop,obj)=>SimpleResult.toResult(extractValue(label,prop,obj));const formatError=errInfo=>{return'Errors: \\n'+formatErrors(errInfo.errors).join('\\n')+'\\n\\nInput object: '+formatObj(errInfo.input);};const choose=(key,branches)=>choose$1(key,map$2(branches,objOf));const anyValue=constant(anyValue$1);const typedValue=(validator,expectedType)=>value(a=>{const actualType=typeof a;return validator(a)?SimpleResult.svalue(a):SimpleResult.serror(`Expected type: ${expectedType} but got: ${actualType}`);});const number=typedValue(isNumber,'number');const string=typedValue(isString,'string');const boolean=typedValue(isBoolean,'boolean');const functionProcessor=typedValue(isFunction,'function');const field=field$1;const customField=customField$1;const validateEnum=values=>valueOf(value=>contains$2(values,value)?Result.value(value):Result.error(`Unsupported value: \"${value}\", choose one of \"${values.join(', ')}\".`));const requiredOf=(key,schema)=>field(key,key,required(),schema);const requiredString=key=>requiredOf(key,string);const requiredFunction=key=>requiredOf(key,functionProcessor);const requiredArrayOf=(key,schema)=>field(key,key,required(),arrOf(schema));const optionOf=(key,schema)=>field(key,key,asOption(),schema);const optionString=key=>optionOf(key,string);const optionFunction=key=>optionOf(key,functionProcessor);const defaulted=(key,fallback)=>field(key,key,defaulted$1(fallback),anyValue());const defaultedOf=(key,fallback,schema)=>field(key,key,defaulted$1(fallback),schema);const defaultedNumber=(key,fallback)=>defaultedOf(key,fallback,number);const defaultedString=(key,fallback)=>defaultedOf(key,fallback,string);const defaultedStringEnum=(key,fallback,values)=>defaultedOf(key,fallback,validateEnum(values));const defaultedBoolean=(key,fallback)=>defaultedOf(key,fallback,boolean);const defaultedFunction=(key,fallback)=>defaultedOf(key,fallback,functionProcessor);const defaultedArrayOf=(key,fallback,schema)=>defaultedOf(key,fallback,arrOf(schema));const type=requiredString('type');const fetch$1=requiredFunction('fetch');const onAction=requiredFunction('onAction');const onSetup=defaultedFunction('onSetup',()=>noop);const optionalText=optionString('text');const optionalIcon=optionString('icon');const optionalTooltip=optionString('tooltip');const optionalLabel=optionString('label');const active=defaultedBoolean('active',false);const enabled=defaultedBoolean('enabled',true);const primary=defaultedBoolean('primary',false);const defaultedColumns=num=>defaulted('columns',num);const defaultedType=type=>defaultedString('type',type);const autocompleterSchema=objOf([type,requiredString('trigger'),defaultedNumber('minChars',1),defaultedColumns(1),defaultedNumber('maxResults',10),optionFunction('matches'),fetch$1,onAction,defaultedArrayOf('highlightOn',[],string)]);const createAutocompleter=spec=>asRaw('Autocompleter',autocompleterSchema,{trigger:spec.ch,...spec});const baseToolbarButtonFields=[enabled,optionalTooltip,optionalIcon,optionalText,onSetup];const baseToolbarToggleButtonFields=[active].concat(baseToolbarButtonFields);const contextBarFields=[defaultedFunction('predicate',never),defaultedStringEnum('scope','node',['node','editor']),defaultedStringEnum('position','selection',['node','selection','line'])];const contextButtonFields=baseToolbarButtonFields.concat([defaultedType('contextformbutton'),primary,onAction,customField('original',identity)]);const contextToggleButtonFields=baseToolbarToggleButtonFields.concat([defaultedType('contextformbutton'),primary,onAction,customField('original',identity)]);const launchButtonFields=baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);const launchToggleButtonFields=baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);const toggleOrNormal=choose('type',{contextformbutton:contextButtonFields,contextformtogglebutton:contextToggleButtonFields});objOf([defaultedType('contextform'),defaultedFunction('initValue',constant('')),optionalLabel,requiredArrayOf('commands',toggleOrNormal),optionOf('launch',choose('type',{contextformbutton:launchButtonFields,contextformtogglebutton:launchToggleButtonFields}))].concat(contextBarFields));const register$2=editor=>{const popups=editor.ui.registry.getAll().popups;const dataset=map$2(popups,popup=>createAutocompleter(popup).fold(err=>{throw new Error(formatError(err));},identity));const triggers=stringArray(mapToArray(dataset,v=>v.trigger));const datasetValues=values(dataset);const lookupByTrigger=trigger=>filter$5(datasetValues,dv=>dv.trigger===trigger);return{dataset,triggers,lookupByTrigger};};const setupEditorInput=(editor,api)=>{const update=last$1(api.load,50);editor.on('keypress compositionend',e=>{if(e.which===27){return;}update.throttle();});editor.on('keydown',e=>{const keyCode=e.which;if(keyCode===8){update.throttle();}else if(keyCode===27){api.cancelIfNecessary();}});editor.on('remove',update.cancel);};const setup$k=editor=>{const activeAutocompleter=value$2();const uiActive=Cell(false);const isActive=activeAutocompleter.isSet;const cancelIfNecessary=()=>{if(isActive()){removeAutocompleterDecoration(editor);fireAutocompleterEnd(editor);uiActive.set(false);activeAutocompleter.clear();}};const commenceIfNecessary=context=>{if(!isActive()){addAutocompleterDecoration(editor,context.range);activeAutocompleter.set({trigger:context.trigger,matchLength:context.text.length});}};const getAutocompleters=cached(()=>register$2(editor));const doLookup=fetchOptions=>activeAutocompleter.get().map(ac=>getContext(editor.dom,editor.selection.getRng(),ac.trigger).bind(newContext=>lookupWithContext(editor,getAutocompleters,newContext,fetchOptions))).getOrThunk(()=>lookup(editor,getAutocompleters));const load=fetchOptions=>{doLookup(fetchOptions).fold(cancelIfNecessary,lookupInfo=>{commenceIfNecessary(lookupInfo.context);lookupInfo.lookupData.then(lookupData=>{activeAutocompleter.get().map(ac=>{const context=lookupInfo.context;if(ac.trigger===context.trigger){if(context.text.length-ac.matchLength>=10){cancelIfNecessary();}else{activeAutocompleter.set({...ac,matchLength:context.text.length});if(uiActive.get()){fireAutocompleterUpdate(editor,{lookupData});}else{uiActive.set(true);fireAutocompleterStart(editor,{lookupData});}}}});});});};editor.addCommand('mceAutocompleterReload',(_ui,value)=>{const fetchOptions=isObject(value)?value.fetchOptions:{};load(fetchOptions);});editor.addCommand('mceAutocompleterClose',cancelIfNecessary);setupEditorInput(editor,{cancelIfNecessary,load});};const browser$1=detect$2().browser;const isSafari=browser$1.isSafari();const emptyNodeContents=node=>fillWithPaddingBr(SugarElement.fromDom(node));const isEntireNodeSelected=(rng,node)=>{var _a;return rng.startOffset===0&&rng.endOffset===((_a=node.textContent)===null||_a===void 0?void 0:_a.length);};const getParentDetailsElementAtPos=(dom,pos)=>Optional.from(dom.getParent(pos.container(),'details'));const isInDetailsElement=(dom,pos)=>getParentDetailsElementAtPos(dom,pos).isSome();const getDetailsElements=(dom,rng)=>{const startDetails=Optional.from(dom.getParent(rng.startContainer,'details'));const endDetails=Optional.from(dom.getParent(rng.endContainer,'details'));if(startDetails.isSome()||endDetails.isSome()){const startSummary=startDetails.bind(details=>Optional.from(dom.select('summary',details)[0]));return Optional.some({startSummary,startDetails,endDetails});}else{return Optional.none();}};const isCaretInTheBeginningOf=(caretPos,element)=>firstPositionIn(element).exists(pos=>pos.isEqual(caretPos));const isCaretInTheEndOf=(caretPos,element)=>{return lastPositionIn(element).exists(pos=>{if(isBr$6(pos.getNode())){return prevPosition(element,pos).exists(pos2=>pos2.isEqual(caretPos))||pos.isEqual(caretPos);}else{return pos.isEqual(caretPos);}});};const isCaretAtStartOfSummary=(caretPos,detailsElements)=>detailsElements.startSummary.exists(summary=>isCaretInTheBeginningOf(caretPos,summary));const isCaretAtEndOfSummary=(caretPos,detailsElements)=>detailsElements.startSummary.exists(summary=>isCaretInTheEndOf(caretPos,summary));const isCaretInFirstPositionInBody=(caretPos,detailsElements)=>detailsElements.startDetails.exists(details=>prevPosition(details,caretPos).forall(pos=>detailsElements.startSummary.exists(summary=>!summary.contains(caretPos.container())&&summary.contains(pos.container()))));const isCaretInLastPositionInBody=(root,caretPos,detailsElements)=>detailsElements.startDetails.exists(details=>nextPosition(root,caretPos).forall(pos=>!details.contains(pos.container())));const setCaretToPosition=(editor,position)=>{const node=position.getNode();if(!isUndefined(node)){editor.selection.setCursorLocation(node,position.offset());}};const moveCaretToDetailsPos=(editor,pos,forward)=>{const details=editor.dom.getParent(pos.container(),'details');if(details&&!details.open){const summary=editor.dom.select('summary',details)[0];if(summary){const newPos=forward?firstPositionIn(summary):lastPositionIn(summary);newPos.each(pos=>setCaretToPosition(editor,pos));}}else{setCaretToPosition(editor,pos);}};const isPartialDelete=(rng,detailsElements)=>{const containsStart=element=>element.contains(rng.startContainer);const containsEnd=element=>element.contains(rng.endContainer);const startInSummary=detailsElements.startSummary.exists(containsStart);const endInSummary=detailsElements.startSummary.exists(containsEnd);const isPartiallySelectedDetailsElements=detailsElements.startDetails.forall(startDetails=>detailsElements.endDetails.forall(endDetails=>startDetails!==endDetails));const isInPartiallySelectedSummary=(startInSummary||endInSummary)&&!(startInSummary&&endInSummary);return isInPartiallySelectedSummary||isPartiallySelectedDetailsElements;};const shouldPreventDeleteIntoDetails=(editor,forward,granularity)=>{const{dom,selection}=editor;const root=editor.getBody();if(granularity==='character'){const caretPos=CaretPosition.fromRangeStart(selection.getRng());const parentBlock=dom.getParent(caretPos.container(),dom.isBlock);const parentDetailsAtCaret=getParentDetailsElementAtPos(dom,caretPos);const inEmptyParentBlock=parentBlock&&dom.isEmpty(parentBlock);const isFirstBlock=isNull(parentBlock===null||parentBlock===void 0?void 0:parentBlock.previousSibling);const isLastBlock=isNull(parentBlock===null||parentBlock===void 0?void 0:parentBlock.nextSibling);if(inEmptyParentBlock){const firstOrLast=forward?isLastBlock:isFirstBlock;if(firstOrLast){const isBeforeAfterDetails=navigate(!forward,root,caretPos).exists(pos=>{return isInDetailsElement(dom,pos)&&!equals(parentDetailsAtCaret,getParentDetailsElementAtPos(dom,pos));});if(isBeforeAfterDetails){return true;}}}return navigate(forward,root,caretPos).fold(never,pos=>{const parentDetailsAtNewPos=getParentDetailsElementAtPos(dom,pos);if(isInDetailsElement(dom,pos)&&!equals(parentDetailsAtCaret,parentDetailsAtNewPos)){if(!forward){moveCaretToDetailsPos(editor,pos,false);}if(parentBlock&&inEmptyParentBlock){if(forward&&isFirstBlock){return true;}else if(!forward&&isLastBlock){return true;}moveCaretToDetailsPos(editor,pos,forward);editor.dom.remove(parentBlock);}return true;}else{return false;}});}else{return false;}};const shouldPreventDeleteSummaryAction=(editor,detailElements,forward,granularity)=>{const selection=editor.selection;const rng=selection.getRng();const caretPos=CaretPosition.fromRangeStart(rng);const root=editor.getBody();if(granularity==='selection'){return isPartialDelete(rng,detailElements);}else if(forward){return isCaretAtEndOfSummary(caretPos,detailElements)||isCaretInLastPositionInBody(root,caretPos,detailElements);}else{return isCaretAtStartOfSummary(caretPos,detailElements)||isCaretInFirstPositionInBody(caretPos,detailElements);}};const shouldPreventDeleteAction=(editor,forward,granularity)=>getDetailsElements(editor.dom,editor.selection.getRng()).fold(()=>shouldPreventDeleteIntoDetails(editor,forward,granularity),detailsElements=>shouldPreventDeleteSummaryAction(editor,detailsElements,forward,granularity)||shouldPreventDeleteIntoDetails(editor,forward,granularity));const handleDeleteActionSafari=(editor,forward,granularity)=>{const selection=editor.selection;const node=selection.getNode();const rng=selection.getRng();const caretPos=CaretPosition.fromRangeStart(rng);if(isSummary$1(node)){if(granularity==='selection'&&isEntireNodeSelected(rng,node)||willDeleteLastPositionInElement(forward,caretPos,node)){emptyNodeContents(node);}else{editor.undoManager.transact(()=>{const sel=selection.getSel();let{anchorNode,anchorOffset,focusNode,focusOffset}=sel!==null&&sel!==void 0?sel:{};const applySelection=()=>{if(isNonNullable(anchorNode)&&isNonNullable(anchorOffset)&&isNonNullable(focusNode)&&isNonNullable(focusOffset)){sel===null||sel===void 0?void 0:sel.setBaseAndExtent(anchorNode,anchorOffset,focusNode,focusOffset);}};const updateSelection=()=>{anchorNode=sel===null||sel===void 0?void 0:sel.anchorNode;anchorOffset=sel===null||sel===void 0?void 0:sel.anchorOffset;focusNode=sel===null||sel===void 0?void 0:sel.focusNode;focusOffset=sel===null||sel===void 0?void 0:sel.focusOffset;};const appendAllChildNodes=(from,to)=>{each$e(from.childNodes,child=>{if(isNode(child)){to.appendChild(child);}});};const container=editor.dom.create('span',{'data-mce-bogus':'1'});appendAllChildNodes(node,container);node.appendChild(container);applySelection();if(granularity==='word'||granularity==='line'){sel===null||sel===void 0?void 0:sel.modify('extend',forward?'right':'left',granularity);}if(!selection.isCollapsed()&&isEntireNodeSelected(selection.getRng(),container)){emptyNodeContents(node);}else{editor.execCommand(forward?'ForwardDelete':'Delete');updateSelection();appendAllChildNodes(container,node);applySelection();}editor.dom.remove(container);});}return true;}else{return false;}};const backspaceDelete=(editor,forward,granularity)=>shouldPreventDeleteAction(editor,forward,granularity)||isSafari&&handleDeleteActionSafari(editor,forward,granularity)?Optional.some(noop):Optional.none();const createAndFireInputEvent=eventType=>(editor,inputType,specifics={})=>{const target=editor.getBody();const overrides={bubbles:true,composed:true,data:null,isComposing:false,detail:0,view:null,target,currentTarget:target,eventPhase:Event.AT_TARGET,originalTarget:target,explicitOriginalTarget:target,isTrusted:false,srcElement:target,cancelable:false,preventDefault:noop,inputType};const input=clone$3(new InputEvent(eventType));return editor.dispatch(eventType,{...input,...overrides,...specifics});};const fireInputEvent=createAndFireInputEvent('input');const fireBeforeInputEvent=createAndFireInputEvent('beforeinput');const platform$2=detect$2();const os=platform$2.os;const isMacOSOriOS=os.isMacOS()||os.isiOS();const browser=platform$2.browser;const isFirefox=browser.isFirefox();const executeKeydownOverride$3=(editor,caret,evt)=>{const inputType=evt.keyCode===VK.BACKSPACE?'deleteContentBackward':'deleteContentForward';const isCollapsed=editor.selection.isCollapsed();const unmodifiedGranularity=isCollapsed?'character':'selection';const getModifiedGranularity=isWord=>{if(isCollapsed){return isWord?'word':'line';}else{return'selection';}};executeWithDelayedAction([{keyCode:VK.BACKSPACE,action:action(backspaceDelete$1,editor)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$6,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$6,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$7,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$7,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$4,editor,caret,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$4,editor,caret,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$a,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$a,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete,editor,false,unmodifiedGranularity)},{keyCode:VK.DELETE,action:action(backspaceDelete,editor,true,unmodifiedGranularity)},...(isMacOSOriOS?[{keyCode:VK.BACKSPACE,altKey:true,action:action(backspaceDelete,editor,false,getModifiedGranularity(true))},{keyCode:VK.DELETE,altKey:true,action:action(backspaceDelete,editor,true,getModifiedGranularity(true))},{keyCode:VK.BACKSPACE,metaKey:true,action:action(backspaceDelete,editor,false,getModifiedGranularity(false))}]:[{keyCode:VK.BACKSPACE,ctrlKey:true,action:action(backspaceDelete,editor,false,getModifiedGranularity(true))},{keyCode:VK.DELETE,ctrlKey:true,action:action(backspaceDelete,editor,true,getModifiedGranularity(true))}]),{keyCode:VK.BACKSPACE,action:action(backspaceDelete$5,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$5,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$2,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$2,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$8,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$8,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$9,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$9,editor,true)},{keyCode:VK.BACKSPACE,action:action(backspaceDelete$3,editor,false)},{keyCode:VK.DELETE,action:action(backspaceDelete$3,editor,true)}],evt).filter(_=>editor.selection.isEditable()).each(applyAction=>{evt.preventDefault();const beforeInput=fireBeforeInputEvent(editor,inputType);if(!beforeInput.isDefaultPrevented()){applyAction();fireInputEvent(editor,inputType);}});};const executeKeyupOverride=(editor,evt,isBackspaceKeydown)=>execute([{keyCode:VK.BACKSPACE,action:action(paddEmptyElement,editor)},{keyCode:VK.DELETE,action:action(paddEmptyElement,editor)},...(isMacOSOriOS?[{keyCode:VK.BACKSPACE,altKey:true,action:action(refreshCaret,editor)},{keyCode:VK.DELETE,altKey:true,action:action(refreshCaret,editor)},...(isBackspaceKeydown?[{keyCode:isFirefox?224:91,action:action(refreshCaret,editor)}]:[])]:[{keyCode:VK.BACKSPACE,ctrlKey:true,action:action(refreshCaret,editor)},{keyCode:VK.DELETE,ctrlKey:true,action:action(refreshCaret,editor)}])],evt);const setup$j=(editor,caret)=>{let isBackspaceKeydown=false;editor.on('keydown',evt=>{isBackspaceKeydown=evt.keyCode===VK.BACKSPACE;if(!evt.isDefaultPrevented()){executeKeydownOverride$3(editor,caret,evt);}});editor.on('keyup',evt=>{if(!evt.isDefaultPrevented()){executeKeyupOverride(editor,evt,isBackspaceKeydown);}isBackspaceKeydown=false;});};const firstNonWhiteSpaceNodeSibling=node=>{while(node){if(isElement$6(node)||isText$a(node)&&node.data&&/[\\r\\n\\s]/.test(node.data)){return node;}node=node.nextSibling;}return null;};const moveToCaretPosition=(editor,root)=>{const dom=editor.dom;const moveCaretBeforeOnEnterElementsMap=editor.schema.getMoveCaretBeforeOnEnterElements();if(!root){return;}if(/^(LI|DT|DD)$/.test(root.nodeName)){const firstChild=firstNonWhiteSpaceNodeSibling(root.firstChild);if(firstChild&&/^(UL|OL|DL)$/.test(firstChild.nodeName)){root.insertBefore(dom.doc.createTextNode(nbsp),root.firstChild);}}const rng=dom.createRng();root.normalize();if(root.hasChildNodes()){const walker=new DomTreeWalker(root,root);let lastNode=root;let node;while(node=walker.current()){if(isText$a(node)){rng.setStart(node,0);rng.setEnd(node,0);break;}if(moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]){rng.setStartBefore(node);rng.setEndBefore(node);break;}lastNode=node;node=walker.next();}if(!node){rng.setStart(lastNode,0);rng.setEnd(lastNode,0);}}else{if(isBr$6(root)){if(root.nextSibling&&dom.isBlock(root.nextSibling)){rng.setStartBefore(root);rng.setEndBefore(root);}else{rng.setStartAfter(root);rng.setEndAfter(root);}}else{rng.setStart(root,0);rng.setEnd(root,0);}}editor.selection.setRng(rng);scrollRangeIntoView(editor,rng);};const getEditableRoot=(dom,node)=>{const root=dom.getRoot();let editableRoot;let parent=node;while(parent!==root&&parent&&dom.getContentEditable(parent)!=='false'){if(dom.getContentEditable(parent)==='true'){editableRoot=parent;break;}parent=parent.parentNode;}return parent!==root?editableRoot:root;};const getParentBlock$1=editor=>{return Optional.from(editor.dom.getParent(editor.selection.getStart(true),editor.dom.isBlock));};const getParentBlockName=editor=>{return getParentBlock$1(editor).fold(constant(''),parentBlock=>{return parentBlock.nodeName.toUpperCase();});};const isListItemParentBlock=editor=>{return getParentBlock$1(editor).filter(elm=>{return isListItem$1(SugarElement.fromDom(elm));}).isSome();};const emptyBlock=elm=>{elm.innerHTML='<br data-mce-bogus=\"1\">';};const applyAttributes=(editor,node,forcedRootBlockAttrs)=>{const dom=editor.dom;Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(attrStyles=>{const currentStyles=getAllRaw(SugarElement.fromDom(node));const newStyles={...currentStyles,...attrStyles};dom.setStyles(node,newStyles);});const attrClassesOpt=Optional.from(forcedRootBlockAttrs.class).map(attrClasses=>attrClasses.split(/\\s+/));const currentClassesOpt=Optional.from(node.className).map(currentClasses=>filter$5(currentClasses.split(/\\s+/),clazz=>clazz!==''));lift2(attrClassesOpt,currentClassesOpt,(attrClasses,currentClasses)=>{const filteredClasses=filter$5(currentClasses,clazz=>!contains$2(attrClasses,clazz));const newClasses=[...attrClasses,...filteredClasses];dom.setAttrib(node,'class',newClasses.join(' '));});const appliedAttrs=['style','class'];const remainingAttrs=filter$4(forcedRootBlockAttrs,(_,attrs)=>!contains$2(appliedAttrs,attrs));dom.setAttribs(node,remainingAttrs);};const setForcedBlockAttrs=(editor,node)=>{const forcedRootBlockName=getForcedRootBlock(editor);if(forcedRootBlockName.toLowerCase()===node.tagName.toLowerCase()){const forcedRootBlockAttrs=getForcedRootBlockAttrs(editor);applyAttributes(editor,node,forcedRootBlockAttrs);}};const createNewBlock=(editor,container,parentBlock,editableRoot,keepStyles=true,name,styles)=>{const dom=editor.dom;const schema=editor.schema;const newBlockName=getForcedRootBlock(editor);const parentBlockName=parentBlock?parentBlock.nodeName.toUpperCase():'';let node=container;const textInlineElements=schema.getTextInlineElements();let block;if(name||parentBlockName==='TABLE'||parentBlockName==='HR'){block=dom.create(name||newBlockName,styles||{});}else{block=parentBlock.cloneNode(false);}let caretNode=block;if(!keepStyles){dom.setAttrib(block,'style',null);dom.setAttrib(block,'class',null);}else{do{if(textInlineElements[node.nodeName]){if(isCaretNode(node)||isBookmarkNode$1(node)){continue;}const clonedNode=node.cloneNode(false);dom.setAttrib(clonedNode,'id','');if(block.hasChildNodes()){clonedNode.appendChild(block.firstChild);block.appendChild(clonedNode);}else{caretNode=clonedNode;block.appendChild(clonedNode);}}}while((node=node.parentNode)&&node!==editableRoot);}setForcedBlockAttrs(editor,block);emptyBlock(caretNode);return block;};const getDetailsRoot=(editor,element)=>editor.dom.getParent(element,isDetails);const isAtDetailsEdge=(root,element,isTextBlock)=>{let node=element;while(node&&node!==root&&isNull(node.nextSibling)){const parent=node.parentElement;if(!parent||!isTextBlock(parent)){return isDetails(parent);}node=parent;}return false;};const isLastEmptyBlockInDetails=(editor,shiftKey,element)=>!shiftKey&&element.nodeName.toLowerCase()===getForcedRootBlock(editor)&&editor.dom.isEmpty(element)&&isAtDetailsEdge(editor.getBody(),element,el=>has$2(editor.schema.getTextBlockElements(),el.nodeName.toLowerCase()));const insertNewLine=(editor,createNewBlock,parentBlock)=>{var _a,_b,_c;const newBlock=createNewBlock(getForcedRootBlock(editor));const root=getDetailsRoot(editor,parentBlock);if(!root){return;}editor.dom.insertAfter(newBlock,root);moveToCaretPosition(editor,newBlock);if(((_c=(_b=(_a=parentBlock.parentElement)===null||_a===void 0?void 0:_a.childNodes)===null||_b===void 0?void 0:_b.length)!==null&&_c!==void 0?_c:0)>1){editor.dom.remove(parentBlock);}};const hasFirstChild=(elm,name)=>{return elm.firstChild&&elm.firstChild.nodeName===name;};const isFirstChild=elm=>{var _a;return((_a=elm.parentNode)===null||_a===void 0?void 0:_a.firstChild)===elm;};const hasParent=(elm,parentName)=>{const parentNode=elm===null||elm===void 0?void 0:elm.parentNode;return isNonNullable(parentNode)&&parentNode.nodeName===parentName;};const isListBlock=elm=>{return isNonNullable(elm)&&/^(OL|UL|LI)$/.test(elm.nodeName);};const isListItem=elm=>{return isNonNullable(elm)&&/^(LI|DT|DD)$/.test(elm.nodeName);};const isNestedList=elm=>{return isListBlock(elm)&&isListBlock(elm.parentNode);};const getContainerBlock=containerBlock=>{const containerBlockParent=containerBlock.parentNode;return isListItem(containerBlockParent)?containerBlockParent:containerBlock;};const isFirstOrLastLi=(containerBlock,parentBlock,first)=>{let node=containerBlock[first?'firstChild':'lastChild'];while(node){if(isElement$6(node)){break;}node=node[first?'nextSibling':'previousSibling'];}return node===parentBlock;};const getStyles=elm=>foldl(mapToArray(getAllRaw(SugarElement.fromDom(elm)),(style,styleName)=>`${styleName}: ${style};`),(acc,s)=>acc+s,'');const insert$4=(editor,createNewBlock,containerBlock,parentBlock,newBlockName)=>{const dom=editor.dom;const rng=editor.selection.getRng();const containerParent=containerBlock.parentNode;if(containerBlock===editor.getBody()||!containerParent){return;}if(isNestedList(containerBlock)){newBlockName='LI';}const parentBlockStyles=isListItem(parentBlock)?getStyles(parentBlock):undefined;let newBlock=isListItem(parentBlock)&&parentBlockStyles?createNewBlock(newBlockName,{style:getStyles(parentBlock)}):createNewBlock(newBlockName);if(isFirstOrLastLi(containerBlock,parentBlock,true)&&isFirstOrLastLi(containerBlock,parentBlock,false)){if(hasParent(containerBlock,'LI')){const containerBlockParent=getContainerBlock(containerBlock);dom.insertAfter(newBlock,containerBlockParent);if(isFirstChild(containerBlock)){dom.remove(containerBlockParent);}else{dom.remove(containerBlock);}}else{dom.replace(newBlock,containerBlock);}}else if(isFirstOrLastLi(containerBlock,parentBlock,true)){if(hasParent(containerBlock,'LI')){dom.insertAfter(newBlock,getContainerBlock(containerBlock));newBlock.appendChild(dom.doc.createTextNode(' '));newBlock.appendChild(containerBlock);}else{containerParent.insertBefore(newBlock,containerBlock);}dom.remove(parentBlock);}else if(isFirstOrLastLi(containerBlock,parentBlock,false)){dom.insertAfter(newBlock,getContainerBlock(containerBlock));dom.remove(parentBlock);}else{containerBlock=getContainerBlock(containerBlock);const tmpRng=rng.cloneRange();tmpRng.setStartAfter(parentBlock);tmpRng.setEndAfter(containerBlock);const fragment=tmpRng.extractContents();if(newBlockName==='LI'&&hasFirstChild(fragment,'LI')){const previousChildren=filter$5(map$3(newBlock.children,SugarElement.fromDom),not(isTag('br')));newBlock=fragment.firstChild;dom.insertAfter(fragment,containerBlock);each$e(previousChildren,child=>prepend(SugarElement.fromDom(newBlock),child));if(parentBlockStyles){newBlock.setAttribute('style',parentBlockStyles);}}else{dom.insertAfter(fragment,containerBlock);dom.insertAfter(newBlock,containerBlock);}dom.remove(parentBlock);}moveToCaretPosition(editor,newBlock);};const trimZwsp=fragment=>{each$e(descendants$1(SugarElement.fromDom(fragment),isText$b),text=>{const rawNode=text.dom;rawNode.nodeValue=trim$2(rawNode.data);});};const isWithinNonEditableList=(editor,node)=>{const parentList=editor.dom.getParent(node,'ol,ul,dl');return parentList!==null&&editor.dom.getContentEditableParent(parentList)==='false';};const isEmptyAnchor=(dom,elm)=>{return elm&&elm.nodeName==='A'&&dom.isEmpty(elm);};const containerAndSiblingName=(container,nodeName)=>{return container.nodeName===nodeName||container.previousSibling&&container.previousSibling.nodeName===nodeName;};const canSplitBlock=(dom,node)=>{return isNonNullable(node)&&dom.isBlock(node)&&!/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName)&&!/^(fixed|absolute)/i.test(node.style.position)&&dom.isEditable(node.parentNode)&&dom.getContentEditable(node)!=='false';};const trimInlineElementsOnLeftSideOfBlock=(dom,nonEmptyElementsMap,block)=>{var _a;const firstChilds=[];if(!block){return;}let currentNode=block;while(currentNode=currentNode.firstChild){if(dom.isBlock(currentNode)){return;}if(isElement$6(currentNode)&&!nonEmptyElementsMap[currentNode.nodeName.toLowerCase()]){firstChilds.push(currentNode);}}let i=firstChilds.length;while(i--){currentNode=firstChilds[i];if(!currentNode.hasChildNodes()||currentNode.firstChild===currentNode.lastChild&&((_a=currentNode.firstChild)===null||_a===void 0?void 0:_a.nodeValue)===''){dom.remove(currentNode);}else{if(isEmptyAnchor(dom,currentNode)){dom.remove(currentNode);}}}};const normalizeZwspOffset=(start,container,offset)=>{if(!isText$a(container)){return offset;}else if(start){return offset===1&&container.data.charAt(offset-1)===ZWSP$1?0:offset;}else{return offset===container.data.length-1&&container.data.charAt(offset)===ZWSP$1?container.data.length:offset;}};const includeZwspInRange=rng=>{const newRng=rng.cloneRange();newRng.setStart(rng.startContainer,normalizeZwspOffset(true,rng.startContainer,rng.startOffset));newRng.setEnd(rng.endContainer,normalizeZwspOffset(false,rng.endContainer,rng.endOffset));return newRng;};const trimLeadingLineBreaks=node=>{let currentNode=node;do{if(isText$a(currentNode)){currentNode.data=currentNode.data.replace(/^[\\r\\n]+/,'');}currentNode=currentNode.firstChild;}while(currentNode);};const wrapSelfAndSiblingsInDefaultBlock=(editor,newBlockName,rng,container,offset)=>{var _a,_b;const dom=editor.dom;const editableRoot=(_a=getEditableRoot(dom,container))!==null&&_a!==void 0?_a:dom.getRoot();let parentBlock=dom.getParent(container,dom.isBlock);if(!parentBlock||!canSplitBlock(dom,parentBlock)){parentBlock=parentBlock||editableRoot;if(!parentBlock.hasChildNodes()){const newBlock=dom.create(newBlockName);setForcedBlockAttrs(editor,newBlock);parentBlock.appendChild(newBlock);rng.setStart(newBlock,0);rng.setEnd(newBlock,0);return newBlock;}let node=container;while(node&&node.parentNode!==parentBlock){node=node.parentNode;}let startNode;while(node&&!dom.isBlock(node)){startNode=node;node=node.previousSibling;}const startNodeName=(_b=startNode===null||startNode===void 0?void 0:startNode.parentElement)===null||_b===void 0?void 0:_b.nodeName;if(startNode&&startNodeName&&editor.schema.isValidChild(startNodeName,newBlockName.toLowerCase())){const startNodeParent=startNode.parentNode;const newBlock=dom.create(newBlockName);setForcedBlockAttrs(editor,newBlock);startNodeParent.insertBefore(newBlock,startNode);node=startNode;while(node&&!dom.isBlock(node)){const next=node.nextSibling;newBlock.appendChild(node);node=next;}rng.setStart(container,offset);rng.setEnd(container,offset);}}return container;};const addBrToBlockIfNeeded=(dom,block)=>{block.normalize();const lastChild=block.lastChild;if(!lastChild||isElement$6(lastChild)&&/^(left|right)$/gi.test(dom.getStyle(lastChild,'float',true))){dom.add(block,'br');}};const shouldEndContainer=(editor,container)=>{const optionValue=shouldEndContainerOnEmptyBlock(editor);if(isNullable(container)){return false;}else if(isString(optionValue)){return contains$2(Tools.explode(optionValue),container.nodeName.toLowerCase());}else{return optionValue;}};const insert$3=(editor,evt)=>{let container;let offset;let parentBlockName;let containerBlock;let isAfterLastNodeInContainer=false;const dom=editor.dom;const schema=editor.schema,nonEmptyElementsMap=schema.getNonEmptyElements();const rng=editor.selection.getRng();const newBlockName=getForcedRootBlock(editor);const start=SugarElement.fromDom(rng.startContainer);const child=child$1(start,rng.startOffset);const isCef=child.exists(element=>isHTMLElement$1(element)&&!isEditable$2(element));const collapsedAndCef=rng.collapsed&&isCef;const createNewBlock$1=(name,styles)=>{return createNewBlock(editor,container,parentBlock,editableRoot,shouldKeepStyles(editor),name,styles);};const isCaretAtStartOrEndOfBlock=start=>{const normalizedOffset=normalizeZwspOffset(start,container,offset);if(isText$a(container)&&(start?normalizedOffset>0:normalizedOffset<container.data.length)){return false;}if(container.parentNode===parentBlock&&isAfterLastNodeInContainer&&!start){return true;}if(start&&isElement$6(container)&&container===parentBlock.firstChild){return true;}if(containerAndSiblingName(container,'TABLE')||containerAndSiblingName(container,'HR')){return isAfterLastNodeInContainer&&!start||!isAfterLastNodeInContainer&&start;}const walker=new DomTreeWalker(container,parentBlock);if(isText$a(container)){if(start&&normalizedOffset===0){walker.prev();}else if(!start&&normalizedOffset===container.data.length){walker.next();}}let node;while(node=walker.current()){if(isElement$6(node)){if(!node.getAttribute('data-mce-bogus')){const name=node.nodeName.toLowerCase();if(nonEmptyElementsMap[name]&&name!=='br'){return false;}}}else if(isText$a(node)&&!isWhitespaceText(node.data)){return false;}if(start){walker.prev();}else{walker.next();}}return true;};const insertNewBlockAfter=()=>{let block;if(/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName)&&containerBlockName!=='HGROUP'){block=createNewBlock$1(newBlockName);}else{block=createNewBlock$1();}if(shouldEndContainer(editor,containerBlock)&&canSplitBlock(dom,containerBlock)&&dom.isEmpty(parentBlock,undefined,{includeZwsp:true})){block=dom.split(containerBlock,parentBlock);}else{dom.insertAfter(block,parentBlock);}moveToCaretPosition(editor,block);return block;};normalize$2(dom,rng).each(normRng=>{rng.setStart(normRng.startContainer,normRng.startOffset);rng.setEnd(normRng.endContainer,normRng.endOffset);});container=rng.startContainer;offset=rng.startOffset;const shiftKey=!!(evt&&evt.shiftKey);const ctrlKey=!!(evt&&evt.ctrlKey);if(isElement$6(container)&&container.hasChildNodes()&&!collapsedAndCef){isAfterLastNodeInContainer=offset>container.childNodes.length-1;container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container;if(isAfterLastNodeInContainer&&isText$a(container)){offset=container.data.length;}else{offset=0;}}const editableRoot=getEditableRoot(dom,container);if(!editableRoot||isWithinNonEditableList(editor,container)){return;}if(!shiftKey){container=wrapSelfAndSiblingsInDefaultBlock(editor,newBlockName,rng,container,offset);}let parentBlock=dom.getParent(container,dom.isBlock)||dom.getRoot();containerBlock=isNonNullable(parentBlock===null||parentBlock===void 0?void 0:parentBlock.parentNode)?dom.getParent(parentBlock.parentNode,dom.isBlock):null;parentBlockName=parentBlock?parentBlock.nodeName.toUpperCase():'';const containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase():'';if(containerBlockName==='LI'&&!ctrlKey){const liBlock=containerBlock;parentBlock=liBlock;containerBlock=liBlock.parentNode;parentBlockName=containerBlockName;}if(isElement$6(containerBlock)&&isLastEmptyBlockInDetails(editor,shiftKey,parentBlock)){return insertNewLine(editor,createNewBlock$1,parentBlock);}if(/^(LI|DT|DD)$/.test(parentBlockName)&&isElement$6(containerBlock)){if(dom.isEmpty(parentBlock)){insert$4(editor,createNewBlock$1,containerBlock,parentBlock,newBlockName);return;}}if(!collapsedAndCef&&(parentBlock===editor.getBody()||!canSplitBlock(dom,parentBlock))){return;}const parentBlockParent=parentBlock.parentNode;let newBlock;if(collapsedAndCef){newBlock=createNewBlock$1(newBlockName);child.fold(()=>{append$1(start,SugarElement.fromDom(newBlock));},child=>{before$3(child,SugarElement.fromDom(newBlock));});editor.selection.setCursorLocation(newBlock,0);}else if(isCaretContainerBlock$1(parentBlock)){newBlock=showCaretContainerBlock(parentBlock);if(dom.isEmpty(parentBlock)){emptyBlock(parentBlock);}setForcedBlockAttrs(editor,newBlock);moveToCaretPosition(editor,newBlock);}else if(isCaretAtStartOrEndOfBlock(false)){newBlock=insertNewBlockAfter();}else if(isCaretAtStartOrEndOfBlock(true)&&parentBlockParent){newBlock=parentBlockParent.insertBefore(createNewBlock$1(),parentBlock);const isNearChildren=hasChildNodes(SugarElement.fromDom(rng.startContainer))&&rng.collapsed;moveToCaretPosition(editor,containerAndSiblingName(parentBlock,'HR')||isNearChildren?newBlock:parentBlock);}else{const tmpRng=includeZwspInRange(rng).cloneRange();tmpRng.setEndAfter(parentBlock);const fragment=tmpRng.extractContents();trimZwsp(fragment);trimLeadingLineBreaks(fragment);newBlock=fragment.firstChild;dom.insertAfter(fragment,parentBlock);trimInlineElementsOnLeftSideOfBlock(dom,nonEmptyElementsMap,newBlock);addBrToBlockIfNeeded(dom,parentBlock);if(dom.isEmpty(parentBlock)){emptyBlock(parentBlock);}newBlock.normalize();if(dom.isEmpty(newBlock)){dom.remove(newBlock);insertNewBlockAfter();}else{setForcedBlockAttrs(editor,newBlock);moveToCaretPosition(editor,newBlock);}}dom.setAttrib(newBlock,'id','');editor.dispatch('NewBlock',{newBlock});};const fakeEventName$1='insertParagraph';const blockbreak={insert:insert$3,fakeEventName:fakeEventName$1};const hasRightSideContent=(schema,container,parentBlock)=>{const walker=new DomTreeWalker(container,parentBlock);let node;const nonEmptyElementsMap=schema.getNonEmptyElements();while(node=walker.next()){if(nonEmptyElementsMap[node.nodeName.toLowerCase()]||isText$a(node)&&node.length>0){return true;}}return false;};const moveSelectionToBr=(editor,brElm,extraBr)=>{const rng=editor.dom.createRng();if(!extraBr){rng.setStartAfter(brElm);rng.setEndAfter(brElm);}else{rng.setStartBefore(brElm);rng.setEndBefore(brElm);}editor.selection.setRng(rng);scrollRangeIntoView(editor,rng);};const insertBrAtCaret=(editor,evt)=>{const selection=editor.selection;const dom=editor.dom;const rng=selection.getRng();let brElm;let extraBr=false;normalize$2(dom,rng).each(normRng=>{rng.setStart(normRng.startContainer,normRng.startOffset);rng.setEnd(normRng.endContainer,normRng.endOffset);});let offset=rng.startOffset;let container=rng.startContainer;if(isElement$6(container)&&container.hasChildNodes()){const isAfterLastNodeInContainer=offset>container.childNodes.length-1;container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container;if(isAfterLastNodeInContainer&&isText$a(container)){offset=container.data.length;}else{offset=0;}}let parentBlock=dom.getParent(container,dom.isBlock);const containerBlock=parentBlock&&parentBlock.parentNode?dom.getParent(parentBlock.parentNode,dom.isBlock):null;const containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase():'';const isControlKey=!!(evt&&evt.ctrlKey);if(containerBlockName==='LI'&&!isControlKey){parentBlock=containerBlock;}if(isText$a(container)&&offset>=container.data.length){if(!hasRightSideContent(editor.schema,container,parentBlock||dom.getRoot())){brElm=dom.create('br');rng.insertNode(brElm);rng.setStartAfter(brElm);rng.setEndAfter(brElm);extraBr=true;}}brElm=dom.create('br');rangeInsertNode(dom,rng,brElm);moveSelectionToBr(editor,brElm,extraBr);editor.undoManager.add();};const insertBrBefore=(editor,inline)=>{const br=SugarElement.fromTag('br');before$3(SugarElement.fromDom(inline),br);editor.undoManager.add();};const insertBrAfter=(editor,inline)=>{if(!hasBrAfter(editor.getBody(),inline)){after$4(SugarElement.fromDom(inline),SugarElement.fromTag('br'));}const br=SugarElement.fromTag('br');after$4(SugarElement.fromDom(inline),br);moveSelectionToBr(editor,br.dom,false);editor.undoManager.add();};const isBeforeBr=pos=>{return isBr$6(pos.getNode());};const hasBrAfter=(rootNode,startNode)=>{if(isBeforeBr(CaretPosition.after(startNode))){return true;}else{return nextPosition(rootNode,CaretPosition.after(startNode)).map(pos=>{return isBr$6(pos.getNode());}).getOr(false);}};const isAnchorLink=elm=>{return elm&&elm.nodeName==='A'&&'href'in elm;};const isInsideAnchor=location=>{return location.fold(never,isAnchorLink,isAnchorLink,never);};const readInlineAnchorLocation=editor=>{const isInlineTarget$1=curry(isInlineTarget,editor);const position=CaretPosition.fromRangeStart(editor.selection.getRng());return readLocation(isInlineTarget$1,editor.getBody(),position).filter(isInsideAnchor);};const insertBrOutsideAnchor=(editor,location)=>{location.fold(noop,curry(insertBrBefore,editor),curry(insertBrAfter,editor),noop);};const insert$2=(editor,evt)=>{const anchorLocation=readInlineAnchorLocation(editor);if(anchorLocation.isSome()){anchorLocation.each(curry(insertBrOutsideAnchor,editor));}else{insertBrAtCaret(editor,evt);}};const fakeEventName='insertLineBreak';const linebreak={insert:insert$2,fakeEventName};const matchesSelector=(editor,selector)=>{return getParentBlock$1(editor).filter(parentBlock=>{return selector.length>0&&is$1(SugarElement.fromDom(parentBlock),selector);}).isSome();};const shouldInsertBr=editor=>{return matchesSelector(editor,getBrNewLineSelector(editor));};const shouldBlockNewLine$1=editor=>{return matchesSelector(editor,getNoNewLineSelector(editor));};const newLineAction=Adt.generate([{br:[]},{block:[]},{none:[]}]);const shouldBlockNewLine=(editor,_shiftKey)=>{return shouldBlockNewLine$1(editor);};const inListBlock=requiredState=>{return(editor,_shiftKey)=>{return isListItemParentBlock(editor)===requiredState;};};const inBlock=(blockName,requiredState)=>(editor,_shiftKey)=>{const state=getParentBlockName(editor)===blockName.toUpperCase();return state===requiredState;};const inCefBlock=editor=>{const editableRoot=getEditableRoot(editor.dom,editor.selection.getStart());return isNullable(editableRoot);};const inPreBlock=requiredState=>inBlock('pre',requiredState);const inSummaryBlock=()=>inBlock('summary',true);const shouldPutBrInPre=requiredState=>{return(editor,_shiftKey)=>{return shouldPutBrInPre$1(editor)===requiredState;};};const inBrContext=(editor,_shiftKey)=>{return shouldInsertBr(editor);};const hasShiftKey=(_editor,shiftKey)=>{return shiftKey;};const canInsertIntoEditableRoot=editor=>{const forcedRootBlock=getForcedRootBlock(editor);const rootEditable=getEditableRoot(editor.dom,editor.selection.getStart());return isNonNullable(rootEditable)&&editor.schema.isValidChild(rootEditable.nodeName,forcedRootBlock);};const isInRootWithEmptyOrCEF=editor=>{const rng=editor.selection.getRng();const start=SugarElement.fromDom(rng.startContainer);const child=child$1(start,rng.startOffset);const isCefOpt=child.map(element=>isHTMLElement$1(element)&&!isEditable$2(element));return rng.collapsed&&isCefOpt.getOr(true);};const match=(predicates,action)=>{return(editor,shiftKey)=>{const isMatch=foldl(predicates,(res,p)=>{return res&&p(editor,shiftKey);},true);return isMatch?Optional.some(action):Optional.none();};};const getAction=(editor,evt)=>{return evaluateUntil([match([shouldBlockNewLine],newLineAction.none()),match([inPreBlock(true),inCefBlock],newLineAction.none()),match([inSummaryBlock()],newLineAction.br()),match([inPreBlock(true),shouldPutBrInPre(false),hasShiftKey],newLineAction.br()),match([inPreBlock(true),shouldPutBrInPre(false)],newLineAction.block()),match([inPreBlock(true),shouldPutBrInPre(true),hasShiftKey],newLineAction.block()),match([inPreBlock(true),shouldPutBrInPre(true)],newLineAction.br()),match([inListBlock(true),hasShiftKey],newLineAction.br()),match([inListBlock(true)],newLineAction.block()),match([inBrContext],newLineAction.br()),match([hasShiftKey],newLineAction.br()),match([canInsertIntoEditableRoot],newLineAction.block()),match([isInRootWithEmptyOrCEF],newLineAction.block())],[editor,!!(evt&&evt.shiftKey)]).getOr(newLineAction.none());};const insertBreak=(breakType,editor,evt)=>{if(!editor.selection.isCollapsed()){execEditorDeleteCommand(editor);}if(isNonNullable(evt)){const event=fireBeforeInputEvent(editor,breakType.fakeEventName);if(event.isDefaultPrevented()){return;}}breakType.insert(editor,evt);if(isNonNullable(evt)){fireInputEvent(editor,breakType.fakeEventName);}};const insert$1=(editor,evt)=>{const br=()=>insertBreak(linebreak,editor,evt);const block=()=>insertBreak(blockbreak,editor,evt);const logicalAction=getAction(editor,evt);switch(getNewlineBehavior(editor)){case'linebreak':logicalAction.fold(br,br,noop);break;case'block':logicalAction.fold(block,block,noop);break;case'invert':logicalAction.fold(block,br,noop);break;default:logicalAction.fold(br,block,noop);break;}};const platform$1=detect$2();const isIOSSafari=platform$1.os.isiOS()&&platform$1.browser.isSafari();const handleEnterKeyEvent=(editor,event)=>{if(event.isDefaultPrevented()){return;}event.preventDefault();endTypingLevelIgnoreLocks(editor.undoManager);editor.undoManager.transact(()=>{insert$1(editor,event);});};const isCaretAfterKoreanCharacter=rng=>{if(!rng.collapsed){return false;}const startContainer=rng.startContainer;if(isText$a(startContainer)){const koreanCharRegex=/^[\\uAC00-\\uD7AF\\u1100-\\u11FF\\u3130-\\u318F\\uA960-\\uA97F\\uD7B0-\\uD7FF]$/;const char=startContainer.data.charAt(rng.startOffset-1);return koreanCharRegex.test(char);}else{return false;}};const setup$i=editor=>{let iOSSafariKeydownBookmark=Optional.none();const iOSSafariKeydownOverride=editor=>{iOSSafariKeydownBookmark=Optional.some(editor.selection.getBookmark());editor.undoManager.add();};const iOSSafariKeyupOverride=(editor,event)=>{editor.undoManager.undo();iOSSafariKeydownBookmark.fold(noop,b=>editor.selection.moveToBookmark(b));handleEnterKeyEvent(editor,event);iOSSafariKeydownBookmark=Optional.none();};editor.on('keydown',event=>{if(event.keyCode===VK.ENTER){if(isIOSSafari&&isCaretAfterKoreanCharacter(editor.selection.getRng())){iOSSafariKeydownOverride(editor);}else{handleEnterKeyEvent(editor,event);}}});editor.on('keyup',event=>{if(event.keyCode===VK.ENTER){iOSSafariKeydownBookmark.each(()=>iOSSafariKeyupOverride(editor,event));}});};const executeKeydownOverride$2=(editor,caret,evt)=>{const isMac=Env.os.isMacOS()||Env.os.isiOS();execute([{keyCode:VK.END,action:action(moveToLineEndPoint$1,editor,true)},{keyCode:VK.HOME,action:action(moveToLineEndPoint$1,editor,false)},...(!isMac?[{keyCode:VK.HOME,action:action(selectToEndPoint,editor,false),ctrlKey:true,shiftKey:true},{keyCode:VK.END,action:action(selectToEndPoint,editor,true),ctrlKey:true,shiftKey:true}]:[]),{keyCode:VK.END,action:action(moveToLineEndPoint,editor,true)},{keyCode:VK.HOME,action:action(moveToLineEndPoint,editor,false)},{keyCode:VK.END,action:action(moveToLineEndPoint$2,editor,true,caret)},{keyCode:VK.HOME,action:action(moveToLineEndPoint$2,editor,false,caret)}],evt).each(_=>{evt.preventDefault();});};const setup$h=(editor,caret)=>{editor.on('keydown',evt=>{if(!evt.isDefaultPrevented()){executeKeydownOverride$2(editor,caret,evt);}});};const setup$g=editor=>{editor.on('input',e=>{if(!e.isComposing){normalizeNbspsInEditor(editor);}});};const platform=detect$2();const executeKeyupAction=(editor,caret,evt)=>{execute([{keyCode:VK.PAGE_UP,action:action(moveToLineEndPoint$2,editor,false,caret)},{keyCode:VK.PAGE_DOWN,action:action(moveToLineEndPoint$2,editor,true,caret)}],evt);};const stopImmediatePropagation=e=>e.stopImmediatePropagation();const isPageUpDown=evt=>evt.keyCode===VK.PAGE_UP||evt.keyCode===VK.PAGE_DOWN;const setNodeChangeBlocker=(blocked,editor,block)=>{if(block&&!blocked.get()){editor.on('NodeChange',stopImmediatePropagation,true);}else if(!block&&blocked.get()){editor.off('NodeChange',stopImmediatePropagation);}blocked.set(block);};const setup$f=(editor,caret)=>{if(platform.os.isMacOS()){return;}const blocked=Cell(false);editor.on('keydown',evt=>{if(isPageUpDown(evt)){setNodeChangeBlocker(blocked,editor,true);}});editor.on('keyup',evt=>{if(!evt.isDefaultPrevented()){executeKeyupAction(editor,caret,evt);}if(isPageUpDown(evt)&&blocked.get()){setNodeChangeBlocker(blocked,editor,false);editor.nodeChanged();}});};const setup$e=editor=>{editor.on('beforeinput',e=>{if(!editor.selection.isEditable()||exists(e.getTargetRanges(),rng=>!isEditableRange(editor.dom,rng))){e.preventDefault();}});};const insertTextAtPosition=(text,pos)=>{const container=pos.container();const offset=pos.offset();if(isText$a(container)){container.insertData(offset,text);return Optional.some(CaretPosition(container,offset+text.length));}else{return getElementFromPosition(pos).map(elm=>{const textNode=SugarElement.fromText(text);if(pos.isAtEnd()){after$4(elm,textNode);}else{before$3(elm,textNode);}return CaretPosition(textNode.dom,text.length);});}};const insertNbspAtPosition=curry(insertTextAtPosition,nbsp);const insertSpaceAtPosition=curry(insertTextAtPosition,' ');const insertSpaceOrNbspAtPosition=(root,pos,schema)=>needsToHaveNbsp(root,pos,schema)?insertNbspAtPosition(pos):insertSpaceAtPosition(pos);const locationToCaretPosition=root=>location=>location.fold(element=>prevPosition(root.dom,CaretPosition.before(element)),element=>firstPositionIn(element),element=>lastPositionIn(element),element=>nextPosition(root.dom,CaretPosition.after(element)));const insertInlineBoundarySpaceOrNbsp=(root,pos,schema)=>checkPos=>needsToHaveNbsp(root,checkPos,schema)?insertNbspAtPosition(pos):insertSpaceAtPosition(pos);const setSelection=editor=>pos=>{editor.selection.setRng(pos.toRange());editor.nodeChanged();};const isInsideSummary=(domUtils,node)=>domUtils.isEditable(domUtils.getParent(node,'summary'));const insertSpaceOrNbspAtSelection=editor=>{const pos=CaretPosition.fromRangeStart(editor.selection.getRng());const root=SugarElement.fromDom(editor.getBody());if(editor.selection.isCollapsed()){const isInlineTarget$1=curry(isInlineTarget,editor);const caretPosition=CaretPosition.fromRangeStart(editor.selection.getRng());return readLocation(isInlineTarget$1,editor.getBody(),caretPosition).bind(locationToCaretPosition(root)).map(checkPos=>()=>insertInlineBoundarySpaceOrNbsp(root,pos,editor.schema)(checkPos).each(setSelection(editor)));}else{return Optional.none();}};const insertSpaceInSummaryAtSelectionOnFirefox=editor=>{const insertSpaceThunk=()=>{const root=SugarElement.fromDom(editor.getBody());if(!editor.selection.isCollapsed()){editor.getDoc().execCommand('Delete');}const pos=CaretPosition.fromRangeStart(editor.selection.getRng());insertSpaceOrNbspAtPosition(root,pos,editor.schema).each(setSelection(editor));};return someIf(Env.browser.isFirefox()&&editor.selection.isEditable()&&isInsideSummary(editor.dom,editor.selection.getRng().startContainer),insertSpaceThunk);};const executeKeydownOverride$1=(editor,evt)=>{executeWithDelayedAction([{keyCode:VK.SPACEBAR,action:action(insertSpaceOrNbspAtSelection,editor)},{keyCode:VK.SPACEBAR,action:action(insertSpaceInSummaryAtSelectionOnFirefox,editor)}],evt).each(applyAction=>{evt.preventDefault();const event=fireBeforeInputEvent(editor,'insertText',{data:' '});if(!event.isDefaultPrevented()){applyAction();fireInputEvent(editor,'insertText',{data:' '});}});};const setup$d=editor=>{editor.on('keydown',evt=>{if(!evt.isDefaultPrevented()){executeKeydownOverride$1(editor,evt);}});};const tableTabNavigation=editor=>{if(hasTableTabNavigation(editor)){return[{keyCode:VK.TAB,action:action(handleTab,editor,true)},{keyCode:VK.TAB,shiftKey:true,action:action(handleTab,editor,false)}];}else{return[];}};const executeKeydownOverride=(editor,evt)=>{execute([...tableTabNavigation(editor)],evt).each(_=>{evt.preventDefault();});};const setup$c=editor=>{editor.on('keydown',evt=>{if(!evt.isDefaultPrevented()){executeKeydownOverride(editor,evt);}});};const setup$b=editor=>{editor.addShortcut('Meta+P','','mcePrint');setup$k(editor);if(isRtc(editor)){return Cell(null);}else{const caret=setupSelectedState(editor);setup$e(editor);setup$m(editor);setup$l(editor,caret);setup$j(editor,caret);setup$i(editor);setup$d(editor);setup$g(editor);setup$c(editor);setup$h(editor,caret);setup$f(editor,caret);return caret;}};class NodeChange{constructor(editor){this.lastPath=[];this.editor=editor;let lastRng;const self=this;if(!('onselectionchange'in editor.getDoc())){editor.on('NodeChange click mouseup keyup focus',e=>{const nativeRng=editor.selection.getRng();const fakeRng={startContainer:nativeRng.startContainer,startOffset:nativeRng.startOffset,endContainer:nativeRng.endContainer,endOffset:nativeRng.endOffset};if(e.type==='nodechange'||!isEq$4(fakeRng,lastRng)){editor.dispatch('SelectionChange');}lastRng=fakeRng;});}editor.on('contextmenu',()=>{editor.dispatch('SelectionChange');});editor.on('SelectionChange',()=>{const startElm=editor.selection.getStart(true);if(!startElm){return;}if(hasAnyRanges(editor)&&!self.isSameElementPath(startElm)&&editor.dom.isChildOf(startElm,editor.getBody())){editor.nodeChanged({selectionChange:true});}});editor.on('mouseup',e=>{if(!e.isDefaultPrevented()&&hasAnyRanges(editor)){if(editor.selection.getNode().nodeName==='IMG'){Delay.setEditorTimeout(editor,()=>{editor.nodeChanged();});}else{editor.nodeChanged();}}});}nodeChanged(args={}){const selection=this.editor.selection;let node;if(this.editor.initialized&&selection&&!shouldDisableNodeChange(this.editor)&&!this.editor.mode.isReadOnly()){const root=this.editor.getBody();node=selection.getStart(true)||root;if(node.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(node,root)){node=root;}const parents=[];this.editor.dom.getParent(node,node=>{if(node===root){return true;}else{parents.push(node);return false;}});this.editor.dispatch('NodeChange',{...args,element:node,parents});}}isSameElementPath(startElm){let i;const editor=this.editor;const currentPath=reverse(editor.dom.getParents(startElm,always,editor.getBody()));if(currentPath.length===this.lastPath.length){for(i=currentPath.length;i>=0;i--){if(currentPath[i]!==this.lastPath[i]){break;}}if(i===-1){this.lastPath=currentPath;return true;}}this.lastPath=currentPath;return false;}}const imageId=generate$1('image');const getDragImage=transfer=>{const dt=transfer;return Optional.from(dt[imageId]);};const setDragImage=(transfer,imageData)=>{const dt=transfer;dt[imageId]=imageData;};const eventId=generate$1('event');const getEvent=transfer=>{const dt=transfer;return Optional.from(dt[eventId]);};const mkSetEventFn=type=>transfer=>{const dt=transfer;dt[eventId]=type;};const setEvent=(transfer,type)=>mkSetEventFn(type)(transfer);const setDragstartEvent=mkSetEventFn(0);const setDropEvent=mkSetEventFn(2);const setDragendEvent=mkSetEventFn(1);const checkEvent=expectedType=>transfer=>{const dt=transfer;return Optional.from(dt[eventId]).exists(type=>type===expectedType);};const isInDragStartEvent=checkEvent(0);const createEmptyFileList=()=>Object.freeze({length:0,item:_=>null});const modeId=generate$1('mode');const getMode=transfer=>{const dt=transfer;return Optional.from(dt[modeId]);};const mkSetModeFn=mode=>transfer=>{const dt=transfer;dt[modeId]=mode;};const setMode$1=(transfer,mode)=>mkSetModeFn(mode)(transfer);const setReadWriteMode=mkSetModeFn(0);const setReadOnlyMode=mkSetModeFn(2);const setProtectedMode=mkSetModeFn(1);const checkMode=expectedMode=>transfer=>{const dt=transfer;return Optional.from(dt[modeId]).exists(mode=>mode===expectedMode);};const isInReadWriteMode=checkMode(0);const isInProtectedMode=checkMode(1);const normalizeItems=(dataTransfer,itemsImpl)=>({...itemsImpl,get length(){return itemsImpl.length;},add:(data,type)=>{if(isInReadWriteMode(dataTransfer)){if(isString(data)){if(!isUndefined(type)){return itemsImpl.add(data,type);}}else{return itemsImpl.add(data);}}return null;},remove:idx=>{if(isInReadWriteMode(dataTransfer)){itemsImpl.remove(idx);}},clear:()=>{if(isInReadWriteMode(dataTransfer)){itemsImpl.clear();}}});const validDropEffects=['none','copy','link','move'];const validEffectAlloweds=['none','copy','copyLink','copyMove','link','linkMove','move','all','uninitialized'];const createDataTransfer=()=>{const dataTransferImpl=new window.DataTransfer();let dropEffect='move';let effectAllowed='all';const dataTransfer={get dropEffect(){return dropEffect;},set dropEffect(effect){if(contains$2(validDropEffects,effect)){dropEffect=effect;}},get effectAllowed(){return effectAllowed;},set effectAllowed(allowed){if(isInDragStartEvent(dataTransfer)&&contains$2(validEffectAlloweds,allowed)){effectAllowed=allowed;}},get items(){return normalizeItems(dataTransfer,dataTransferImpl.items);},get files(){if(isInProtectedMode(dataTransfer)){return createEmptyFileList();}else{return dataTransferImpl.files;}},get types(){return dataTransferImpl.types;},setDragImage:(image,x,y)=>{if(isInReadWriteMode(dataTransfer)){setDragImage(dataTransfer,{image,x,y});dataTransferImpl.setDragImage(image,x,y);}},getData:format=>{if(isInProtectedMode(dataTransfer)){return'';}else{return dataTransferImpl.getData(format);}},setData:(format,data)=>{if(isInReadWriteMode(dataTransfer)){dataTransferImpl.setData(format,data);}},clearData:format=>{if(isInReadWriteMode(dataTransfer)){dataTransferImpl.clearData(format);}}};setReadWriteMode(dataTransfer);return dataTransfer;};const cloneDataTransfer=original=>{const clone=createDataTransfer();const originalMode=getMode(original);setReadOnlyMode(original);setDragstartEvent(clone);clone.dropEffect=original.dropEffect;clone.effectAllowed=original.effectAllowed;getDragImage(original).each(imageData=>clone.setDragImage(imageData.image,imageData.x,imageData.y));each$e(original.types,type=>{if(type!=='Files'){clone.setData(type,original.getData(type));}});each$e(original.files,file=>clone.items.add(file));getEvent(original).each(type=>{setEvent(clone,type);});originalMode.each(mode=>{setMode$1(original,mode);setMode$1(clone,mode);});return clone;};const getHtmlData=dataTransfer=>{const html=dataTransfer.getData('text/html');return html===''?Optional.none():Optional.some(html);};const setHtmlData=(dataTransfer,html)=>dataTransfer.setData('text/html',html);const internalMimeType='x-tinymce/html';const internalHtmlMime=constant(internalMimeType);const internalMark='<!-- '+internalMimeType+' -->';const mark=html=>internalMark+html;const unmark=html=>html.replace(internalMark,'');const isMarked=html=>html.indexOf(internalMark)!==-1;const isPlainText=text=>{return!/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);};const openContainer=(rootTag,rootAttrs)=>{let tag='<'+rootTag;const attrs=mapToArray(rootAttrs,(value,key)=>key+'=\"'+Entities.encodeAllRaw(value)+'\"');if(attrs.length){tag+=' '+attrs.join(' ');}return tag+'>';};const toBlockElements=(text,rootTag,rootAttrs)=>{const blocks=text.split(/\\n\\n/);const tagOpen=openContainer(rootTag,rootAttrs);const tagClose='</'+rootTag+'>';const paragraphs=map$3(blocks,p=>{return p.split(/\\n/).join('<br />');});const stitch=p=>{return tagOpen+p+tagClose;};return paragraphs.length===1?paragraphs[0]:map$3(paragraphs,stitch).join('');};const pasteBinDefaultContent='%MCEPASTEBIN%';const create$6=(editor,lastRngCell)=>{const{dom,selection}=editor;const body=editor.getBody();lastRngCell.set(selection.getRng());const pasteBinElm=dom.add(editor.getBody(),'div',{'id':'mcepastebin','class':'mce-pastebin','contentEditable':true,'data-mce-bogus':'all','style':'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'},pasteBinDefaultContent);if(Env.browser.isFirefox()){dom.setStyle(pasteBinElm,'left',dom.getStyle(body,'direction',true)==='rtl'?65535:-65535);}dom.bind(pasteBinElm,'beforedeactivate focusin focusout',e=>{e.stopPropagation();});pasteBinElm.focus();selection.select(pasteBinElm,true);};const remove=(editor,lastRngCell)=>{const dom=editor.dom;if(getEl(editor)){let pasteBinClone;const lastRng=lastRngCell.get();while(pasteBinClone=getEl(editor)){dom.remove(pasteBinClone);dom.unbind(pasteBinClone);}if(lastRng){editor.selection.setRng(lastRng);}}lastRngCell.set(null);};const getEl=editor=>editor.dom.get('mcepastebin');const isPasteBin=elm=>isNonNullable(elm)&&elm.id==='mcepastebin';const getHtml=editor=>{const dom=editor.dom;const copyAndRemove=(toElm,fromElm)=>{toElm.appendChild(fromElm);dom.remove(fromElm,true);};const[pasteBinElm,...pasteBinClones]=filter$5(editor.getBody().childNodes,isPasteBin);each$e(pasteBinClones,pasteBinClone=>{copyAndRemove(pasteBinElm,pasteBinClone);});const dirtyWrappers=dom.select('div[id=mcepastebin]',pasteBinElm);for(let i=dirtyWrappers.length-1;i>=0;i--){const cleanWrapper=dom.create('div');pasteBinElm.insertBefore(cleanWrapper,dirtyWrappers[i]);copyAndRemove(cleanWrapper,dirtyWrappers[i]);}return pasteBinElm?pasteBinElm.innerHTML:'';};const isDefaultPasteBinContent=content=>content===pasteBinDefaultContent;const PasteBin=editor=>{const lastRng=Cell(null);return{create:()=>create$6(editor,lastRng),remove:()=>remove(editor,lastRng),getEl:()=>getEl(editor),getHtml:()=>getHtml(editor),getLastRng:lastRng.get};};const filter$1=(content,items)=>{Tools.each(items,v=>{if(is$4(v,RegExp)){content=content.replace(v,'');}else{content=content.replace(v[0],v[1]);}});return content;};const innerText=html=>{const schema=Schema();const domParser=DomParser({},schema);let text='';const voidElements=schema.getVoidElements();const ignoreElements=Tools.makeMap('script noscript style textarea video audio iframe object',' ');const blockElements=schema.getBlockElements();const walk=node=>{const name=node.name,currentNode=node;if(name==='br'){text+='\\n';return;}if(name==='wbr'){return;}if(voidElements[name]){text+=' ';}if(ignoreElements[name]){text+=' ';return;}if(node.type===3){text+=node.value;}if(!(node.name in schema.getVoidElements())){let currentNode=node.firstChild;if(currentNode){do{walk(currentNode);}while(currentNode=currentNode.next);}}if(blockElements[name]&&currentNode.next){text+='\\n';if(name==='p'){text+='\\n';}}};html=filter$1(html,[/<!\\[[^\\]]+\\]>/g]);walk(domParser.parse(html));return text;};const trimHtml=html=>{const trimSpaces=(all,s1,s2)=>{if(!s1&&!s2){return' ';}return nbsp;};html=filter$1(html,[/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,trimSpaces],/<br class=\"Apple-interchange-newline\">/g,/<br>$/i]);return html;};const createIdGenerator=prefix=>{let count=0;return()=>{return prefix+count++;};};const getImageMimeType=ext=>{const lowerExt=ext.toLowerCase();const mimeOverrides={jpg:'jpeg',jpe:'jpeg',jfi:'jpeg',jif:'jpeg',jfif:'jpeg',pjpeg:'jpeg',pjp:'jpeg',svg:'svg+xml'};return Tools.hasOwn(mimeOverrides,lowerExt)?'image/'+mimeOverrides[lowerExt]:'image/'+lowerExt;};const preProcess=(editor,html)=>{const parser=DomParser({sanitize:shouldSanitizeXss(editor),sandbox_iframes:shouldSandboxIframes(editor)},editor.schema);parser.addNodeFilter('meta',nodes=>{Tools.each(nodes,node=>{node.remove();});});const fragment=parser.parse(html,{forced_root_block:false,isRootContent:true});return HtmlSerializer({validate:true},editor.schema).serialize(fragment);};const processResult=(content,cancelled)=>({content,cancelled});const postProcessFilter=(editor,html,internal)=>{const tempBody=editor.dom.create('div',{style:'display:none'},html);const postProcessArgs=firePastePostProcess(editor,tempBody,internal);return processResult(postProcessArgs.node.innerHTML,postProcessArgs.isDefaultPrevented());};const filterContent=(editor,content,internal)=>{const preProcessArgs=firePastePreProcess(editor,content,internal);const filteredContent=preProcess(editor,preProcessArgs.content);if(editor.hasEventListeners('PastePostProcess')&&!preProcessArgs.isDefaultPrevented()){return postProcessFilter(editor,filteredContent,internal);}else{return processResult(filteredContent,preProcessArgs.isDefaultPrevented());}};const process=(editor,html,internal)=>{return filterContent(editor,html,internal);};const pasteHtml$1=(editor,html)=>{editor.insertContent(html,{merge:shouldPasteMergeFormats(editor),paste:true});return true;};const isAbsoluteUrl=url=>/^https?:\\/\\/[\\w\\-\\/+=.,!;:&%@^~(){}?#]+$/i.test(url);const isImageUrl=(editor,url)=>{return isAbsoluteUrl(url)&&exists(getAllowedImageFileTypes(editor),type=>endsWith(url.toLowerCase(),`.${type.toLowerCase()}`));};const createImage=(editor,url,pasteHtmlFn)=>{editor.undoManager.extra(()=>{pasteHtmlFn(editor,url);},()=>{editor.insertContent('<img src=\"'+url+'\">');});return true;};const createLink=(editor,url,pasteHtmlFn)=>{editor.undoManager.extra(()=>{pasteHtmlFn(editor,url);},()=>{editor.execCommand('mceInsertLink',false,url);});return true;};const linkSelection=(editor,html,pasteHtmlFn)=>!editor.selection.isCollapsed()&&isAbsoluteUrl(html)?createLink(editor,html,pasteHtmlFn):false;const insertImage=(editor,html,pasteHtmlFn)=>isImageUrl(editor,html)?createImage(editor,html,pasteHtmlFn):false;const smartInsertContent=(editor,html)=>{Tools.each([linkSelection,insertImage,pasteHtml$1],action=>{return!action(editor,html,pasteHtml$1);});};const insertContent=(editor,html,pasteAsText)=>{if(pasteAsText||!isSmartPasteEnabled(editor)){pasteHtml$1(editor,html);}else{smartInsertContent(editor,html);}};const uniqueId=createIdGenerator('mceclip');const createPasteDataTransfer=html=>{const dataTransfer=createDataTransfer();setHtmlData(dataTransfer,html);setReadOnlyMode(dataTransfer);return dataTransfer;};const doPaste=(editor,content,internal,pasteAsText,shouldSimulateInputEvent)=>{const res=process(editor,content,internal);if(!res.cancelled){const content=res.content;const doPasteAction=()=>insertContent(editor,content,pasteAsText);if(shouldSimulateInputEvent){const args=fireBeforeInputEvent(editor,'insertFromPaste',{dataTransfer:createPasteDataTransfer(content)});if(!args.isDefaultPrevented()){doPasteAction();fireInputEvent(editor,'insertFromPaste');}}else{doPasteAction();}}};const pasteHtml=(editor,html,internalFlag,shouldSimulateInputEvent)=>{const internal=internalFlag?internalFlag:isMarked(html);doPaste(editor,unmark(html),internal,false,shouldSimulateInputEvent);};const pasteText=(editor,text,shouldSimulateInputEvent)=>{const encodedText=editor.dom.encode(text).replace(/\\r\\n/g,'\\n');const normalizedText=normalize$4(encodedText,getPasteTabSpaces(editor));const html=toBlockElements(normalizedText,getForcedRootBlock(editor),getForcedRootBlockAttrs(editor));doPaste(editor,html,false,true,shouldSimulateInputEvent);};const getDataTransferItems=dataTransfer=>{const items={};if(dataTransfer&&dataTransfer.types){for(let i=0;i<dataTransfer.types.length;i++){const contentType=dataTransfer.types[i];try{items[contentType]=dataTransfer.getData(contentType);}catch(ex){items[contentType]='';}}}return items;};const hasContentType=(clipboardContent,mimeType)=>mimeType in clipboardContent&&clipboardContent[mimeType].length>0;const hasHtmlOrText=content=>hasContentType(content,'text/html')||hasContentType(content,'text/plain');const extractFilename=(editor,str)=>{const m=str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);return isNonNullable(m)?editor.dom.encode(m[1]):undefined;};const createBlobInfo=(editor,blobCache,file,base64)=>{const id=uniqueId();const useFileName=shouldReuseFileName(editor)&&isNonNullable(file.name);const name=useFileName?extractFilename(editor,file.name):id;const filename=useFileName?file.name:undefined;const blobInfo=blobCache.create(id,file,base64,name,filename);blobCache.add(blobInfo);return blobInfo;};const pasteImage=(editor,imageItem)=>{parseDataUri(imageItem.uri).each(({data,type,base64Encoded})=>{const base64=base64Encoded?data:btoa(data);const file=imageItem.file;const blobCache=editor.editorUpload.blobCache;const existingBlobInfo=blobCache.getByData(base64,type);const blobInfo=existingBlobInfo!==null&&existingBlobInfo!==void 0?existingBlobInfo:createBlobInfo(editor,blobCache,file,base64);pasteHtml(editor,`<img src=\"${blobInfo.blobUri()}\">`,false,true);});};const isClipboardEvent=event=>event.type==='paste';const readFilesAsDataUris=items=>Promise.all(map$3(items,file=>{return blobToDataUri(file).then(uri=>({file,uri}));}));const isImage=editor=>{const allowedExtensions=getAllowedImageFileTypes(editor);return file=>startsWith(file.type,'image/')&&exists(allowedExtensions,extension=>{return getImageMimeType(extension)===file.type;});};const getImagesFromDataTransfer=(editor,dataTransfer)=>{const items=dataTransfer.items?bind$3(from(dataTransfer.items),item=>{return item.kind==='file'?[item.getAsFile()]:[];}):[];const files=dataTransfer.files?from(dataTransfer.files):[];return filter$5(items.length>0?items:files,isImage(editor));};const pasteImageData=(editor,e,rng)=>{const dataTransfer=isClipboardEvent(e)?e.clipboardData:e.dataTransfer;if(shouldPasteDataImages(editor)&&dataTransfer){const images=getImagesFromDataTransfer(editor,dataTransfer);if(images.length>0){e.preventDefault();readFilesAsDataUris(images).then(fileResults=>{if(rng){editor.selection.setRng(rng);}each$e(fileResults,result=>{pasteImage(editor,result);});});return true;}}return false;};const isBrokenAndroidClipboardEvent=e=>{var _a,_b;return Env.os.isAndroid()&&((_b=(_a=e.clipboardData)===null||_a===void 0?void 0:_a.items)===null||_b===void 0?void 0:_b.length)===0;};const isKeyboardPasteEvent=e=>VK.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45;const insertClipboardContent=(editor,clipboardContent,html,plainTextMode,shouldSimulateInputEvent)=>{let content=trimHtml(html);const isInternal=hasContentType(clipboardContent,internalHtmlMime())||isMarked(html);const isPlainTextHtml=!isInternal&&isPlainText(content);const isAbsoluteUrl$1=isAbsoluteUrl(content);if(isDefaultPasteBinContent(content)||!content.length||isPlainTextHtml&&!isAbsoluteUrl$1){plainTextMode=true;}if(plainTextMode||isAbsoluteUrl$1){if(hasContentType(clipboardContent,'text/plain')&&isPlainTextHtml){content=clipboardContent['text/plain'];}else{content=innerText(content);}}if(isDefaultPasteBinContent(content)){return;}if(plainTextMode){pasteText(editor,content,shouldSimulateInputEvent);}else{pasteHtml(editor,content,isInternal,shouldSimulateInputEvent);}};const registerEventHandlers=(editor,pasteBin,pasteFormat)=>{let keyboardPastePlainTextState;const getLastRng=()=>pasteBin.getLastRng()||editor.selection.getRng();editor.on('keydown',e=>{if(isKeyboardPasteEvent(e)&&!e.isDefaultPrevented()){keyboardPastePlainTextState=e.shiftKey&&e.keyCode===86;}});editor.on('paste',e=>{if(e.isDefaultPrevented()||isBrokenAndroidClipboardEvent(e)){return;}const plainTextMode=pasteFormat.get()==='text'||keyboardPastePlainTextState;keyboardPastePlainTextState=false;const clipboardContent=getDataTransferItems(e.clipboardData);if(!hasHtmlOrText(clipboardContent)&&pasteImageData(editor,e,getLastRng())){return;}if(hasContentType(clipboardContent,'text/html')){e.preventDefault();insertClipboardContent(editor,clipboardContent,clipboardContent['text/html'],plainTextMode,true);}else if(hasContentType(clipboardContent,'text/plain')&&hasContentType(clipboardContent,'text/uri-list')){e.preventDefault();insertClipboardContent(editor,clipboardContent,clipboardContent['text/plain'],plainTextMode,true);}else{pasteBin.create();Delay.setEditorTimeout(editor,()=>{const html=pasteBin.getHtml();pasteBin.remove();insertClipboardContent(editor,clipboardContent,html,plainTextMode,false);},0);}});};const registerDataImageFilter=editor=>{const isWebKitFakeUrl=src=>startsWith(src,'webkit-fake-url');const isDataUri=src=>startsWith(src,'data:');const isPasteInsert=args=>{var _a;return((_a=args.data)===null||_a===void 0?void 0:_a.paste)===true;};editor.parser.addNodeFilter('img',(nodes,name,args)=>{if(!shouldPasteDataImages(editor)&&isPasteInsert(args)){for(const node of nodes){const src=node.attr('src');if(isString(src)&&!node.attr('data-mce-object')&&src!==Env.transparentSrc){if(isWebKitFakeUrl(src)){node.remove();}else if(!shouldAllowHtmlDataUrls(editor)&&isDataUri(src)){node.remove();}}}}});};const registerEventsAndFilters=(editor,pasteBin,pasteFormat)=>{registerEventHandlers(editor,pasteBin,pasteFormat);registerDataImageFilter(editor);};const togglePlainTextPaste=(editor,pasteFormat)=>{if(pasteFormat.get()==='text'){pasteFormat.set('html');firePastePlainTextToggle(editor,false);}else{pasteFormat.set('text');firePastePlainTextToggle(editor,true);}editor.focus();};const register$1=(editor,pasteFormat)=>{editor.addCommand('mceTogglePlainTextPaste',()=>{togglePlainTextPaste(editor,pasteFormat);});editor.addCommand('mceInsertClipboardContent',(ui,value)=>{if(value.html){pasteHtml(editor,value.html,value.internal,false);}if(value.text){pasteText(editor,value.text,false);}});};const setHtml5Clipboard=(clipboardData,html,text)=>{if(clipboardData){try{clipboardData.clearData();clipboardData.setData('text/html',html);clipboardData.setData('text/plain',text);clipboardData.setData(internalHtmlMime(),html);return true;}catch(e){return false;}}else{return false;}};const setClipboardData=(evt,data,fallback,done)=>{if(setHtml5Clipboard(evt.clipboardData,data.html,data.text)){evt.preventDefault();done();}else{fallback(data.html,done);}};const fallback=editor=>(html,done)=>{const{dom,selection}=editor;const outer=dom.create('div',{'contenteditable':'false','data-mce-bogus':'all'});const inner=dom.create('div',{contenteditable:'true'},html);dom.setStyles(outer,{position:'fixed',top:'0',left:'-3000px',width:'1000px',overflow:'hidden'});outer.appendChild(inner);dom.add(editor.getBody(),outer);const range=selection.getRng();inner.focus();const offscreenRange=dom.createRng();offscreenRange.selectNodeContents(inner);selection.setRng(offscreenRange);Delay.setEditorTimeout(editor,()=>{selection.setRng(range);dom.remove(outer);done();},0);};const getData=editor=>({html:mark(editor.selection.getContent({contextual:true})),text:editor.selection.getContent({format:'text'})});const isTableSelection=editor=>!!editor.dom.getParent(editor.selection.getStart(),'td[data-mce-selected],th[data-mce-selected]',editor.getBody());const hasSelectedContent=editor=>!editor.selection.isCollapsed()||isTableSelection(editor);const cut=editor=>evt=>{if(!evt.isDefaultPrevented()&&hasSelectedContent(editor)&&editor.selection.isEditable()){setClipboardData(evt,getData(editor),fallback(editor),()=>{if(Env.browser.isChromium()||Env.browser.isFirefox()){const rng=editor.selection.getRng();Delay.setEditorTimeout(editor,()=>{editor.selection.setRng(rng);editor.execCommand('Delete');},0);}else{editor.execCommand('Delete');}});}};const copy=editor=>evt=>{if(!evt.isDefaultPrevented()&&hasSelectedContent(editor)){setClipboardData(evt,getData(editor),fallback(editor),noop);}};const register=editor=>{editor.on('cut',cut(editor));editor.on('copy',copy(editor));};const getCaretRangeFromEvent=(editor,e)=>{var _a,_b;return RangeUtils.getCaretRangeFromPoint((_a=e.clientX)!==null&&_a!==void 0?_a:0,(_b=e.clientY)!==null&&_b!==void 0?_b:0,editor.getDoc());};const isPlainTextFileUrl=content=>{const plainTextContent=content['text/plain'];return plainTextContent?plainTextContent.indexOf('file://')===0:false;};const setFocusedRange=(editor,rng)=>{editor.focus();if(rng){editor.selection.setRng(rng);}};const hasImage=dataTransfer=>exists(dataTransfer.files,file=>/^image\\//.test(file.type));const needsCustomInternalDrop=(dom,schema,target,dropContent)=>{const parentTransparent=dom.getParent(target,node=>isTransparentBlock(schema,node));const inSummary=!isNull(dom.getParent(target,'summary'));if(inSummary){return true;}else if(parentTransparent&&has$2(dropContent,'text/html')){const fragment=new DOMParser().parseFromString(dropContent['text/html'],'text/html').body;return!isNull(fragment.querySelector(parentTransparent.nodeName.toLowerCase()));}else{return false;}};const setupSummaryDeleteByDragFix=editor=>{editor.on('input',e=>{const hasNoSummary=el=>isNull(el.querySelector('summary'));if(e.inputType==='deleteByDrag'){const brokenDetailElements=filter$5(editor.dom.select('details'),hasNoSummary);each$e(brokenDetailElements,details=>{if(isBr$6(details.firstChild)){details.firstChild.remove();}const summary=editor.dom.create('summary');summary.appendChild(createPaddingBr().dom);details.prepend(summary);});}});};const setup$a=(editor,draggingInternallyState)=>{if(shouldPasteBlockDrop(editor)){editor.on('dragend dragover draggesture dragdrop drop drag',e=>{e.preventDefault();e.stopPropagation();});}if(!shouldPasteDataImages(editor)){editor.on('drop',e=>{const dataTransfer=e.dataTransfer;if(dataTransfer&&hasImage(dataTransfer)){e.preventDefault();}});}editor.on('drop',e=>{if(e.isDefaultPrevented()){return;}const rng=getCaretRangeFromEvent(editor,e);if(isNullable(rng)){return;}const dropContent=getDataTransferItems(e.dataTransfer);const internal=hasContentType(dropContent,internalHtmlMime());if((!hasHtmlOrText(dropContent)||isPlainTextFileUrl(dropContent))&&pasteImageData(editor,e,rng)){return;}const internalContent=dropContent[internalHtmlMime()];const content=internalContent||dropContent['text/html']||dropContent['text/plain'];const needsInternalDrop=needsCustomInternalDrop(editor.dom,editor.schema,rng.startContainer,dropContent);const isInternalDrop=draggingInternallyState.get();if(isInternalDrop&&!needsInternalDrop){return;}if(content){e.preventDefault();Delay.setEditorTimeout(editor,()=>{editor.undoManager.transact(()=>{if(internalContent||isInternalDrop&&needsInternalDrop){editor.execCommand('Delete');}setFocusedRange(editor,rng);const trimmedContent=trimHtml(content);if(dropContent['text/html']){pasteHtml(editor,trimmedContent,internal,true);}else{pasteText(editor,trimmedContent,true);}});});}});editor.on('dragstart',_e=>{draggingInternallyState.set(true);});editor.on('dragover dragend',e=>{if(shouldPasteDataImages(editor)&&!draggingInternallyState.get()){e.preventDefault();setFocusedRange(editor,getCaretRangeFromEvent(editor,e));}if(e.type==='dragend'){draggingInternallyState.set(false);}});setupSummaryDeleteByDragFix(editor);};const setup$9=editor=>{const processEvent=f=>e=>{f(editor,e);};const preProcess=getPastePreProcess(editor);if(isFunction(preProcess)){editor.on('PastePreProcess',processEvent(preProcess));}const postProcess=getPastePostProcess(editor);if(isFunction(postProcess)){editor.on('PastePostProcess',processEvent(postProcess));}};const addPreProcessFilter=(editor,filterFunc)=>{editor.on('PastePreProcess',e=>{e.content=filterFunc(editor,e.content,e.internal);});};const rgbRegExp=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;const rgbToHex=value=>Tools.trim(value).replace(rgbRegExp,rgbaToHexString).toLowerCase();const removeWebKitStyles=(editor,content,internal)=>{const webKitStylesOption=getPasteWebkitStyles(editor);if(internal||webKitStylesOption==='all'||!shouldPasteRemoveWebKitStyles(editor)){return content;}const webKitStyles=webKitStylesOption?webKitStylesOption.split(/[, ]/):[];if(webKitStyles&&webKitStylesOption!=='none'){const dom=editor.dom,node=editor.selection.getNode();content=content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,(all,before,value,after)=>{const inputStyles=dom.parseStyle(dom.decode(value));const outputStyles={};for(let i=0;i<webKitStyles.length;i++){const inputValue=inputStyles[webKitStyles[i]];let compareInput=inputValue;let currentValue=dom.getStyle(node,webKitStyles[i],true);if(/color/.test(webKitStyles[i])){compareInput=rgbToHex(compareInput);currentValue=rgbToHex(currentValue);}if(currentValue!==compareInput){outputStyles[webKitStyles[i]]=inputValue;}}const outputStyle=dom.serializeStyle(outputStyles,'span');if(outputStyle){return before+' style=\"'+outputStyle+'\"'+after;}return before+after;});}else{content=content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,'$1$3');}content=content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi,(all,before,value,after)=>{return before+' style=\"'+value+'\"'+after;});return content;};const setup$8=editor=>{if(Env.browser.isChromium()||Env.browser.isSafari()){addPreProcessFilter(editor,removeWebKitStyles);}};const setup$7=editor=>{const draggingInternallyState=Cell(false);const pasteFormat=Cell(isPasteAsTextEnabled(editor)?'text':'html');const pasteBin=PasteBin(editor);setup$8(editor);register$1(editor,pasteFormat);setup$9(editor);editor.on('PreInit',()=>{register(editor);setup$a(editor,draggingInternallyState);registerEventsAndFilters(editor,pasteBin,pasteFormat);});};const preventSummaryToggle=editor=>{editor.on('click',e=>{if(editor.dom.getParent(e.target,'details')){e.preventDefault();}});};const filterDetails=editor=>{editor.parser.addNodeFilter('details',elms=>{const initialStateOption=getDetailsInitialState(editor);each$e(elms,details=>{if(initialStateOption==='expanded'){details.attr('open','open');}else if(initialStateOption==='collapsed'){details.attr('open',null);}});});editor.serializer.addNodeFilter('details',elms=>{const serializedStateOption=getDetailsSerializedState(editor);each$e(elms,details=>{if(serializedStateOption==='expanded'){details.attr('open','open');}else if(serializedStateOption==='collapsed'){details.attr('open',null);}});});};const setup$6=editor=>{preventSummaryToggle(editor);filterDetails(editor);};const isBr=isBr$6;const isText=isText$a;const isContentEditableFalse$2=elm=>isContentEditableFalse$b(elm.dom);const isContentEditableTrue=elm=>isContentEditableTrue$3(elm.dom);const isRoot=rootNode=>elm=>eq(SugarElement.fromDom(rootNode),elm);const getClosestScope=(node,rootNode,schema)=>closest$4(SugarElement.fromDom(node),elm=>isContentEditableTrue(elm)||schema.isBlock(name(elm)),isRoot(rootNode)).getOr(SugarElement.fromDom(rootNode)).dom;const getClosestCef=(node,rootNode)=>closest$4(SugarElement.fromDom(node),isContentEditableFalse$2,isRoot(rootNode));const findEdgeCaretCandidate=(startNode,scope,forward)=>{const walker=new DomTreeWalker(startNode,scope);const next=forward?walker.next.bind(walker):walker.prev.bind(walker);let result=startNode;for(let current=forward?startNode:next();current&&!isBr(current);current=next()){if(isCaretCandidate$3(current)){result=current;}}return result;};const findClosestBlockRange=(startRng,rootNode,schema)=>{const startPos=CaretPosition.fromRangeStart(startRng);const clickNode=startPos.getNode();const scope=getClosestScope(clickNode,rootNode,schema);const startNode=findEdgeCaretCandidate(clickNode,scope,false);const endNode=findEdgeCaretCandidate(clickNode,scope,true);const rng=document.createRange();getClosestCef(startNode,scope).fold(()=>{if(isText(startNode)){rng.setStart(startNode,0);}else{rng.setStartBefore(startNode);}},cef=>rng.setStartBefore(cef.dom));getClosestCef(endNode,scope).fold(()=>{if(isText(endNode)){rng.setEnd(endNode,endNode.data.length);}else{rng.setEndAfter(endNode);}},cef=>rng.setEndAfter(cef.dom));return rng;};const onTripleClickSelect=editor=>{const rng=findClosestBlockRange(editor.selection.getRng(),editor.getBody(),editor.schema);editor.selection.setRng(normalize(rng));};const setup$5=editor=>{editor.on('mousedown',e=>{if(e.detail>=3){e.preventDefault();onTripleClickSelect(editor);}});};var FakeCaretPosition;(function(FakeCaretPosition){FakeCaretPosition['Before']='before';FakeCaretPosition['After']='after';})(FakeCaretPosition||(FakeCaretPosition={}));const distanceToRectLeft=(clientRect,clientX)=>Math.abs(clientRect.left-clientX);const distanceToRectRight=(clientRect,clientX)=>Math.abs(clientRect.right-clientX);const isInsideY=(clientY,clientRect)=>clientY>=clientRect.top&&clientY<=clientRect.bottom;const collidesY=(r1,r2)=>r1.top<r2.bottom&&r1.bottom>r2.top;const isOverlapping=(r1,r2)=>{const overlap=overlapY(r1,r2)/Math.min(r1.height,r2.height);return collidesY(r1,r2)&&overlap>0.5;};const splitRectsPerAxis=(rects,y)=>{const intersectingRects=filter$5(rects,rect=>isInsideY(y,rect));return boundingClientRectFromRects(intersectingRects).fold(()=>[[],rects],boundingRect=>{const{pass:horizontal,fail:vertical}=partition$2(rects,rect=>isOverlapping(rect,boundingRect));return[horizontal,vertical];});};const clientInfo=(rect,clientX)=>{return{node:rect.node,position:distanceToRectLeft(rect,clientX)<distanceToRectRight(rect,clientX)?FakeCaretPosition.Before:FakeCaretPosition.After};};const horizontalDistance=(rect,x,_y)=>x>rect.left&&x<rect.right?0:Math.min(Math.abs(rect.left-x),Math.abs(rect.right-x));const closestChildCaretCandidateNodeRect=(children,clientX,clientY,findCloserTextNode)=>{const caretCandidateRect=rect=>{if(isCaretCandidate$3(rect.node)){return Optional.some(rect);}else if(isElement$6(rect.node)){return closestChildCaretCandidateNodeRect(from(rect.node.childNodes),clientX,clientY,false);}else{return Optional.none();}};const tryFindSecondBestTextNode=(closest,sndClosest,distance)=>{return caretCandidateRect(sndClosest).filter(rect=>{const deltaDistance=Math.abs(distance(closest,clientX,clientY)-distance(rect,clientX,clientY));return deltaDistance<2&&isText$a(rect.node);});};const findClosestCaretCandidateNodeRect=(rects,distance)=>{const sortedRects=sort(rects,(r1,r2)=>distance(r1,clientX,clientY)-distance(r2,clientX,clientY));return findMap(sortedRects,caretCandidateRect).map(closest=>{if(findCloserTextNode&&!isText$a(closest.node)&&sortedRects.length>1){return tryFindSecondBestTextNode(closest,sortedRects[1],distance).getOr(closest);}else{return closest;}});};const[horizontalRects,verticalRects]=splitRectsPerAxis(getClientRects(children),clientY);const{pass:above,fail:below}=partition$2(verticalRects,rect=>rect.top<clientY);return findClosestCaretCandidateNodeRect(horizontalRects,horizontalDistance).orThunk(()=>findClosestCaretCandidateNodeRect(below,distanceToRectEdgeFromXY)).orThunk(()=>findClosestCaretCandidateNodeRect(above,distanceToRectEdgeFromXY));};const traverseUp=(rootElm,scope,clientX,clientY)=>{const helper=(scope,prevScope)=>{const isDragGhostContainer=node=>isElement$6(node)&&node.classList.contains('mce-drag-container');const childNodesWithoutGhost=filter$5(scope.dom.childNodes,not(isDragGhostContainer));return prevScope.fold(()=>closestChildCaretCandidateNodeRect(childNodesWithoutGhost,clientX,clientY,true),prevScope=>{const uncheckedChildren=filter$5(childNodesWithoutGhost,node=>node!==prevScope.dom);return closestChildCaretCandidateNodeRect(uncheckedChildren,clientX,clientY,true);}).orThunk(()=>{const parent=eq(scope,rootElm)?Optional.none():parentElement(scope);return parent.bind(newScope=>helper(newScope,Optional.some(scope)));});};return helper(scope,Optional.none());};const closestCaretCandidateNodeRect=(root,clientX,clientY)=>{const rootElm=SugarElement.fromDom(root);const ownerDoc=documentOrOwner(rootElm);const elementAtPoint=SugarElement.fromPoint(ownerDoc,clientX,clientY).filter(elm=>contains(rootElm,elm));const element=elementAtPoint.getOr(rootElm);return traverseUp(rootElm,element,clientX,clientY);};const closestFakeCaretCandidate=(root,clientX,clientY)=>closestCaretCandidateNodeRect(root,clientX,clientY).filter(rect=>isFakeCaretTarget(rect.node)).map(rect=>clientInfo(rect,clientX));const getAbsolutePosition=elm=>{var _a,_b;const clientRect=elm.getBoundingClientRect();const doc=elm.ownerDocument;const docElem=doc.documentElement;const win=doc.defaultView;return{top:clientRect.top+((_a=win===null||win===void 0?void 0:win.scrollY)!==null&&_a!==void 0?_a:0)-docElem.clientTop,left:clientRect.left+((_b=win===null||win===void 0?void 0:win.scrollX)!==null&&_b!==void 0?_b:0)-docElem.clientLeft};};const getBodyPosition=editor=>editor.inline?getAbsolutePosition(editor.getBody()):{left:0,top:0};const getScrollPosition=editor=>{const body=editor.getBody();return editor.inline?{left:body.scrollLeft,top:body.scrollTop}:{left:0,top:0};};const getBodyScroll=editor=>{const body=editor.getBody(),docElm=editor.getDoc().documentElement;const inlineScroll={left:body.scrollLeft,top:body.scrollTop};const iframeScroll={left:body.scrollLeft||docElm.scrollLeft,top:body.scrollTop||docElm.scrollTop};return editor.inline?inlineScroll:iframeScroll;};const getMousePosition=(editor,event)=>{if(event.target.ownerDocument!==editor.getDoc()){const iframePosition=getAbsolutePosition(editor.getContentAreaContainer());const scrollPosition=getBodyScroll(editor);return{left:event.pageX-iframePosition.left+scrollPosition.left,top:event.pageY-iframePosition.top+scrollPosition.top};}return{left:event.pageX,top:event.pageY};};const calculatePosition=(bodyPosition,scrollPosition,mousePosition)=>({pageX:mousePosition.left-bodyPosition.left+scrollPosition.left,pageY:mousePosition.top-bodyPosition.top+scrollPosition.top});const calc=(editor,event)=>calculatePosition(getBodyPosition(editor),getScrollPosition(editor),getMousePosition(editor,event));const getTargetProps=target=>({target,srcElement:target});const makeDndEventFromMouseEvent=(type,mouseEvent,target,dataTransfer)=>({...mouseEvent,dataTransfer,type,...getTargetProps(target)});const makeDndEvent=(type,target,dataTransfer)=>{const fail=die('Function not supported on simulated event.');const event={bubbles:true,cancelBubble:false,cancelable:true,composed:false,currentTarget:null,defaultPrevented:false,eventPhase:0,isTrusted:true,returnValue:false,timeStamp:0,type,composedPath:fail,initEvent:fail,preventDefault:noop,stopImmediatePropagation:noop,stopPropagation:noop,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:false,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:false,metaKey:false,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:false,x:0,y:0,detail:0,view:null,which:0,initUIEvent:fail,initMouseEvent:fail,getModifierState:fail,dataTransfer,...getTargetProps(target)};return event;};const makeDataTransferCopyForDragEvent=(dataTransfer,eventType)=>{const copy=cloneDataTransfer(dataTransfer);if(eventType==='dragstart'){setDragstartEvent(copy);setReadWriteMode(copy);}else if(eventType==='drop'){setDropEvent(copy);setReadOnlyMode(copy);}else{setDragendEvent(copy);setProtectedMode(copy);}return copy;};const makeDragEvent=(type,target,dataTransfer,mouseEvent)=>{const dataTransferForDispatch=makeDataTransferCopyForDragEvent(dataTransfer,type);return isUndefined(mouseEvent)?makeDndEvent(type,target,dataTransferForDispatch):makeDndEventFromMouseEvent(type,mouseEvent,target,dataTransferForDispatch);};const scrollPixelsPerInterval=32;const scrollIntervalValue=100;const mouseRangeToTriggerScrollInsideEditor=8;const mouseRangeToTriggerScrollOutsideEditor=16;const isContentEditableFalse$1=isContentEditableFalse$b;const isContentEditable=or(isContentEditableFalse$1,isContentEditableTrue$3);const isDraggable=(dom,rootElm,elm)=>isContentEditableFalse$1(elm)&&elm!==rootElm&&dom.isEditable(elm.parentElement);const isValidDropTarget=(editor,targetElement,dragElement)=>{if(isNullable(targetElement)){return false;}else if(targetElement===dragElement||editor.dom.isChildOf(targetElement,dragElement)){return false;}else{return editor.dom.isEditable(targetElement);}};const createGhost=(editor,elm,width,height)=>{const dom=editor.dom;const clonedElm=elm.cloneNode(true);dom.setStyles(clonedElm,{width,height});dom.setAttrib(clonedElm,'data-mce-selected',null);const ghostElm=dom.create('div',{'class':'mce-drag-container','data-mce-bogus':'all','unselectable':'on','contenteditable':'false'});dom.setStyles(ghostElm,{position:'absolute',opacity:0.5,overflow:'hidden',border:0,padding:0,margin:0,width,height});dom.setStyles(clonedElm,{margin:0,boxSizing:'border-box'});ghostElm.appendChild(clonedElm);return ghostElm;};const appendGhostToBody=(ghostElm,bodyElm)=>{if(ghostElm.parentNode!==bodyElm){bodyElm.appendChild(ghostElm);}};const scrollEditor=(direction,amount)=>win=>()=>{const current=direction==='left'?win.scrollX:win.scrollY;win.scroll({[direction]:current+amount,behavior:'smooth'});};const scrollLeft=scrollEditor('left',-scrollPixelsPerInterval);const scrollRight=scrollEditor('left',scrollPixelsPerInterval);const scrollUp=scrollEditor('top',-scrollPixelsPerInterval);const scrollDown=scrollEditor('top',scrollPixelsPerInterval);const moveGhost=(ghostElm,position,width,height,maxX,maxY,mouseY,mouseX,contentAreaContainer,win,state,mouseEventOriginatedFromWithinTheEditor)=>{let overflowX=0,overflowY=0;ghostElm.style.left=position.pageX+'px';ghostElm.style.top=position.pageY+'px';if(position.pageX+width>maxX){overflowX=position.pageX+width-maxX;}if(position.pageY+height>maxY){overflowY=position.pageY+height-maxY;}ghostElm.style.width=width-overflowX+'px';ghostElm.style.height=height-overflowY+'px';const clientHeight=contentAreaContainer.clientHeight;const clientWidth=contentAreaContainer.clientWidth;const outerMouseY=mouseY+contentAreaContainer.getBoundingClientRect().top;const outerMouseX=mouseX+contentAreaContainer.getBoundingClientRect().left;state.on(state=>{state.intervalId.clear();if(state.dragging&&mouseEventOriginatedFromWithinTheEditor){if(mouseY+mouseRangeToTriggerScrollInsideEditor>=clientHeight){state.intervalId.set(scrollDown(win));}else if(mouseY-mouseRangeToTriggerScrollInsideEditor<=0){state.intervalId.set(scrollUp(win));}else if(mouseX+mouseRangeToTriggerScrollInsideEditor>=clientWidth){state.intervalId.set(scrollRight(win));}else if(mouseX-mouseRangeToTriggerScrollInsideEditor<=0){state.intervalId.set(scrollLeft(win));}else if(outerMouseY+mouseRangeToTriggerScrollOutsideEditor>=window.innerHeight){state.intervalId.set(scrollDown(window));}else if(outerMouseY-mouseRangeToTriggerScrollOutsideEditor<=0){state.intervalId.set(scrollUp(window));}else if(outerMouseX+mouseRangeToTriggerScrollOutsideEditor>=window.innerWidth){state.intervalId.set(scrollRight(window));}else if(outerMouseX-mouseRangeToTriggerScrollOutsideEditor<=0){state.intervalId.set(scrollLeft(window));}}});};const removeElement=elm=>{if(elm&&elm.parentNode){elm.parentNode.removeChild(elm);}};const removeElementWithPadding=(dom,elm)=>{const parentBlock=dom.getParent(elm.parentNode,dom.isBlock);removeElement(elm);if(parentBlock&&parentBlock!==dom.getRoot()&&dom.isEmpty(parentBlock)){fillWithPaddingBr(SugarElement.fromDom(parentBlock));}};const isLeftMouseButtonPressed=e=>e.button===0;const applyRelPos=(state,position)=>({pageX:position.pageX-state.relX,pageY:position.pageY+5});const start=(state,editor)=>e=>{if(isLeftMouseButtonPressed(e)){const ceElm=find$2(editor.dom.getParents(e.target),isContentEditable).getOr(null);if(isNonNullable(ceElm)&&isDraggable(editor.dom,editor.getBody(),ceElm)){const elmPos=editor.dom.getPos(ceElm);const bodyElm=editor.getBody();const docElm=editor.getDoc().documentElement;state.set({element:ceElm,dataTransfer:createDataTransfer(),dragging:false,screenX:e.screenX,screenY:e.screenY,maxX:(editor.inline?bodyElm.scrollWidth:docElm.offsetWidth)-2,maxY:(editor.inline?bodyElm.scrollHeight:docElm.offsetHeight)-2,relX:e.pageX-elmPos.x,relY:e.pageY-elmPos.y,width:ceElm.offsetWidth,height:ceElm.offsetHeight,ghost:createGhost(editor,ceElm,ceElm.offsetWidth,ceElm.offsetHeight),intervalId:repeatable(scrollIntervalValue)});}}};const placeCaretAt=(editor,clientX,clientY)=>{editor._selectionOverrides.hideFakeCaret();closestFakeCaretCandidate(editor.getBody(),clientX,clientY).fold(()=>editor.selection.placeCaretAt(clientX,clientY),caretInfo=>{const range=editor._selectionOverrides.showCaret(1,caretInfo.node,caretInfo.position===FakeCaretPosition.Before,false);if(range){editor.selection.setRng(range);}else{editor.selection.placeCaretAt(clientX,clientY);}});};const dispatchDragEvent=(editor,type,target,dataTransfer,mouseEvent)=>{if(type==='dragstart'){setHtmlData(dataTransfer,editor.dom.getOuterHTML(target));}const event=makeDragEvent(type,target,dataTransfer,mouseEvent);const args=editor.dispatch(type,event);return args;};const move=(state,editor)=>{const throttledPlaceCaretAt=first$1((clientX,clientY)=>placeCaretAt(editor,clientX,clientY),0);editor.on('remove',throttledPlaceCaretAt.cancel);const state_=state;return e=>state.on(state=>{const movement=Math.max(Math.abs(e.screenX-state.screenX),Math.abs(e.screenY-state.screenY));if(!state.dragging&&movement>10){const args=dispatchDragEvent(editor,'dragstart',state.element,state.dataTransfer,e);if(isNonNullable(args.dataTransfer)){state.dataTransfer=args.dataTransfer;}if(args.isDefaultPrevented()){return;}state.dragging=true;editor.focus();}if(state.dragging){const mouseEventOriginatedFromWithinTheEditor=e.currentTarget===editor.getDoc().documentElement;const targetPos=applyRelPos(state,calc(editor,e));appendGhostToBody(state.ghost,editor.getBody());moveGhost(state.ghost,targetPos,state.width,state.height,state.maxX,state.maxY,e.clientY,e.clientX,editor.getContentAreaContainer(),editor.getWin(),state_,mouseEventOriginatedFromWithinTheEditor);throttledPlaceCaretAt.throttle(e.clientX,e.clientY);}});};const getRawTarget=selection=>{const sel=selection.getSel();if(isNonNullable(sel)){const rng=sel.getRangeAt(0);const startContainer=rng.startContainer;return isText$a(startContainer)?startContainer.parentNode:startContainer;}else{return null;}};const drop=(state,editor)=>e=>{state.on(state=>{var _a;state.intervalId.clear();if(state.dragging){if(isValidDropTarget(editor,getRawTarget(editor.selection),state.element)){const dropTarget=(_a=editor.getDoc().elementFromPoint(e.clientX,e.clientY))!==null&&_a!==void 0?_a:editor.getBody();const args=dispatchDragEvent(editor,'drop',dropTarget,state.dataTransfer,e);if(!args.isDefaultPrevented()){editor.undoManager.transact(()=>{removeElementWithPadding(editor.dom,state.element);getHtmlData(state.dataTransfer).each(content=>editor.insertContent(content));editor._selectionOverrides.hideFakeCaret();});}}dispatchDragEvent(editor,'dragend',editor.getBody(),state.dataTransfer,e);}});removeDragState(state);};const stopDragging=(state,editor,e)=>{state.on(state=>{state.intervalId.clear();if(state.dragging){e.fold(()=>dispatchDragEvent(editor,'dragend',state.element,state.dataTransfer),mouseEvent=>dispatchDragEvent(editor,'dragend',state.element,state.dataTransfer,mouseEvent));}});removeDragState(state);};const stop=(state,editor)=>e=>stopDragging(state,editor,Optional.some(e));const removeDragState=state=>{state.on(state=>{state.intervalId.clear();removeElement(state.ghost);});state.clear();};const bindFakeDragEvents=editor=>{const state=value$2();const pageDom=DOMUtils.DOM;const rootDocument=document;const dragStartHandler=start(state,editor);const dragHandler=move(state,editor);const dropHandler=drop(state,editor);const dragEndHandler=stop(state,editor);editor.on('mousedown',dragStartHandler);editor.on('mousemove',dragHandler);editor.on('mouseup',dropHandler);pageDom.bind(rootDocument,'mousemove',dragHandler);pageDom.bind(rootDocument,'mouseup',dragEndHandler);editor.on('remove',()=>{pageDom.unbind(rootDocument,'mousemove',dragHandler);pageDom.unbind(rootDocument,'mouseup',dragEndHandler);});editor.on('keydown',e=>{if(e.keyCode===VK.ESC){stopDragging(state,editor,Optional.none());}});};const blockUnsupportedFileDrop=editor=>{const preventFileDrop=e=>{if(!e.isDefaultPrevented()){const dataTransfer=e.dataTransfer;if(dataTransfer&&(contains$2(dataTransfer.types,'Files')||dataTransfer.files.length>0)){e.preventDefault();if(e.type==='drop'){displayError(editor,'Dropped file type is not supported');}}}};const preventFileDropIfUIElement=e=>{if(isUIElement(editor,e.target)){preventFileDrop(e);}};const setup=()=>{const pageDom=DOMUtils.DOM;const dom=editor.dom;const doc=document;const editorRoot=editor.inline?editor.getBody():editor.getDoc();const eventNames=['drop','dragover'];each$e(eventNames,name=>{pageDom.bind(doc,name,preventFileDropIfUIElement);dom.bind(editorRoot,name,preventFileDrop);});editor.on('remove',()=>{each$e(eventNames,name=>{pageDom.unbind(doc,name,preventFileDropIfUIElement);dom.unbind(editorRoot,name,preventFileDrop);});});};editor.on('init',()=>{Delay.setEditorTimeout(editor,setup,0);});};const init$2=editor=>{bindFakeDragEvents(editor);if(shouldBlockUnsupportedDrop(editor)){blockUnsupportedFileDrop(editor);}};const setup$4=editor=>{const renderFocusCaret=first$1(()=>{if(!editor.removed&&editor.getBody().contains(document.activeElement)){const rng=editor.selection.getRng();if(rng.collapsed){const caretRange=renderRangeCaret(editor,rng,false);editor.selection.setRng(caretRange);}}},0);editor.on('focus',()=>{renderFocusCaret.throttle();});editor.on('blur',()=>{renderFocusCaret.cancel();});};const setup$3=editor=>{editor.on('init',()=>{editor.on('focusin',e=>{const target=e.target;if(isMedia$2(target)){const ceRoot=getContentEditableRoot$1(editor.getBody(),target);const node=isContentEditableFalse$b(ceRoot)?ceRoot:target;if(editor.selection.getNode()!==node){selectNode(editor,node).each(rng=>editor.selection.setRng(rng));}}});});};const isContentEditableFalse=isContentEditableFalse$b;const getContentEditableRoot=(editor,node)=>getContentEditableRoot$1(editor.getBody(),node);const SelectionOverrides=editor=>{const selection=editor.selection,dom=editor.dom;const rootNode=editor.getBody();const fakeCaret=FakeCaret(editor,rootNode,dom.isBlock,()=>hasFocus(editor));const realSelectionId='sel-'+dom.uniqueId();const elementSelectionAttr='data-mce-selected';let selectedElement;const isFakeSelectionElement=node=>isNonNullable(node)&&dom.hasClass(node,'mce-offscreen-selection');const isFakeSelectionTargetElement=node=>node!==rootNode&&(isContentEditableFalse(node)||isMedia$2(node))&&dom.isChildOf(node,rootNode)&&dom.isEditable(node.parentNode);const setRange=range=>{if(range){selection.setRng(range);}};const showCaret=(direction,node,before,scrollIntoView=true)=>{const e=editor.dispatch('ShowCaret',{target:node,direction,before});if(e.isDefaultPrevented()){return null;}if(scrollIntoView){selection.scrollIntoView(node,direction===-1);}return fakeCaret.show(before,node);};const showBlockCaretContainer=blockCaretContainer=>{if(blockCaretContainer.hasAttribute('data-mce-caret')){showCaretContainerBlock(blockCaretContainer);selection.scrollIntoView(blockCaretContainer);}};const registerEvents=()=>{editor.on('click',e=>{if(!dom.isEditable(e.target)){e.preventDefault();editor.focus();}});editor.on('blur NewBlock',removeElementSelection);editor.on('ResizeWindow FullscreenStateChanged',fakeCaret.reposition);editor.on('tap',e=>{const targetElm=e.target;const contentEditableRoot=getContentEditableRoot(editor,targetElm);if(isContentEditableFalse(contentEditableRoot)){e.preventDefault();selectNode(editor,contentEditableRoot).each(setElementSelection);}else if(isFakeSelectionTargetElement(targetElm)){selectNode(editor,targetElm).each(setElementSelection);}},true);editor.on('mousedown',e=>{const targetElm=e.target;if(targetElm!==rootNode&&targetElm.nodeName!=='HTML'&&!dom.isChildOf(targetElm,rootNode)){return;}if(!isXYInContentArea(editor,e.clientX,e.clientY)){return;}removeElementSelection();hideFakeCaret();const closestContentEditable=getContentEditableRoot(editor,targetElm);if(isContentEditableFalse(closestContentEditable)){e.preventDefault();selectNode(editor,closestContentEditable).each(setElementSelection);}else{closestFakeCaretCandidate(rootNode,e.clientX,e.clientY).each(caretInfo=>{e.preventDefault();const range=showCaret(1,caretInfo.node,caretInfo.position===FakeCaretPosition.Before,false);setRange(range);if(isHTMLElement(closestContentEditable)){closestContentEditable.focus();}else{editor.getBody().focus();}});}});editor.on('keypress',e=>{if(VK.modifierPressed(e)){return;}if(isContentEditableFalse(selection.getNode())){e.preventDefault();}});editor.on('GetSelectionRange',e=>{let rng=e.range;if(selectedElement){if(!selectedElement.parentNode){selectedElement=null;return;}rng=rng.cloneRange();rng.selectNode(selectedElement);e.range=rng;}});editor.on('SetSelectionRange',e=>{e.range=normalizeVoidElementSelection(e.range);const rng=setElementSelection(e.range,e.forward);if(rng){e.range=rng;}});const isPasteBin=node=>isElement$6(node)&&node.id==='mcepastebin';editor.on('AfterSetSelectionRange',e=>{const rng=e.range;const parent=rng.startContainer.parentElement;if(!isRangeInCaretContainer(rng)&&!isPasteBin(parent)){hideFakeCaret();}if(!isFakeSelectionElement(parent)){removeElementSelection();}});init$2(editor);setup$4(editor);setup$3(editor);};const isWithinCaretContainer=node=>isCaretContainer$2(node)||startsWithCaretContainer$1(node)||endsWithCaretContainer$1(node);const isRangeInCaretContainer=rng=>isWithinCaretContainer(rng.startContainer)||isWithinCaretContainer(rng.endContainer);const normalizeVoidElementSelection=rng=>{const voidElements=editor.schema.getVoidElements();const newRng=dom.createRng();const startContainer=rng.startContainer;const startOffset=rng.startOffset;const endContainer=rng.endContainer;const endOffset=rng.endOffset;if(has$2(voidElements,startContainer.nodeName.toLowerCase())){if(startOffset===0){newRng.setStartBefore(startContainer);}else{newRng.setStartAfter(startContainer);}}else{newRng.setStart(startContainer,startOffset);}if(has$2(voidElements,endContainer.nodeName.toLowerCase())){if(endOffset===0){newRng.setEndBefore(endContainer);}else{newRng.setEndAfter(endContainer);}}else{newRng.setEnd(endContainer,endOffset);}return newRng;};const setupOffscreenSelection=(node,targetClone)=>{const body=SugarElement.fromDom(editor.getBody());const doc=editor.getDoc();const realSelectionContainer=descendant$1(body,'#'+realSelectionId).getOrThunk(()=>{const newContainer=SugarElement.fromHtml('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>',doc);set$3(newContainer,'id',realSelectionId);append$1(body,newContainer);return newContainer;});const newRange=dom.createRng();empty(realSelectionContainer);append(realSelectionContainer,[SugarElement.fromText(nbsp,doc),SugarElement.fromDom(targetClone),SugarElement.fromText(nbsp,doc)]);newRange.setStart(realSelectionContainer.dom.firstChild,1);newRange.setEnd(realSelectionContainer.dom.lastChild,0);setAll(realSelectionContainer,{top:dom.getPos(node,editor.getBody()).y+'px'});focus$1(realSelectionContainer);const sel=selection.getSel();if(sel){sel.removeAllRanges();sel.addRange(newRange);}return newRange;};const selectElement=elm=>{const targetClone=elm.cloneNode(true);const e=editor.dispatch('ObjectSelected',{target:elm,targetClone});if(e.isDefaultPrevented()){return null;}const range=setupOffscreenSelection(elm,e.targetClone);const nodeElm=SugarElement.fromDom(elm);each$e(descendants(SugarElement.fromDom(editor.getBody()),`*[${elementSelectionAttr}]`),elm=>{if(!eq(nodeElm,elm)){remove$a(elm,elementSelectionAttr);}});if(!dom.getAttrib(elm,elementSelectionAttr)){elm.setAttribute(elementSelectionAttr,'1');}selectedElement=elm;hideFakeCaret();return range;};const setElementSelection=(range,forward)=>{if(!range){return null;}if(range.collapsed){if(!isRangeInCaretContainer(range)){const dir=forward?1:-1;const caretPosition=getNormalizedRangeEndPoint(dir,rootNode,range);const beforeNode=caretPosition.getNode(!forward);if(isNonNullable(beforeNode)){if(isFakeCaretTarget(beforeNode)){return showCaret(dir,beforeNode,forward?!caretPosition.isAtEnd():false,false);}if(isCaretContainerInline(beforeNode)&&isContentEditableFalse$b(beforeNode.nextSibling)){const rng=dom.createRng();rng.setStart(beforeNode,0);rng.setEnd(beforeNode,0);return rng;}}const afterNode=caretPosition.getNode(forward);if(isNonNullable(afterNode)){if(isFakeCaretTarget(afterNode)){return showCaret(dir,afterNode,forward?false:!caretPosition.isAtEnd(),false);}if(isCaretContainerInline(afterNode)&&isContentEditableFalse$b(afterNode.previousSibling)){const rng=dom.createRng();rng.setStart(afterNode,1);rng.setEnd(afterNode,1);return rng;}}}return null;}let startContainer=range.startContainer;let startOffset=range.startOffset;const endOffset=range.endOffset;if(isText$a(startContainer)&&startOffset===0&&isContentEditableFalse(startContainer.parentNode)){startContainer=startContainer.parentNode;startOffset=dom.nodeIndex(startContainer);startContainer=startContainer.parentNode;}if(!isElement$6(startContainer)){return null;}if(endOffset===startOffset+1&&startContainer===range.endContainer){const node=startContainer.childNodes[startOffset];if(isFakeSelectionTargetElement(node)){return selectElement(node);}}return null;};const removeElementSelection=()=>{if(selectedElement){selectedElement.removeAttribute(elementSelectionAttr);}descendant$1(SugarElement.fromDom(editor.getBody()),'#'+realSelectionId).each(remove$5);selectedElement=null;};const destroy=()=>{fakeCaret.destroy();selectedElement=null;};const hideFakeCaret=()=>{fakeCaret.hide();};if(!isRtc(editor)){registerEvents();}return{showCaret,showBlockCaretContainer,hideFakeCaret,destroy};};const getNormalizedTextOffset=(container,offset)=>{let normalizedOffset=offset;for(let node=container.previousSibling;isText$a(node);node=node.previousSibling){normalizedOffset+=node.data.length;}return normalizedOffset;};const generatePath=(dom,root,node,offset,normalized)=>{if(isText$a(node)&&(offset<0||offset>node.data.length)){return[];}const p=normalized&&isText$a(node)?[getNormalizedTextOffset(node,offset)]:[offset];let current=node;while(current!==root&&current.parentNode){p.push(dom.nodeIndex(current,normalized));current=current.parentNode;}return current===root?p.reverse():[];};const generatePathRange=(dom,root,startNode,startOffset,endNode,endOffset,normalized=false)=>{const start=generatePath(dom,root,startNode,startOffset,normalized);const end=generatePath(dom,root,endNode,endOffset,normalized);return{start,end};};const resolvePath=(root,path)=>{const nodePath=path.slice();const offset=nodePath.pop();if(!isNumber(offset)){return Optional.none();}else{const resolvedNode=foldl(nodePath,(optNode,index)=>optNode.bind(node=>Optional.from(node.childNodes[index])),Optional.some(root));return resolvedNode.bind(node=>{if(isText$a(node)&&(offset<0||offset>node.data.length)){return Optional.none();}else{return Optional.some({node,offset});}});}};const resolvePathRange=(root,range)=>resolvePath(root,range.start).bind(({node:startNode,offset:startOffset})=>resolvePath(root,range.end).map(({node:endNode,offset:endOffset})=>{const rng=document.createRange();rng.setStart(startNode,startOffset);rng.setEnd(endNode,endOffset);return rng;}));const generatePathRangeFromRange=(dom,root,range,normalized=false)=>generatePathRange(dom,root,range.startContainer,range.startOffset,range.endContainer,range.endOffset,normalized);const cleanEmptyNodes=(dom,node,isRoot)=>{if(node&&dom.isEmpty(node)&&!isRoot(node)){const parent=node.parentNode;dom.remove(node,isText$a(node.firstChild)&&isWhitespaceText(node.firstChild.data));cleanEmptyNodes(dom,parent,isRoot);}};const deleteRng=(dom,rng,isRoot,clean=true)=>{const startParent=rng.startContainer.parentNode;const endParent=rng.endContainer.parentNode;rng.deleteContents();if(clean&&!isRoot(rng.startContainer)){if(isText$a(rng.startContainer)&&rng.startContainer.data.length===0){dom.remove(rng.startContainer);}if(isText$a(rng.endContainer)&&rng.endContainer.data.length===0){dom.remove(rng.endContainer);}cleanEmptyNodes(dom,startParent,isRoot);if(startParent!==endParent){cleanEmptyNodes(dom,endParent,isRoot);}}};const getParentBlock=(editor,rng)=>Optional.from(editor.dom.getParent(rng.startContainer,editor.dom.isBlock));const resolveFromDynamicPatterns=(patternSet,block,beforeText)=>{const dynamicPatterns=patternSet.dynamicPatternsLookup({text:beforeText,block});return{...patternSet,blockPatterns:getBlockPatterns(dynamicPatterns).concat(patternSet.blockPatterns),inlinePatterns:getInlinePatterns(dynamicPatterns).concat(patternSet.inlinePatterns)};};const getBeforeText=(dom,block,node,offset)=>{const rng=dom.createRng();rng.setStart(block,0);rng.setEnd(node,offset);return rng.toString();};const startsWithSingleSpace=s=>/^\\s[^\\s]/.test(s);const stripPattern=(dom,block,pattern)=>{const firstTextNode=textAfter(block,0,block);firstTextNode.each(spot=>{const node=spot.container;scanRight(node,pattern.start.length,block).each(end=>{const rng=dom.createRng();rng.setStart(node,0);rng.setEnd(end.container,end.offset);deleteRng(dom,rng,e=>e===block);});const text=SugarElement.fromDom(node);const textContent=get$3(text);if(startsWithSingleSpace(textContent)){set(text,textContent.slice(1));}});};const applyPattern$1=(editor,match)=>{const dom=editor.dom;const pattern=match.pattern;const rng=resolvePathRange(dom.getRoot(),match.range).getOrDie('Unable to resolve path range');const isBlockFormatName=(name,formatter)=>{const formatSet=formatter.get(name);return isArray$1(formatSet)&&head(formatSet).exists(format=>has$2(format,'block'));};getParentBlock(editor,rng).each(block=>{if(pattern.type==='block-format'){if(isBlockFormatName(pattern.format,editor.formatter)){editor.undoManager.transact(()=>{stripPattern(editor.dom,block,pattern);editor.formatter.apply(pattern.format);});}}else if(pattern.type==='block-command'){editor.undoManager.transact(()=>{stripPattern(editor.dom,block,pattern);editor.execCommand(pattern.cmd,false,pattern.value);});}});return true;};const sortPatterns$1=patterns=>sort(patterns,(a,b)=>b.start.length-a.start.length);const findPattern$1=(patterns,text)=>{const sortedPatterns=sortPatterns$1(patterns);const nuText=text.replace(nbsp,' ');return find$2(sortedPatterns,pattern=>text.indexOf(pattern.start)===0||nuText.indexOf(pattern.start)===0);};const findPatterns$1=(editor,block,patternSet,normalizedMatches)=>{var _a;const dom=editor.dom;const forcedRootBlock=getForcedRootBlock(editor);if(!dom.is(block,forcedRootBlock)){return[];}const blockText=(_a=block.textContent)!==null&&_a!==void 0?_a:'';return findPattern$1(patternSet.blockPatterns,blockText).map(pattern=>{if(Tools.trim(blockText).length===pattern.start.length){return[];}return[{pattern,range:generatePathRange(dom,dom.getRoot(),block,0,block,0,normalizedMatches)}];}).getOr([]);};const applyMatches$1=(editor,matches)=>{if(matches.length===0){return;}const bookmark=editor.selection.getBookmark();each$e(matches,match=>applyPattern$1(editor,match));editor.selection.moveToBookmark(bookmark);};const newMarker=(dom,id)=>dom.create('span',{'data-mce-type':'bookmark',id});const rangeFromMarker=(dom,marker)=>{const rng=dom.createRng();rng.setStartAfter(marker.start);rng.setEndBefore(marker.end);return rng;};const createMarker=(dom,markerPrefix,pathRange)=>{const rng=resolvePathRange(dom.getRoot(),pathRange).getOrDie('Unable to resolve path range');const startNode=rng.startContainer;const endNode=rng.endContainer;const textEnd=rng.endOffset===0?endNode:endNode.splitText(rng.endOffset);const textStart=rng.startOffset===0?startNode:startNode.splitText(rng.startOffset);const startParentNode=textStart.parentNode;const endParentNode=textEnd.parentNode;return{prefix:markerPrefix,end:endParentNode.insertBefore(newMarker(dom,markerPrefix+'-end'),textEnd),start:startParentNode.insertBefore(newMarker(dom,markerPrefix+'-start'),textStart)};};const removeMarker=(dom,marker,isRoot)=>{cleanEmptyNodes(dom,dom.get(marker.prefix+'-end'),isRoot);cleanEmptyNodes(dom,dom.get(marker.prefix+'-start'),isRoot);};const isReplacementPattern=pattern=>pattern.start.length===0;const matchesPattern=patternContent=>(element,offset)=>{const text=element.data;const searchText=text.substring(0,offset);const startEndIndex=searchText.lastIndexOf(patternContent.charAt(patternContent.length-1));const startIndex=searchText.lastIndexOf(patternContent);if(startIndex!==-1){return startIndex+patternContent.length;}else if(startEndIndex!==-1){return startEndIndex+1;}else{return-1;}};const findPatternStartFromSpot=(dom,pattern,block,spot)=>{const startPattern=pattern.start;const startSpot=repeatLeft(dom,spot.container,spot.offset,matchesPattern(startPattern),block);return startSpot.bind(spot=>{var _a,_b;const startPatternIndex=(_b=(_a=block.textContent)===null||_a===void 0?void 0:_a.indexOf(startPattern))!==null&&_b!==void 0?_b:-1;const isCompleteMatch=startPatternIndex!==-1&&spot.offset>=startPatternIndex+startPattern.length;if(isCompleteMatch){const rng=dom.createRng();rng.setStart(spot.container,spot.offset-startPattern.length);rng.setEnd(spot.container,spot.offset);return Optional.some(rng);}else{const offset=spot.offset-startPattern.length;return scanLeft(spot.container,offset,block).map(nextSpot=>{const rng=dom.createRng();rng.setStart(nextSpot.container,nextSpot.offset);rng.setEnd(spot.container,spot.offset);return rng;}).filter(rng=>rng.toString()===startPattern).orThunk(()=>findPatternStartFromSpot(dom,pattern,block,point(spot.container,0)));}});};const findPatternStart=(dom,pattern,node,offset,block,requireGap=false)=>{if(pattern.start.length===0&&!requireGap){const rng=dom.createRng();rng.setStart(node,offset);rng.setEnd(node,offset);return Optional.some(rng);}return textBefore(node,offset,block).bind(spot=>{const start=findPatternStartFromSpot(dom,pattern,block,spot);return start.bind(startRange=>{var _a;if(requireGap){if(startRange.endContainer===spot.container&&startRange.endOffset===spot.offset){return Optional.none();}else if(spot.offset===0&&((_a=startRange.endContainer.textContent)===null||_a===void 0?void 0:_a.length)===startRange.endOffset){return Optional.none();}}return Optional.some(startRange);});});};const findPattern=(editor,block,details,normalizedMatches)=>{const dom=editor.dom;const root=dom.getRoot();const pattern=details.pattern;const endNode=details.position.container;const endOffset=details.position.offset;return scanLeft(endNode,endOffset-details.pattern.end.length,block).bind(spot=>{const endPathRng=generatePathRange(dom,root,spot.container,spot.offset,endNode,endOffset,normalizedMatches);if(isReplacementPattern(pattern)){return Optional.some({matches:[{pattern,startRng:endPathRng,endRng:endPathRng}],position:spot});}else{const resultsOpt=findPatternsRec(editor,details.remainingPatterns,spot.container,spot.offset,block,normalizedMatches);const results=resultsOpt.getOr({matches:[],position:spot});const pos=results.position;const start=findPatternStart(dom,pattern,pos.container,pos.offset,block,resultsOpt.isNone());return start.map(startRng=>{const startPathRng=generatePathRangeFromRange(dom,root,startRng,normalizedMatches);return{matches:results.matches.concat([{pattern,startRng:startPathRng,endRng:endPathRng}]),position:point(startRng.startContainer,startRng.startOffset)};});}});};const findPatternsRec=(editor,patterns,node,offset,block,normalizedMatches)=>{const dom=editor.dom;return textBefore(node,offset,dom.getRoot()).bind(endSpot=>{const text=getBeforeText(dom,block,node,offset);for(let i=0;i<patterns.length;i++){const pattern=patterns[i];if(!endsWith(text,pattern.end)){continue;}const patternsWithoutCurrent=patterns.slice();patternsWithoutCurrent.splice(i,1);const result=findPattern(editor,block,{pattern,remainingPatterns:patternsWithoutCurrent,position:endSpot},normalizedMatches);if(result.isNone()&&offset>0){return findPatternsRec(editor,patterns,node,offset-1,block,normalizedMatches);}if(result.isSome()){return result;}}return Optional.none();});};const applyPattern=(editor,pattern,patternRange)=>{editor.selection.setRng(patternRange);if(pattern.type==='inline-format'){each$e(pattern.format,format=>{editor.formatter.apply(format);});}else{editor.execCommand(pattern.cmd,false,pattern.value);}};const applyReplacementPattern=(editor,pattern,marker,isRoot)=>{const markerRange=rangeFromMarker(editor.dom,marker);deleteRng(editor.dom,markerRange,isRoot);applyPattern(editor,pattern,markerRange);};const applyPatternWithContent=(editor,pattern,startMarker,endMarker,isRoot)=>{const dom=editor.dom;const markerEndRange=rangeFromMarker(dom,endMarker);const markerStartRange=rangeFromMarker(dom,startMarker);deleteRng(dom,markerStartRange,isRoot);deleteRng(dom,markerEndRange,isRoot);const patternMarker={prefix:startMarker.prefix,start:startMarker.end,end:endMarker.start};const patternRange=rangeFromMarker(dom,patternMarker);applyPattern(editor,pattern,patternRange);};const addMarkers=(dom,matches)=>{const markerPrefix=generate$1('mce_textpattern');const matchesWithEnds=foldr(matches,(acc,match)=>{const endMarker=createMarker(dom,markerPrefix+`_end${acc.length}`,match.endRng);return acc.concat([{...match,endMarker}]);},[]);return foldr(matchesWithEnds,(acc,match)=>{const idx=matchesWithEnds.length-acc.length-1;const startMarker=isReplacementPattern(match.pattern)?match.endMarker:createMarker(dom,markerPrefix+`_start${idx}`,match.startRng);return acc.concat([{...match,startMarker}]);},[]);};const sortPatterns=patterns=>sort(patterns,(a,b)=>b.end.length-a.end.length);const getBestMatches=(matches,matchesWithSortedPatterns)=>{const hasSameMatches=forall(matches,match=>exists(matchesWithSortedPatterns,sortedMatch=>match.pattern.start===sortedMatch.pattern.start&&match.pattern.end===sortedMatch.pattern.end));if(matches.length===matchesWithSortedPatterns.length){if(hasSameMatches){return matches;}else{return matchesWithSortedPatterns;}}return matches.length>matchesWithSortedPatterns.length?matches:matchesWithSortedPatterns;};const findPatterns=(editor,block,node,offset,patternSet,normalizedMatches)=>{const matches=findPatternsRec(editor,patternSet.inlinePatterns,node,offset,block,normalizedMatches).fold(()=>[],result=>result.matches);const matchesWithSortedPatterns=findPatternsRec(editor,sortPatterns(patternSet.inlinePatterns),node,offset,block,normalizedMatches).fold(()=>[],result=>result.matches);return getBestMatches(matches,matchesWithSortedPatterns);};const applyMatches=(editor,matches)=>{if(matches.length===0){return;}const dom=editor.dom;const bookmark=editor.selection.getBookmark();const matchesWithMarkers=addMarkers(dom,matches);each$e(matchesWithMarkers,match=>{const block=dom.getParent(match.startMarker.start,dom.isBlock);const isRoot=node=>node===block;if(isReplacementPattern(match.pattern)){applyReplacementPattern(editor,match.pattern,match.endMarker,isRoot);}else{applyPatternWithContent(editor,match.pattern,match.startMarker,match.endMarker,isRoot);}removeMarker(dom,match.endMarker,isRoot);removeMarker(dom,match.startMarker,isRoot);});editor.selection.moveToBookmark(bookmark);};const handleEnter=(editor,patternSet)=>{const rng=editor.selection.getRng();return getParentBlock(editor,rng).map(block=>{var _a;const offset=Math.max(0,rng.startOffset);const dynamicPatternSet=resolveFromDynamicPatterns(patternSet,block,(_a=block.textContent)!==null&&_a!==void 0?_a:'');const inlineMatches=findPatterns(editor,block,rng.startContainer,offset,dynamicPatternSet,true);const blockMatches=findPatterns$1(editor,block,dynamicPatternSet,true);if(blockMatches.length>0||inlineMatches.length>0){editor.undoManager.add();editor.undoManager.extra(()=>{editor.execCommand('mceInsertNewLine');},()=>{insert$5(editor);applyMatches(editor,inlineMatches);applyMatches$1(editor,blockMatches);const range=editor.selection.getRng();const spot=textBefore(range.startContainer,range.startOffset,editor.dom.getRoot());editor.execCommand('mceInsertNewLine');spot.each(s=>{const node=s.container;if(node.data.charAt(s.offset-1)===zeroWidth){node.deleteData(s.offset-1,1);cleanEmptyNodes(editor.dom,node.parentNode,e=>e===editor.dom.getRoot());}});});return true;}return false;}).getOr(false);};const handleInlineKey=(editor,patternSet)=>{const rng=editor.selection.getRng();getParentBlock(editor,rng).map(block=>{const offset=Math.max(0,rng.startOffset-1);const beforeText=getBeforeText(editor.dom,block,rng.startContainer,offset);const dynamicPatternSet=resolveFromDynamicPatterns(patternSet,block,beforeText);const inlineMatches=findPatterns(editor,block,rng.startContainer,offset,dynamicPatternSet,false);if(inlineMatches.length>0){editor.undoManager.transact(()=>{applyMatches(editor,inlineMatches);});}});};const checkKeyEvent=(codes,event,predicate)=>{for(let i=0;i<codes.length;i++){if(predicate(codes[i],event)){return true;}}return false;};const checkKeyCode=(codes,event)=>checkKeyEvent(codes,event,(code,event)=>{return code===event.keyCode&&!VK.modifierPressed(event);});const checkCharCode=(chars,event)=>checkKeyEvent(chars,event,(chr,event)=>{return chr.charCodeAt(0)===event.charCode;});const setup$2=editor=>{const charCodes=[',','.',';',':','!','?'];const keyCodes=[32];const getPatternSet=()=>createPatternSet(getTextPatterns(editor),getTextPatternsLookup(editor));const hasDynamicPatterns=()=>hasTextPatternsLookup(editor);editor.on('keydown',e=>{if(e.keyCode===13&&!VK.modifierPressed(e)&&editor.selection.isCollapsed()){const patternSet=getPatternSet();const hasPatterns=patternSet.inlinePatterns.length>0||patternSet.blockPatterns.length>0||hasDynamicPatterns();if(hasPatterns&&handleEnter(editor,patternSet)){e.preventDefault();}}},true);const handleInlineTrigger=()=>{if(editor.selection.isCollapsed()){const patternSet=getPatternSet();const hasPatterns=patternSet.inlinePatterns.length>0||hasDynamicPatterns();if(hasPatterns){handleInlineKey(editor,patternSet);}}};editor.on('keyup',e=>{if(checkKeyCode(keyCodes,e)){handleInlineTrigger();}});editor.on('keypress',e=>{if(checkCharCode(charCodes,e)){Delay.setEditorTimeout(editor,handleInlineTrigger);}});};const setup$1=editor=>{setup$2(editor);};const Quirks=editor=>{const each=Tools.each;const BACKSPACE=VK.BACKSPACE,DELETE=VK.DELETE,dom=editor.dom,selection=editor.selection,parser=editor.parser;const browser=Env.browser;const isGecko=browser.isFirefox();const isWebKit=browser.isChromium()||browser.isSafari();const isiOS=Env.deviceType.isiPhone()||Env.deviceType.isiPad();const isMac=Env.os.isMacOS()||Env.os.isiOS();const setEditorCommandState=(cmd,state)=>{try{editor.getDoc().execCommand(cmd,false,String(state));}catch(ex){}};const isDefaultPrevented=e=>{return e.isDefaultPrevented();};const emptyEditorWhenDeleting=()=>{const serializeRng=rng=>{const body=dom.create('body');const contents=rng.cloneContents();body.appendChild(contents);return selection.serializer.serialize(body,{format:'html'});};const allContentsSelected=rng=>{const selection=serializeRng(rng);const allRng=dom.createRng();allRng.selectNode(editor.getBody());const allSelection=serializeRng(allRng);return selection===allSelection;};editor.on('keydown',e=>{const keyCode=e.keyCode;if(!isDefaultPrevented(e)&&(keyCode===DELETE||keyCode===BACKSPACE)&&editor.selection.isEditable()){const isCollapsed=editor.selection.isCollapsed();const body=editor.getBody();if(isCollapsed&&!isEmpty$2(SugarElement.fromDom(body))){return;}if(!isCollapsed&&!allContentsSelected(editor.selection.getRng())){return;}e.preventDefault();editor.setContent('');if(body.firstChild&&dom.isBlock(body.firstChild)){editor.selection.setCursorLocation(body.firstChild,0);}else{editor.selection.setCursorLocation(body,0);}editor.nodeChanged();}});};const selectAll=()=>{editor.shortcuts.add('meta+a',null,'SelectAll');};const documentElementEditingFocus=()=>{if(!editor.inline){dom.bind(editor.getDoc(),'mousedown mouseup',e=>{let rng;if(e.target===editor.getDoc().documentElement){rng=selection.getRng();editor.getBody().focus();if(e.type==='mousedown'){if(isCaretContainer$2(rng.startContainer)){return;}selection.placeCaretAt(e.clientX,e.clientY);}else{selection.setRng(rng);}}});}};const removeHrOnBackspace=()=>{editor.on('keydown',e=>{if(!isDefaultPrevented(e)&&e.keyCode===BACKSPACE){if(!editor.getBody().getElementsByTagName('hr').length){return;}if(selection.isCollapsed()&&selection.getRng().startOffset===0){const node=selection.getNode();const previousSibling=node.previousSibling;if(node.nodeName==='HR'){dom.remove(node);e.preventDefault();return;}if(previousSibling&&previousSibling.nodeName&&previousSibling.nodeName.toLowerCase()==='hr'){dom.remove(previousSibling);e.preventDefault();}}}});};const focusBody=()=>{if(!Range.prototype.getClientRects){editor.on('mousedown',e=>{if(!isDefaultPrevented(e)&&e.target.nodeName==='HTML'){const body=editor.getBody();body.blur();Delay.setEditorTimeout(editor,()=>{body.focus();});}});}};const selectControlElements=()=>{const visualAidsAnchorClass=getVisualAidsAnchorClass(editor);editor.on('click',e=>{const target=e.target;if(/^(IMG|HR)$/.test(target.nodeName)&&dom.isEditable(target)){e.preventDefault();editor.selection.select(target);editor.nodeChanged();}if(target.nodeName==='A'&&dom.hasClass(target,visualAidsAnchorClass)&&target.childNodes.length===0&&dom.isEditable(target.parentNode)){e.preventDefault();selection.select(target);}});};const removeStylesWhenDeletingAcrossBlockElements=()=>{const getAttributeApplyFunction=()=>{const template=dom.getAttribs(selection.getStart().cloneNode(false));return()=>{const target=selection.getStart();if(target!==editor.getBody()){dom.setAttrib(target,'style',null);each(template,attr=>{target.setAttributeNode(attr.cloneNode(true));});}};};const isSelectionAcrossElements=()=>{return!selection.isCollapsed()&&dom.getParent(selection.getStart(),dom.isBlock)!==dom.getParent(selection.getEnd(),dom.isBlock);};editor.on('keypress',e=>{let applyAttributes;if(!isDefaultPrevented(e)&&(e.keyCode===8||e.keyCode===46)&&isSelectionAcrossElements()){applyAttributes=getAttributeApplyFunction();editor.getDoc().execCommand('delete',false);applyAttributes();e.preventDefault();return false;}else{return true;}});dom.bind(editor.getDoc(),'cut',e=>{if(!isDefaultPrevented(e)&&isSelectionAcrossElements()){const applyAttributes=getAttributeApplyFunction();Delay.setEditorTimeout(editor,()=>{applyAttributes();});}});};const disableBackspaceIntoATable=()=>{editor.on('keydown',e=>{if(!isDefaultPrevented(e)&&e.keyCode===BACKSPACE){if(selection.isCollapsed()&&selection.getRng().startOffset===0){const previousSibling=selection.getNode().previousSibling;if(previousSibling&&previousSibling.nodeName&&previousSibling.nodeName.toLowerCase()==='table'){e.preventDefault();return false;}}}return true;});};const removeBlockQuoteOnBackSpace=()=>{editor.on('keydown',e=>{if(isDefaultPrevented(e)||e.keyCode!==VK.BACKSPACE){return;}let rng=selection.getRng();const container=rng.startContainer;const offset=rng.startOffset;const root=dom.getRoot();let parent=container;if(!rng.collapsed||offset!==0){return;}while(parent.parentNode&&parent.parentNode.firstChild===parent&&parent.parentNode!==root){parent=parent.parentNode;}if(parent.nodeName==='BLOCKQUOTE'){editor.formatter.toggle('blockquote',undefined,parent);rng=dom.createRng();rng.setStart(container,0);rng.setEnd(container,0);selection.setRng(rng);}});};const setGeckoEditingOptions=()=>{const setOpts=()=>{setEditorCommandState('StyleWithCSS',false);setEditorCommandState('enableInlineTableEditing',false);if(!getObjectResizing(editor)){setEditorCommandState('enableObjectResizing',false);}};if(!isReadOnly$1(editor)){editor.on('BeforeExecCommand mousedown',setOpts);}};const addBrAfterLastLinks=()=>{const fixLinks=()=>{each(dom.select('a:not([data-mce-block])'),node=>{var _a;let parentNode=node.parentNode;const root=dom.getRoot();if((parentNode===null||parentNode===void 0?void 0:parentNode.lastChild)===node){while(parentNode&&!dom.isBlock(parentNode)){if(((_a=parentNode.parentNode)===null||_a===void 0?void 0:_a.lastChild)!==parentNode||parentNode===root){return;}parentNode=parentNode.parentNode;}dom.add(parentNode,'br',{'data-mce-bogus':1});}});};editor.on('SetContent ExecCommand',e=>{if(e.type==='setcontent'||e.command==='mceInsertLink'){fixLinks();}});};const setDefaultBlockType=()=>{editor.on('init',()=>{setEditorCommandState('DefaultParagraphSeparator',getForcedRootBlock(editor));});};const isAllContentSelected=editor=>{const body=editor.getBody();const rng=editor.selection.getRng();return rng.startContainer===rng.endContainer&&rng.startContainer===body&&rng.startOffset===0&&rng.endOffset===body.childNodes.length;};const normalizeSelection=()=>{editor.on('keyup focusin mouseup',e=>{if(!VK.modifierPressed(e)&&!isAllContentSelected(editor)){selection.normalize();}},true);};const showBrokenImageIcon=()=>{editor.contentStyles.push('img:-moz-broken {'+'-moz-force-broken-image-icon:1;'+'min-width:24px;'+'min-height:24px'+'}');};const restoreFocusOnKeyDown=()=>{if(!editor.inline){editor.on('keydown',()=>{if(document.activeElement===document.body){editor.getWin().focus();}});}};const bodyHeight=()=>{if(!editor.inline){editor.contentStyles.push('body {min-height: 150px}');editor.on('click',e=>{let rng;if(e.target.nodeName==='HTML'){rng=editor.selection.getRng();editor.getBody().focus();editor.selection.setRng(rng);editor.selection.normalize();editor.nodeChanged();}});}};const blockCmdArrowNavigation=()=>{if(isMac){editor.on('keydown',e=>{if(VK.metaKeyPressed(e)&&!e.shiftKey&&(e.keyCode===37||e.keyCode===39)){e.preventDefault();const selection=editor.selection.getSel();selection.modify('move',e.keyCode===37?'backward':'forward','lineboundary');}});}};const tapLinksAndImages=()=>{editor.on('click',e=>{let elm=e.target;do{if(elm.tagName==='A'){e.preventDefault();return;}}while(elm=elm.parentNode);});editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');};const blockFormSubmitInsideEditor=()=>{editor.on('init',()=>{editor.dom.bind(editor.getBody(),'submit',e=>{e.preventDefault();});});};const removeAppleInterchangeBrs=()=>{parser.addNodeFilter('br',nodes=>{let i=nodes.length;while(i--){if(nodes[i].attr('class')==='Apple-interchange-newline'){nodes[i].remove();}}});};const refreshContentEditable=noop;const isHidden=()=>{if(!isGecko||editor.removed){return false;}const sel=editor.selection.getSel();return!sel||!sel.rangeCount||sel.rangeCount===0;};const setupRtc=()=>{if(isWebKit){documentElementEditingFocus();selectControlElements();blockFormSubmitInsideEditor();selectAll();if(isiOS){restoreFocusOnKeyDown();bodyHeight();tapLinksAndImages();}}if(isGecko){focusBody();setGeckoEditingOptions();showBrokenImageIcon();blockCmdArrowNavigation();}};const dropDragEndEvent=()=>{editor.on('drop',event=>{var _a;const data=(_a=event.dataTransfer)===null||_a===void 0?void 0:_a.getData('text/html');if(isString(data)&&/^<img[^>]*>$/.test(data)){editor.dispatch('dragend',new window.DragEvent('dragend',event));}});};const setup=()=>{removeBlockQuoteOnBackSpace();emptyEditorWhenDeleting();if(!Env.windowsPhone){normalizeSelection();}if(isWebKit){documentElementEditingFocus();selectControlElements();setDefaultBlockType();blockFormSubmitInsideEditor();disableBackspaceIntoATable();removeAppleInterchangeBrs();if(isiOS){restoreFocusOnKeyDown();bodyHeight();tapLinksAndImages();}else{selectAll();}}if(isGecko){removeHrOnBackspace();focusBody();removeStylesWhenDeletingAcrossBlockElements();setGeckoEditingOptions();addBrAfterLastLinks();showBrokenImageIcon();blockCmdArrowNavigation();disableBackspaceIntoATable();dropDragEndEvent();}};if(isRtc(editor)){setupRtc();}else{setup();}return{refreshContentEditable,isHidden};};const DOM$6=DOMUtils.DOM;const appendStyle=(editor,text)=>{const body=SugarElement.fromDom(editor.getBody());const container=getStyleContainer(getRootNode(body));const style=SugarElement.fromTag('style');set$3(style,'type','text/css');append$1(style,SugarElement.fromText(text));append$1(container,style);editor.on('remove',()=>{remove$5(style);});};const getRootName=editor=>editor.inline?editor.getElement().nodeName.toLowerCase():undefined;const removeUndefined=obj=>filter$4(obj,v=>isUndefined(v)===false);const mkParserSettings=editor=>{const getOption=editor.options.get;const blobCache=editor.editorUpload.blobCache;return removeUndefined({allow_conditional_comments:getOption('allow_conditional_comments'),allow_html_data_urls:getOption('allow_html_data_urls'),allow_svg_data_urls:getOption('allow_svg_data_urls'),allow_html_in_named_anchor:getOption('allow_html_in_named_anchor'),allow_script_urls:getOption('allow_script_urls'),allow_unsafe_link_target:getOption('allow_unsafe_link_target'),convert_unsafe_embeds:getOption('convert_unsafe_embeds'),convert_fonts_to_spans:getOption('convert_fonts_to_spans'),fix_list_elements:getOption('fix_list_elements'),font_size_legacy_values:getOption('font_size_legacy_values'),forced_root_block:getOption('forced_root_block'),forced_root_block_attrs:getOption('forced_root_block_attrs'),preserve_cdata:getOption('preserve_cdata'),inline_styles:getOption('inline_styles'),root_name:getRootName(editor),sandbox_iframes:getOption('sandbox_iframes'),sanitize:getOption('xss_sanitization'),validate:true,blob_cache:blobCache,document:editor.getDoc()});};const mkSchemaSettings=editor=>{const getOption=editor.options.get;return removeUndefined({custom_elements:getOption('custom_elements'),extended_valid_elements:getOption('extended_valid_elements'),invalid_elements:getOption('invalid_elements'),invalid_styles:getOption('invalid_styles'),schema:getOption('schema'),valid_children:getOption('valid_children'),valid_classes:getOption('valid_classes'),valid_elements:getOption('valid_elements'),valid_styles:getOption('valid_styles'),verify_html:getOption('verify_html'),padd_empty_block_inline_children:getOption('format_empty_lines')});};const mkSerializerSettings=editor=>{const getOption=editor.options.get;return{...mkParserSettings(editor),...mkSchemaSettings(editor),...removeUndefined({remove_trailing_brs:getOption('remove_trailing_brs'),pad_empty_with_br:getOption('pad_empty_with_br'),url_converter:getOption('url_converter'),url_converter_scope:getOption('url_converter_scope'),element_format:getOption('element_format'),entities:getOption('entities'),entity_encoding:getOption('entity_encoding'),indent:getOption('indent'),indent_after:getOption('indent_after'),indent_before:getOption('indent_before')})};};const createParser=editor=>{const parser=DomParser(mkParserSettings(editor),editor.schema);parser.addAttributeFilter('src,href,style,tabindex',(nodes,name)=>{const dom=editor.dom;const internalName='data-mce-'+name;let i=nodes.length;while(i--){const node=nodes[i];let value=node.attr(name);if(value&&!node.attr(internalName)){if(value.indexOf('data:')===0||value.indexOf('blob:')===0){continue;}if(name==='style'){value=dom.serializeStyle(dom.parseStyle(value),node.name);if(!value.length){value=null;}node.attr(internalName,value);node.attr(name,value);}else if(name==='tabindex'){node.attr(internalName,value);node.attr(name,null);}else{node.attr(internalName,editor.convertURL(value,name,node.name));}}}});parser.addNodeFilter('script',nodes=>{let i=nodes.length;while(i--){const node=nodes[i];const type=node.attr('type')||'no/type';if(type.indexOf('mce-')!==0){node.attr('type','mce-'+type);}}});if(shouldPreserveCData(editor)){parser.addNodeFilter('#cdata',nodes=>{var _a;let i=nodes.length;while(i--){const node=nodes[i];node.type=8;node.name='#comment';node.value='[CDATA['+editor.dom.encode((_a=node.value)!==null&&_a!==void 0?_a:'')+']]';}});}parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div',nodes=>{let i=nodes.length;const nonEmptyElements=editor.schema.getNonEmptyElements();while(i--){const node=nodes[i];if(node.isEmpty(nonEmptyElements)&&node.getAll('br').length===0){node.append(new AstNode('br',1));}}});return parser;};const autoFocus=editor=>{const autoFocus=getAutoFocus(editor);if(autoFocus){Delay.setEditorTimeout(editor,()=>{let focusEditor;if(autoFocus===true){focusEditor=editor;}else{focusEditor=editor.editorManager.get(autoFocus);}if(focusEditor&&!focusEditor.destroyed){focusEditor.focus();focusEditor.selection.scrollIntoView();}},100);}};const moveSelectionToFirstCaretPosition=editor=>{const root=editor.dom.getRoot();if(!editor.inline&&(!hasAnyRanges(editor)||editor.selection.getStart(true)===root)){firstPositionIn(root).each(pos=>{const node=pos.getNode();const caretPos=isTable$2(node)?firstPositionIn(node).getOr(pos):pos;editor.selection.setRng(caretPos.toRange());});}};const initEditor=editor=>{editor.bindPendingEventDelegates();editor.initialized=true;fireInit(editor);editor.focus(true);moveSelectionToFirstCaretPosition(editor);editor.nodeChanged({initial:true});const initInstanceCallback=getInitInstanceCallback(editor);if(isFunction(initInstanceCallback)){initInstanceCallback.call(editor,editor);}autoFocus(editor);};const getStyleSheetLoader$1=editor=>editor.inline?editor.ui.styleSheetLoader:editor.dom.styleSheetLoader;const makeStylesheetLoadingPromises=(editor,css,framedFonts)=>{const{pass:bundledCss,fail:normalCss}=partition$2(css,name=>tinymce.Resource.has(toContentSkinResourceName(name)));const bundledPromises=bundledCss.map(url=>{const css=tinymce.Resource.get(toContentSkinResourceName(url));if(isString(css)){return Promise.resolve(getStyleSheetLoader$1(editor).loadRawCss(url,css));}return Promise.resolve();});const promises=[...bundledPromises,getStyleSheetLoader$1(editor).loadAll(normalCss)];if(editor.inline){return promises;}else{return promises.concat([editor.ui.styleSheetLoader.loadAll(framedFonts)]);}};const loadContentCss=editor=>{const styleSheetLoader=getStyleSheetLoader$1(editor);const fontCss=getFontCss(editor);const css=editor.contentCSS;const removeCss=()=>{styleSheetLoader.unloadAll(css);if(!editor.inline){editor.ui.styleSheetLoader.unloadAll(fontCss);}};const loaded=()=>{if(editor.removed){removeCss();}else{editor.on('remove',removeCss);}};if(editor.contentStyles.length>0){let contentCssText='';Tools.each(editor.contentStyles,style=>{contentCssText+=style+'\\r\\n';});editor.dom.addStyle(contentCssText);}const allStylesheets=Promise.all(makeStylesheetLoadingPromises(editor,css,fontCss)).then(loaded).catch(loaded);const contentStyle=getContentStyle(editor);if(contentStyle){appendStyle(editor,contentStyle);}return allStylesheets;};const preInit=editor=>{const doc=editor.getDoc(),body=editor.getBody();firePreInit(editor);if(!shouldBrowserSpellcheck(editor)){doc.body.spellcheck=false;DOM$6.setAttrib(body,'spellcheck','false');}editor.quirks=Quirks(editor);firePostRender(editor);const directionality=getDirectionality(editor);if(directionality!==undefined){body.dir=directionality;}const protect=getProtect(editor);if(protect){editor.on('BeforeSetContent',e=>{Tools.each(protect,pattern=>{e.content=e.content.replace(pattern,str=>{return'<!--mce:protected '+escape(str)+'-->';});});});}editor.on('SetContent',()=>{editor.addVisual(editor.getBody());});editor.on('compositionstart compositionend',e=>{editor.composing=e.type==='compositionstart';});};const loadInitialContent=editor=>{if(!isRtc(editor)){editor.load({initial:true,format:'html'});}editor.startContent=editor.getContent({format:'raw'});};const initEditorWithInitialContent=editor=>{if(editor.removed!==true){loadInitialContent(editor);initEditor(editor);}};const startProgress=editor=>{let canceled=false;const progressTimeout=setTimeout(()=>{if(!canceled){editor.setProgressState(true);}},500);return()=>{clearTimeout(progressTimeout);canceled=true;editor.setProgressState(false);};};const contentBodyLoaded=editor=>{const targetElm=editor.getElement();let doc=editor.getDoc();if(editor.inline){DOM$6.addClass(targetElm,'mce-content-body');editor.contentDocument=doc=document;editor.contentWindow=window;editor.bodyElement=targetElm;editor.contentAreaContainer=targetElm;}const body=editor.getBody();body.disabled=true;editor.readonly=isReadOnly$1(editor);editor._editableRoot=hasEditableRoot$1(editor);if(!editor.readonly&&editor.hasEditableRoot()){if(editor.inline&&DOM$6.getStyle(body,'position',true)==='static'){body.style.position='relative';}body.contentEditable='true';}body.disabled=false;editor.editorUpload=EditorUpload(editor);editor.schema=Schema(mkSchemaSettings(editor));editor.dom=DOMUtils(doc,{keep_values:true,url_converter:editor.convertURL,url_converter_scope:editor,update_styles:true,root_element:editor.inline?editor.getBody():null,collect:editor.inline,schema:editor.schema,contentCssCors:shouldUseContentCssCors(editor),referrerPolicy:getReferrerPolicy(editor),onSetAttrib:e=>{editor.dispatch('SetAttrib',e);},force_hex_color:shouldForceHexColor(editor)});editor.parser=createParser(editor);editor.serializer=DomSerializer(mkSerializerSettings(editor),editor);editor.selection=EditorSelection(editor.dom,editor.getWin(),editor.serializer,editor);editor.annotator=Annotator(editor);editor.formatter=Formatter(editor);editor.undoManager=UndoManager(editor);editor._nodeChangeDispatcher=new NodeChange(editor);editor._selectionOverrides=SelectionOverrides(editor);setup$p(editor);setup$6(editor);setup$n(editor);if(!isRtc(editor)){setup$5(editor);setup$1(editor);}const caret=setup$b(editor);setup$q(editor,caret);setup$o(editor);setup$r(editor);setup$7(editor);const setupRtcThunk=setup$t(editor);preInit(editor);setupRtcThunk.fold(()=>{const cancelProgress=startProgress(editor);loadContentCss(editor).then(()=>{initEditorWithInitialContent(editor);cancelProgress();});},setupRtc=>{editor.setProgressState(true);loadContentCss(editor).then(()=>{setupRtc().then(_rtcMode=>{editor.setProgressState(false);initEditorWithInitialContent(editor);bindEvents(editor);},err=>{editor.notificationManager.open({type:'error',text:String(err)});initEditorWithInitialContent(editor);bindEvents(editor);});});});};const filter=always;const bind=(element,event,handler)=>bind$2(element,event,filter,handler);const DOM$5=DOMUtils.DOM;const createIframeElement=(id,title,customAttrs,tabindex)=>{const iframe=SugarElement.fromTag('iframe');tabindex.each(t=>set$3(iframe,'tabindex',t));setAll$1(iframe,customAttrs);setAll$1(iframe,{id:id+'_ifr',frameBorder:'0',allowTransparency:'true',title});add$2(iframe,'tox-edit-area__iframe');return iframe;};const getIframeHtml=editor=>{let iframeHTML=getDocType(editor)+'<html><head>';if(getDocumentBaseUrl(editor)!==editor.documentBaseUrl){iframeHTML+='<base href=\"'+editor.documentBaseURI.getURI()+'\" />';}iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';const bodyId=getBodyId(editor);const bodyClass=getBodyClass(editor);const translatedAriaText=editor.translate(getIframeAriaText(editor));if(getContentSecurityPolicy(editor)){iframeHTML+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+getContentSecurityPolicy(editor)+'\" />';}iframeHTML+='</head>'+`<body id=\"${bodyId}\" class=\"mce-content-body ${bodyClass}\" data-id=\"${editor.id}\" aria-label=\"${translatedAriaText}\">`+'<br>'+'</body></html>';return iframeHTML;};const createIframe=(editor,boxInfo)=>{const iframeTitle=editor.translate('Rich Text Area');const tabindex=getOpt(SugarElement.fromDom(editor.getElement()),'tabindex').bind(toInt);const ifr=createIframeElement(editor.id,iframeTitle,getIframeAttrs(editor),tabindex).dom;ifr.onload=()=>{ifr.onload=null;editor.dispatch('load');};editor.contentAreaContainer=boxInfo.iframeContainer;editor.iframeElement=ifr;editor.iframeHTML=getIframeHtml(editor);DOM$5.add(boxInfo.iframeContainer,ifr);};const setupIframeBody=editor=>{const iframe=editor.iframeElement;const ready=()=>{editor.contentDocument=iframe.contentDocument;contentBodyLoaded(editor);};if(shouldUseDocumentWrite(editor)||Env.browser.isFirefox()){const doc=editor.getDoc();doc.open();doc.write(editor.iframeHTML);doc.close();ready();}else{const binder=bind(SugarElement.fromDom(iframe),'load',()=>{binder.unbind();ready();});iframe.srcdoc=editor.iframeHTML;}};const init$1=(editor,boxInfo)=>{createIframe(editor,boxInfo);if(boxInfo.editorContainer){boxInfo.editorContainer.style.display=editor.orgDisplay;editor.hidden=DOM$5.isHidden(boxInfo.editorContainer);}editor.getElement().style.display='none';DOM$5.setAttrib(editor.id,'aria-hidden','true');editor.getElement().style.visibility=editor.orgVisibility;setupIframeBody(editor);};const DOM$4=DOMUtils.DOM;const initPlugin=(editor,initializedPlugins,plugin)=>{const Plugin=PluginManager.get(plugin);const pluginUrl=PluginManager.urls[plugin]||editor.documentBaseUrl.replace(/\\/$/,'');plugin=Tools.trim(plugin);if(Plugin&&Tools.inArray(initializedPlugins,plugin)===-1){if(editor.plugins[plugin]){return;}try{const pluginInstance=Plugin(editor,pluginUrl)||{};editor.plugins[plugin]=pluginInstance;if(isFunction(pluginInstance.init)){pluginInstance.init(editor,pluginUrl);initializedPlugins.push(plugin);}}catch(e){pluginInitError(editor,plugin,e);}}};const trimLegacyPrefix=name=>{return name.replace(/^\\-/,'');};const initPlugins=editor=>{const initializedPlugins=[];each$e(getPlugins(editor),name=>{initPlugin(editor,initializedPlugins,trimLegacyPrefix(name));});};const initIcons=editor=>{const iconPackName=Tools.trim(getIconPackName(editor));const currentIcons=editor.ui.registry.getAll().icons;const loadIcons={...IconManager.get('default').icons,...IconManager.get(iconPackName).icons};each$d(loadIcons,(svgData,icon)=>{if(!has$2(currentIcons,icon)){editor.ui.registry.addIcon(icon,svgData);}});};const initTheme=editor=>{const theme=getTheme(editor);if(isString(theme)){const Theme=ThemeManager.get(theme);editor.theme=Theme(editor,ThemeManager.urls[theme])||{};if(isFunction(editor.theme.init)){editor.theme.init(editor,ThemeManager.urls[theme]||editor.documentBaseUrl.replace(/\\/$/,''));}}else{editor.theme={};}};const initModel=editor=>{const model=getModel(editor);const Model=ModelManager.get(model);editor.model=Model(editor,ModelManager.urls[model]);};const renderFromLoadedTheme=editor=>{const render=editor.theme.renderUI;return render?render():renderThemeFalse(editor);};const renderFromThemeFunc=editor=>{const elm=editor.getElement();const theme=getTheme(editor);const info=theme(editor,elm);if(info.editorContainer.nodeType){info.editorContainer.id=info.editorContainer.id||editor.id+'_parent';}if(info.iframeContainer&&info.iframeContainer.nodeType){info.iframeContainer.id=info.iframeContainer.id||editor.id+'_iframecontainer';}info.height=info.iframeHeight?info.iframeHeight:elm.offsetHeight;return info;};const createThemeFalseResult=(element,iframe)=>{return{editorContainer:element,iframeContainer:iframe,api:{}};};const renderThemeFalseIframe=targetElement=>{const iframeContainer=DOM$4.create('div');DOM$4.insertAfter(iframeContainer,targetElement);return createThemeFalseResult(iframeContainer,iframeContainer);};const renderThemeFalse=editor=>{const targetElement=editor.getElement();return editor.inline?createThemeFalseResult(null):renderThemeFalseIframe(targetElement);};const renderThemeUi=editor=>{const elm=editor.getElement();editor.orgDisplay=elm.style.display;if(isString(getTheme(editor))){return renderFromLoadedTheme(editor);}else if(isFunction(getTheme(editor))){return renderFromThemeFunc(editor);}else{return renderThemeFalse(editor);}};const augmentEditorUiApi=(editor,api)=>{const uiApiFacade={show:Optional.from(api.show).getOr(noop),hide:Optional.from(api.hide).getOr(noop),isEnabled:Optional.from(api.isEnabled).getOr(always),setEnabled:state=>{if(!editor.mode.isReadOnly()){Optional.from(api.setEnabled).each(f=>f(state));}}};editor.ui={...editor.ui,...uiApiFacade};};const init=async editor=>{editor.dispatch('ScriptsLoaded');initIcons(editor);initTheme(editor);initModel(editor);initPlugins(editor);const renderInfo=await renderThemeUi(editor);augmentEditorUiApi(editor,Optional.from(renderInfo.api).getOr({}));editor.editorContainer=renderInfo.editorContainer;appendContentCssFromSettings(editor);if(editor.inline){contentBodyLoaded(editor);}else{init$1(editor,{editorContainer:renderInfo.editorContainer,iframeContainer:renderInfo.iframeContainer});}};const DOM$3=DOMUtils.DOM;const hasSkipLoadPrefix=name=>name.charAt(0)==='-';const loadLanguage=(scriptLoader,editor)=>{const languageCode=getLanguageCode(editor);const languageUrl=getLanguageUrl(editor);if(!I18n.hasCode(languageCode)&&languageCode!=='en'){const url=isNotEmpty(languageUrl)?languageUrl:`${editor.editorManager.baseURL}/langs/${languageCode}.js`;scriptLoader.add(url).catch(()=>{languageLoadError(editor,url,languageCode);});}};const loadTheme=(editor,suffix)=>{const theme=getTheme(editor);if(isString(theme)&&!hasSkipLoadPrefix(theme)&&!has$2(ThemeManager.urls,theme)){const themeUrl=getThemeUrl(editor);const url=themeUrl?editor.documentBaseURI.toAbsolute(themeUrl):`themes/${theme}/theme${suffix}.js`;ThemeManager.load(theme,url).catch(()=>{themeLoadError(editor,url,theme);});}};const loadModel=(editor,suffix)=>{const model=getModel(editor);if(model!=='plugin'&&!has$2(ModelManager.urls,model)){const modelUrl=getModelUrl(editor);const url=isString(modelUrl)?editor.documentBaseURI.toAbsolute(modelUrl):`models/${model}/model${suffix}.js`;ModelManager.load(model,url).catch(()=>{modelLoadError(editor,url,model);});}};const getIconsUrlMetaFromUrl=editor=>Optional.from(getIconsUrl(editor)).filter(isNotEmpty).map(url=>({url,name:Optional.none()}));const getIconsUrlMetaFromName=(editor,name,suffix)=>Optional.from(name).filter(name=>isNotEmpty(name)&&!IconManager.has(name)).map(name=>({url:`${editor.editorManager.baseURL}/icons/${name}/icons${suffix}.js`,name:Optional.some(name)}));const loadIcons=(scriptLoader,editor,suffix)=>{const defaultIconsUrl=getIconsUrlMetaFromName(editor,'default',suffix);const customIconsUrl=getIconsUrlMetaFromUrl(editor).orThunk(()=>getIconsUrlMetaFromName(editor,getIconPackName(editor),''));each$e(cat([defaultIconsUrl,customIconsUrl]),urlMeta=>{scriptLoader.add(urlMeta.url).catch(()=>{iconsLoadError(editor,urlMeta.url,urlMeta.name.getOrUndefined());});});};const loadPlugins=(editor,suffix)=>{const loadPlugin=(name,url)=>{PluginManager.load(name,url).catch(()=>{pluginLoadError(editor,url,name);});};each$d(getExternalPlugins$1(editor),(url,name)=>{loadPlugin(name,url);editor.options.set('plugins',getPlugins(editor).concat(name));});each$e(getPlugins(editor),plugin=>{plugin=Tools.trim(plugin);if(plugin&&!PluginManager.urls[plugin]&&!hasSkipLoadPrefix(plugin)){loadPlugin(plugin,`plugins/${plugin}/plugin${suffix}.js`);}});};const isThemeLoaded=editor=>{const theme=getTheme(editor);return!isString(theme)||isNonNullable(ThemeManager.get(theme));};const isModelLoaded=editor=>{const model=getModel(editor);return isNonNullable(ModelManager.get(model));};const loadScripts=(editor,suffix)=>{const scriptLoader=ScriptLoader.ScriptLoader;const initEditor=()=>{if(!editor.removed&&isThemeLoaded(editor)&&isModelLoaded(editor)){init(editor);}};loadTheme(editor,suffix);loadModel(editor,suffix);loadLanguage(scriptLoader,editor);loadIcons(scriptLoader,editor,suffix);loadPlugins(editor,suffix);scriptLoader.loadQueue().then(initEditor,initEditor);};const getStyleSheetLoader=(element,editor)=>instance.forElement(element,{contentCssCors:hasContentCssCors(editor),referrerPolicy:getReferrerPolicy(editor)});const render=editor=>{const id=editor.id;I18n.setCode(getLanguageCode(editor));const readyHandler=()=>{DOM$3.unbind(window,'ready',readyHandler);editor.render();};if(!EventUtils.Event.domLoaded){DOM$3.bind(window,'ready',readyHandler);return;}if(!editor.getElement()){return;}const element=SugarElement.fromDom(editor.getElement());const snapshot=clone$4(element);editor.on('remove',()=>{eachr(element.dom.attributes,attr=>remove$a(element,attr.name));setAll$1(element,snapshot);});editor.ui.styleSheetLoader=getStyleSheetLoader(element,editor);if(!isInline$1(editor)){editor.orgVisibility=editor.getElement().style.visibility;editor.getElement().style.visibility='hidden';}else{editor.inline=true;}const form=editor.getElement().form||DOM$3.getParent(id,'form');if(form){editor.formElement=form;if(hasHiddenInput(editor)&&!isTextareaOrInput(editor.getElement())){DOM$3.insertAfter(DOM$3.create('input',{type:'hidden',name:id}),id);editor.hasHiddenInput=true;}editor.formEventDelegate=e=>{editor.dispatch(e.type,e);};DOM$3.bind(form,'submit reset',editor.formEventDelegate);editor.on('reset',()=>{editor.resetContent();});if(shouldPatchSubmit(editor)&&!form.submit.nodeType&&!form.submit.length&&!form._mceOldSubmit){form._mceOldSubmit=form.submit;form.submit=()=>{editor.editorManager.triggerSave();editor.setDirty(false);return form._mceOldSubmit(form);};}}editor.windowManager=WindowManager(editor);editor.notificationManager=NotificationManager(editor);if(isEncodingXml(editor)){editor.on('GetContent',e=>{if(e.save){e.content=DOM$3.encode(e.content);}});}if(shouldAddFormSubmitTrigger(editor)){editor.on('submit',()=>{if(editor.initialized){editor.save();}});}if(shouldAddUnloadTrigger(editor)){editor._beforeUnload=()=>{if(editor.initialized&&!editor.destroyed&&!editor.isHidden()){editor.save({format:'raw',no_events:true,set_dirty:false});}};editor.editorManager.on('BeforeUnload',editor._beforeUnload);}editor.editorManager.add(editor);loadScripts(editor,editor.suffix);};const setEditableRoot=(editor,state)=>{if(editor._editableRoot!==state){editor._editableRoot=state;if(!editor.readonly){editor.getBody().contentEditable=String(editor.hasEditableRoot());editor.nodeChanged();}fireEditableRootStateChange(editor,state);}};const hasEditableRoot=editor=>editor._editableRoot;const sectionResult=(sections,settings)=>({sections:constant(sections),options:constant(settings)});const deviceDetection=detect$2().deviceType;const isPhone=deviceDetection.isPhone();const isTablet=deviceDetection.isTablet();const normalizePlugins=plugins=>{if(isNullable(plugins)){return[];}else{const pluginNames=isArray$1(plugins)?plugins:plugins.split(/[ ,]/);const trimmedPlugins=map$3(pluginNames,trim$4);return filter$5(trimmedPlugins,isNotEmpty);}};const extractSections=(keys,options)=>{const result=bifilter(options,(value,key)=>{return contains$2(keys,key);});return sectionResult(result.t,result.f);};const getSection=(sectionResult,name,defaults={})=>{const sections=sectionResult.sections();const sectionOptions=get$a(sections,name).getOr({});return Tools.extend({},defaults,sectionOptions);};const hasSection=(sectionResult,name)=>{return has$2(sectionResult.sections(),name);};const getSectionConfig=(sectionResult,name)=>{return hasSection(sectionResult,name)?sectionResult.sections()[name]:{};};const getMobileOverrideOptions=(mobileOptions,isPhone)=>{const defaultMobileOptions={table_grid:false,object_resizing:false,resize:false,toolbar_mode:get$a(mobileOptions,'toolbar_mode').getOr('scrolling'),toolbar_sticky:false};const defaultPhoneOptions={menubar:false};return{...defaultMobileOptions,...(isPhone?defaultPhoneOptions:{})};};const getExternalPlugins=(overrideOptions,options)=>{var _a;const userDefinedExternalPlugins=(_a=options.external_plugins)!==null&&_a!==void 0?_a:{};if(overrideOptions&&overrideOptions.external_plugins){return Tools.extend({},overrideOptions.external_plugins,userDefinedExternalPlugins);}else{return userDefinedExternalPlugins;}};const combinePlugins=(forcedPlugins,plugins)=>[...normalizePlugins(forcedPlugins),...normalizePlugins(plugins)];const getPlatformPlugins=(isMobileDevice,sectionResult,desktopPlugins,mobilePlugins)=>{if(isMobileDevice&&hasSection(sectionResult,'mobile')){return mobilePlugins;}else{return desktopPlugins;}};const processPlugins=(isMobileDevice,sectionResult,defaultOverrideOptions,options)=>{const forcedPlugins=normalizePlugins(defaultOverrideOptions.forced_plugins);const desktopPlugins=normalizePlugins(options.plugins);const mobileConfig=getSectionConfig(sectionResult,'mobile');const mobilePlugins=mobileConfig.plugins?normalizePlugins(mobileConfig.plugins):desktopPlugins;const platformPlugins=getPlatformPlugins(isMobileDevice,sectionResult,desktopPlugins,mobilePlugins);const combinedPlugins=combinePlugins(forcedPlugins,platformPlugins);return Tools.extend(options,{forced_plugins:forcedPlugins,plugins:combinedPlugins});};const isOnMobile=(isMobileDevice,sectionResult)=>{return isMobileDevice&&hasSection(sectionResult,'mobile');};const combineOptions=(isMobileDevice,isPhone,defaultOptions,defaultOverrideOptions,options)=>{var _a;const deviceOverrideOptions=isMobileDevice?{mobile:getMobileOverrideOptions((_a=options.mobile)!==null&&_a!==void 0?_a:{},isPhone)}:{};const sectionResult=extractSections(['mobile'],deepMerge(deviceOverrideOptions,options));const extendedOptions=Tools.extend(defaultOptions,defaultOverrideOptions,sectionResult.options(),isOnMobile(isMobileDevice,sectionResult)?getSection(sectionResult,'mobile'):{},{external_plugins:getExternalPlugins(defaultOverrideOptions,sectionResult.options())});return processPlugins(isMobileDevice,sectionResult,defaultOverrideOptions,extendedOptions);};const normalizeOptions=(defaultOverrideOptions,options)=>combineOptions(isPhone||isTablet,isPhone,options,defaultOverrideOptions,options);const addVisual=(editor,elm)=>addVisual$1(editor,elm);const registerExecCommands$3=editor=>{const toggleFormat=(name,value)=>{editor.formatter.toggle(name,value);editor.nodeChanged();};const toggleAlign=align=>()=>{each$e('left,center,right,justify'.split(','),name=>{if(align!==name){editor.formatter.remove('align'+name);}});if(align!=='none'){toggleFormat('align'+align);}};editor.editorCommands.addCommands({JustifyLeft:toggleAlign('left'),JustifyCenter:toggleAlign('center'),JustifyRight:toggleAlign('right'),JustifyFull:toggleAlign('justify'),JustifyNone:toggleAlign('none')});};const registerQueryStateCommands$1=editor=>{const alignStates=name=>()=>{const selection=editor.selection;const nodes=selection.isCollapsed()?[editor.dom.getParent(selection.getNode(),editor.dom.isBlock)]:selection.getSelectedBlocks();return exists(nodes,node=>isNonNullable(editor.formatter.matchNode(node,name)));};editor.editorCommands.addCommands({JustifyLeft:alignStates('alignleft'),JustifyCenter:alignStates('aligncenter'),JustifyRight:alignStates('alignright'),JustifyFull:alignStates('alignjustify')},'state');};const registerCommands$b=editor=>{registerExecCommands$3(editor);registerQueryStateCommands$1(editor);};const registerCommands$a=editor=>{editor.editorCommands.addCommands({'Cut,Copy,Paste':command=>{const doc=editor.getDoc();let failed;try{doc.execCommand(command);}catch(ex){failed=true;}if(command==='paste'&&!doc.queryCommandEnabled(command)){failed=true;}if(failed||!doc.queryCommandSupported(command)){let msg=editor.translate(`Your browser doesn't support direct access to the clipboard. `+'Please use the Ctrl+X/C/V keyboard shortcuts instead.');if(Env.os.isMacOS()||Env.os.isiOS()){msg=msg.replace(/Ctrl\\+/g,'\\u2318+');}editor.notificationManager.open({text:msg,type:'error'});}}});};const trimOrPadLeftRight=(dom,rng,html,schema)=>{const root=SugarElement.fromDom(dom.getRoot());if(needsToBeNbspLeft(root,CaretPosition.fromRangeStart(rng),schema)){html=html.replace(/^ /,'&nbsp;');}else{html=html.replace(/^&nbsp;/,' ');}if(needsToBeNbspRight(root,CaretPosition.fromRangeEnd(rng),schema)){html=html.replace(/(&nbsp;| )(<br( \\/)>)?$/,'&nbsp;');}else{html=html.replace(/&nbsp;(<br( \\/)?>)?$/,' ');}return html;};const processValue$1=value=>{if(typeof value!=='string'){const details=Tools.extend({paste:value.paste,data:{paste:value.paste}},value);return{content:value.content,details};}return{content:value,details:{}};};const trimOrPad=(editor,value)=>{const selection=editor.selection;const dom=editor.dom;if(/^ | $/.test(value)){return trimOrPadLeftRight(dom,selection.getRng(),value,editor.schema);}else{return value;}};const insertAtCaret=(editor,value)=>{if(editor.selection.isEditable()){const{content,details}=processValue$1(value);preProcessSetContent(editor,{...details,content:trimOrPad(editor,content),format:'html',set:false,selection:true}).each(args=>{const insertedContent=insertContent$1(editor,args.content,details);postProcessSetContent(editor,insertedContent,args);editor.addVisual();});}};const registerCommands$9=editor=>{editor.editorCommands.addCommands({mceCleanup:()=>{const bm=editor.selection.getBookmark();editor.setContent(editor.getContent());editor.selection.moveToBookmark(bm);},insertImage:(_command,_ui,value)=>{insertAtCaret(editor,editor.dom.createHTML('img',{src:value}));},insertHorizontalRule:()=>{editor.execCommand('mceInsertContent',false,'<hr>');},insertText:(_command,_ui,value)=>{insertAtCaret(editor,editor.dom.encode(value));},insertHTML:(_command,_ui,value)=>{insertAtCaret(editor,value);},mceInsertContent:(_command,_ui,value)=>{insertAtCaret(editor,value);},mceSetContent:(_command,_ui,value)=>{editor.setContent(value);},mceReplaceContent:(_command,_ui,value)=>{editor.execCommand('mceInsertContent',false,value.replace(/\\{\\$selection\\}/g,editor.selection.getContent({format:'text'})));},mceNewDocument:()=>{editor.setContent(getNewDocumentContent(editor));}});};const legacyPropNames={'font-size':'size','font-family':'face'};const isFont=isTag('font');const getSpecifiedFontProp=(propName,rootElm,elm)=>{const getProperty=elm=>getRaw(elm,propName).orThunk(()=>{if(isFont(elm)){return get$a(legacyPropNames,propName).bind(legacyPropName=>getOpt(elm,legacyPropName));}else{return Optional.none();}});const isRoot=elm=>eq(SugarElement.fromDom(rootElm),elm);return closest$1(SugarElement.fromDom(elm),elm=>getProperty(elm),isRoot);};const normalizeFontFamily=fontFamily=>fontFamily.replace(/[\\'\\\"\\\\]/g,'').replace(/,\\s+/g,',');const getComputedFontProp=(propName,elm)=>Optional.from(DOMUtils.DOM.getStyle(elm,propName,true));const getFontProp=propName=>(rootElm,elm)=>Optional.from(elm).map(SugarElement.fromDom).filter(isElement$7).bind(element=>getSpecifiedFontProp(propName,rootElm,element.dom).or(getComputedFontProp(propName,element.dom))).getOr('');const getFontSize=getFontProp('font-size');const getFontFamily=compose(normalizeFontFamily,getFontProp('font-family'));const findFirstCaretElement=editor=>firstPositionIn(editor.getBody()).bind(caret=>{const container=caret.container();return Optional.from(isText$a(container)?container.parentNode:container);});const getCaretElement=editor=>Optional.from(editor.selection.getRng()).bind(rng=>{const root=editor.getBody();const atStartOfNode=rng.startContainer===root&&rng.startOffset===0;return atStartOfNode?Optional.none():Optional.from(editor.selection.getStart(true));});const bindRange=(editor,binder)=>getCaretElement(editor).orThunk(curry(findFirstCaretElement,editor)).map(SugarElement.fromDom).filter(isElement$7).bind(binder);const mapRange=(editor,mapper)=>bindRange(editor,compose1(Optional.some,mapper));const fromFontSizeNumber=(editor,value)=>{if(/^[0-9.]+$/.test(value)){const fontSizeNumber=parseInt(value,10);if(fontSizeNumber>=1&&fontSizeNumber<=7){const fontSizes=getFontStyleValues(editor);const fontClasses=getFontSizeClasses(editor);if(fontClasses.length>0){return fontClasses[fontSizeNumber-1]||value;}else{return fontSizes[fontSizeNumber-1]||value;}}else{return value;}}else{return value;}};const normalizeFontNames=font=>{const fonts=font.split(/\\s*,\\s*/);return map$3(fonts,font=>{if(font.indexOf(' ')!==-1&&!(startsWith(font,'\"')||startsWith(font,`'`))){return`'${font}'`;}else{return font;}}).join(',');};const fontNameAction=(editor,value)=>{const font=fromFontSizeNumber(editor,value);editor.formatter.toggle('fontname',{value:normalizeFontNames(font)});editor.nodeChanged();};const fontNameQuery=editor=>mapRange(editor,elm=>getFontFamily(editor.getBody(),elm.dom)).getOr('');const fontSizeAction=(editor,value)=>{editor.formatter.toggle('fontsize',{value:fromFontSizeNumber(editor,value)});editor.nodeChanged();};const fontSizeQuery=editor=>mapRange(editor,elm=>getFontSize(editor.getBody(),elm.dom)).getOr('');const lineHeightQuery=editor=>mapRange(editor,elm=>{const root=SugarElement.fromDom(editor.getBody());const specifiedStyle=closest$1(elm,elm=>getRaw(elm,'line-height'),curry(eq,root));const computedStyle=()=>{const lineHeight=parseFloat(get$7(elm,'line-height'));const fontSize=parseFloat(get$7(elm,'font-size'));return String(lineHeight/fontSize);};return specifiedStyle.getOrThunk(computedStyle);}).getOr('');const lineHeightAction=(editor,lineHeight)=>{editor.formatter.toggle('lineheight',{value:String(lineHeight)});editor.nodeChanged();};const registerExecCommands$2=editor=>{const toggleFormat=(name,value)=>{editor.formatter.toggle(name,value);editor.nodeChanged();};editor.editorCommands.addCommands({'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':command=>{toggleFormat(command);},'ForeColor,HiliteColor':(command,_ui,value)=>{toggleFormat(command,{value});},'BackColor':(_command,_ui,value)=>{toggleFormat('hilitecolor',{value});},'FontName':(_command,_ui,value)=>{fontNameAction(editor,value);},'FontSize':(_command,_ui,value)=>{fontSizeAction(editor,value);},'LineHeight':(_command,_ui,value)=>{lineHeightAction(editor,value);},'Lang':(command,_ui,lang)=>{var _a;toggleFormat(command,{value:lang.code,customValue:(_a=lang.customCode)!==null&&_a!==void 0?_a:null});},'RemoveFormat':command=>{editor.formatter.remove(command);},'mceBlockQuote':()=>{toggleFormat('blockquote');},'FormatBlock':(_command,_ui,value)=>{toggleFormat(isString(value)?value:'p');},'mceToggleFormat':(_command,_ui,value)=>{toggleFormat(value);}});};const registerQueryValueCommands=editor=>{const isFormatMatch=name=>editor.formatter.match(name);editor.editorCommands.addCommands({'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':command=>isFormatMatch(command),'mceBlockQuote':()=>isFormatMatch('blockquote')},'state');editor.editorCommands.addQueryValueHandler('FontName',()=>fontNameQuery(editor));editor.editorCommands.addQueryValueHandler('FontSize',()=>fontSizeQuery(editor));editor.editorCommands.addQueryValueHandler('LineHeight',()=>lineHeightQuery(editor));};const registerCommands$8=editor=>{registerExecCommands$2(editor);registerQueryValueCommands(editor);};const registerCommands$7=editor=>{editor.editorCommands.addCommands({mceAddUndoLevel:()=>{editor.undoManager.add();},mceEndUndoLevel:()=>{editor.undoManager.add();},Undo:()=>{editor.undoManager.undo();},Redo:()=>{editor.undoManager.redo();}});};const registerCommands$6=editor=>{editor.editorCommands.addCommands({Indent:()=>{indent(editor);},Outdent:()=>{outdent(editor);}});editor.editorCommands.addCommands({Outdent:()=>canOutdent(editor)},'state');};const registerCommands$5=editor=>{const applyLinkToSelection=(_command,_ui,value)=>{const linkDetails=isString(value)?{href:value}:value;const anchor=editor.dom.getParent(editor.selection.getNode(),'a');if(isObject(linkDetails)&&isString(linkDetails.href)){linkDetails.href=linkDetails.href.replace(/ /g,'%20');if(!anchor||!linkDetails.href){editor.formatter.remove('link');}if(linkDetails.href){editor.formatter.apply('link',linkDetails,anchor);}}};editor.editorCommands.addCommands({unlink:()=>{if(editor.selection.isEditable()){if(editor.selection.isCollapsed()){const elm=editor.dom.getParent(editor.selection.getStart(),'a');if(elm){editor.dom.remove(elm,true);}return;}editor.formatter.remove('link');}},mceInsertLink:applyLinkToSelection,createLink:applyLinkToSelection});};const registerExecCommands$1=editor=>{editor.editorCommands.addCommands({'InsertUnorderedList,InsertOrderedList':command=>{editor.getDoc().execCommand(command);const listElm=editor.dom.getParent(editor.selection.getNode(),'ol,ul');if(listElm){const listParent=listElm.parentNode;if(listParent&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)){const bm=editor.selection.getBookmark();editor.dom.split(listParent,listElm);editor.selection.moveToBookmark(bm);}}}});};const registerQueryStateCommands=editor=>{editor.editorCommands.addCommands({'InsertUnorderedList,InsertOrderedList':command=>{const list=editor.dom.getParent(editor.selection.getNode(),'ul,ol');return list&&(command==='insertunorderedlist'&&list.tagName==='UL'||command==='insertorderedlist'&&list.tagName==='OL');}},'state');};const registerCommands$4=editor=>{registerExecCommands$1(editor);registerQueryStateCommands(editor);};const getTopParentBlock=(editor,node,root,container)=>{const dom=editor.dom;const selector=node=>dom.isBlock(node)&&node.parentElement===root;const topParentBlock=selector(node)?node:dom.getParent(container,selector,root);return Optional.from(topParentBlock).map(SugarElement.fromDom);};const insert=(editor,before)=>{const dom=editor.dom;const rng=editor.selection.getRng();const node=before?editor.selection.getStart():editor.selection.getEnd();const container=before?rng.startContainer:rng.endContainer;const root=getEditableRoot(dom,container);if(!root||!root.isContentEditable){return;}const insertFn=before?before$3:after$4;const newBlockName=getForcedRootBlock(editor);getTopParentBlock(editor,node,root,container).each(parentBlock=>{const newBlock=createNewBlock(editor,container,parentBlock.dom,root,false,newBlockName);insertFn(parentBlock,SugarElement.fromDom(newBlock));editor.selection.setCursorLocation(newBlock,0);editor.dispatch('NewBlock',{newBlock});fireInputEvent(editor,'insertParagraph');});};const insertBefore=editor=>insert(editor,true);const insertAfter=editor=>insert(editor,false);const registerCommands$3=editor=>{editor.editorCommands.addCommands({InsertNewBlockBefore:()=>{insertBefore(editor);},InsertNewBlockAfter:()=>{insertAfter(editor);}});};const registerCommands$2=editor=>{editor.editorCommands.addCommands({insertParagraph:()=>{insertBreak(blockbreak,editor);},mceInsertNewLine:(_command,_ui,value)=>{insert$1(editor,value);},InsertLineBreak:(_command,_ui,_value)=>{insertBreak(linebreak,editor);}});};const registerCommands$1=editor=>{editor.editorCommands.addCommands({mceSelectNodeDepth:(_command,_ui,value)=>{let counter=0;editor.dom.getParent(editor.selection.getNode(),node=>{if(isElement$6(node)&&counter++===value){editor.selection.select(node);return false;}else{return true;}},editor.getBody());},mceSelectNode:(_command,_ui,value)=>{editor.selection.select(value);},selectAll:()=>{const editingHost=editor.dom.getParent(editor.selection.getStart(),isContentEditableTrue$3);if(editingHost){const rng=editor.dom.createRng();rng.selectNodeContents(editingHost);editor.selection.setRng(rng);}}});};const registerExecCommands=editor=>{editor.editorCommands.addCommands({mceRemoveNode:(_command,_ui,value)=>{const node=value!==null&&value!==void 0?value:editor.selection.getNode();if(node!==editor.getBody()){const bm=editor.selection.getBookmark();editor.dom.remove(node,true);editor.selection.moveToBookmark(bm);}},mcePrint:()=>{editor.getWin().print();},mceFocus:(_command,_ui,value)=>{focus(editor,value===true);},mceToggleVisualAid:()=>{editor.hasVisual=!editor.hasVisual;editor.addVisual();}});};const registerCommands=editor=>{registerCommands$b(editor);registerCommands$a(editor);registerCommands$7(editor);registerCommands$1(editor);registerCommands$9(editor);registerCommands$5(editor);registerCommands$6(editor);registerCommands$3(editor);registerCommands$2(editor);registerCommands$4(editor);registerCommands$8(editor);registerExecCommands(editor);};const selectionSafeCommands=['toggleview'];const isSelectionSafeCommand=command=>contains$2(selectionSafeCommands,command.toLowerCase());class EditorCommands{constructor(editor){this.commands={state:{},exec:{},value:{}};this.editor=editor;}execCommand(command,ui=false,value,args){const editor=this.editor;const lowerCaseCommand=command.toLowerCase();const skipFocus=args===null||args===void 0?void 0:args.skip_focus;if(editor.removed){return false;}if(lowerCaseCommand!=='mcefocus'){if(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(lowerCaseCommand)&&!skipFocus){editor.focus();}else{restore(editor);}}const eventArgs=editor.dispatch('BeforeExecCommand',{command,ui,value});if(eventArgs.isDefaultPrevented()){return false;}const func=this.commands.exec[lowerCaseCommand];if(isFunction(func)){func(lowerCaseCommand,ui,value);editor.dispatch('ExecCommand',{command,ui,value});return true;}return false;}queryCommandState(command){if(!isSelectionSafeCommand(command)&&this.editor.quirks.isHidden()||this.editor.removed){return false;}const lowerCaseCommand=command.toLowerCase();const func=this.commands.state[lowerCaseCommand];if(isFunction(func)){return func(lowerCaseCommand);}return false;}queryCommandValue(command){if(!isSelectionSafeCommand(command)&&this.editor.quirks.isHidden()||this.editor.removed){return'';}const lowerCaseCommand=command.toLowerCase();const func=this.commands.value[lowerCaseCommand];if(isFunction(func)){return func(lowerCaseCommand);}return'';}addCommands(commandList,type='exec'){const commands=this.commands;each$d(commandList,(callback,command)=>{each$e(command.toLowerCase().split(','),command=>{commands[type][command]=callback;});});}addCommand(command,callback,scope){const lowerCaseCommand=command.toLowerCase();this.commands.exec[lowerCaseCommand]=(_command,ui,value)=>callback.call(scope!==null&&scope!==void 0?scope:this.editor,ui,value);}queryCommandSupported(command){const lowerCaseCommand=command.toLowerCase();if(this.commands.exec[lowerCaseCommand]){return true;}else{return false;}}addQueryStateHandler(command,callback,scope){this.commands.state[command.toLowerCase()]=()=>callback.call(scope!==null&&scope!==void 0?scope:this.editor);}addQueryValueHandler(command,callback,scope){this.commands.value[command.toLowerCase()]=()=>callback.call(scope!==null&&scope!==void 0?scope:this.editor);}}const internalContentEditableAttr='data-mce-contenteditable';const toggleClass=(elm,cls,state)=>{if(has(elm,cls)&&!state){remove$7(elm,cls);}else if(state){add$2(elm,cls);}};const setEditorCommandState=(editor,cmd,state)=>{try{editor.getDoc().execCommand(cmd,false,String(state));}catch(ex){}};const setContentEditable=(elm,state)=>{elm.dom.contentEditable=state?'true':'false';};const switchOffContentEditableTrue=elm=>{each$e(descendants(elm,'*[contenteditable=\"true\"]'),elm=>{set$3(elm,internalContentEditableAttr,'true');setContentEditable(elm,false);});};const switchOnContentEditableTrue=elm=>{each$e(descendants(elm,`*[${internalContentEditableAttr}=\"true\"]`),elm=>{remove$a(elm,internalContentEditableAttr);setContentEditable(elm,true);});};const removeFakeSelection=editor=>{Optional.from(editor.selection.getNode()).each(elm=>{elm.removeAttribute('data-mce-selected');});};const restoreFakeSelection=editor=>{editor.selection.setRng(editor.selection.getRng());};const toggleReadOnly=(editor,state)=>{const body=SugarElement.fromDom(editor.getBody());toggleClass(body,'mce-content-readonly',state);if(state){editor.selection.controlSelection.hideResizeRect();editor._selectionOverrides.hideFakeCaret();removeFakeSelection(editor);editor.readonly=true;setContentEditable(body,false);switchOffContentEditableTrue(body);}else{editor.readonly=false;if(editor.hasEditableRoot()){setContentEditable(body,true);}switchOnContentEditableTrue(body);setEditorCommandState(editor,'StyleWithCSS',false);setEditorCommandState(editor,'enableInlineTableEditing',false);setEditorCommandState(editor,'enableObjectResizing',false);if(hasEditorOrUiFocus(editor)){editor.focus();}restoreFakeSelection(editor);editor.nodeChanged();}};const isReadOnly=editor=>editor.readonly;const registerFilters=editor=>{editor.parser.addAttributeFilter('contenteditable',nodes=>{if(isReadOnly(editor)){each$e(nodes,node=>{node.attr(internalContentEditableAttr,node.attr('contenteditable'));node.attr('contenteditable','false');});}});editor.serializer.addAttributeFilter(internalContentEditableAttr,nodes=>{if(isReadOnly(editor)){each$e(nodes,node=>{node.attr('contenteditable',node.attr(internalContentEditableAttr));});}});editor.serializer.addTempAttr(internalContentEditableAttr);};const registerReadOnlyContentFilters=editor=>{if(editor.serializer){registerFilters(editor);}else{editor.on('PreInit',()=>{registerFilters(editor);});}};const isClickEvent=e=>e.type==='click';const allowedEvents=['copy'];const isReadOnlyAllowedEvent=e=>contains$2(allowedEvents,e.type);const getAnchorHrefOpt=(editor,elm)=>{const isRoot=elm=>eq(elm,SugarElement.fromDom(editor.getBody()));return closest$3(elm,'a',isRoot).bind(a=>getOpt(a,'href'));};const processReadonlyEvents=(editor,e)=>{if(isClickEvent(e)&&!VK.metaKeyPressed(e)){const elm=SugarElement.fromDom(e.target);getAnchorHrefOpt(editor,elm).each(href=>{e.preventDefault();if(/^#/.test(href)){const targetEl=editor.dom.select(`${href},[name=\"${removeLeading(href,'#')}\"]`);if(targetEl.length){editor.selection.scrollIntoView(targetEl[0],true);}}else{window.open(href,'_blank','rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');}});}else if(isReadOnlyAllowedEvent(e)){editor.dispatch(e.type,e);}};const registerReadOnlySelectionBlockers=editor=>{editor.on('ShowCaret',e=>{if(isReadOnly(editor)){e.preventDefault();}});editor.on('ObjectSelected',e=>{if(isReadOnly(editor)){e.preventDefault();}});};const nativeEvents=Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange '+'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover '+'draggesture dragdrop drop drag submit '+'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel',' ');class EventDispatcher{static isNative(name){return!!nativeEvents[name.toLowerCase()];}constructor(settings){this.bindings={};this.settings=settings||{};this.scope=this.settings.scope||this;this.toggleEvent=this.settings.toggleEvent||never;}fire(name,args){return this.dispatch(name,args);}dispatch(name,args){const lcName=name.toLowerCase();const event=normalize$3(lcName,args!==null&&args!==void 0?args:{},this.scope);if(this.settings.beforeFire){this.settings.beforeFire(event);}const handlers=this.bindings[lcName];if(handlers){for(let i=0,l=handlers.length;i<l;i++){const callback=handlers[i];if(callback.removed){continue;}if(callback.once){this.off(lcName,callback.func);}if(event.isImmediatePropagationStopped()){return event;}if(callback.func.call(this.scope,event)===false){event.preventDefault();return event;}}}return event;}on(name,callback,prepend,extra){if(callback===false){callback=never;}if(callback){const wrappedCallback={func:callback,removed:false};if(extra){Tools.extend(wrappedCallback,extra);}const names=name.toLowerCase().split(' ');let i=names.length;while(i--){const currentName=names[i];let handlers=this.bindings[currentName];if(!handlers){handlers=[];this.toggleEvent(currentName,true);}if(prepend){handlers=[wrappedCallback,...handlers];}else{handlers=[...handlers,wrappedCallback];}this.bindings[currentName]=handlers;}}return this;}off(name,callback){if(name){const names=name.toLowerCase().split(' ');let i=names.length;while(i--){const currentName=names[i];let handlers=this.bindings[currentName];if(!currentName){each$d(this.bindings,(_value,bindingName)=>{this.toggleEvent(bindingName,false);delete this.bindings[bindingName];});return this;}if(handlers){if(!callback){handlers.length=0;}else{const filteredHandlers=partition$2(handlers,handler=>handler.func===callback);handlers=filteredHandlers.fail;this.bindings[currentName]=handlers;each$e(filteredHandlers.pass,handler=>{handler.removed=true;});}if(!handlers.length){this.toggleEvent(name,false);delete this.bindings[currentName];}}}}else{each$d(this.bindings,(_value,name)=>{this.toggleEvent(name,false);});this.bindings={};}return this;}once(name,callback,prepend){return this.on(name,callback,prepend,{once:true});}has(name){name=name.toLowerCase();const binding=this.bindings[name];return!(!binding||binding.length===0);}}const getEventDispatcher=obj=>{if(!obj._eventDispatcher){obj._eventDispatcher=new EventDispatcher({scope:obj,toggleEvent:(name,state)=>{if(EventDispatcher.isNative(name)&&obj.toggleNativeEvent){obj.toggleNativeEvent(name,state);}}});}return obj._eventDispatcher;};const Observable={fire(name,args,bubble){return this.dispatch(name,args,bubble);},dispatch(name,args,bubble){const self=this;if(self.removed&&name!=='remove'&&name!=='detach'){return normalize$3(name.toLowerCase(),args!==null&&args!==void 0?args:{},self);}const dispatcherArgs=getEventDispatcher(self).dispatch(name,args);if(bubble!==false&&self.parent){let parent=self.parent();while(parent&&!dispatcherArgs.isPropagationStopped()){parent.dispatch(name,dispatcherArgs,false);parent=parent.parent?parent.parent():undefined;}}return dispatcherArgs;},on(name,callback,prepend){return getEventDispatcher(this).on(name,callback,prepend);},off(name,callback){return getEventDispatcher(this).off(name,callback);},once(name,callback){return getEventDispatcher(this).once(name,callback);},hasEventListeners(name){return getEventDispatcher(this).has(name);}};const DOM$2=DOMUtils.DOM;let customEventRootDelegates;const getEventTarget=(editor,eventName)=>{if(eventName==='selectionchange'){return editor.getDoc();}if(!editor.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(eventName)){return editor.getDoc().documentElement;}const eventRoot=getEventRoot(editor);if(eventRoot){if(!editor.eventRoot){editor.eventRoot=DOM$2.select(eventRoot)[0];}return editor.eventRoot;}return editor.getBody();};const isListening=editor=>!editor.hidden&&!isReadOnly(editor);const fireEvent=(editor,eventName,e)=>{if(isListening(editor)){editor.dispatch(eventName,e);}else if(isReadOnly(editor)){processReadonlyEvents(editor,e);}};const bindEventDelegate=(editor,eventName)=>{if(!editor.delegates){editor.delegates={};}if(editor.delegates[eventName]||editor.removed){return;}const eventRootElm=getEventTarget(editor,eventName);if(getEventRoot(editor)){if(!customEventRootDelegates){customEventRootDelegates={};editor.editorManager.on('removeEditor',()=>{if(!editor.editorManager.activeEditor){if(customEventRootDelegates){each$d(customEventRootDelegates,(_value,name)=>{editor.dom.unbind(getEventTarget(editor,name));});customEventRootDelegates=null;}}});}if(customEventRootDelegates[eventName]){return;}const delegate=e=>{const target=e.target;const editors=editor.editorManager.get();let i=editors.length;while(i--){const body=editors[i].getBody();if(body===target||DOM$2.isChildOf(target,body)){fireEvent(editors[i],eventName,e);}}};customEventRootDelegates[eventName]=delegate;DOM$2.bind(eventRootElm,eventName,delegate);}else{const delegate=e=>{fireEvent(editor,eventName,e);};DOM$2.bind(eventRootElm,eventName,delegate);editor.delegates[eventName]=delegate;}};const EditorObservable={...Observable,bindPendingEventDelegates(){const self=this;Tools.each(self._pendingNativeEvents,name=>{bindEventDelegate(self,name);});},toggleNativeEvent(name,state){const self=this;if(name==='focus'||name==='blur'){return;}if(self.removed){return;}if(state){if(self.initialized){bindEventDelegate(self,name);}else{if(!self._pendingNativeEvents){self._pendingNativeEvents=[name];}else{self._pendingNativeEvents.push(name);}}}else if(self.initialized&&self.delegates){self.dom.unbind(getEventTarget(self,name),name,self.delegates[name]);delete self.delegates[name];}},unbindAllNativeEvents(){const self=this;const body=self.getBody();const dom=self.dom;if(self.delegates){each$d(self.delegates,(value,name)=>{self.dom.unbind(getEventTarget(self,name),name,value);});delete self.delegates;}if(!self.inline&&body&&dom){body.onload=null;dom.unbind(self.getWin());dom.unbind(self.getDoc());}if(dom){dom.unbind(body);dom.unbind(self.getContainer());}}};const stringListProcessor=value=>{if(isString(value)){return{value:value.split(/[ ,]/),valid:true};}else if(isArrayOf(value,isString)){return{value,valid:true};}else{return{valid:false,message:`The value must be a string[] or a comma/space separated string.`};}};const getBuiltInProcessor=type=>{const validator=(()=>{switch(type){case'array':return isArray$1;case'boolean':return isBoolean;case'function':return isFunction;case'number':return isNumber;case'object':return isObject;case'string':return isString;case'string[]':return stringListProcessor;case'object[]':return val=>isArrayOf(val,isObject);case'regexp':return val=>is$4(val,RegExp);default:return always;}})();return value=>processValue(value,validator,`The value must be a ${type}.`);};const isBuiltInSpec=spec=>isString(spec.processor);const getErrorMessage=(message,result)=>{const additionalText=isEmpty$3(result.message)?'':`. ${result.message}`;return message+additionalText;};const isValidResult=result=>result.valid;const processValue=(value,processor,message='')=>{const result=processor(value);if(isBoolean(result)){return result?{value:value,valid:true}:{valid:false,message};}else{return result;}};const processDefaultValue=(name,defaultValue,processor)=>{if(!isUndefined(defaultValue)){const result=processValue(defaultValue,processor);if(isValidResult(result)){return result.value;}else{console.error(getErrorMessage(`Invalid default value passed for the \"${name}\" option`,result));}}return undefined;};const create$5=(editor,initialOptions)=>{const registry={};const values={};const setValue=(name,value,processor)=>{const result=processValue(value,processor);if(isValidResult(result)){values[name]=result.value;return true;}else{console.warn(getErrorMessage(`Invalid value passed for the ${name} option`,result));return false;}};const register=(name,spec)=>{const processor=isBuiltInSpec(spec)?getBuiltInProcessor(spec.processor):spec.processor;const defaultValue=processDefaultValue(name,spec.default,processor);registry[name]={...spec,default:defaultValue,processor};const initValue=get$a(values,name).orThunk(()=>get$a(initialOptions,name));initValue.each(value=>setValue(name,value,processor));};const isRegistered=name=>has$2(registry,name);const get=name=>get$a(values,name).orThunk(()=>get$a(registry,name).map(spec=>spec.default)).getOrUndefined();const set=(name,value)=>{if(!isRegistered(name)){console.warn(`\"${name}\" is not a registered option. Ensure the option has been registered before setting a value.`);return false;}else{const spec=registry[name];if(spec.immutable){console.error(`\"${name}\" is an immutable option and cannot be updated`);return false;}else{return setValue(name,value,spec.processor);}}};const unset=name=>{const registered=isRegistered(name);if(registered){delete values[name];}return registered;};const isSet=name=>has$2(values,name);return{register,isRegistered,get,set,unset,isSet};};const defaultModes=['design','readonly'];const switchToMode=(editor,activeMode,availableModes,mode)=>{const oldMode=availableModes[activeMode.get()];const newMode=availableModes[mode];try{newMode.activate();}catch(e){console.error(`problem while activating editor mode ${mode}:`,e);return;}oldMode.deactivate();if(oldMode.editorReadOnly!==newMode.editorReadOnly){toggleReadOnly(editor,newMode.editorReadOnly);}activeMode.set(mode);fireSwitchMode(editor,mode);};const setMode=(editor,availableModes,activeMode,mode)=>{if(mode===activeMode.get()){return;}else if(!has$2(availableModes,mode)){throw new Error(`Editor mode '${mode}' is invalid`);}if(editor.initialized){switchToMode(editor,activeMode,availableModes,mode);}else{editor.on('init',()=>switchToMode(editor,activeMode,availableModes,mode));}};const registerMode=(availableModes,mode,api)=>{if(contains$2(defaultModes,mode)){throw new Error(`Cannot override default mode ${mode}`);}return{...availableModes,[mode]:{...api,deactivate:()=>{try{api.deactivate();}catch(e){console.error(`problem while deactivating editor mode ${mode}:`,e);}}}};};const create$4=editor=>{const activeMode=Cell('design');const availableModes=Cell({design:{activate:noop,deactivate:noop,editorReadOnly:false},readonly:{activate:noop,deactivate:noop,editorReadOnly:true}});registerReadOnlyContentFilters(editor);registerReadOnlySelectionBlockers(editor);return{isReadOnly:()=>isReadOnly(editor),set:mode=>setMode(editor,availableModes.get(),activeMode,mode),get:()=>activeMode.get(),register:(mode,api)=>{availableModes.set(registerMode(availableModes.get(),mode,api));}};};const each$2=Tools.each,explode=Tools.explode;const keyCodeLookup={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};const modifierNames=Tools.makeMap('alt,ctrl,shift,meta,access');const isModifier=key=>key in modifierNames;const parseShortcut=pattern=>{const shortcut={};const isMac=Env.os.isMacOS()||Env.os.isiOS();each$2(explode(pattern.toLowerCase(),'+'),value=>{if(isModifier(value)){shortcut[value]=true;}else{if(/^[0-9]{2,}$/.test(value)){shortcut.keyCode=parseInt(value,10);}else{shortcut.charCode=value.charCodeAt(0);shortcut.keyCode=keyCodeLookup[value]||value.toUpperCase().charCodeAt(0);}}});const id=[shortcut.keyCode];let key;for(key in modifierNames){if(shortcut[key]){id.push(key);}else{shortcut[key]=false;}}shortcut.id=id.join(',');if(shortcut.access){shortcut.alt=true;if(isMac){shortcut.ctrl=true;}else{shortcut.shift=true;}}if(shortcut.meta){if(isMac){shortcut.meta=true;}else{shortcut.ctrl=true;shortcut.meta=false;}}return shortcut;};class Shortcuts{constructor(editor){this.shortcuts={};this.pendingPatterns=[];this.editor=editor;const self=this;editor.on('keyup keypress keydown',e=>{if((self.hasModifier(e)||self.isFunctionKey(e))&&!e.isDefaultPrevented()){each$2(self.shortcuts,shortcut=>{if(self.matchShortcut(e,shortcut)){self.pendingPatterns=shortcut.subpatterns.slice(0);if(e.type==='keydown'){self.executeShortcutAction(shortcut);}}});if(self.matchShortcut(e,self.pendingPatterns[0])){if(self.pendingPatterns.length===1){if(e.type==='keydown'){self.executeShortcutAction(self.pendingPatterns[0]);}}self.pendingPatterns.shift();}}});}add(pattern,desc,cmdFunc,scope){const self=this;const func=self.normalizeCommandFunc(cmdFunc);each$2(explode(Tools.trim(pattern)),pattern=>{const shortcut=self.createShortcut(pattern,desc,func,scope);self.shortcuts[shortcut.id]=shortcut;});return true;}remove(pattern){const shortcut=this.createShortcut(pattern);if(this.shortcuts[shortcut.id]){delete this.shortcuts[shortcut.id];return true;}return false;}normalizeCommandFunc(cmdFunc){const self=this;const cmd=cmdFunc;if(typeof cmd==='string'){return()=>{self.editor.execCommand(cmd,false,null);};}else if(Tools.isArray(cmd)){return()=>{self.editor.execCommand(cmd[0],cmd[1],cmd[2]);};}else{return cmd;}}createShortcut(pattern,desc,cmdFunc,scope){const shortcuts=Tools.map(explode(pattern,'>'),parseShortcut);shortcuts[shortcuts.length-1]=Tools.extend(shortcuts[shortcuts.length-1],{func:cmdFunc,scope:scope||this.editor});return Tools.extend(shortcuts[0],{desc:this.editor.translate(desc),subpatterns:shortcuts.slice(1)});}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey;}isFunctionKey(e){return e.type==='keydown'&&e.keyCode>=112&&e.keyCode<=123;}matchShortcut(e,shortcut){if(!shortcut){return false;}if(shortcut.ctrl!==e.ctrlKey||shortcut.meta!==e.metaKey){return false;}if(shortcut.alt!==e.altKey||shortcut.shift!==e.shiftKey){return false;}if(e.keyCode===shortcut.keyCode||e.charCode&&e.charCode===shortcut.charCode){e.preventDefault();return true;}return false;}executeShortcutAction(shortcut){return shortcut.func?shortcut.func.call(shortcut.scope):null;}}const create$3=()=>{const buttons={};const menuItems={};const popups={};const icons={};const contextMenus={};const contextToolbars={};const sidebars={};const views={};const add=(collection,type)=>(name,spec)=>{collection[name.toLowerCase()]={...spec,type};};const addIcon=(name,svgData)=>icons[name.toLowerCase()]=svgData;return{addButton:add(buttons,'button'),addGroupToolbarButton:add(buttons,'grouptoolbarbutton'),addToggleButton:add(buttons,'togglebutton'),addMenuButton:add(buttons,'menubutton'),addSplitButton:add(buttons,'splitbutton'),addMenuItem:add(menuItems,'menuitem'),addNestedMenuItem:add(menuItems,'nestedmenuitem'),addToggleMenuItem:add(menuItems,'togglemenuitem'),addAutocompleter:add(popups,'autocompleter'),addContextMenu:add(contextMenus,'contextmenu'),addContextToolbar:add(contextToolbars,'contexttoolbar'),addContextForm:add(contextToolbars,'contextform'),addSidebar:add(sidebars,'sidebar'),addView:add(views,'views'),addIcon,getAll:()=>({buttons,menuItems,icons,popups,contextMenus,contextToolbars,sidebars,views})};};const registry=()=>{const bridge=create$3();return{addAutocompleter:bridge.addAutocompleter,addButton:bridge.addButton,addContextForm:bridge.addContextForm,addContextMenu:bridge.addContextMenu,addContextToolbar:bridge.addContextToolbar,addIcon:bridge.addIcon,addMenuButton:bridge.addMenuButton,addMenuItem:bridge.addMenuItem,addNestedMenuItem:bridge.addNestedMenuItem,addSidebar:bridge.addSidebar,addSplitButton:bridge.addSplitButton,addToggleButton:bridge.addToggleButton,addGroupToolbarButton:bridge.addGroupToolbarButton,addToggleMenuItem:bridge.addToggleMenuItem,addView:bridge.addView,getAll:bridge.getAll};};const DOM$1=DOMUtils.DOM;const extend=Tools.extend,each$1=Tools.each;class Editor{constructor(id,options,editorManager){this.plugins={};this.contentCSS=[];this.contentStyles=[];this.loadedCSS={};this.isNotDirty=false;this.composing=false;this.destroyed=false;this.hasHiddenInput=false;this.iframeElement=null;this.initialized=false;this.readonly=false;this.removed=false;this.startContent='';this._pendingNativeEvents=[];this._skinLoaded=false;this._editableRoot=true;this.editorManager=editorManager;this.documentBaseUrl=editorManager.documentBaseURL;extend(this,EditorObservable);const self=this;this.id=id;this.hidden=false;const normalizedOptions=normalizeOptions(editorManager.defaultOptions,options);this.options=create$5(self,normalizedOptions);register$7(self);const getOption=this.options.get;if(getOption('deprecation_warnings')){logWarnings(options,normalizedOptions);}const suffix=getOption('suffix');if(suffix){editorManager.suffix=suffix;}this.suffix=editorManager.suffix;const baseUrl=getOption('base_url');if(baseUrl){editorManager._setBaseUrl(baseUrl);}this.baseUri=editorManager.baseURI;const referrerPolicy=getReferrerPolicy(self);if(referrerPolicy){ScriptLoader.ScriptLoader._setReferrerPolicy(referrerPolicy);DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(referrerPolicy);}const contentCssCors=hasContentCssCors(self);if(isNonNullable(contentCssCors)){DOMUtils.DOM.styleSheetLoader._setContentCssCors(contentCssCors);}AddOnManager.languageLoad=getOption('language_load');AddOnManager.baseURL=editorManager.baseURL;this.setDirty(false);this.documentBaseURI=new URI(getDocumentBaseUrl(self),{base_uri:this.baseUri});this.baseURI=this.baseUri;this.inline=isInline$1(self);this.hasVisual=isVisualAidsEnabled(self);this.shortcuts=new Shortcuts(this);this.editorCommands=new EditorCommands(this);registerCommands(this);const cacheSuffix=getOption('cache_suffix');if(cacheSuffix){Env.cacheSuffix=cacheSuffix.replace(/^[\\?\\&]+/,'');}this.ui={registry:registry(),styleSheetLoader:undefined,show:noop,hide:noop,setEnabled:noop,isEnabled:always};this.mode=create$4(self);editorManager.dispatch('SetupEditor',{editor:this});const setupCallback=getSetupCallback(self);if(isFunction(setupCallback)){setupCallback.call(self,self);}}render(){render(this);}focus(skipFocus){this.execCommand('mceFocus',false,skipFocus);}hasFocus(){return hasFocus(this);}translate(text){return I18n.translate(text);}getParam(name,defaultVal,type){const options=this.options;if(!options.isRegistered(name)){if(isNonNullable(type)){options.register(name,{processor:type,default:defaultVal});}else{options.register(name,{processor:always,default:defaultVal});}}return!options.isSet(name)&&!isUndefined(defaultVal)?defaultVal:options.get(name);}hasPlugin(name,loaded){const hasPlugin=contains$2(getPlugins(this),name);if(hasPlugin){return loaded?PluginManager.get(name)!==undefined:true;}else{return false;}}nodeChanged(args){this._nodeChangeDispatcher.nodeChanged(args);}addCommand(name,callback,scope){this.editorCommands.addCommand(name,callback,scope);}addQueryStateHandler(name,callback,scope){this.editorCommands.addQueryStateHandler(name,callback,scope);}addQueryValueHandler(name,callback,scope){this.editorCommands.addQueryValueHandler(name,callback,scope);}addShortcut(pattern,desc,cmdFunc,scope){this.shortcuts.add(pattern,desc,cmdFunc,scope);}execCommand(cmd,ui,value,args){return this.editorCommands.execCommand(cmd,ui,value,args);}queryCommandState(cmd){return this.editorCommands.queryCommandState(cmd);}queryCommandValue(cmd){return this.editorCommands.queryCommandValue(cmd);}queryCommandSupported(cmd){return this.editorCommands.queryCommandSupported(cmd);}show(){const self=this;if(self.hidden){self.hidden=false;if(self.inline){self.getBody().contentEditable='true';}else{DOM$1.show(self.getContainer());DOM$1.hide(self.id);}self.load();self.dispatch('show');}}hide(){const self=this;if(!self.hidden){self.save();if(self.inline){self.getBody().contentEditable='false';if(self===self.editorManager.focusedEditor){self.editorManager.focusedEditor=null;}}else{DOM$1.hide(self.getContainer());DOM$1.setStyle(self.id,'display',self.orgDisplay);}self.hidden=true;self.dispatch('hide');}}isHidden(){return this.hidden;}setProgressState(state,time){this.dispatch('ProgressState',{state,time});}load(args={}){const self=this;const elm=self.getElement();if(self.removed){return'';}if(elm){const loadArgs={...args,load:true};const value=isTextareaOrInput(elm)?elm.value:elm.innerHTML;const html=self.setContent(value,loadArgs);if(!loadArgs.no_events){self.dispatch('LoadContent',{...loadArgs,element:elm});}return html;}else{return'';}}save(args={}){const self=this;let elm=self.getElement();if(!elm||!self.initialized||self.removed){return'';}const getArgs={...args,save:true,element:elm};let html=self.getContent(getArgs);const saveArgs={...getArgs,content:html};if(!saveArgs.no_events){self.dispatch('SaveContent',saveArgs);}if(saveArgs.format==='raw'){self.dispatch('RawSaveContent',saveArgs);}html=saveArgs.content;if(!isTextareaOrInput(elm)){if(args.is_removing||!self.inline){elm.innerHTML=html;}const form=DOM$1.getParent(self.id,'form');if(form){each$1(form.elements,elm=>{if(elm.name===self.id){elm.value=html;return false;}else{return true;}});}}else{elm.value=html;}saveArgs.element=getArgs.element=elm=null;if(saveArgs.set_dirty!==false){self.setDirty(false);}return html;}setContent(content,args){return setContent(this,content,args);}getContent(args){return getContent(this,args);}insertContent(content,args){if(args){content=extend({content},args);}this.execCommand('mceInsertContent',false,content);}resetContent(initialContent){if(initialContent===undefined){setContent(this,this.startContent,{format:'raw'});}else{setContent(this,initialContent);}this.undoManager.reset();this.setDirty(false);this.nodeChanged();}isDirty(){return!this.isNotDirty;}setDirty(state){const oldState=!this.isNotDirty;this.isNotDirty=!state;if(state&&state!==oldState){this.dispatch('dirty');}}getContainer(){const self=this;if(!self.container){self.container=self.editorContainer||DOM$1.get(self.id+'_parent');}return self.container;}getContentAreaContainer(){return this.contentAreaContainer;}getElement(){if(!this.targetElm){this.targetElm=DOM$1.get(this.id);}return this.targetElm;}getWin(){const self=this;if(!self.contentWindow){const elm=self.iframeElement;if(elm){self.contentWindow=elm.contentWindow;}}return self.contentWindow;}getDoc(){const self=this;if(!self.contentDocument){const win=self.getWin();if(win){self.contentDocument=win.document;}}return self.contentDocument;}getBody(){var _a,_b;const doc=this.getDoc();return(_b=(_a=this.bodyElement)!==null&&_a!==void 0?_a:doc===null||doc===void 0?void 0:doc.body)!==null&&_b!==void 0?_b:null;}convertURL(url,name,elm){const self=this,getOption=self.options.get;const urlConverterCallback=getUrlConverterCallback(self);if(isFunction(urlConverterCallback)){return urlConverterCallback.call(self,url,elm,true,name);}if(!getOption('convert_urls')||elm==='link'||isObject(elm)&&elm.nodeName==='LINK'||url.indexOf('file:')===0||url.length===0){return url;}const urlObject=new URI(url);if(urlObject.protocol!=='http'&&urlObject.protocol!=='https'&&urlObject.protocol!==''){return url;}if(getOption('relative_urls')){return self.documentBaseURI.toRelative(url);}url=self.documentBaseURI.toAbsolute(url,getOption('remove_script_host'));return url;}addVisual(elm){addVisual(this,elm);}setEditableRoot(state){setEditableRoot(this,state);}hasEditableRoot(){return hasEditableRoot(this);}remove(){remove$1(this);}destroy(automatic){destroy(this,automatic);}uploadImages(){return this.editorUpload.uploadImages();}_scanForImages(){return this.editorUpload.scanForImages();}}const DOM=DOMUtils.DOM;const each=Tools.each;let boundGlobalEvents=false;let beforeUnloadDelegate;let editors=[];const globalEventDelegate=e=>{const type=e.type;each(EditorManager.get(),editor=>{switch(type){case'scroll':editor.dispatch('ScrollWindow',e);break;case'resize':editor.dispatch('ResizeWindow',e);break;}});};const toggleGlobalEvents=state=>{if(state!==boundGlobalEvents){const DOM=DOMUtils.DOM;if(state){DOM.bind(window,'resize',globalEventDelegate);DOM.bind(window,'scroll',globalEventDelegate);}else{DOM.unbind(window,'resize',globalEventDelegate);DOM.unbind(window,'scroll',globalEventDelegate);}boundGlobalEvents=state;}};const removeEditorFromList=targetEditor=>{const oldEditors=editors;editors=filter$5(editors,editor=>{return targetEditor!==editor;});if(EditorManager.activeEditor===targetEditor){EditorManager.activeEditor=editors.length>0?editors[0]:null;}if(EditorManager.focusedEditor===targetEditor){EditorManager.focusedEditor=null;}return oldEditors.length!==editors.length;};const purgeDestroyedEditor=editor=>{if(editor&&editor.initialized&&!(editor.getContainer()||editor.getBody()).parentNode){removeEditorFromList(editor);editor.unbindAllNativeEvents();editor.destroy(true);editor.removed=true;}};const isQuirksMode=document.compatMode!=='CSS1Compat';const EditorManager={...Observable,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:'6',minorVersion:'8.3',releaseDate:'2024-02-08',i18n:I18n,activeEditor:null,focusedEditor:null,setup(){const self=this;let baseURL='';let suffix='';let documentBaseURL=URI.getDocumentBaseUrl(document.location);if(/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)){documentBaseURL=documentBaseURL.replace(/[\\?#].*$/,'').replace(/[\\/\\\\][^\\/]+$/,'');if(!/[\\/\\\\]$/.test(documentBaseURL)){documentBaseURL+='/';}}const preInit=window.tinymce||window.tinyMCEPreInit;if(preInit){baseURL=preInit.base||preInit.baseURL;suffix=preInit.suffix;}else{const scripts=document.getElementsByTagName('script');for(let i=0;i<scripts.length;i++){const src=scripts[i].src||'';if(src===''){continue;}const srcScript=src.substring(src.lastIndexOf('/'));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)){if(srcScript.indexOf('.min')!==-1){suffix='.min';}baseURL=src.substring(0,src.lastIndexOf('/'));break;}}if(!baseURL&&document.currentScript){const src=document.currentScript.src;if(src.indexOf('.min')!==-1){suffix='.min';}baseURL=src.substring(0,src.lastIndexOf('/'));}}self.baseURL=new URI(documentBaseURL).toAbsolute(baseURL);self.documentBaseURL=documentBaseURL;self.baseURI=new URI(self.baseURL);self.suffix=suffix;setup$w(self);},overrideDefaults(defaultOptions){const baseUrl=defaultOptions.base_url;if(baseUrl){this._setBaseUrl(baseUrl);}const suffix=defaultOptions.suffix;if(suffix){this.suffix=suffix;}this.defaultOptions=defaultOptions;const pluginBaseUrls=defaultOptions.plugin_base_urls;if(pluginBaseUrls!==undefined){each$d(pluginBaseUrls,(pluginBaseUrl,pluginName)=>{AddOnManager.PluginManager.urls[pluginName]=pluginBaseUrl;});}},init(options){const self=this;let result;const invalidInlineTargets=Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track '+'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu',' ');const isInvalidInlineTarget=(options,elm)=>options.inline&&elm.tagName.toLowerCase()in invalidInlineTargets;const createId=elm=>{let id=elm.id;if(!id){id=get$a(elm,'name').filter(name=>!DOM.get(name)).getOrThunk(DOM.uniqueId);elm.setAttribute('id',id);}return id;};const execCallback=name=>{const callback=options[name];if(!callback){return;}return callback.apply(self,[]);};const findTargets=options=>{if(Env.browser.isIE()||Env.browser.isEdge()){initError('TinyMCE does not support the browser you are using. For a list of supported'+' browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers');return[];}else if(isQuirksMode){initError('Failed to initialize the editor as the document is not in standards mode. '+'TinyMCE requires standards mode.');return[];}else if(isString(options.selector)){return DOM.select(options.selector);}else if(isNonNullable(options.target)){return[options.target];}else{return[];}};let provideResults=editors=>{result=editors;};const initEditors=()=>{let initCount=0;const editors=[];let targets;const createEditor=(id,options,targetElm)=>{const editor=new Editor(id,options,self);editors.push(editor);editor.on('init',()=>{if(++initCount===targets.length){provideResults(editors);}});editor.targetElm=editor.targetElm||targetElm;editor.render();};DOM.unbind(window,'ready',initEditors);execCallback('onpageload');targets=unique$1(findTargets(options));Tools.each(targets,elm=>{purgeDestroyedEditor(self.get(elm.id));});targets=Tools.grep(targets,elm=>{return!self.get(elm.id);});if(targets.length===0){provideResults([]);}else{each(targets,elm=>{if(isInvalidInlineTarget(options,elm)){initError('Could not initialize inline editor on invalid inline target element',elm);}else{createEditor(createId(elm),options,elm);}});}};DOM.bind(window,'ready',initEditors);return new Promise(resolve=>{if(result){resolve(result);}else{provideResults=editors=>{resolve(editors);};}});},get(id){if(arguments.length===0){return editors.slice(0);}else if(isString(id)){return find$2(editors,editor=>{return editor.id===id;}).getOr(null);}else if(isNumber(id)){return editors[id]?editors[id]:null;}else{return null;}},add(editor){const self=this;const existingEditor=self.get(editor.id);if(existingEditor===editor){return editor;}if(existingEditor===null){editors.push(editor);}toggleGlobalEvents(true);self.activeEditor=editor;self.dispatch('AddEditor',{editor});if(!beforeUnloadDelegate){beforeUnloadDelegate=e=>{const event=self.dispatch('BeforeUnload');if(event.returnValue){e.preventDefault();e.returnValue=event.returnValue;return event.returnValue;}};window.addEventListener('beforeunload',beforeUnloadDelegate);}return editor;},createEditor(id,options){return this.add(new Editor(id,options,this));},remove(selector){const self=this;let editor;if(!selector){for(let i=editors.length-1;i>=0;i--){self.remove(editors[i]);}return;}if(isString(selector)){each(DOM.select(selector),elm=>{editor=self.get(elm.id);if(editor){self.remove(editor);}});return;}editor=selector;if(isNull(self.get(editor.id))){return null;}if(removeEditorFromList(editor)){self.dispatch('RemoveEditor',{editor});}if(editors.length===0){window.removeEventListener('beforeunload',beforeUnloadDelegate);}editor.remove();toggleGlobalEvents(editors.length>0);return editor;},execCommand(cmd,ui,value){var _a;const self=this;const editorId=isObject(value)?(_a=value.id)!==null&&_a!==void 0?_a:value.index:value;switch(cmd){case'mceAddEditor':{if(!self.get(editorId)){const editorOptions=value.options;new Editor(editorId,editorOptions,self).render();}return true;}case'mceRemoveEditor':{const editor=self.get(editorId);if(editor){editor.remove();}return true;}case'mceToggleEditor':{const editor=self.get(editorId);if(!editor){self.execCommand('mceAddEditor',false,value);return true;}if(editor.isHidden()){editor.show();}else{editor.hide();}return true;}}if(self.activeEditor){return self.activeEditor.execCommand(cmd,ui,value);}return false;},triggerSave:()=>{each(editors,editor=>{editor.save();});},addI18n:(code,items)=>{I18n.add(code,items);},translate:text=>{return I18n.translate(text);},setActive(editor){const activeEditor=this.activeEditor;if(this.activeEditor!==editor){if(activeEditor){activeEditor.dispatch('deactivate',{relatedTarget:editor});}editor.dispatch('activate',{relatedTarget:activeEditor});}this.activeEditor=editor;},_setBaseUrl(baseUrl){this.baseURL=new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/,''));this.baseURI=new URI(this.baseURL);}};EditorManager.setup();const setup=()=>{const dataValue=value$2();const FakeClipboardItem=items=>({items,types:keys(items),getType:type=>get$a(items,type).getOrUndefined()});const write=data=>{dataValue.set(data);};const read=()=>dataValue.get().getOrUndefined();const clear=dataValue.clear;return{FakeClipboardItem,write,read,clear};};const FakeClipboard=setup();const min=Math.min,max=Math.max,round=Math.round;const relativePosition=(rect,targetRect,rel)=>{let x=targetRect.x;let y=targetRect.y;const w=rect.w;const h=rect.h;const targetW=targetRect.w;const targetH=targetRect.h;const relChars=(rel||'').split('');if(relChars[0]==='b'){y+=targetH;}if(relChars[1]==='r'){x+=targetW;}if(relChars[0]==='c'){y+=round(targetH/2);}if(relChars[1]==='c'){x+=round(targetW/2);}if(relChars[3]==='b'){y-=h;}if(relChars[4]==='r'){x-=w;}if(relChars[3]==='c'){y-=round(h/2);}if(relChars[4]==='c'){x-=round(w/2);}return create$2(x,y,w,h);};const findBestRelativePosition=(rect,targetRect,constrainRect,rels)=>{for(let i=0;i<rels.length;i++){const pos=relativePosition(rect,targetRect,rels[i]);if(pos.x>=constrainRect.x&&pos.x+pos.w<=constrainRect.w+constrainRect.x&&pos.y>=constrainRect.y&&pos.y+pos.h<=constrainRect.h+constrainRect.y){return rels[i];}}return null;};const inflate=(rect,w,h)=>{return create$2(rect.x-w,rect.y-h,rect.w+w*2,rect.h+h*2);};const intersect=(rect,cropRect)=>{const x1=max(rect.x,cropRect.x);const y1=max(rect.y,cropRect.y);const x2=min(rect.x+rect.w,cropRect.x+cropRect.w);const y2=min(rect.y+rect.h,cropRect.y+cropRect.h);if(x2-x1<0||y2-y1<0){return null;}return create$2(x1,y1,x2-x1,y2-y1);};const clamp=(rect,clampRect,fixedSize)=>{let x1=rect.x;let y1=rect.y;let x2=rect.x+rect.w;let y2=rect.y+rect.h;const cx2=clampRect.x+clampRect.w;const cy2=clampRect.y+clampRect.h;const underflowX1=max(0,clampRect.x-x1);const underflowY1=max(0,clampRect.y-y1);const overflowX2=max(0,x2-cx2);const overflowY2=max(0,y2-cy2);x1+=underflowX1;y1+=underflowY1;if(fixedSize){x2+=underflowX1;y2+=underflowY1;x1-=overflowX2;y1-=overflowY2;}x2-=overflowX2;y2-=overflowY2;return create$2(x1,y1,x2-x1,y2-y1);};const create$2=(x,y,w,h)=>{return{x,y,w,h};};const fromClientRect=clientRect=>{return create$2(clientRect.left,clientRect.top,clientRect.width,clientRect.height);};const Rect={inflate,relativePosition,findBestRelativePosition,intersect,clamp,create:create$2,fromClientRect};const awaiter=(resolveCb,rejectCb,timeout=1000)=>{let done=false;let timer=null;const complete=completer=>(...args)=>{if(!done){done=true;if(timer!==null){clearTimeout(timer);timer=null;}completer.apply(null,args);}};const resolve=complete(resolveCb);const reject=complete(rejectCb);const start=(...args)=>{if(!done&&timer===null){timer=setTimeout(()=>reject.apply(null,args),timeout);}};return{start,resolve,reject};};const create$1=()=>{const tasks={};const resultFns={};const resources={};const load=(id,url)=>{const loadErrMsg=`Script at URL \"${url}\" failed to load`;const runErrMsg=`Script at URL \"${url}\" did not call \\`tinymce.Resource.add('${id}', data)\\` within 1 second`;if(tasks[id]!==undefined){return tasks[id];}else{const task=new Promise((resolve,reject)=>{const waiter=awaiter(resolve,reject);resultFns[id]=waiter.resolve;ScriptLoader.ScriptLoader.loadScript(url).then(()=>waiter.start(runErrMsg),()=>waiter.reject(loadErrMsg));});tasks[id]=task;return task;}};const add=(id,data)=>{if(resultFns[id]!==undefined){resultFns[id](data);delete resultFns[id];}tasks[id]=Promise.resolve(data);resources[id]=data;};const has=id=>{return id in resources;};const unload=id=>{delete tasks[id];};const get=id=>resources[id];return{load,add,has,get,unload};};const Resource=create$1();const create=()=>(()=>{let data={};let keys=[];const storage={getItem:key=>{const item=data[key];return item?item:null;},setItem:(key,value)=>{keys.push(key);data[key]=String(value);},key:index=>{return keys[index];},removeItem:key=>{keys=keys.filter(k=>k===key);delete data[key];},clear:()=>{keys=[];data={};},length:0};Object.defineProperty(storage,'length',{get:()=>keys.length,configurable:false,enumerable:false});return storage;})();let localStorage;try{const test='__storage_test__';localStorage=window.localStorage;localStorage.setItem(test,test);localStorage.removeItem(test);}catch(e){localStorage=create();}var LocalStorage=localStorage;const publicApi={geom:{Rect},util:{Delay,Tools,VK,URI,EventDispatcher,Observable,I18n,LocalStorage,ImageUploader},dom:{EventUtils,TreeWalker:DomTreeWalker,TextSeeker,DOMUtils,ScriptLoader,RangeUtils,Serializer:DomSerializer,StyleSheetLoader,ControlSelection,BookmarkManager,Selection:EditorSelection,Event:EventUtils.Event},html:{Styles,Entities,Node:AstNode,Schema,DomParser,Writer,Serializer:HtmlSerializer},Env,AddOnManager,Annotator,Formatter,UndoManager,EditorCommands,WindowManager,NotificationManager,EditorObservable,Shortcuts,Editor,FocusManager,EditorManager,DOM:DOMUtils.DOM,ScriptLoader:ScriptLoader.ScriptLoader,PluginManager,ThemeManager,ModelManager,IconManager,Resource,FakeClipboard,trim:Tools.trim,isArray:Tools.isArray,is:Tools.is,toArray:Tools.toArray,makeMap:Tools.makeMap,each:Tools.each,map:Tools.map,grep:Tools.grep,inArray:Tools.inArray,extend:Tools.extend,walk:Tools.walk,resolve:Tools.resolve,explode:Tools.explode,_addCacheSuffix:Tools._addCacheSuffix};const tinymce$1=Tools.extend(EditorManager,publicApi);const exportToModuleLoaders=tinymce=>{if(typeof module==='object'){try{module.exports=tinymce;}catch(_){}}};const exportToWindowGlobal=tinymce=>{window.tinymce=tinymce;window.tinyMCE=tinymce;};exportToWindowGlobal(tinymce$1);exportToModuleLoaders(tinymce$1);})();","map":{"version":3,"names":["typeOf$1","x","undefined","t","Array","prototype","isPrototypeOf","constructor","name","String","isEquatableType","indexOf","sort$1","xs","compareFn","clone","slice","call","sort","contramap","eqa","f","eq$2","y","eq","tripleEq","eqString","eqArray","length","len","i","eqSortedArray","eqRecord","kx","Object","keys","ky","q","eqAny","tx","ty","getPrototypeOf$2","getPrototypeOf","hasProto","v","predicate","_a","typeOf","isArray","o","proto","isType$1","type","value","isSimpleType","eq$1","a","is$4","isObject","isString","isPlainObject","isArray$1","isNull","isBoolean","isUndefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","noop","compose","fa","fb","args","apply","compose1","fbc","fab","constant","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","apply$1","never","always","Optional","tag","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","from","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","nativeIndexOf","nativePush","push","rawIndexOf","ts","indexOf$1","r","contains$2","map$3","each$e","eachr","partition$2","pass","fail","arr","filter$5","foldr","acc","foldl","findUntil$1","until","find$2","findIndex$2","flatten","bind$3","reverse","difference","a1","a2","mapToObject","comparator","copy","get$b","head","last$3","findMap","unique$1","isDuplicated","hasOwnProperty$1","hasOwnProperty","each$d","obj","props","k","map$2","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","bifilter","filter$4","mapToArray","values","get$a","key","has$2","hasNonNullableKey","equal$1","stringArray","isArrayLike","toArray$1","array","l","each$c","cb","s","n","map$1","callback","out","item","index","filter$3","reduce","collection","iteratee","accumulator","thisArg","findIndex$1","last$2","cached","called","DeviceType","os","browser","userAgent","mediaMatch","isiPad","isiOS","test","isiPhone","isMobile","isAndroid","isTouch","isTablet","isPhone","iOSwebview","isSafari","isDesktop","isWebView","firstMatch","regexes","find$1","agent","major","minor","group","Number","replace","nu$3","detect$5","versionRegexes","cleanedAgent","toLowerCase","unknown$2","Version","nu","detect","unknown","detectBrowser$1","browsers","userAgentData","brands","uaBrand","lcBrand","brand","info","current","version","parseInt","detect$4","candidates","candidate","search","detectBrowser","detectOs","oses","removeFromStart","str","numChars","substring","checkRange","substr","start","removeLeading","prefix","startsWith","contains$1","end","idx","endsWith","suffix","blank","trim$4","lTrim","rTrim","isNotEmpty","isEmpty$3","repeat","count","join","toInt","radix","num","isNaN","normalVersionRegex","checkContains","target","uastring","PlatformInfo","edge","chromium","ie","opera","firefox","safari","unknown$1","nu$2","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","Browser","windows","ios","android","linux","macos","solaris","freebsd","chromeos","nu$1","isOS","isWindows","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","detect$3","userAgentDataOpt","deviceType","PlatformDetection","query","window","matchMedia","matches","platform$4","navigator","detect$2","platform$3","browser$3","os$1","windowsPhone","Env","transparentSrc","documentMode","document","cacheSuffix","container","canHaveCSP","whiteSpaceRegExp$1","trim$3","is$3","makeMap$4","items","delim","resolvedItems","split","extend$3","exts","ext","walk$4","resolve$3","path","explode$3","d","_addCacheSuffix","url","Tools","trim","is","makeMap","grep","inArray","hasOwn","extend","walk","resolve","explode","is$2","lhs","rhs","left","equals","lift2","cat","oa","ob","lift3","oc","someIf","Global","Function","parts","scope","resolve$2","p","unsafe","actual","getPrototypeOf$1","sandHTMLElement","COMMENT","DOCUMENT","DOCUMENT_FRAGMENT","ELEMENT","TEXT","element","dom","nodeName","type$1","nodeType","isType","isComment$1","isHTMLElement$1","isElement$7","isText$b","isDocument$2","isDocumentFragment$1","isTag","e","rawSet","setAttribute","console","error","set$3","setAll$1","attrs","get$9","getAttribute","getOpt","has$1","hasAttribute","remove$a","removeAttribute","hasNone","attributes","clone$4","attr","read$4","add$4","id","old","remove$9","supports","classList","get$8","add$3","clazz","remove$8","toggle$2","add$2","add","cleanClass","remove$7","remove","toggle$1","result","toggle","has","contains","fromHtml$1","html","doc","div","createElement","innerHTML","hasChildNodes","childNodes","fromDom$2","fromTag","node","fromText","text","createTextNode","fromPoint$2","docElm","elementFromPoint","SugarElement","fromHtml","fromDom","fromPoint","recurse","cur","is$1","selector","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","base","querySelectorAll","one","querySelector","e1","e2","d1","d2","owner$1","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","parents$1","isRoot","stop","ret","rawParent","siblings","filterSelf","elements","children$1","prevSibling","previousSibling","nextSibling","prevSiblings","nextSiblings","child$1","cs","firstChild","lastChild","childNodesCount","getHead","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported$1","getStyleContainer","getContentContainer","body","getShadowRoot","getShadowHost","getOriginalEventTarget","event","el","isOpenShadowHost","composed","composedPath","shadowRoot","inBody","ClosestOrAncestor","ancestor","ancestor$4","closest$4","sibling$1","child","descendant$2","descend","res","ancestor$3","descendant$1","closest$3","closest$2","isEditable$2","assumeEditable","isContentEditable","editable","getRaw$1","contentEditable","isSupported","style","getPropertyValue","internalSet","property","setProperty","internalRemove","removeProperty","set$2","setAll","css","get$7","styles","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","remove$6","reflow","offsetWidth","before$3","marker","parent$1","insertBefore","after$4","sibling","append$1","prepend","firstChild$1","appendChild","wrap$2","wrapper","after$3","append","empty","textContent","rogue","remove$5","removeChild","unwrap","children","fromDom$1","nodes","get$6","set$1","content","owner","docDom","fragment","createDocumentFragment","contentElements","getOuter","cloneNode","mkEvent","prevent","kill","fromRawEvent","rawEvent","stopPropagation","preventDefault","clientX","clientY","handle$1","handler","useCapture","wrapped","addEventListener","unbind","bind$2","removeEventListener","top","translate","SugarPosition","boxPosition","box","getBoundingClientRect","firstDefinedOrZero","absolute","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport","get$5","_DOC","to","scrollTo","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","get$4","_win","visualViewport","bounds","width","height","right","bottom","getBounds","scroll","clientWidth","clientHeight","Math","max","pageLeft","pageTop","descendants$1","descendants","ancestor$2","DomTreeWalker","startNode","rootNode","next","prev","prev2","shallow","findSibling","findPreviousNode","startName","siblingName","isNodeType","isRestrictedNode","isElement$6","isHTMLElement","isSVGElement","namespaceURI","matchNodeName","lowerCasedName","matchNodeNames","names","lowerCasedNames","matchStyleValues","computed","cssValue","attrName","hasAttributeValue","attrValue","isBogus$2","isBogusAll$1","isTable$2","tagName","hasContentEditableState","isTextareaOrInput","isText$a","isCData","isPi","isComment","isDocument$1","isDocumentFragment","isBr$6","isImg","isContentEditableTrue$3","isContentEditableFalse$b","isTableCell$3","isTableCellOrCaption","isMedia$2","isListItem$2","isDetails","isSummary$1","zeroWidth","nbsp","isZwsp$2","char","removeZwsp","NodeValue","get","getOption","nodeValue","set","api$1","get$3","tableCells","tableSections","textBlocks","listItems$1","lists","wsElements","lazyLookup","lookup","isTable$1","isBr$5","isTextBlock$2","isList","isListItem$1","isTableSection","isTableCell$2","isWsPreserveElement","getLastChildren$1","elm","rawNode","removeTrailingBr","allBrs","brs","createPaddingBr","br","fillWithPaddingBr","trimBlockTrailingBr","schema","lastChildPrevSibling","isBlock","ZWSP$1","isZwsp$1","trim$2","insert$5","editor","insertContent","preserve_zwsp","isElement$5","isText$9","isCaretContainerBlock$1","isCaretContainerInline","data","isCaretContainer$2","hasContent","insertInline$1","before","textNode","startsWithCaretContainer$1","splitText","endsWithCaretContainer$1","isBeforeInline","pos","charAt","offset","isAtStart","isAfterInline","isAtEnd","insertBlock","blockName","blockNode","trimBogusBr","getElementsByTagName","lastBr","showCaretContainerBlock","caretContainer","isRangeInCaretContainerBlock","range","startContainer","isContentEditableTrue$2","isContentEditableFalse$a","isBr$4","isText$8","isInvalidTextElement","isAtomicInline","isTable","isCaretContainer$1","isCaretCandidate$3","isNonUiContentEditableFalse","isUnselectable","isInEditable","root","tempNode","isAtomicContentEditableFalse","isAtomic$1","isEditableCaretCandidate$1","whiteSpaceRegExp","isWhitespaceText","isZwsp","c","isCollapsibleWhitespace$1","isNewLineChar","isNewline","normalize$4","tabSpaces","isStartOfContent","isEndOfContent","tabSpace","normalizedText","pcIsSpace","hasWhitespacePreserveParent","rootElement","isWhitespace$1","isNamedAnchor","isContent$1","isBookmark","isBogus$1","isBogusAll","hasNonEditableParent","isEmptyNode","targetNode","skipBogus","brCount","walker","isEmpty$2","isNonHtmlElementRootName","isNonHtmlElementRoot","toScopeType","namespaceElements","createNamespaceTracker","scopes","peek","track","currentScope","pop","reset","transparentBlockAttr","elementNames","makeSelectorFromSchemaMap","ns","updateTransparent","blocksSelector","transparent","updateBlockStateOnChildren","transparentSelector","getTransparentElements","getBlockElements","trimEdge","leftSide","childPropertyName","split$2","parentElm","splitElm","createRange","setStartBefore","setEndBefore","beforeFragment","extractContents","setStartAfter","setEndAfter","afterFragment","splitInvalidChildren","transparentBlocks","blocksElements","transparentBlock","parentBlock","invalidChildren","isValidChild","stateScope","unwrapInvalidChildren","isTransparentBlock","block","isTransparentInline","updateChildren","updateElement","isTransparentElement","updateCaret","caretParent","parents","hasBlockAttr","isTransparentElementName","isTransparentAstBlock","browser$2","firstElement","getTableCaptionDeltaY","caption","bodyTop","captionTop","captionHeight","offsetHeight","hasChild","getPos","rootElm","offsetParent","castOffsetParent","StyleSheetLoader","documentOrShadowRoot","settings","idCount","loadedStates","edos","_setReferrerPolicy","referrerPolicy","_setContentCssCors","contentCssCors","addStyle","removeStyle","styleContainer","getOrCreateState","passed","failed","load","Promise","success","failure","link","urlWithSuffix","state","callbacks","status","onload","onerror","linkElem","rel","loadRawCss","styleElem","loadAll","urls","loadedUrls","allSettled","then","results","reject","reason","unload","unloadRawCss","unloadAll","create$d","WeakMap","forElement","referenceElement","rootDom","sl","instance","isSpan","isInlineContent","isInline","surroundedByInlineContent","prevIsInline","nextIsInline","isBookmarkNode$2","isKeepTextNode","isKeepElement","isDocument","trimNode","currentChildren","makeMap$3","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","baseEntities","reverseEntities","nativeDecode","innerText","buildEntitiesLookup","itemList","chr","fromCharCode","entity","namedEntities","encodeRaw","encodeAllRaw","encodeNumeric","charCodeAt","encodeNamed","entities","resolveEntities","getEncodeFunc","entitiesMap","encodeNamedAndNumeric","encodeCustomNamed","nameMap","named","numeric","decode","Entities","split$1","patternToRegExp","RegExp","parseCustomElementsRules","customElementRegExp","rule","exec","inline","cloneName","getElementSetsAsStrings","globalAttributes","blockContent","phrasingContent","transparentContent","html4PhrasingContent","html4BlockContent","flowContent","makeSchema","addElement","attributesOrder","childNames","ni","allAttributes","addAttrs","schemaItem","video","audio","table","script","prefixToOperation","parseValidChildrenRules","childRuleRegExp","operation","validChildren","parseValidElementsAttrDataIntoElement","attrData","targetElement","attrRuleRegExp","hasPatternsRegExp","attrType","attrPrefix","attributesRequired","required","splice","attributesDefault","defaultValue","attributesForced","forcedValue","validValues","attrPattern","attributePatterns","pattern","cloneAttributesInto","parseValidElementsRules","globalElement","validElements","elementRuleRegExp","elementName","outputName","attrsPrefix","paddEmpty","removeEmpty","removeEmptyAttrs","aliasName","mapCache","makeMap$2","each$b","extend$2","explode$2","createMap","extendWith","toUpperCase","getTextRootBlockElements","getTextBlockElements","compileElementMap","mode","Schema","patternElements","customElementsMap","specialElements","createLookupTable","option","newValue","schemaType","schemaItems","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whitespaceElementsMap","selfClosingElementsMap","voidElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","headings","textBlockElementsMap","blockElementsMap","textInlineElementsMap","transparentElementsMap","wrapBlockElementsMap","addValidElements","patternElement","setValidElements","addCustomElements","customElements","text_block_elements","block_elements","customRule","elmName","addValidChildren","getElementRule","_val","padd_empty_block_inline_children","paddInEmptyBlock","svg","custom_elements","valid_children","extended_valid_elements","dd","dt","li","td","th","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getTextInlineElements","getVoidElements","seal","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhitespaceElements","getWrapBlockElements","getSpecialElements","isValid","attrPatterns","isWrapper","getCustomElements","hexColour","normalizeHex","hex","toHex","component","fromRgba","rgbaColour","red","green","blue","rgbRegex","rgbaRegex","alpha","fromStringValues","g","parseFloat","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","rgbaToHexString","color","h","Styles","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","self","parse","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","compress2","encode","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","match","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","lastIndex","force_hex_color","border","serialize","serializeStyles","elemName","validStyleList","styleList","styleMap","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","isNativeEvent","Event","initEvent","hasIsDefaultPrevented","isDefaultPrevented","needsNormalizing","clone$3","originalEvent","getModifierState","keyArg","getTargetRanges","normalize$3","fallbackTarget","srcElement","defaultPrevented","cancelBubble","isPropagationStopped","stopImmediatePropagation","isImmediatePropagationStopped","eventExpandoPrefix","mouseEventRe","addEvent","capture","removeEvent","isMouseEvent","fix","pageX","eventDoc","mouseEvent","pageY","bindOnReady","eventUtils","domLoaded","isDocReady","readyState","readyHandler","EventUtils","events","expando","Date","hasFocusIn","callbackList","defaultNativeHandler","evt","executeHandlers","namesList","nativeHandler","fakeName","func","eventMap","ci","newCallbackList","ex","fire","dispatch","parentWindow","clean","destroy","cancel","each$a","internalStyleName","numericalCssMap","legacySetAttribute","camelCaseToHyphens","findNodeIndex","normalized","lastNodeType","updateInternalStyleAttr","rawValue","convertStyleToString","cssName","applyStyle$1","$elm","normalizedName","setupAttrHooks","getContext","keepValues","keep_values","keepUrlHook","sugarElm","internalName","attrHooks","href","src","DOMUtils","addedStyles","files","counter","stdMode","boxModel","styleSheetLoader","boundEvents","ownEvents","getElementById","_get","getAttrib","defaultVal","hook","getAttribs","setAttrib","run","val","originalValue","onSetAttrib","attrElm","deep","getRoot","root_element","getViewPort","argWin","vp","w","getPos$1","setStyle","update_styles","setStyles","stylesArg","getStyle","getSize","getRect","size","elms","getParents","collect","resolvedRoot","selectorVal","getParent","_findSib","getNext","getPrev","isParentNode","select","_b","context","setAttribs","setHTML","create","newElm","createHTML","outHtml","createFragment","frag","keepChildren","$node","removeAllAttribs","removeAttributeNode","parseStyle","cssText","serializeStyle","DOM","styleElm","styleSheet","loadCSS","catch","toggleClass","cls","classes","addClass","removeClass","hasClass","show","hide","isHidden","uniqueId","getOuterHTML","outerHTML","setOuterHTML","insertAfter","reference","referenceNode","oldElm","replacee","replaceChild","rename","attrNode","findCommonAncestor","ps","pe","isNonEmptyElement","isEmpty","options","whitespaceElements","nonEmptyElements","bogusVal","includeZwsp","createRng","replacementElm","setStart","setEnd","rv","boundTarget","boundName","boundFunc","getContentEditable","getContentEditableParent","isEditable","_","isChildOf","dumpRng","startOffset","endContainer","endOffset","nodeIndex","DOM$b","QUEUED","LOADING","LOADED","FAILED","ScriptLoader","states","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","cleanup","done","isDone","markDone","loadQueue","loadScripts","scripts","execCallbacks","processResults","failures","processQueue","nextQueuedItem","shift","uniqueScripts","Cell","initial","firstIndex","isRaw","isTokenised","currentCode","getLanguageData","getData$1","setCode","newCode","getCode","add$1","code","langData","lcNames","translation","lcName","getLangData","textStr","removeContext","substitued","$1","$2","isRtl$1","dir","hasCode","I18n","getData","isRtl","AddOnManager","_listeners","runListeners","matchedListeners","listener","isLoaded","isAdded","loadLanguagePack","languages","language","wrappedLanguages","requireLangPack","languageLoad","waitFor","addOn","createUrl","baseUrl","dep","resource","addOnUrl","urlString","baseURL","lastIndexOf","PluginManager","ThemeManager","ModelManager","singleton","doRevoke","subject","revoke","clear","isSet","repeatable","delay","intervalId","clearInterval","functionToRepeat","setInterval","value$2","on","first$1","rate","timer","clearTimeout","throttle","setTimeout","last$1","annotation","dataAnnotation","dataAnnotationId","dataAnnotationActive","dataAnnotationClasses","dataAnnotationAttributes","isRoot$1","identify","annotationName","rng","selection","getRng","getBody","an","newStart","closest","uid","findMarkers","isAnnotation","isBogusElement","descendant","findAll","markers","directory","m","nodesAlready","setup$y","registry","changeCallbacks","initData","listeners","previous","withCallbacks","updateCallbacks","callbackMap","outputData","fireCallbacks","fireNoAnnotation","toggleActiveAttr","onNodeChange","annotations","getNames","addListener","setup$x","dataAnnotation$1","identifyParserNode","removeDirectAnnotation","customAttrNames","customClasses","newClassList","serializer","addTempAttr","addAttributeFilter","persistent","create$c","register","unique","generate$1","date","time","getTime","random","floor","remove$4","clone$2","original","isDeep","shallow$1","deep$1","shallowAs","mutate","TextWalker","isBoundary","direction","TextSeeker","isBlockBoundary","process","newOffset","backwards","forwards","round$2","round","clone$1","rect","collapse","toStart","isEqual","rect1","rect2","isValidOverflow","overflowY","min","isAbove$1","halfHeight","isBelow$1","containsXY","boundingClientRectFromRects","rects","prevRect","distanceToRectEdgeFromXY","cx","cy","sqrt","overlapY","r1","r2","clamp$2","getSelectedNode","getNode$1","safeOffset","getNodeUnsafe","extendingChars","isExtendingChar","ch","and","isElement$4","isCaretCandidate$2","isBlock$2","isFloated","isValidElementCaretCandidate","isNotPre","isText$7","isBr$3","nodeIndex$1","resolveIndex$1","createRange$1","isWhiteSpace$1","isRange","isHiddenWhiteSpaceRange","getBrClientRect","brNode","nbsp$1","clientRect","getBoundingClientRectWebKitText","sc","ec","so","eo","newRng","cloneRange","getBoundingClientRect$1","isZeroRect","clientRects","getClientRects","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","addUniqueAndValidRect","addCharacterOffset","beforeNode","CaretPosition","toRange","isVisible","getNode","fromRangeStart","fromRangeEnd","after","isAbove","pos1","pos2","isBelow","isTextPosition","isElementPosition","trimEmptyTextNode$1","insertNode","insertFragment","rangeInsertNode","isText$6","isBogus","normalizedParent","getChildNodes","normalizedTextOffset","equal","normalizedNodeIndex","numTextFragments","createPathItem","parentsUntil$1","create$b","outputOffset","resolvePathItem","findTextPosition","targetOffset","dataLen","resolve$1","paths","nodeOffset","isContentEditableFalse$9","getNormalizedTextOffset$1","trimmedOffset","getPoint","point","getLocation","forward","isForward","fakeCaret","isFakeCaret","isCollapsed","findIndex","moveEndPoint$1","normalizeTableCellSelection","findAdjacentContentEditableFalseElm","getOffsetBookmark","getCaretBookmark","getRangeBookmark","createBookmarkSpan","filled","getPersistentBookmark","collapsed","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark$2","getUndoBookmark","value$1","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","onError","_onValue","fromOption","optional","err","generate","cases","constructors","adt","acase","keys$1","argLength","branches","branchKeys","allReqd","reqKey","foldArgs","log","label","params","Adt","bothErrors","firstError","secondError","bothValues","partition$1","errors","isInlinePattern","isBlockPattern","normalizePattern","formatOrCmd","onFormat","onCommand","format","formats","cmd","command","commandValue","getBlockPatterns","patterns","getInlinePatterns","createPatternSet","dynamicPatternsLookup","inlinePatterns","blockPatterns","fromRawPatterns","fromRawPatternsLookup","lookupFn","ctx","rawPatterns","deviceDetection$1","DOM$a","getHash","isRegExp","stringOrObjectProcessor","bodyOptionProcessor","valid","bodyObj","register$7","registerOption","processor","default","documentBaseUrl","isInline$1","hasPlugin","convertURL","_ctx","getElement","getIframeAttrs","getDocType","getDocumentBaseUrl","getBodyId","getBodyClass","getContentSecurityPolicy","shouldPutBrInPre$1","getForcedRootBlock","getForcedRootBlockAttrs","getNewlineBehavior","getBrNewLineSelector","getNoNewLineSelector","shouldKeepStyles","shouldEndContainerOnEmptyBlock","isAutomaticUploadsEnabled","shouldReuseFileName","shouldReplaceBlobUris","getIconPackName","getIconsUrl","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","getLanguageUrl","shouldIndentUseMargin","getIndentation","getContentCss","getContentStyle","getFontCss","getDirectionality","getInlineBoundarySelector","getObjectResizing","getResizeImgProportional","getPlaceholder","getEventRoot","getServiceMessage","getTheme","getThemeUrl","getModel","getModelUrl","isInlineBoundariesEnabled","getFormats","getPreviewStyles","canFormatEmptyLines","getFormatNoneditableSelector","getCustomUiSelector","hasHiddenInput","shouldPatchSubmit","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","getCustomUndoRedoLevels","shouldDisableNodeChange","isReadOnly$1","hasEditableRoot$1","hasContentCssCors","getPlugins","getExternalPlugins$1","shouldBlockUnsupportedDrop","isVisualAidsEnabled","getVisualAidsTableClass","getVisualAidsAnchorClass","getIframeAriaText","getSetupCallback","getInitInstanceCallback","getUrlConverterCallback","getAutoFocus","shouldBrowserSpellcheck","getProtect","shouldPasteBlockDrop","shouldPasteDataImages","getPastePreProcess","getPastePostProcess","getNewDocumentContent","getPasteWebkitStyles","shouldPasteRemoveWebKitStyles","shouldPasteMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getPasteTabSpaces","shouldAllowHtmlDataUrls","getTextPatterns","getTextPatternsLookup","getNonEditableClass","getEditableClass","getNonEditableRegExps","shouldPreserveCData","shouldHighlightOnFocus","shouldSanitizeXss","shouldUseDocumentWrite","hasTextPatternsLookup","getFontStyleValues","getFontSizeClasses","isEncodingXml","getAllowedImageFileTypes","hasTableTabNavigation","getDetailsInitialState","getDetailsSerializedState","shouldForceHexColor","shouldSandboxIframes","isElement$3","isText$5","removeNode$1","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","remove$3","removeTextAndReposition","removeElementAndReposition","newPosition","removeTextCaretContainer","removeElementCaretContainer","removeAndReposition","caretContainerNode","isContentEditableFalse$8","isMedia$1","isTableCell$1","inlineFakeCaretSelector","getAbsoluteClientRect","scrollX","scrollY","rootRect","margin","trimInlineCaretContainers","fakeCaretTargetNodes","FakeCaret","hasFocus","lastVisualCaret","cursorInterval","caretBlock","caret","startBlink","isInlineFakeCaretTarget","caretState","reposition","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isTarget","isContentEditableTrue$1","isContentEditableFalse$7","isMedia","isBlockLike","isCaretContainer","isCaretContainerBlock","isElement$2","isText$4","isCaretCandidate$1","isForwards","isBackwards","skipCaretContainers","findNode","predicateFn","isCefOrCaretContainer","getEditingHost","isCETrue","getParentBlock$3","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$2","normalizeRange","leanLeft","leanRight","location","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getElementFromPrevPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","HDirection","isContentEditableFalse$6","isText$3","isElement$1","isBr$2","isCaretCandidate","isAtomic","isEditableCaretCandidate","getParents$3","nodeAtIndex","getCaretCandidatePosition","moveForwardFromBr","nextNode","findCaretPosition$1","Forwards","startPos","innerNode","rootContentEditableFalseElm","CaretWalker","Backwards","walkToPositionIn","position","fromPosition","afterElement","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","isAtBr","shouldSkipPosition","navigate","navigateIgnore","ignoreFilter","positionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID","isCaretNode","getParentCaretContainer","currentNode","isStringPathBookmark","bookmark","isRangeBookmark","isIdBookmark","isIndexBookmark","isPathBookmark","isForwardBookmark","addBogus","resolveCaretPositionBookmark","endPos","insertZwsp","isEmpty$1","tryFindRangePosition","padEmptyCaretContainer","setEndPoint","isValidTextNode","restoreEndPoint","markerParent","otherMarker","appendData","resolvePaths","resolveId","spos","epos","resolveIndex","selectNode","getBookmark$1","setRng","isBookmarkNode$1","expected","isNbsp","isWhiteSpace","isContent","getRanges$1","ranges","rangeCount","getRangeAt","getSelectedNodes","hasMultipleRanges","getCellsFromRanges","getCellsFromElement","getCellsFromElementOrRanges","selectedCells","getCellsFromEditor","getSel","getClosestTable","cell","getStartNode","getEndNode","getFirstChildren","getLastChildren","hasAllContentsSelected","endNode","moveEndPoint","hasAnyRanges","sel","runOnRanges","executor","fakeSelectionNodes","fakeNodeRng","preserve","fillBookmark","isNode","isElementNode$1","isElementDirectlySelected","selectedAttr","preserveSelection","action","shouldMoveStart","selectedNodeBeforeAction","isSelectedBeforeNodeNoneditable","isBeforeNodeStillNoneditable","getStart","moveStartToNearestText","selectedNode","isWhiteSpaceNode$1","getNonWhiteSpaceSibling","inc","nextName","isTextBlock$1","ed","allowSpaces","isEmptyTextNode$1","isWrapNoneditableTarget","baseDataSelector","formatNoneditableSelector","isWrappableNoneditable","replaceVars","vars","isEq$5","str1","normalizeStyleValue","strValue","getTextDecoration","decoration","getParents$2","isFormatPredicate","formatName","formatter","isVariableFormatName","hasVariableValues","isVariableValue","field","fieldValues","areSimilarFormats","otherFormatName","validKeys","filterObj","validKey","fmt1","filteredFmt1","fmt2","filteredFmt2","isBlockFormat","isWrappingBlockFormat","isNonWrappingBlockFormat","isSelectorFormat","isInlineFormat","isMixedFormat","shouldExpandToSelector","expand","getEmptyCaretContainers","isCaretContainerEmpty","isEmptyCaretFormatElement","isBookmarkNode","getParents$1","isWhiteSpaceNode","isTextBlock","isBogusBr","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","spaceResult","findSelectorEndPoint","formatList","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary$1","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","startPoint","endPoint","walk$3","exclude","firstNode","lastNode","collectSiblings","findEndPoint","walkBoundary","validBlocks","isZeroWidth","wrapName","applyWordGrab","applyAnnotation","masterUId","decorate","directAnnotation","otherData","attributeNames","makeAnnotation","eDoc","master","annotate","newWrappers","getDoc","finishWrapper","getOrOpenWrapper","processElements","elems","processElement","processNodes","annotateWithBookmark","undoManager","transact","initialRng","hasFakeSelection","masterUid","selectionRng","Annotator","changes","removeAnnotations","annotationChanged","getBookmark","removeAll","getAll","BookmarkManager","isXYWithinRange","firePreProcess","firePostProcess","fireRemove","fireDetach","fireSwitchMode","fireObjectResizeStart","origin","fireObjectResized","firePreInit","firePostRender","fireInit","firePlaceholderToggle","fireError","errorType","fireFormatApply","fireFormatRemove","fireBeforeSetContent","fireSetContent","fireBeforeGetContent","fireGetContent","fireAutocompleterStart","fireAutocompleterUpdate","fireAutocompleterEnd","firePastePreProcess","internal","firePastePostProcess","firePastePlainTextToggle","fireEditableRootStateChange","VK","BACKSPACE","DELETE","DOWN","ENTER","ESC","LEFT","RIGHT","SPACEBAR","TAB","UP","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","shiftKey","ctrlKey","altKey","metaKeyPressed","metaKey","elementSelectionAttr","controlElmSelector","abs","round$1","resizeHandles","nw","ne","se","sw","isTouchEvent","ControlSelection","editableDoc","rootDocument","selectedElm","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startX","startY","selectedElmX","selectedElmY","startW","startH","ratio","resizeStarted","startScrollWidth","startScrollHeight","isImage","isEventOnImageOutsideRange","touch","touches","contextMenuSelectImage","getResizeTargets","firstElementChild","isResizable","createGhostElement","setSizeProp","targets","setGhostElmSize","ghostElm","resizeGhostElement","deltaX","deltaY","proportional","resizeHelperX","resizeHelperY","screenX","screenY","display","scrollWidth","scrollHeight","endGhostResize","wasResizeStarted","showResizeRect","nodeChanged","targetElm","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","handle","startDrag","handleElm","throttledShowResizeRect","removeSelected","isChildOrEqual","updateResizeRect","removed","composing","controlElm","selectedValue","img","disableGeckoResize","startElm","getEnd","execCommand","situ","setFinish","relativeToNative","startSitu","finishSitu","exactToNative","soffset","finish","foffset","adt$3","ltr","rtl","fromRange","getRanges","domRange","relative","exact","doDiagnose","reversed","rev","diagnose","create$a","SimRange","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","fromPoint$1","adt$2","cata","onBefore","onOn","onAfter","getStart$2","before$1","after$1","Situ","adt$1","exactFromRange","simRange","getStart$1","_finishSitu","_soffset","_finish","_foffset","getWin","SimSelection","beforeSpecial","name$1","preprocessRelative","preprocessExact","preprocess","fromElements","toNative","getDomRange","filtered","getAtPoint","isEq$4","rng1","findParent","hasParent$1","hasParentWithName","isCeFalseCaretContainer","hasBrBeforeAfter","isPrevNode","hasContentEditableFalseParent","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","normalize$2","normRng","newContainer","RangeUtils","normalize","normalizedRng","rangeLike","newRange","compareRanges","getCaretRangeFromPoint","Dimension","getOffset","aggregate","properties","cumulativeInclusions","absoluteMax","api","get$2","getDocument","walkUp","navigation","frame","view","rest","pathTo","frameElement","Navigation","freeze","__proto__","find","frames","loc","excludeFromDescend","fireScrollIntoViewEvent","scrollEvent","fireAfterScrollIntoViewEvent","last","markerInfo","cleanupFun","createMarker$1","span","elementMarker","withMarker","preserveWith","_s","_e","applyWithMarker","withScrollEvents","withElement","startElement","endElement","scrollToMarker","viewHeight","intoWindowIfNeeded","viewportBottom","markerTop","markerBottom","largerThanViewport","align","intoWindow","innerHeight","intoFrame","frameViewHeight","op","viewportBounds","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollElementIntoView","scroller","scrollRangeIntoView","focus$1","preventScroll","focus","hasFocus$1","activeElement","active$1","clamp$1","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","readRange","getSelection","validate","bookmarkToNativeRng","store","newBookmark","restore","isEditorUIElement$1","className","FocusManager","isEditorUIElement","wrappedSetTimeout","wrappedSetInterval","Delay","setEditorTimeout","setEditorInterval","isManualNodeChange","selectionChange","registerPageMouseUp","throttledStore","mouseUpPage","registerMouseUp","registerEditorEvents","register$6","documentFocusInHandler","DOM$9","isEditorContentAreaElement","isUIElement","customSelector","getActiveElement","registerEvents$1","editorManager","toggleContentAreaOnFocus","contentArea","getContainer","focusedEditor","setActive","blurredEditor","activeEditor","unregisterDocumentEvents","setup$w","getContentEditableHost","getCollapsedNode","getFocusInElement","normalizeSelection","caretPos","focusBody","hasElementFocus","hasIframeFocus","iframeElement","hasInlineFocus","rawBody","hasUiFocus","hasEditorOrUiFocus","focusEditor","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","activateEditor","skipFocus","isEditableRange","getEndpointElement","real","getEnd$1","skipEmptyTextNodes","orig","commonAncestorContainer","getSelectedBlocks","endElm","selectedBlocks","processRanges","isTextNodeWithCursorPosition","isContentEditableFalse$5","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","first","descendantRtl","autocompleteSelector","create$9","findIn","setCursorLocation","detect$1","remove$2","typeLookup","walk$2","isEmptyTextNode","AstNode","insert","selfAttrs","cloneAttrs","selfAttr","wrap","refNode","whitespace","unescapedTextParents","containsZwsp","includes","getTemporaryNodeSelector","tempAttrs","getTemporaryNodes","createZwspCommentWalker","createTreeWalker","NodeFilter","SHOW_COMMENT","FILTER_ACCEPT","FILTER_SKIP","createUnescapedZwspTextWalker","SHOW_TEXT","hasZwspComment","hasUnescapedZwspText","hasTemporaryNode","trimTemporaryNodes","emptyAllNodeValuesInWalker","curr","emptyZwspComments","emptyUnescapedZwspTexts","trim$1","conditionalTrims","condition","trimmed","cloned","cleanupBogusElements","bogusElements","bogusValue","cleanupInputNames","inputs","input","trimEmptyContents","emptyRegExp","getPlainTextContent","offscreenDiv","getContentFromBody","getTempAttrs","shouldTrim","getContentInternal","makeMap$1","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","cdata","comment","pi","doctype","getContent","HtmlSerializer","writer","handlers","sortedAttrs","elementRule","nonInheritableStyles","Set","nonInheritableStylesArr","shorthandStyleProps","getStyleProps","isNonInheritableStyle","hasInheritableStyles","getLonghandStyleProps","prop","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","parentValue","nodeStyleProp","propExists","longhandProps","isChar","delta","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","dropLast","parentsUntil","parentsAndSelf","navigateIgnoreEmptyTextNodes","isBlock$1","getClosestBlock$1","isAtBeforeAfterBlockBoundary","newPos","fromBlock","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr$1","findBr","parentBlocks","isBeforeBr$1","isAfterBr","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isPreValue","isInPre","isAtBeginningOfBody","isAtEndOfBody","isAtLineBoundary","isCefBlock","isSiblingCefBlock","isBeforeCefBlock","nextPos","isNextCefBlock","isAfterCefBlock","prevPos","isPrevCefBlock","needsToHaveNbsp","needsToBeNbspLeft","needsToBeNbspRight","needsToBeNbsp","isNbspAt","isWhiteSpaceAt","hasNbsp","normalizeNbspMiddle","chars","normalizeNbspAtStart","makeNbsp","firstPos","normalizeNbspInMiddleOfTextNode","newText","normalizeNbspAtEnd","lastPos","normalizeNbsps","normalizeNbspsInEditor","normalize$1","replaceData","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","newNode","removeNode","insertData","needsReposition","beforeOrStartOf","afterOrEndOf","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwardsFromElm","findCaretPositionForwardsFromElm","findCaretPositionBackwards","findCaretPositionForward","findCaretPosition","findCaretPosOutsideElmAfterDelete","setSelection$1","eqRawNode","paddEmptyBlock","preserveEmptyCaret","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","isInlineElement","deleteElement$2","moveCaret","afterDeletePos","normalizedAfterDeletePos","setContent","paddPos","strongRtl","hasStrongRtl","isInlineTarget","findInlineParents","findRootInline","hasSameParentBlock","block1","block2","isAtZwsp","normalizePosition","normalizeForwards","normalizeBackwards","execCommandIgnoreInputEvents","inputBlocker","off","execEditorDeleteCommand","execNativeDeleteCommand","execNativeForwardDeleteCommand","isBeforeRoot","isTextBlockOrListItem","getParentBlock$2","paddEmptyBody","moveSelection","no_selection","willDeleteLastPositionInElement","fromPos","normalizedFirstPos","normalizedLastPos","normalizedFromPos","freefallRtl","deleteRangeContents","deleteContents","lastBlock","additionalCleanupNodes","ancestor$1","isRootFromElement","getTableCells","getTable$1","selectionInTableWithNestedTable","details","startTable","endTable","isStartTableParentOfEndTable","isEndTableParentOfStartTable","isSameTable","isMultiTable","adjustQuirksInDetails","getTableDetailsFromRange","isStartInTable","isEndInTable","tableCellRng","tableSelection","cells","deleteAction","singleCellTable","fullTable","partialTable","multiTable","getClosestCell$1","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","isSingleCellTable","rows","getCellRng","startCell","endCell","getCellRangeFromStartTable","getCellRangeFromEndTable","getTableSelectionFromCellRng","getTableSelections","selectionDetails","sameTableSelection","startTableSelection","endTableSelection","getCellIndex","getSelectedCells","startIndex","endIndex","isSingleCellTableContentSelected","optCellRng","unselectCells","otherContentRng","handleSingleTable","handleMultiTable","startTableSelectedCells","endTableSelectedCells","getActionFromRange","cleanCells","getOutsideBlock","handleEmptyBlock","startInTable","emptyBlock","deleteContentInsideCell","isFirstCellInSelection","insideTableRng","deleteCellContents","collapseAndRestoreCellSelection","emptySingleTableCells","outsideDetails","editorRng","cellsToClean","outsideBlock","endPointCell","emptyMultiTableCells","startTableCells","endTableCells","betweenRng","startTableCellsToClean","endTableCellsToClean","deleteTableElement","deleteCellRange","deleteCaptionRange","emptyElement","deleteTableRange","getParentCaption","deleteRange$3","getParentCell","deleteBetweenCells","fromCell","toCell","isDeleteOfLastCharPos","fromCaption","emptyCaretCaption","validateCaretCaption","toCaption","deleteCaretInsideCaption","deleteCaretCells","deleteCaretCaption","isNearTable","isBeforeOrAfterTable","deleteCaret$3","backspaceDelete$a","getContentEditableRoot$1","internalAttributesPrefixes","each$9","ElementUtils","internalAttributes","compare","attribs","isAttributeInternal","compareObjects","obj1","obj2","attributeName","isHeading","isSummary","traverse","matchNode$1","nodeFilters","attributeFilters","nl","ai","al","findMatchingNodes","childNode","runFilters","matchRecord","filteringAttributes","valueMatches","filter$2","paddEmptyNode","brPreferred","pad_empty_with_br","astNode","isPaddedWithNbsp","hasOnlyChild","isPadded","isLineBreakNode","findClosestEditingHost","editableNode","removeOrUnwrapInvalidNode","originalNodeParent","cleanInvalidNodes","onCreate","textBlockElements","nonSplittableElements","fixed","isSplittableElement","newParent","isInvalid","hasClosest","parentName","normalizeBlockSelectionRange","newEndPos","hasOnlyOneChild$1","isPaddingNode","isPaddedEmptyBlock","blockElements","isEmptyFragmentElement","isListFragment","cleanupDomFragment","domFragment","toDomFragment","listItems","isPadding","isListItemPadded","isEmptyOrPadded","trimListItems","getParentLi","isParentBlockLi","getSplit","beforeRng","afterRng","cloneContents","findFirstIn","caretWalker","newCaretPos","findLastOf","insertMiddle","insertBefore$2","insertAfter$2","insertAtCaret$1","liTarget","liElms","BEGINNING","isAt","newPosNode","mergeableWrappedElements","shouldPasteContentOnly","isPastingSingleElement","isWrappedElement","isPastingInTheSameBlockTag","isPastingInContentEditable","isTableCell","isTableCellContentSelected","validInsertion","no_events","trimBrsFromTableCell","reduceInlineTextElements","merge","textInlineElements","elementUtils","styleConflict","markFragmentElements","unmarkFragmentElements","isPartOfFragment","canHaveChildren","moveSelectionToMarker","_c","nextRng","parentEditableElm","findNextCaretRng","isCell","deleteSelectedContent","findMarkerNode","markerNode","notHeadingsInSummary","insertHtmlAtCaret","parser","bookmarkHtml","caretElement","parserArgs","paste","_selectionOverrides","showBlockCaretContainer","invalid","editingHost","toExtract","getNodeFilters","getAttributeFilters","isTreeNode","setEditorHtml","noSelection","setContentString","padd","forcedRootBlockName","isRootContent","trimmedHtml","setContentTree","setContentInternal","ensureIsRoot","transform","transformed","closest$1","isEq$3","matchesUnInheritedFormatSelector","inherit","matchParents","similar","matchedNode","matchNode","matchName","matchItems","itemName","matchAttributes","onmatch","expectedValue","isEmptyValue","match$2","matchAll","matchedFormatNames","checkedMap","rawElm","canApply","matchAllOnNode","formatNames","matchSimilar","ZWSP","importNode","findFirstTextNode","createCaretContainer","fill","trimZwspFromCaretContainer","removeCaretContainerNode","removeCaretContainer","insertCaretContainerNode","formatNode","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","cleanFormatNode","validFormats","matchedFormats","uniqueFormats","fmtName","clonedFormatNode","applyCaretFormat","wordcharRegex","removeCaretFormat","hasContentAfter","expandedRng","parentsAfter","newCaretContainer","cleanedFormatNode","caretTextNode","disableCaretContainer","keyCode","endsWithNbsp","setup$v","createCaretFormat","innerMost","replaceWithCaretFormat","createCaretFormatAtStart$1","isFormatElement","inlineElements","postProcessHooks","isPre","addPostProcessHook","hooks","postProcess$1","hasPreSibling","blocks","pre","joinPre","pre1","pre2","sPre2","preBlocks","listItemStyles","hasListStyles","fmt","findExpandedListItemFormat","getExpandedListItemFormat","isRngStartAtStartOfElement","isRngEndAtEndOfElement","isEditableListItem","getFullySelectedBlocks","middle","getFullySelectedListItems","getPartiallySelectedListItems","each$8","isElementNode","findElementSibling","mergeSiblingsNodes","isPrevEditable","isNextEditable","tmpSibling","mergeSiblings","merge_siblings","clearChildStyles","clear_child_styles","links","_value","processChildElements","unwrapEmptySpan","hasStyle","applyStyle","removeResult","MCE_ATTR_RE","each$7","isEq$2","isTableCellOrRow","isChildOfInlineParent","lastIdx","normalizeTableSelection","wrap$1","wrapWithSiblings","isColorFormatAndAnchor","rootBlockElm","forcedRootBlock","list_block","processFormatAttrOrStyle","removeEmptyStyleAttributeIfNeeded","removeStyles","compareNode","stylesModified","styleName","styleValue","normalizedStyleValue","remove_similar","removeListStyleFormats","liFmt","removeNodeFormatInternal","ceFalseOverride","preserveAttributes","preserve_attributes","attrsToPreserve","currentValue","valueOut","findFormatRoot","formatRoot","removeNodeFormatFromClone","newName","wrapAndSplit","lastClone","firstClone","formatRootParent","mixed","removeFormatInternal","splitToFormatRoot","isRemoveBookmarkNode","removeFormatOnNode","removeNodeFormat","currentNodeMatches","textDecorations","textDecoration","removeRngStyle","removeFormat$1","each$6","mergeTextDecorationsAndColor","processTextDecorationsAndColor","parentTextDecoration","mergeBackgroundColorAndFontSize","backgroundColor","hasFontSize","mergeSubSup","inverseTagDescendants","mergeWithChildren","mergeWithParents","merge_with_parents","each$5","canFormatBR","validBRParentElements","hasCaretNodeSibling","applyStyles","styleVal","applyFormatAction","setElementFormat","onformat","applyNodeStyle","found","createWrapElement","wrapElm","applyRngStyle","nodeSpecific","isMatchingWrappingBlock","canRenameBlock","isEditableDescendant","isValidBlockFormatForNode","canWrapNode","isWrappableNoneditableElm","isValidWrapNode","isCaret","isCorrectFormatForNode","currentWrapElm","lastContentEditable","contentEditableValue","getChildCount","mergeStyles","childElement","childCount","fake","applyFormat$1","hasVars","setup$u","registeredFormatListeners","updateAndFireChangeCallbacks","nodeOrRange","fallbackElement","matchingNode","isMatchingNode","matchingFormat","isUnableToMatch","registeredCallbacks","runIfChanged","spec","withSimilar","withoutSimilar","withVars","addListeners","formatChangeItems","getCurrent","toAppendTo","removeListeners","formatChangedInternal","explode$1","create$8","filters","addFilter","getFilters","removeFilter","newCallbacks","removeAttrs","addFontToSpansFilter","domParser","fontSizes","addNodeFilter","face","addStrikeFilter","convertToSTag","addFilters","convert_fonts_to_spans","font_size_legacy_values","register$5","inline_styles","htmlParser","prevName","lastParent","blobUriToBlob","fetch","ok","blob","uriType","extractBase64Data","parseDataUri","uri","base64Encoded","extractedData","decodeURIComponent","buildBlob","atob","Uint8Array","Blob","dataUriToBlob","uriToBlob","blobToDataUri","reader","FileReader","onloadend","readAsDataURL","count$1","uniqueId$1","processDataUri","dataUri","base64Only","generateBlobInfo","base64","btoa","createBlobInfo$1","blobCache","blobInfo","dataUriToBlobInfo","getByData","imageToBlobInfo","imageSrc","invalidDataUri","getByUri","isBogusImage","isInternalImageSource","registerBase64ImageFilter","blob_cache","processImage","inputSrc","blobUri","isMimeType","mime","createSafeEmbed","sandboxIframes","embed","register$4","remove_trailing_brs","appendRel","addNoOpener","newRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","convert_unsafe_embeds","sandbox_iframes","entries","setPrototypeOf","isFrozen","getOwnPropertyDescriptor","create$7","construct","Reflect","fun","thisValue","Func","arrayForEach","unapply","forEach","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","unconstruct","TypeError","_len","arguments","_key","_len2","_key2","addToSet","transformCaseFunc","_transformCaseFunc","lcElement","object","newObject","lookupGetter","desc","fallbackValue","warn","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","EXPRESSIONS","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","createPolicy","ATTR_NAME","policyName","createScriptURL","createDOMPurify","DOMPurify","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","getNextSibling","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","TRUSTED_TYPES_POLICY","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parentTagName","Boolean","_forceRemove","_removeAttribute","attribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","_isClobbered","_isNode","_executeHook","entryPoint","_sanitizeElements","allowedTags","_basicCustomElementTest","_isValidAttribute","lcTag","_sanitizeAttributes","hookEvent","keepAttr","allowedAttributes","initValue","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","sanitize","importedNode","returnNode","nodeIterator","shadowroot","shadowrootmode","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify","each$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","safeSvgDataUrlElements","blockSvgDataUris","allowSvgDataUrls","decodeUri","encodedUri","unescape","isInvalidUri","decodedUri","allow_html_data_urls","URI","uriComponents","isDomSafe","protocol","pathname","baseUri","base_uri","source","isProtocolRelative","toAbsPath","urlMatch","part","userInfo","port","setPath","pathMatch","file","getURI","toRelative","relativeUri","tu","uu","toRelPath","anchor","toAbsolute","noHost","absoluteUri","isSameOrigin","defaultPort","breakPoint","normalizedBase","nb","normalizedPath","baseParts","pathParts","outPath","noProtoHost","filteredUrlAttrs","internalElementAttr","processNode","_d","allow_conditional_comments","lcTagName","isInternalElement","bogus","processAttr","ele","shouldKeepAttribute","isBooleanAttribute","isRequiredAttributeOfInternalElement","filterAttributes","setupPurify","namespaceTracker","purify$1","getPurifyConfig","mimeType","basePurifyConfig","config","sanitizeNamespaceElement","xlinkAttrs","getSanitizer","sanitizeHtmlElement","_mimeType","extend$1","transferChildren","nativeParent","nsSanitizer","isSpecial","nativeChild","walkTree","preprocessors","postprocessors","traverseOrder","postprocess","whitespaceCleaner","textRootBlockElements","allWhiteSpaceRegExp","startWhiteSpaceRegExp","endWhiteSpaceRegExp","hasWhitespaceParent","isTextRootBlockEmpty","isAtEdgeOfBlock","neighbour","isNodeEmpty","getRootBlockName","forced_root_block","DomParser","nodeFilterRegistry","attributeFilterRegistry","defaultedSettings","root_name","sanitizer","parseAndSanitizeWithContext","rootName","isSpecialRoot","wrappedHtml","removeNodeFilter","removeAttributeFilter","findInvalidChildren","isWrappableNode","addRootBlocks","rootBlockName","rootBlockNode","rootBlock","forced_root_block_attrs","whitespacePre","whitespacePost","invalidFinder","matchFinder","topLevelChildren","otherChildren","exports","serializeContent","withSerializedContent","fireEvent","parserSettings","serializedContent","eventArgs","preProcessGetContent","postProcessGetContent","processedEventArgs","preProcessSetContent","postProcessSetContent","tableModel","tableRow","cellPosition","getSpan","fillout","rowspan","colspan","y2","x2","cellExists","skipCellsX","getWidth","row","findElementPos","extractRows","sx","sy","ey","newRows","subTable","createDomTable","tableElement","tableBody","modelRowsToDomRows","tableElm","toDom","subsection","findParentListContainer","getFullySelectedListWrappers","_li","listCont","listElm","listStyles","_style","innerElm","directListWrappers","commonAnchorContainer","getWrapElements","wrapElements","listWrappers","allWrappers","emptyFragment","getFragmentFromRange","getParentTable","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","getSelectionFragment","read$3","isCollapsibleWhitespace","getInnerText","bin","getContextNodeName","parentBlockOpt","getTextContent","contextNodeName","rangeContentClone","nonRenderedText","parentBlockText","textIndex","hasProceedingSpace","hasTrailingSpace","getSerializedContent","tmpElm","contextual","extractSelectedContent","setupArgs$3","getInner","getSelectedContentInternal","defaultedArgs","updatedArgs","KEEP","INSERT","diff","vDown","vUp","snake","diag","buildScript","start1","end1","start2","end2","getMiddleSnake","j","i2","buildSnake","sum","getOuterHtml","insertAt","removeAt","applyDiff","read$2","trimZwsp","write","fragments","currentFragments","lazyTempDocument","hasIframes","createFragmentedLevel","beforeBookmark","createCompleteLevel","createFromEditor","applyToEditor","level","getLevelContent","getCleanLevelContent","hasEqualContent","level1","level2","hasEqualCleanedContent","isEq$1","isUnlocked","locks","setTyping","typing","endTyping","endTypingLevelIgnoreLocks","beforeChange$1","addUndoLevel$1","currentLevel","newLevel","lastLevel","bm","customUndoRedoLevels","setDirty","clear$1","extra$1","callback1","callback2","redo$1","undo$1","reset$1","hasUndo$1","hasRedo$1","transact$1","beforeChange","ignore","ignore$1","addVisualInternal","matchedElm","hasVisual","makePlainAdaptor","init","bindEvents","undo","redo","hasUndo","hasRedo","extra","formatChanged","addVisual","autocompleter","addDecoration","removeDecoration","makeRtcAdaptor","rtcEditor","defaultVars","_undoManager","_locks","_index","_node","_similar","_rfl","_details","_format","getRawModel","makeNoopAdaptor","nul","isRtc","plugins","getRtcSetup","rtcPlugin","setup","setup$t","editorCast","rtcInstance","rtc","isRemote","getRtcInstanceWithFallback","getRtcInstanceWithError","addUndoLevel","matchFormat","matchAllFormats","matchNodeFormat","canApplyFormat","closestFormat","applyFormat","removeFormat","toggleFormat","getContent$2","setContent$2","insertContent$1","getSelectedContent","addVisual$1","addAutocompleterDecoration","removeAutocompleterDecoration","getContent$1","walkPastBookmark","merge$1","outer","outerElm","oldLength","normalizeTextIfRequired","mergeAndNormalizeText","outerNode","normalizer","innerTextNode","rngSetContent","prevText","nextText","setupArgs$2","cleanContent","contextBlock","contextArgs","setContent$1","cleanedContent","createContextualFragment","deleteFromCallbackMap","SelectorChanged","selectorChangedData","currentSelectors","findMatchingNode","matchedSelectors","selectorChangedWithUnbind","isAttachedToDom","isValidRange","EditorSelection","selectedRange","explicitRange","getRng$1","bookmarkManager","select$1","compareEndPoints","fakeSelectedElements","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","anchorNode","START_TO_START","END_TO_END","removeAllRanges","addRange","setBaseAndExtent","focusNode","setNode","getSelectedBlocks$1","anchorRange","focusRange","anchorOffset","focusOffset","selectorChanged","getScrollContainer","scrollContainer","placeCaretAt","controlSelection","register$3","hasChildren","preserve_cdata","trimTrailingBr","isBr","brNode1","brNode2","preProcess$1","oldDoc","clonedNode","impl","shouldFireEvent","hasEventListeners","process$1","postProcess","outArgs","getHtmlFromNode","parseHtml","serializeNode","htmlSerializer","toHtml","DomSerializerImpl","addRules","setRules","DomSerializer","domSerializer","defaultFormat$1","setupArgs$1","defaultFormat","setupArgs","removedOptions","deprecatedOptions","removedPlugins","deprecatedPlugins","replacedWith","getMatchingOptions","searchingFor","settingNames","setting","getRemovedOptions","getDeprecatedOptions","getMatchingPlugins","plugin","pluginNames","getRemovedPlugins","getDeprecatedPlugins","entry","logRemovedWarnings","rawOptions","normalizedOptions","hasRemovedPlugins","hasRemovedOptions","isLegacyMobileTheme","theme","listJoiner","themesMessage","pluginsMessage","optionsMessage","getPluginDescription","logDeprecatedWarnings","hasDeprecatedPlugins","hasDeprecatedOptions","logWarnings","DOM$8","restoreOriginalStyles","orgDisplay","safeDestroy","clearDomReferences","contentAreaContainer","editorContainer","bodyElement","contentDocument","contentWindow","restoreForm","form","_mceOldSubmit","submit","formEventDelegate","remove$1","editorUpload","save","is_removing","unbindAllNativeEvents","automatic","destroyed","_beforeUnload","CreateIconManager","iconPack","icons","IconManager","getProp","propName","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","isInsideElementContentArea","bodyElm","transpose","isXYInContentArea","transposedPoint","fromDomSafe","isEditorAttachedToDom","rawContainer","getContentAreaContainer","NotificationManagerImpl","unimplemented","open","close","getArgs","NotificationManager","notifications","getImplementation","getNotificationManagerImpl","getTopNotification","progressBar","timeout","notification","addNotification","closeNotification","otherNotification","getEl","getNotifications","registerEvents","serviceMessage","requestAnimationFrame","WindowManagerImpl","openUrl","alert","confirm","WindowManager","dialogs","getWindowManagerImpl","funcBind","fireOpenEvent","dialog","fireCloseEvent","addDialog","closeDialog","otherDialog","getTopDialog","storeSelectionAndOpenDialog","openDialog","ui","windowManagerImpl","displayNotification","notificationManager","displayError","_skinLoaded","uploadError","logError","createLoadError","pluginLoadError","iconsLoadError","languageLoadError","themeLoadError","modelLoadError","pluginInitError","initError","isContentCssSkinName","toContentSkinResourceName","isBundledCssSkinName","tinymce","Resource","getContentCssUrls","transformToUrls","getFontCssUrls","cssLinks","skinUrl","contentCssFile","documentBaseURI","appendContentCssFromSettings","contentCSS","getAllImages","ImageScanner","uploadStatus","cachedPromises","images","isUploaded","promises","imageInfo","image","newPromise","UploadStatus","PENDING","UPLOADED","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","seed","rnd","now","uuid","BlobCache","cache","mimeToExt","mimes","filename","toBlobInfo","URL","createObjectURL","findFirst","cachedBlobInfo","removeByUri","revokeObjectURL","Uploader","pendingPromises","pathJoin","path1","path2","defaultHandler","progress","xhr","XMLHttpRequest","withCredentials","credentials","upload","onprogress","loaded","total","json","JSON","responseText","basePath","formData","FormData","send","uploadHandler","noUpload","handlerSuccess","handlerFailure","resolvePending","uploadBlobInfo","openNotification","percent","isDefaultHandler","pendingUploadBlobInfo","uploadBlobs","blobInfos","createUploader","ImageUploader","uploader","showNotification","isEmptyForPadding","addPaddingToEmpty","EditorUpload","imageScanner","urlFilters","aliveGuard","cacheInvalidator","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","replaceImageUriInView","uploadImages","scanForImages","imageInfos","imagesToRemove","shouldDispatchChange","filteredResult","uploadInfo","uploadUri","sugarElement","parentOpt","dispatchChange","uploadImagesAuto","isValidDataUriImage","imgElm","resultItem","replaceBlobUris","source_view","get$1","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","float","marginLeft","marginRight","aligncenter","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","strike","forecolor","hilitecolor","fontname","fontFamily","fontsize","fontSize","lineheight","lineHeight","fontsize_class","class","blockquote","subscript","superscript","_fmt","_itemName","lang","customValue","removeformat","genericBase","cellBase","cellFormats","tablecellbackgroundcolor","tablecellverticalalign","tablecellbordercolor","borderColor","tablecellclass","tableclass","tablecellborderstyle","borderStyle","tablecellborderwidth","borderWidth","FormatRegistry","unregister","each$3","isPreviewItem","parsedSelectorToHtml","ancestry","sItem","getRequiredParent","elmRule","wrapInHtml","ancestors","parentCandidate","ancestorName","parentRequired","siblingElm","parentSiblings","parseSelectorItem","$0","$3","$4","parseSelector","getCssText","previewCss","previewStyles","removeVars","previewFrag","previewElm","rawParentFontSize","parentFontSize","numValue","setup$s","addShortcut","Formatter","formatChangeState","shouldIgnoreCommand","isFirstTypedCharacter","addNonTypingUndoLevel","isMeta","isDirty","modKey","hasOnlyMetaOrCtrlModifier","isInsertReplacementText","inputType","isInsertTextDataNull","isInsertFromPasteOrDrop","addKeyboardShortcuts","UndoManager","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","isNonTypingKeyboardEvent","isTypingKeyboardEvent","isVisuallyEmpty","setup$r","placeholder","updatePlaceholder","showPlaceholder","isPlaceholderShown","blockPosition","blockBoundary","getBlockPosition","containerElm","isDifferentBlocks","getClosestHost","isHost","hasSameHost","isEditable$1","hasValidBlocks","isValidBlock","skipLastBr","lastPositionInBlock","readFromRange","fromBlockPos","toBlockPos","blockPos","read$1","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","isEmptyBefore","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInlineToBlockDescendants","helper","newFromBlockDescendants","findInsertionPoint","parentsAndSelf$1","getInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","backspaceDelete$9","deleteRangeMergeBlocks","isRawNodeInTable","isSelectionInTable","isEverythingSelected","noPrevious","noNext","emptyEditor","deleteRange$2","backspaceDelete$8","_forward","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","isBeforeBoundary","isAfterBoundary","trimEmptyTextNode","deleteContentAndShowCaret","peekCaretPosition","caretRange","deleteRange","deleteBoundaryText","getNextPosFn","isBeforeFn","nextCaretPosition","normalizedNextCaretPosition","backspaceDelete$7","getEdgeCefPosition","atStart","isCefAtEdgeSelected","isCompoundElement","DeleteAction","moveToElement","moveToPosition","isAtContentEditableBlockCaret","caretLocation","isDeleteFromCefDifferentBlocks","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getContentEditableAction","read","deleteElement$1","hideFakeCaret","getAncestorCe","backspaceDeleteCaret","deleteOffscreenSelection","backspaceDeleteRange","hasCefAncestor","paddEmptyElement","backspaceDelete$6","deleteCaret$2","backspaceDelete$5","isText$2","startsWithCaretContainer","endsWithCaretContainer","createZwsp","insertBefore$1","insertAfter$1","insertInline","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope$1","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","isValidLocation","readLocation","getName","outside","inside","isEq","location1","location2","betweenInlines","fromInline","toInline","skipNoMovement","fromLocation","toLocation","findLocationTraverse","findLocationSimple","findLocation$1","hasSelectionModifyApi","modify","moveRel","moveByWord","BreakType","flip","positions","walk$1","getBreakType","currentPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","newRect","lastDist","newDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","isAtFirstLine","isAtLastLine","getFirstLinePositions","getLastLinePositions","getClosestPositionAbove","getClosestPositionBelow","isContentEditableFalse$4","distanceToRectLeft$1","distanceToRectRight$1","isNodeClientRect","findClosestClientRect","oldClientRect","oldDistance","newDistance","getNodeClientRects","toArrayWithNode","VDirection","findUntil","walkUntil","isAboveFn","isBeflowFn","line","targetClientRect","aboveLineNumber","lineNumber","isLineNumber","upUntil","Up","downUntil","Down","getLastClientRect","positionsUntil","isBelowFn","isAboveLine","isLine","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","isElement","rangeIsInContainerBlock","moveVertically","caretClientRect","getClosestFn","walkerFn","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","closestNextLineRect","getLineEndPoint","lineInfo","moveToLineEndPoint$3","setCaretPosition","setSelected","renderCaretLocation","getPositionFromRange","findLocation","isInlineTarget$1","toggleInlines","inlineBoundaries","selectedInlines","targetInlines","safeRemoveCaretContainer","caretValue","renderInsideInlineCaret","inlines","_inline","move$3","moveWord","_caret","setupSelectedState","moveNextWord","movePrevWord","moveToLineEndPoint$2","linePoint","outsideLoc","rangeFromPositions","hasOnlyTwoOrLessPositionsLeft","setCaretLocation","deleteFromTo","rescope","backspaceDeleteCollapsed","toPosition","backspaceDelete$4","hasMultipleChildren","getParentsUntil","hasOnlyOneChild","getParentInlinesUntilMultichildInline","getParentInlines","getFormatNodes","parentInlines","isFormatElement$1","getFormatNodesAtStart","deleteLastPosition","deleteCaret$1","isBrInEmptyElement","isEmptyCaret","createCaretFormatAtStart","updateCaretFormat","updateFormats","missingFormats","rangeStartsAtTextContainer","rangeStartsAtStartOfTextContainer","rangeStartParentIsFormatElement","startParent","rangeStartAndEndHaveSameParent","endParent","isEqualNode","rangeEndsAtEndOfEndContainer","rangeEndsAtEndOfStartContainer","rangeEndsAfterEndOfStartContainer","rangeEndsAtOrAfterEndOfStartContainer","requiresDeleteRangeOverride","deleteRange$1","backspaceDelete$3","hasAncestorInlineCaret","hasAncestorInlineCaretAtStart","requiresRefreshCaretOverride","refreshCaret","deleteElement","deleteCaret","isNearMedia","backspaceDelete$2","parseIndentValue","getIndentStyleName","useMargin","indentStyleName","indentElement","unit","parsedValue","validateBlocks","intentValue","canOutdent","getBlocksToIndent","isReadOnly","isListComponent","parentIsListComponent","indentation","indentUnit","indentValue","outdent","backspaceDelete$1","findAction","deleteCommand","forwardDeleteCommand","setup$q","addCommand","SIGNIFICANT_MOVE","LONGPRESS_DELAY","getTouch","isFarEnough","distX","distY","setup$p","startData","longpressFired","debounceLongpress","isBlockElement","isValidTarget","hasBlockParent","shouldRemoveTextNode","createRootBlock","rootNodeName","restoreSelection","insertEmptyLine","setup$o","checkClassName","replaceMatchWithSpan","prevChar","findStartTagIndex","tagHtml","convertRegExpsToNonEditable","nonEditableRegExps","setup$n","contentEditableAttrName","editClass","nonEditClass","hasEditClass","hasNonEditClass","findBlockCaretContainer","blockCaretContainer","handleBlockContainer","setup$m","isContentEditableFalse$3","moveToCeFalseHorizontally","moveToCeFalseVertically","createTextBlock","textBlock","exitPreBlock","getVisualCaretPosition$1","newBlock","getHorizontalRange","getVerticalRange","down","flipDirection","moveH$2","moveV$4","moveToLineEndPoint$1","isCefPosition","selectToEndPoint","curRng","getClosestTargetBlock","isAtFirstOrLastLine","moveCaretToNewEmptyLine","insertFn","moveV$3","moveUp","summary","moveDown","move$2","moveV$2","baseKeyPattern","defaultPatterns","defaultDelayedPatterns","matchesEvent","match$1","matchDelayed","execute","executeWithDelayedAction","moveH$1","moveV$1","moveToLineEndPoint","CellLocation","firstLayer","filterFirstLayer","lookup$1","tags","isRootOrUpperTable","isEligible","newIndex","detection","deflate","getCorners","getYAxisValue","tds","findClosestCorner","corners","newCorner","oldCorner","oldDist","getClosestCell","isTargetCorner","corner","getBottomValue","getTopValue","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","hasNextBreak","breakPos","startsWithWrapBreak","startsWithBrBreak","isAtTableCellLine","isAtFirstTableCellLine","isAtLastTableCellLine","isCaretAtStartOrEndOfTable","navigateHorizontally","_td","getClosestAbovePosition","getClosestBelowPosition","getTable","renderBlock","navigateVertically","move$1","mover","moveH","moveV","getCellFirstCursorPosition","tabGo","_current","tabForward","tabBackward","handleTab","rootElements","model","clearSelectedCells","executeKeydownOverride$4","isMac","setup$l","DOM$7","alwaysNext","textBefore","textAfter","scanLeft","scanRight","repeatLeft","isValidTextRange","getText","isWhitespace","stripTrigger","trigger","findTrigger","firstChar","findStart","initRange","minChars","buffer","findTriggerIndex","spot","triggerIndex","isText$1","toLast","toLeaf","isPreviousCharContent","leaf","_element","isStartOfWord","getTriggerContext","database","triggers","getDatabase","lookupWithContext","fetchOptions","startText","autocompleters","lookupByTrigger","lookupData","ac","fetchResult","maxResults","matchText","columns","onAction","highlightOn","SimpleResultType","fold$1","stype","serror","svalue","partition","Value","bind$1","bindError","toResult","fromResult","SimpleResult","formatObj","stringify","formatErrors","es","getErrorInfo","missingRequired","missingKey","missingBranch","branch","custom","chooseFrom","fields","extract","choose$1","choice","chosen","bothObjects","deepMerge","baseMerge","merger","objects","curObject","defaultedThunk","fallbackThunk","defaulted$1","fallback","asOption","mergeValues","mergeErrors","consolidateObj","consolidateArr","partitions","ResultCombine","field$1","newKey","presence","customField$1","instantiator","ifField","ifCustom","validator","anyValue$1","requiredAccess","bundle","fallbackAccess","optionAccess","optionDefaultedAccess","opt","extractField","av","bundleAsOption","optValue","ov","extractFields","objOf","fieldStrings","_okey","_presence","_instantiator","arrOf","valueOf","extractValue","errs","asRaw","formatError","errInfo","choose","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","customField","validateEnum","requiredOf","requiredString","requiredFunction","requiredArrayOf","optionOf","optionString","optionFunction","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","fetch$1","onSetup","optionalText","optionalIcon","optionalTooltip","optionalLabel","active","enabled","primary","defaultedColumns","defaultedType","autocompleterSchema","createAutocompleter","baseToolbarButtonFields","baseToolbarToggleButtonFields","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","register$2","popups","dataset","popup","datasetValues","dv","setupEditorInput","update","which","cancelIfNecessary","setup$k","activeAutocompleter","uiActive","isActive","commenceIfNecessary","matchLength","getAutocompleters","doLookup","newContext","lookupInfo","_ui","browser$1","emptyNodeContents","isEntireNodeSelected","getParentDetailsElementAtPos","isInDetailsElement","getDetailsElements","startDetails","endDetails","startSummary","isCaretInTheBeginningOf","isCaretInTheEndOf","isCaretAtStartOfSummary","detailsElements","isCaretAtEndOfSummary","isCaretInFirstPositionInBody","isCaretInLastPositionInBody","setCaretToPosition","moveCaretToDetailsPos","isPartialDelete","containsStart","containsEnd","startInSummary","endInSummary","isPartiallySelectedDetailsElements","isInPartiallySelectedSummary","shouldPreventDeleteIntoDetails","granularity","parentDetailsAtCaret","inEmptyParentBlock","isFirstBlock","isLastBlock","firstOrLast","isBeforeAfterDetails","parentDetailsAtNewPos","shouldPreventDeleteSummaryAction","detailElements","shouldPreventDeleteAction","handleDeleteActionSafari","applySelection","updateSelection","appendAllChildNodes","backspaceDelete","createAndFireInputEvent","eventType","specifics","overrides","bubbles","isComposing","detail","currentTarget","eventPhase","AT_TARGET","originalTarget","explicitOriginalTarget","isTrusted","cancelable","InputEvent","fireInputEvent","fireBeforeInputEvent","platform$2","isMacOSOriOS","executeKeydownOverride$3","unmodifiedGranularity","getModifiedGranularity","isWord","applyAction","beforeInput","executeKeyupOverride","isBackspaceKeydown","setup$j","firstNonWhiteSpaceNodeSibling","moveToCaretPosition","getEditableRoot","editableRoot","getParentBlock$1","getParentBlockName","isListItemParentBlock","applyAttributes","forcedRootBlockAttrs","attrStyles","currentStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","setForcedBlockAttrs","createNewBlock","keepStyles","newBlockName","parentBlockName","getDetailsRoot","isAtDetailsEdge","isLastEmptyBlockInDetails","insertNewLine","hasFirstChild","isFirstChild","hasParent","isListBlock","isListItem","isNestedList","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","getStyles","insert$4","containerParent","parentBlockStyles","tmpRng","previousChildren","isWithinNonEditableList","parentList","isEmptyAnchor","containerAndSiblingName","canSplitBlock","trimInlineElementsOnLeftSideOfBlock","firstChilds","normalizeZwspOffset","includeZwspInRange","trimLeadingLineBreaks","wrapSelfAndSiblingsInDefaultBlock","startNodeName","startNodeParent","addBrToBlockIfNeeded","shouldEndContainer","optionValue","insert$3","isAfterLastNodeInContainer","isCef","collapsedAndCef","createNewBlock$1","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","liBlock","parentBlockParent","isNearChildren","fakeEventName$1","blockbreak","fakeEventName","hasRightSideContent","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","insertBrBefore","insertBrAfter","hasBrAfter","isBeforeBr","isAnchorLink","isInsideAnchor","readInlineAnchorLocation","insertBrOutsideAnchor","insert$2","anchorLocation","linebreak","matchesSelector","shouldInsertBr","shouldBlockNewLine$1","newLineAction","shouldBlockNewLine","_shiftKey","inListBlock","requiredState","inBlock","inCefBlock","inPreBlock","inSummaryBlock","shouldPutBrInPre","inBrContext","hasShiftKey","_editor","canInsertIntoEditableRoot","rootEditable","isInRootWithEmptyOrCEF","isCefOpt","predicates","isMatch","getAction","insertBreak","insert$1","logicalAction","platform$1","isIOSSafari","handleEnterKeyEvent","isCaretAfterKoreanCharacter","koreanCharRegex","setup$i","iOSSafariKeydownBookmark","iOSSafariKeydownOverride","iOSSafariKeyupOverride","executeKeydownOverride$2","setup$h","setup$g","platform","executeKeyupAction","isPageUpDown","setNodeChangeBlocker","blocked","setup$f","setup$e","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertSpaceOrNbspAtPosition","locationToCaretPosition","insertInlineBoundarySpaceOrNbsp","checkPos","setSelection","isInsideSummary","domUtils","insertSpaceOrNbspAtSelection","insertSpaceInSummaryAtSelectionOnFirefox","insertSpaceThunk","executeKeydownOverride$1","setup$d","tableTabNavigation","executeKeydownOverride","setup$c","setup$b","NodeChange","lastPath","lastRng","nativeRng","fakeRng","isSameElementPath","initialized","currentPath","imageId","getDragImage","transfer","setDragImage","imageData","eventId","getEvent","mkSetEventFn","setEvent","setDragstartEvent","setDropEvent","setDragendEvent","checkEvent","isInDragStartEvent","createEmptyFileList","modeId","getMode","mkSetModeFn","setMode$1","setReadWriteMode","setReadOnlyMode","setProtectedMode","checkMode","expectedMode","isInReadWriteMode","isInProtectedMode","normalizeItems","dataTransfer","itemsImpl","validDropEffects","validEffectAlloweds","createDataTransfer","dataTransferImpl","DataTransfer","dropEffect","effectAllowed","effect","allowed","types","setData","clearData","cloneDataTransfer","originalMode","getHtmlData","setHtmlData","internalMimeType","internalHtmlMime","internalMark","mark","unmark","isMarked","isPlainText","openContainer","rootTag","rootAttrs","toBlockElements","tagOpen","tagClose","paragraphs","stitch","pasteBinDefaultContent","create$6","lastRngCell","pasteBinElm","pasteBinClone","isPasteBin","getHtml","copyAndRemove","toElm","fromElm","pasteBinClones","dirtyWrappers","cleanWrapper","isDefaultPasteBinContent","PasteBin","getLastRng","filter$1","voidElements","ignoreElements","trimHtml","trimSpaces","s1","s2","createIdGenerator","getImageMimeType","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","preProcess","processResult","cancelled","postProcessFilter","tempBody","postProcessArgs","filterContent","preProcessArgs","filteredContent","pasteHtml$1","isAbsoluteUrl","isImageUrl","createImage","pasteHtmlFn","createLink","linkSelection","insertImage","smartInsertContent","pasteAsText","createPasteDataTransfer","doPaste","shouldSimulateInputEvent","doPasteAction","pasteHtml","internalFlag","pasteText","encodedText","getDataTransferItems","contentType","hasContentType","clipboardContent","hasHtmlOrText","extractFilename","createBlobInfo","useFileName","pasteImage","imageItem","existingBlobInfo","isClipboardEvent","readFilesAsDataUris","allowedExtensions","extension","getImagesFromDataTransfer","kind","getAsFile","pasteImageData","clipboardData","fileResults","isBrokenAndroidClipboardEvent","isKeyboardPasteEvent","insertClipboardContent","plainTextMode","isInternal","isPlainTextHtml","isAbsoluteUrl$1","registerEventHandlers","pasteBin","pasteFormat","keyboardPastePlainTextState","registerDataImageFilter","isWebKitFakeUrl","isDataUri","isPasteInsert","registerEventsAndFilters","togglePlainTextPaste","register$1","setHtml5Clipboard","setClipboardData","contenteditable","overflow","offscreenRange","selectNodeContents","isTableSelection","hasSelectedContent","cut","getCaretRangeFromEvent","isPlainTextFileUrl","plainTextContent","setFocusedRange","hasImage","needsCustomInternalDrop","dropContent","parentTransparent","inSummary","setupSummaryDeleteByDragFix","hasNoSummary","brokenDetailElements","setup$a","draggingInternallyState","internalContent","needsInternalDrop","isInternalDrop","trimmedContent","setup$9","processEvent","addPreProcessFilter","filterFunc","rgbRegExp","rgbToHex","removeWebKitStyles","webKitStylesOption","webKitStyles","inputStyles","outputStyles","inputValue","compareInput","outputStyle","setup$8","setup$7","preventSummaryToggle","filterDetails","initialStateOption","serializedStateOption","setup$6","isText","isContentEditableFalse$2","isContentEditableTrue","getClosestScope","getClosestCef","findEdgeCaretCandidate","findClosestBlockRange","startRng","clickNode","cef","onTripleClickSelect","setup$5","FakeCaretPosition","distanceToRectLeft","distanceToRectRight","isInsideY","collidesY","isOverlapping","overlap","splitRectsPerAxis","intersectingRects","boundingRect","horizontal","vertical","clientInfo","Before","After","horizontalDistance","_y","closestChildCaretCandidateNodeRect","findCloserTextNode","caretCandidateRect","tryFindSecondBestTextNode","sndClosest","distance","deltaDistance","findClosestCaretCandidateNodeRect","sortedRects","horizontalRects","verticalRects","above","below","traverseUp","prevScope","isDragGhostContainer","childNodesWithoutGhost","uncheckedChildren","newScope","closestCaretCandidateNodeRect","ownerDoc","elementAtPoint","closestFakeCaretCandidate","getAbsolutePosition","docElem","getBodyPosition","getScrollPosition","getBodyScroll","inlineScroll","iframeScroll","getMousePosition","iframePosition","scrollPosition","calculatePosition","bodyPosition","mousePosition","calc","getTargetProps","makeDndEventFromMouseEvent","makeDndEvent","timeStamp","BUBBLING_PHASE","CAPTURING_PHASE","NONE","button","buttons","movementX","movementY","offsetX","offsetY","relatedTarget","initUIEvent","initMouseEvent","makeDataTransferCopyForDragEvent","makeDragEvent","dataTransferForDispatch","scrollPixelsPerInterval","scrollIntervalValue","mouseRangeToTriggerScrollInsideEditor","mouseRangeToTriggerScrollOutsideEditor","isContentEditableFalse$1","isDraggable","isValidDropTarget","dragElement","createGhost","clonedElm","opacity","padding","boxSizing","appendGhostToBody","scrollEditor","amount","behavior","scrollRight","scrollUp","scrollDown","moveGhost","maxX","maxY","mouseY","mouseX","mouseEventOriginatedFromWithinTheEditor","overflowX","outerMouseY","outerMouseX","dragging","innerWidth","removeElement","removeElementWithPadding","isLeftMouseButtonPressed","applyRelPos","relX","ceElm","elmPos","relY","ghost","caretInfo","dispatchDragEvent","move","throttledPlaceCaretAt","state_","movement","targetPos","getRawTarget","drop","dropTarget","removeDragState","stopDragging","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","blockUnsupportedFileDrop","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","init$2","setup$4","renderFocusCaret","setup$3","isContentEditableFalse","getContentEditableRoot","SelectionOverrides","realSelectionId","selectedElement","isFakeSelectionElement","isFakeSelectionTargetElement","setRange","removeElementSelection","contentEditableRoot","setElementSelection","closestContentEditable","normalizeVoidElementSelection","isRangeInCaretContainer","isWithinCaretContainer","setupOffscreenSelection","targetClone","realSelectionContainer","selectElement","nodeElm","afterNode","getNormalizedTextOffset","generatePath","generatePathRange","resolvePath","nodePath","resolvedNode","optNode","resolvePathRange","generatePathRangeFromRange","cleanEmptyNodes","deleteRng","getParentBlock","resolveFromDynamicPatterns","patternSet","beforeText","dynamicPatterns","getBeforeText","startsWithSingleSpace","stripPattern","firstTextNode","applyPattern$1","isBlockFormatName","formatSet","sortPatterns$1","findPattern$1","sortedPatterns","nuText","findPatterns$1","normalizedMatches","blockText","applyMatches$1","newMarker","rangeFromMarker","createMarker","markerPrefix","pathRange","textEnd","textStart","startParentNode","endParentNode","removeMarker","isReplacementPattern","matchesPattern","patternContent","searchText","startEndIndex","findPatternStartFromSpot","startPattern","startSpot","startPatternIndex","isCompleteMatch","nextSpot","findPatternStart","requireGap","startRange","findPattern","endPathRng","endRng","resultsOpt","findPatternsRec","remainingPatterns","startPathRng","endSpot","patternsWithoutCurrent","applyPattern","patternRange","applyReplacementPattern","markerRange","applyPatternWithContent","startMarker","endMarker","markerEndRange","markerStartRange","patternMarker","addMarkers","matchesWithEnds","sortPatterns","getBestMatches","matchesWithSortedPatterns","hasSameMatches","sortedMatch","findPatterns","applyMatches","matchesWithMarkers","handleEnter","dynamicPatternSet","inlineMatches","blockMatches","handleInlineKey","checkKeyEvent","codes","checkKeyCode","checkCharCode","charCode","setup$2","charCodes","keyCodes","getPatternSet","hasDynamicPatterns","hasPatterns","handleInlineTrigger","setup$1","Quirks","isGecko","isWebKit","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","contents","allContentsSelected","allRng","allSelection","selectAll","shortcuts","documentElementEditingFocus","removeHrOnBackspace","Range","blur","selectControlElements","visualAidsAnchorClass","removeStylesWhenDeletingAcrossBlockElements","getAttributeApplyFunction","setAttributeNode","isSelectionAcrossElements","disableBackspaceIntoATable","removeBlockQuoteOnBackSpace","setGeckoEditingOptions","setOpts","addBrAfterLastLinks","fixLinks","setDefaultBlockType","isAllContentSelected","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","removeAppleInterchangeBrs","setupRtc","dropDragEndEvent","DragEvent","DOM$6","appendStyle","getRootName","removeUndefined","mkParserSettings","mkSchemaSettings","mkSerializerSettings","createParser","autoFocus","moveSelectionToFirstCaretPosition","initEditor","bindPendingEventDelegates","initInstanceCallback","getStyleSheetLoader$1","makeStylesheetLoadingPromises","framedFonts","bundledCss","normalCss","bundledPromises","loadContentCss","fontCss","removeCss","contentCssText","allStylesheets","contentStyle","preInit","spellcheck","directionality","protect","escape","loadInitialContent","startContent","initEditorWithInitialContent","startProgress","canceled","progressTimeout","setProgressState","contentBodyLoaded","disabled","readonly","_editableRoot","hasEditableRoot","annotator","_nodeChangeDispatcher","setupRtcThunk","cancelProgress","_rtcMode","DOM$5","createIframeElement","title","customAttrs","tabindex","iframe","frameBorder","allowTransparency","getIframeHtml","iframeHTML","bodyId","bodyClass","translatedAriaText","createIframe","boxInfo","iframeTitle","ifr","iframeContainer","setupIframeBody","ready","srcdoc","init$1","hidden","visibility","orgVisibility","DOM$4","initPlugin","initializedPlugins","Plugin","pluginUrl","pluginInstance","trimLegacyPrefix","initPlugins","initIcons","iconPackName","currentIcons","loadIcons","svgData","icon","addIcon","initTheme","Theme","initModel","Model","renderFromLoadedTheme","render","renderUI","renderThemeFalse","renderFromThemeFunc","iframeHeight","createThemeFalseResult","renderThemeFalseIframe","renderThemeUi","augmentEditorUiApi","uiApiFacade","isEnabled","setEnabled","renderInfo","DOM$3","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","loadTheme","themeUrl","loadModel","modelUrl","getIconsUrlMetaFromUrl","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","urlMeta","loadPlugins","loadPlugin","isThemeLoaded","isModelLoaded","getStyleSheetLoader","snapshot","resetContent","triggerSave","windowManager","set_dirty","setEditableRoot","sectionResult","sections","deviceDetection","normalizePlugins","trimmedPlugins","extractSections","getSection","defaults","sectionOptions","hasSection","getSectionConfig","getMobileOverrideOptions","mobileOptions","defaultMobileOptions","table_grid","object_resizing","resize","toolbar_mode","toolbar_sticky","defaultPhoneOptions","menubar","getExternalPlugins","overrideOptions","userDefinedExternalPlugins","external_plugins","combinePlugins","forcedPlugins","getPlatformPlugins","isMobileDevice","desktopPlugins","mobilePlugins","processPlugins","defaultOverrideOptions","forced_plugins","mobileConfig","platformPlugins","combinedPlugins","isOnMobile","combineOptions","defaultOptions","deviceOverrideOptions","mobile","extendedOptions","normalizeOptions","registerExecCommands$3","toggleAlign","editorCommands","addCommands","JustifyLeft","JustifyCenter","JustifyRight","JustifyFull","JustifyNone","registerQueryStateCommands$1","alignStates","registerCommands$b","registerCommands$a","queryCommandEnabled","queryCommandSupported","trimOrPadLeftRight","processValue$1","trimOrPad","insertAtCaret","insertedContent","registerCommands$9","mceCleanup","_command","insertHorizontalRule","insertText","insertHTML","mceInsertContent","mceSetContent","mceReplaceContent","mceNewDocument","legacyPropNames","isFont","getSpecifiedFontProp","getProperty","legacyPropName","normalizeFontFamily","getComputedFontProp","getFontProp","getFontSize","getFontFamily","findFirstCaretElement","getCaretElement","atStartOfNode","bindRange","mapRange","fromFontSizeNumber","fontSizeNumber","fontClasses","normalizeFontNames","font","fonts","fontNameAction","fontNameQuery","fontSizeAction","fontSizeQuery","lineHeightQuery","specifiedStyle","computedStyle","lineHeightAction","registerExecCommands$2","ForeColor,HiliteColor","BackColor","FontName","FontSize","LineHeight","Lang","customCode","mceBlockQuote","FormatBlock","mceToggleFormat","registerQueryValueCommands","isFormatMatch","addQueryValueHandler","registerCommands$8","registerCommands$7","mceAddUndoLevel","mceEndUndoLevel","Undo","Redo","registerCommands$6","Indent","Outdent","registerCommands$5","applyLinkToSelection","linkDetails","unlink","mceInsertLink","registerExecCommands$1","listParent","registerQueryStateCommands","list","registerCommands$4","getTopParentBlock","topParentBlock","registerCommands$3","InsertNewBlockBefore","InsertNewBlockAfter","registerCommands$2","insertParagraph","mceInsertNewLine","InsertLineBreak","registerCommands$1","mceSelectNodeDepth","mceSelectNode","registerExecCommands","mceRemoveNode","mcePrint","print","mceFocus","mceToggleVisualAid","registerCommands","selectionSafeCommands","isSelectionSafeCommand","EditorCommands","commands","lowerCaseCommand","skip_focus","queryCommandState","queryCommandValue","commandList","addQueryStateHandler","internalContentEditableAttr","setContentEditable","switchOffContentEditableTrue","switchOnContentEditableTrue","removeFakeSelection","restoreFakeSelection","toggleReadOnly","registerFilters","registerReadOnlyContentFilters","isClickEvent","allowedEvents","isReadOnlyAllowedEvent","getAnchorHrefOpt","processReadonlyEvents","targetEl","registerReadOnlySelectionBlockers","nativeEvents","EventDispatcher","isNative","bindings","toggleEvent","beforeFire","once","wrappedCallback","currentName","bindingName","filteredHandlers","binding","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","bubble","dispatcherArgs","DOM$2","customEventRootDelegates","getEventTarget","eventName","eventRoot","isListening","bindEventDelegate","delegates","eventRootElm","delegate","editors","EditorObservable","_pendingNativeEvents","stringListProcessor","getBuiltInProcessor","processValue","isBuiltInSpec","getErrorMessage","additionalText","isValidResult","processDefaultValue","create$5","initialOptions","setValue","isRegistered","immutable","unset","registered","defaultModes","switchToMode","activeMode","availableModes","oldMode","newMode","activate","deactivate","editorReadOnly","setMode","registerMode","create$4","design","each$2","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","isModifier","parseShortcut","shortcut","access","alt","ctrl","meta","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","create$3","menuItems","contextMenus","contextToolbars","sidebars","views","addButton","addGroupToolbarButton","addToggleButton","addMenuButton","addSplitButton","addMenuItem","addNestedMenuItem","addToggleMenuItem","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","addView","bridge","DOM$1","each$1","Editor","loadedCSS","isNotDirty","documentBaseURL","_setBaseUrl","baseURI","setupCallback","getParam","loadArgs","saveArgs","initialContent","oldState","urlConverterCallback","urlObject","_scanForImages","boundGlobalEvents","beforeUnloadDelegate","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","purgeDestroyedEditor","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","tinyMCEPreInit","srcScript","overrideDefaults","base_url","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","pluginName","invalidInlineTargets","isInvalidInlineTarget","createId","execCallback","findTargets","provideResults","initEditors","initCount","createEditor","existingEditor","editorId","editorOptions","addI18n","dataValue","FakeClipboardItem","getType","FakeClipboard","relativePosition","targetW","targetH","relChars","create$2","findBestRelativePosition","constrainRect","rels","inflate","intersect","cropRect","x1","y1","clamp","clampRect","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Rect","awaiter","resolveCb","rejectCb","complete","completer","create$1","tasks","resultFns","resources","loadErrMsg","runErrMsg","task","waiter","storage","getItem","setItem","removeItem","defineProperty","localStorage","LocalStorage","publicApi","geom","util","TreeWalker","Serializer","Selection","tinymce$1","exportToModuleLoaders","module","exportToWindowGlobal","tinyMCE"],"sources":["C:/Users/Youcode/Desktop/FLLLROUGE/node_modules/tinymce/tinymce.js"],"sourcesContent":["/**\n * TinyMCE version 6.8.3 (2024-02-08)\n */\n\n(function () {\n    'use strict';\n\n    var typeOf$1 = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort$1 = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq$2(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq$2 = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq$2(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq$2(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort$1(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq$2(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq$2(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf$1(x);\n      var ty = typeOf$1(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    const getPrototypeOf$2 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$4 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$2(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$4(value, Object);\n    const isArray$1 = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray$1(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf$1 = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map$3 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$e = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$2 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$5 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$e(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil$1 = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$2 = (xs, pred) => {\n      return findUntil$1(xs, pred, never);\n    };\n    const findIndex$2 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray$1(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$3(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$5(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$b = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$b(xs, 0);\n    const last$3 = xs => get$b(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n    const unique$1 = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$2(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty$1 = Object.hasOwnProperty;\n    const each$d = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$2 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$d(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$d(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$4 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$d(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$a = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty$1.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const equal$1 = (a1, a2, eq = eqAny) => eqRecord(eq).eq(a1, a2);\n\n    const stringArray = a => {\n      const all = {};\n      each$e(a, key => {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    const isArrayLike = o => o.length !== undefined;\n    const isArray = Array.isArray;\n    const toArray$1 = obj => {\n      if (!isArray(obj)) {\n        const array = [];\n        for (let i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    const each$c = (o, cb, s) => {\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (isArrayLike(o)) {\n        for (let n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (const n in o) {\n          if (has$2(o, n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    const map$1 = (array, callback) => {\n      const out = [];\n      each$c(array, (item, index) => {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    const filter$3 = (a, f) => {\n      const o = [];\n      each$c(a, (v, index) => {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    const indexOf = (a, v) => {\n      if (a) {\n        for (let i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    const reduce = (collection, iteratee, accumulator, thisArg) => {\n      let acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (let i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    const findIndex$1 = (array, predicate, thisArg) => {\n      for (let i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    const last$2 = collection => collection[collection.length - 1];\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$1 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$3(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$3(0, 0);\n    };\n    const nu$3 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$3,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$2(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$2(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$4 = blank(/^\\s+|\\s+$/g);\n    const lTrim = blank(/^\\s+/g);\n    const rTrim = blank(/\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$3 = s => !isNotEmpty(s);\n    const repeat = (s, count) => count <= 0 ? '' : new Array(count + 1).join(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$2 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$2,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu: nu$1,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform$4 = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform$4();\n\n    const userAgent = navigator.userAgent;\n    const platform$3 = detect$2();\n    const browser$3 = platform$3.browser;\n    const os$1 = platform$3.os;\n    const deviceType = platform$3.deviceType;\n    const windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    const Env = {\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      documentMode: browser$3.isIE() ? document.documentMode || 7 : 10,\n      cacheSuffix: null,\n      container: null,\n      canHaveCSP: !browser$3.isIE(),\n      windowsPhone,\n      browser: {\n        current: browser$3.current,\n        version: browser$3.version,\n        isChromium: browser$3.isChromium,\n        isEdge: browser$3.isEdge,\n        isFirefox: browser$3.isFirefox,\n        isIE: browser$3.isIE,\n        isOpera: browser$3.isOpera,\n        isSafari: browser$3.isSafari\n      },\n      os: {\n        current: os$1.current,\n        version: os$1.version,\n        isAndroid: os$1.isAndroid,\n        isChromeOS: os$1.isChromeOS,\n        isFreeBSD: os$1.isFreeBSD,\n        isiOS: os$1.isiOS,\n        isLinux: os$1.isLinux,\n        isMacOS: os$1.isMacOS,\n        isSolaris: os$1.isSolaris,\n        isWindows: os$1.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    const whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n    const trim$3 = str => {\n      return isNullable(str) ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n    };\n    const is$3 = (obj, type) => {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    const makeMap$4 = (items, delim, map = {}) => {\n      const resolvedItems = isString(items) ? items.split(delim || ',') : items || [];\n      let i = resolvedItems.length;\n      while (i--) {\n        map[resolvedItems[i]] = {};\n      }\n      return map;\n    };\n    const hasOwnProperty = has$2;\n    const extend$3 = (obj, ...exts) => {\n      for (let i = 0; i < exts.length; i++) {\n        const ext = exts[i];\n        for (const name in ext) {\n          if (has$2(ext, name)) {\n            const value = ext[name];\n            if (value !== undefined) {\n              obj[name] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    const walk$4 = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$c(o, (o, i) => {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          } else {\n            walk$4(o, f, n, s);\n            return true;\n          }\n        });\n      }\n    };\n    const resolve$3 = (n, o = window) => {\n      const path = n.split('.');\n      for (let i = 0, l = path.length; i < l; i++) {\n        o = o[path[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    const explode$3 = (s, d) => {\n      if (isArray$1(s)) {\n        return s;\n      } else if (s === '') {\n        return [];\n      } else {\n        return map$1(s.split(d || ','), trim$3);\n      }\n    };\n    const _addCacheSuffix = url => {\n      const cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    const Tools = {\n      trim: trim$3,\n      isArray: isArray,\n      is: is$3,\n      toArray: toArray$1,\n      makeMap: makeMap$4,\n      each: each$c,\n      map: map$1,\n      grep: filter$3,\n      inArray: indexOf,\n      hasOwn: hasOwnProperty,\n      extend: extend$3,\n      walk: walk$4,\n      resolve: resolve$3,\n      explode: explode$3,\n      _addCacheSuffix\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve$2 = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve$2(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve$2('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isComment$1 = element => type$1(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement$1 = element => isElement$7(element) && isPrototypeOf(element.dom);\n    const isElement$7 = isType(ELEMENT);\n    const isText$b = isType(TEXT);\n    const isDocument$2 = isType(DOCUMENT);\n    const isDocumentFragment$1 = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$7(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$3 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$d(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$9 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$9(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$a = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const hasNone = element => {\n      const attrs = element.dom.attributes;\n      return attrs === undefined || attrs === null || attrs.length === 0;\n    };\n    const clone$4 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const read$4 = (element, attr) => {\n      const value = get$9(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read$4(element, attr);\n      const nu = old.concat([id]);\n      set$3(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$9 = (element, attr, id) => {\n      const nu = filter$5(read$4(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$3(element, attr, nu.join(' '));\n      } else {\n        remove$a(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read$4(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$8 = (element, clazz) => remove$9(element, 'class', clazz);\n    const toggle$2 = (element, clazz) => {\n      if (contains$2(get$8(element), clazz)) {\n        return remove$8(element, clazz);\n      } else {\n        return add$3(element, clazz);\n      }\n    };\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$a(element, 'class');\n      }\n    };\n    const remove$7 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$8(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const toggle$1 = (element, clazz) => {\n      const result = supports(element) ? element.dom.classList.toggle(clazz) : toggle$2(element, clazz);\n      cleanClass(element);\n      return result;\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$2(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$2(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$2(node);\n    };\n    const fromDom$2 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$2 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$2);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$2,\n      fromPoint: fromPoint$2\n    };\n\n    const toArray = (target, f) => {\n      const r = [];\n      const recurse = e => {\n        r.push(e);\n        return f(e);\n      };\n      let cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$3(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$1 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument$2(dos) ? dos : owner$1(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents$1 = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const siblings = element => {\n      const filterSelf = elements => filter$5(elements, x => !eq(element, x));\n      return parent(element).map(children$1).map(filterSelf).getOr([]);\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const prevSiblings = element => reverse(toArray(element, prevSibling));\n    const nextSiblings = element => toArray(element, nextSibling);\n    const children$1 = element => map$3(element.dom.childNodes, SugarElement.fromDom);\n    const child$1 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$1(element, 0);\n    const lastChild = element => child$1(element, element.dom.childNodes.length - 1);\n    const childNodesCount = element => element.dom.childNodes.length;\n    const hasChildNodes = element => element.dom.hasChildNodes();\n\n    const getHead = doc => {\n      const b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment$1(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported$1 = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getStyleContainer = dos => isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$7(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText$b(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$4 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$4, scope, predicate, isRoot);\n    };\n    const sibling$1 = (scope, predicate) => {\n      const element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child(SugarElement.fromDom(element.parentNode), x => !eq(scope, x) && predicate(x));\n    };\n    const child = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$2(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$2 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$3 = (scope, selector, isRoot) => ancestor$4(scope, e => is$1(e, selector), isRoot);\n    const descendant$1 = (scope, selector) => one(selector, scope);\n    const closest$3 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$1(element, selector);\n      return ClosestOrAncestor(is, ancestor$3, scope, selector, isRoot);\n    };\n\n    const closest$2 = target => closest$3(target, '[contenteditable]');\n    const isEditable$2 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest$2(element).fold(constant(assumeEditable), editable => getRaw$1(editable) === 'true');\n      }\n    };\n    const getRaw$1 = element => element.dom.contentEditable;\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$2 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$d(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$7 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$2(getOpt(element, 'style').map(trim$4), '')) {\n        remove$a(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$4 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap$2 = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$3 = (marker, elements) => {\n      each$e(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$4(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$e(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$e(children$1(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$1(wrapper);\n      if (children.length > 0) {\n        after$3(wrapper, children);\n      }\n      remove$5(wrapper);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$1(SugarElement.fromDom(div));\n    };\n    const fromDom$1 = nodes => map$3(nodes, SugarElement.fromDom);\n\n    const get$6 = element => element.dom.innerHTML;\n    const set$1 = (element, content) => {\n      const owner = owner$1(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml(content, docDom);\n      append(fragment, contentElements);\n      empty(element);\n      append$1(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$6(container);\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle$1 = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle$1(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const get$5 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    const intoView = (element, alignToTop) => {\n      const isSafari = detect$2().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    const get$4 = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$2().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$5(SugarElement.fromDom(doc));\n      return get$4(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const children = (scope, predicate) => filter$5(children$1(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$e(children$1(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const descendants = (scope, selector) => all(selector, scope);\n\n    const ancestor$2 = (scope, selector, isRoot) => ancestor$3(scope, selector, isRoot).isSome();\n\n    class DomTreeWalker {\n      constructor(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      current() {\n        return this.node;\n      }\n      next(shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      }\n      prev(shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      }\n      prev2(shallow) {\n        this.node = this.findPreviousNode(this.node, shallow);\n        return this.node;\n      }\n      findSibling(node, startName, siblingName, shallow) {\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            let sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (let parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n        return undefined;\n      }\n      findPreviousNode(node, shallow) {\n        if (node) {\n          const sibling = node.previousSibling;\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (let child = sibling.lastChild; child; child = child.lastChild) {\n                if (!child.lastChild) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          const parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n        return undefined;\n      }\n    }\n\n    const isNodeType = type => {\n      return node => {\n        return !!node && node.nodeType === type;\n      };\n    };\n    const isRestrictedNode = node => !!node && !Object.getPrototypeOf(node);\n    const isElement$6 = isNodeType(1);\n    const isHTMLElement = node => isElement$6(node) && isHTMLElement$1(SugarElement.fromDom(node));\n    const isSVGElement = node => isElement$6(node) && node.namespaceURI === 'http://www.w3.org/2000/svg';\n    const matchNodeName = name => {\n      const lowerCasedName = name.toLowerCase();\n      return node => isNonNullable(node) && node.nodeName.toLowerCase() === lowerCasedName;\n    };\n    const matchNodeNames = names => {\n      const lowerCasedNames = names.map(s => s.toLowerCase());\n      return node => {\n        if (node && node.nodeName) {\n          const nodeName = node.nodeName.toLowerCase();\n          return contains$2(lowerCasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    const matchStyleValues = (name, values) => {\n      const items = values.toLowerCase().split(' ');\n      return node => {\n        if (isElement$6(node)) {\n          const win = node.ownerDocument.defaultView;\n          if (win) {\n            for (let i = 0; i < items.length; i++) {\n              const computed = win.getComputedStyle(node, null);\n              const cssValue = computed ? computed.getPropertyValue(name) : null;\n              if (cssValue === items[i]) {\n                return true;\n              }\n            }\n          }\n        }\n        return false;\n      };\n    };\n    const hasAttribute = attrName => {\n      return node => {\n        return isElement$6(node) && node.hasAttribute(attrName);\n      };\n    };\n    const hasAttributeValue = (attrName, attrValue) => {\n      return node => {\n        return isElement$6(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    const isBogus$2 = node => isElement$6(node) && node.hasAttribute('data-mce-bogus');\n    const isBogusAll$1 = node => isElement$6(node) && node.getAttribute('data-mce-bogus') === 'all';\n    const isTable$2 = node => isElement$6(node) && node.tagName === 'TABLE';\n    const hasContentEditableState = value => {\n      return node => {\n        if (isHTMLElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    const isText$a = isNodeType(3);\n    const isCData = isNodeType(4);\n    const isPi = isNodeType(7);\n    const isComment = isNodeType(8);\n    const isDocument$1 = isNodeType(9);\n    const isDocumentFragment = isNodeType(11);\n    const isBr$6 = matchNodeName('br');\n    const isImg = matchNodeName('img');\n    const isContentEditableTrue$3 = hasContentEditableState('true');\n    const isContentEditableFalse$b = hasContentEditableState('false');\n    const isTableCell$3 = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    const isTableCellOrCaption = matchNodeNames([\n      'td',\n      'th',\n      'caption'\n    ]);\n    const isMedia$2 = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    const isListItem$2 = matchNodeName('li');\n    const isDetails = matchNodeName('details');\n    const isSummary$1 = matchNodeName('summary');\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n    const isZwsp$2 = char => char === zeroWidth;\n    const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api$1 = NodeValue(isText$b, 'text');\n    const get$3 = element => api$1.get(element);\n    const getOption = element => api$1.getOption(element);\n    const set = (element, value) => api$1.set(element, value);\n\n    const tableCells = [\n      'td',\n      'th'\n    ];\n    const tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    const textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    const listItems$1 = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    const lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    const wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    const lazyLookup = items => {\n      let lookup;\n      return node => {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return has$2(lookup, name(node));\n      };\n    };\n    const isTable$1 = node => name(node) === 'table';\n    const isBr$5 = node => isElement$7(node) && name(node) === 'br';\n    const isTextBlock$2 = lazyLookup(textBlocks);\n    const isList = lazyLookup(lists);\n    const isListItem$1 = lazyLookup(listItems$1);\n    const isTableSection = lazyLookup(tableSections);\n    const isTableCell$2 = lazyLookup(tableCells);\n    const isWsPreserveElement = lazyLookup(wsElements);\n\n    const getLastChildren$1 = elm => {\n      const children = [];\n      let rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    const removeTrailingBr = elm => {\n      const allBrs = descendants(elm, 'br');\n      const brs = filter$5(getLastChildren$1(elm).slice(-1), isBr$5);\n      if (allBrs.length === brs.length) {\n        each$e(brs, remove$5);\n      }\n    };\n    const createPaddingBr = () => {\n      const br = SugarElement.fromTag('br');\n      set$3(br, 'data-mce-bogus', '1');\n      return br;\n    };\n    const fillWithPaddingBr = elm => {\n      empty(elm);\n      append$1(elm, createPaddingBr());\n    };\n    const trimBlockTrailingBr = (elm, schema) => {\n      lastChild(elm).each(lastChild => {\n        prevSibling(lastChild).each(lastChildPrevSibling => {\n          if (schema.isBlock(name(elm)) && isBr$5(lastChild) && schema.isBlock(name(lastChildPrevSibling))) {\n            remove$5(lastChild);\n          }\n        });\n      });\n    };\n\n    const ZWSP$1 = zeroWidth;\n    const isZwsp$1 = isZwsp$2;\n    const trim$2 = removeZwsp;\n    const insert$5 = editor => editor.insertContent(ZWSP$1, { preserve_zwsp: true });\n\n    const isElement$5 = isElement$6;\n    const isText$9 = isText$a;\n    const isCaretContainerBlock$1 = node => {\n      if (isText$9(node)) {\n        node = node.parentNode;\n      }\n      return isElement$5(node) && node.hasAttribute('data-mce-caret');\n    };\n    const isCaretContainerInline = node => isText$9(node) && isZwsp$1(node.data);\n    const isCaretContainer$2 = node => isCaretContainerBlock$1(node) || isCaretContainerInline(node);\n    const hasContent = node => node.firstChild !== node.lastChild || !isBr$6(node.firstChild);\n    const insertInline$1 = (node, before) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const textNode = doc.createTextNode(ZWSP$1);\n      const parentNode = node.parentNode;\n      if (!before) {\n        const sibling = node.nextSibling;\n        if (isText$9(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer$1(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.appendChild(textNode);\n        }\n      } else {\n        const sibling = node.previousSibling;\n        if (isText$9(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer$1(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    const isBeforeInline = pos => {\n      const container = pos.container();\n      if (!isText$a(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP$1 || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    const isAfterInline = pos => {\n      const container = pos.container();\n      if (!isText$a(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP$1 || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    const insertBlock = (blockName, node, before) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createPaddingBr().dom);\n      const parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    const startsWithCaretContainer$1 = node => isText$9(node) && node.data[0] === ZWSP$1;\n    const endsWithCaretContainer$1 = node => isText$9(node) && node.data[node.data.length - 1] === ZWSP$1;\n    const trimBogusBr = elm => {\n      var _a;\n      const brs = elm.getElementsByTagName('br');\n      const lastBr = brs[brs.length - 1];\n      if (isBogus$2(lastBr)) {\n        (_a = lastBr.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(lastBr);\n      }\n    };\n    const showCaretContainerBlock = caretContainer => {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('data-mce-style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    const isRangeInCaretContainerBlock = range => isCaretContainerBlock$1(range.startContainer);\n\n    const isContentEditableTrue$2 = isContentEditableTrue$3;\n    const isContentEditableFalse$a = isContentEditableFalse$b;\n    const isBr$4 = isBr$6;\n    const isText$8 = isText$a;\n    const isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    const isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    const isTable = matchNodeNames(['table']);\n    const isCaretContainer$1 = isCaretContainer$2;\n    const isCaretCandidate$3 = node => {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$8(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$4(node) || isTable(node) || isNonUiContentEditableFalse(node);\n    };\n    const isUnselectable = node => isElement$6(node) && node.getAttribute('unselectable') === 'true';\n    const isNonUiContentEditableFalse = node => !isUnselectable(node) && isContentEditableFalse$a(node);\n    const isInEditable = (node, root) => {\n      for (let tempNode = node.parentNode; tempNode && tempNode !== root; tempNode = tempNode.parentNode) {\n        if (isNonUiContentEditableFalse(tempNode)) {\n          return false;\n        }\n        if (isContentEditableTrue$2(tempNode)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    const isAtomicContentEditableFalse = node => {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return !foldl(from(node.getElementsByTagName('*')), (result, elm) => {\n        return result || isContentEditableTrue$2(elm);\n      }, false);\n    };\n    const isAtomic$1 = node => isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    const isEditableCaretCandidate$1 = (node, root) => isCaretCandidate$3(node) && isInEditable(node, root);\n\n    const whiteSpaceRegExp = /^[ \\t\\r\\n]*$/;\n    const isWhitespaceText = text => whiteSpaceRegExp.test(text);\n    const isZwsp = text => {\n      for (const c of text) {\n        if (!isZwsp$2(c)) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const isCollapsibleWhitespace$1 = c => ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    const isNewLineChar = c => c === '\\n' || c === '\\r';\n    const isNewline = (text, idx) => idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    const normalize$4 = (text, tabSpaces = 4, isStartOfContent = true, isEndOfContent = true) => {\n      const tabSpace = repeat(' ', tabSpaces);\n      const normalizedText = text.replace(/\\t/g, tabSpace);\n      const result = foldl(normalizedText, (acc, c) => {\n        if (isCollapsibleWhitespace$1(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' && isStartOfContent || acc.str.length === normalizedText.length - 1 && isEndOfContent || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    const hasWhitespacePreserveParent = (node, rootNode) => {\n      const rootElement = SugarElement.fromDom(rootNode);\n      const startNode = SugarElement.fromDom(node);\n      return ancestor$2(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    const isWhitespace$1 = (node, rootNode) => {\n      return isText$a(node) && isWhitespaceText(node.data) && !hasWhitespacePreserveParent(node, rootNode);\n    };\n    const isNamedAnchor = node => {\n      return isElement$6(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    const isContent$1 = (node, rootNode) => {\n      return isCaretCandidate$3(node) && !isWhitespace$1(node, rootNode) || isNamedAnchor(node) || isBookmark(node);\n    };\n    const isBookmark = hasAttribute('data-mce-bookmark');\n    const isBogus$1 = hasAttribute('data-mce-bogus');\n    const isBogusAll = hasAttributeValue('data-mce-bogus', 'all');\n    const hasNonEditableParent = node => parentElement(SugarElement.fromDom(node)).exists(parent => !isEditable$2(parent));\n    const isEmptyNode = (targetNode, skipBogus) => {\n      let brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        let node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        const walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isContentEditableTrue$3(node) && hasNonEditableParent(node)) {\n            return false;\n          }\n          if (isBr$6(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    const isEmpty$2 = (elm, skipBogus = true) => isEmptyNode(elm.dom, skipBogus);\n\n    const isNonHtmlElementRootName = name => name.toLowerCase() === 'svg';\n    const isNonHtmlElementRoot = node => isNonHtmlElementRootName(node.nodeName);\n    const toScopeType = node => (node === null || node === void 0 ? void 0 : node.nodeName) === 'svg' ? 'svg' : 'html';\n    const namespaceElements = ['svg'];\n    const createNamespaceTracker = () => {\n      let scopes = [];\n      const peek = () => scopes[scopes.length - 1];\n      const track = node => {\n        if (isNonHtmlElementRoot(node)) {\n          scopes.push(node);\n        }\n        let currentScope = peek();\n        if (currentScope && !currentScope.contains(node)) {\n          scopes.pop();\n          currentScope = peek();\n        }\n        return toScopeType(currentScope);\n      };\n      const current = () => toScopeType(peek());\n      const reset = () => {\n        scopes = [];\n      };\n      return {\n        track,\n        current,\n        reset\n      };\n    };\n\n    const transparentBlockAttr = 'data-mce-block';\n    const elementNames = map => filter$5(keys(map), key => !/[A-Z]/.test(key));\n    const makeSelectorFromSchemaMap = map => map$3(elementNames(map), name => {\n      return `${ name }:` + map$3(namespaceElements, ns => `not(${ ns } ${ name })`).join(':');\n    }).join(',');\n    const updateTransparent = (blocksSelector, transparent) => {\n      if (isNonNullable(transparent.querySelector(blocksSelector))) {\n        transparent.setAttribute(transparentBlockAttr, 'true');\n        if (transparent.getAttribute('data-mce-selected') === 'inline-boundary') {\n          transparent.removeAttribute('data-mce-selected');\n        }\n        return true;\n      } else {\n        transparent.removeAttribute(transparentBlockAttr);\n        return false;\n      }\n    };\n    const updateBlockStateOnChildren = (schema, scope) => {\n      const transparentSelector = makeSelectorFromSchemaMap(schema.getTransparentElements());\n      const blocksSelector = makeSelectorFromSchemaMap(schema.getBlockElements());\n      return filter$5(scope.querySelectorAll(transparentSelector), transparent => updateTransparent(blocksSelector, transparent));\n    };\n    const trimEdge = (el, leftSide) => {\n      var _a;\n      const childPropertyName = leftSide ? 'lastChild' : 'firstChild';\n      for (let child = el[childPropertyName]; child; child = child[childPropertyName]) {\n        if (isEmpty$2(SugarElement.fromDom(child))) {\n          (_a = child.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(child);\n          return;\n        }\n      }\n    };\n    const split$2 = (parentElm, splitElm) => {\n      const range = document.createRange();\n      const parentNode = parentElm.parentNode;\n      if (parentNode) {\n        range.setStartBefore(parentElm);\n        range.setEndBefore(splitElm);\n        const beforeFragment = range.extractContents();\n        trimEdge(beforeFragment, true);\n        range.setStartAfter(splitElm);\n        range.setEndAfter(parentElm);\n        const afterFragment = range.extractContents();\n        trimEdge(afterFragment, false);\n        if (!isEmpty$2(SugarElement.fromDom(beforeFragment))) {\n          parentNode.insertBefore(beforeFragment, parentElm);\n        }\n        if (!isEmpty$2(SugarElement.fromDom(splitElm))) {\n          parentNode.insertBefore(splitElm, parentElm);\n        }\n        if (!isEmpty$2(SugarElement.fromDom(afterFragment))) {\n          parentNode.insertBefore(afterFragment, parentElm);\n        }\n        parentNode.removeChild(parentElm);\n      }\n    };\n    const splitInvalidChildren = (schema, scope, transparentBlocks) => {\n      const blocksElements = schema.getBlockElements();\n      const rootNode = SugarElement.fromDom(scope);\n      const isBlock = el => name(el) in blocksElements;\n      const isRoot = el => eq(el, rootNode);\n      each$e(fromDom$1(transparentBlocks), transparentBlock => {\n        ancestor$4(transparentBlock, isBlock, isRoot).each(parentBlock => {\n          const invalidChildren = children(transparentBlock, el => isBlock(el) && !schema.isValidChild(name(parentBlock), name(el)));\n          if (invalidChildren.length > 0) {\n            const stateScope = parentElement(parentBlock);\n            each$e(invalidChildren, child => {\n              ancestor$4(child, isBlock, isRoot).each(parentBlock => {\n                split$2(parentBlock.dom, child.dom);\n              });\n            });\n            stateScope.each(scope => updateBlockStateOnChildren(schema, scope.dom));\n          }\n        });\n      });\n    };\n    const unwrapInvalidChildren = (schema, scope, transparentBlocks) => {\n      each$e([\n        ...transparentBlocks,\n        ...isTransparentBlock(schema, scope) ? [scope] : []\n      ], block => each$e(descendants(SugarElement.fromDom(block), block.nodeName.toLowerCase()), elm => {\n        if (isTransparentInline(schema, elm.dom)) {\n          unwrap(elm);\n        }\n      }));\n    };\n    const updateChildren = (schema, scope) => {\n      const transparentBlocks = updateBlockStateOnChildren(schema, scope);\n      splitInvalidChildren(schema, scope, transparentBlocks);\n      unwrapInvalidChildren(schema, scope, transparentBlocks);\n    };\n    const updateElement = (schema, target) => {\n      if (isTransparentElement(schema, target)) {\n        const blocksSelector = makeSelectorFromSchemaMap(schema.getBlockElements());\n        updateTransparent(blocksSelector, target);\n      }\n    };\n    const updateCaret = (schema, root, caretParent) => {\n      const isRoot = el => eq(el, SugarElement.fromDom(root));\n      const parents = parents$1(SugarElement.fromDom(caretParent), isRoot);\n      get$b(parents, parents.length - 2).filter(isElement$7).fold(() => updateChildren(schema, root), scope => updateChildren(schema, scope.dom));\n    };\n    const hasBlockAttr = el => el.hasAttribute(transparentBlockAttr);\n    const isTransparentElementName = (schema, name) => has$2(schema.getTransparentElements(), name);\n    const isTransparentElement = (schema, node) => isElement$6(node) && isTransparentElementName(schema, node.nodeName);\n    const isTransparentBlock = (schema, node) => isTransparentElement(schema, node) && hasBlockAttr(node);\n    const isTransparentInline = (schema, node) => isTransparentElement(schema, node) && !hasBlockAttr(node);\n    const isTransparentAstBlock = (schema, node) => node.type === 1 && isTransparentElementName(schema, node.name) && isString(node.attr(transparentBlockAttr));\n\n    const browser$2 = detect$2().browser;\n    const firstElement = nodes => find$2(nodes, isElement$7);\n    const getTableCaptionDeltaY = elm => {\n      if (browser$2.isFirefox() && name(elm) === 'table') {\n        return firstElement(children$1(elm)).filter(elm => {\n          return name(elm) === 'caption';\n        }).bind(caption => {\n          return firstElement(nextSiblings(caption)).map(body => {\n            const bodyTop = body.dom.offsetTop;\n            const captionTop = caption.dom.offsetTop;\n            const captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    const hasChild = (elm, child) => elm.children && contains$2(elm.children, child);\n    const getPos = (body, elm, rootElm) => {\n      let x = 0, y = 0;\n      const doc = body.ownerDocument;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$7(SugarElement.fromDom(body), 'position') === 'static') {\n          const pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x,\n            y\n          };\n        }\n        let offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          const castOffsetParent = offsetParent;\n          x += castOffsetParent.offsetLeft || 0;\n          y += castOffsetParent.offsetTop || 0;\n          offsetParent = castOffsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x,\n        y\n      };\n    };\n\n    const StyleSheetLoader = (documentOrShadowRoot, settings = {}) => {\n      let idCount = 0;\n      const loadedStates = {};\n      const edos = SugarElement.fromDom(documentOrShadowRoot);\n      const doc = documentOrOwner(edos);\n      const _setReferrerPolicy = referrerPolicy => {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      const _setContentCssCors = contentCssCors => {\n        settings.contentCssCors = contentCssCors;\n      };\n      const addStyle = element => {\n        append$1(getStyleContainer(edos), element);\n      };\n      const removeStyle = id => {\n        const styleContainer = getStyleContainer(edos);\n        descendant$1(styleContainer, '#' + id).each(remove$5);\n      };\n      const getOrCreateState = url => get$a(loadedStates, url).getOrThunk(() => ({\n        id: 'mce-u' + idCount++,\n        passed: [],\n        failed: [],\n        count: 0\n      }));\n      const load = url => new Promise((success, failure) => {\n        let link;\n        const urlWithSuffix = Tools._addCacheSuffix(url);\n        const state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        const resolve = (callbacks, status) => {\n          each$e(callbacks, call);\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        const passed = () => resolve(state.passed, 2);\n        const failed = () => resolve(state.failed, 3);\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        const linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll$1(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        if (settings.contentCssCors) {\n          set$3(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set$3(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = passed;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set$3(linkElem, 'href', urlWithSuffix);\n      });\n      const loadRawCss = (key, css) => {\n        const state = getOrCreateState(key);\n        loadedStates[key] = state;\n        state.count++;\n        const styleElem = SugarElement.fromTag('style', doc.dom);\n        setAll$1(styleElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        styleElem.dom.innerHTML = css;\n        addStyle(styleElem);\n      };\n      const loadAll = urls => {\n        const loadedUrls = Promise.allSettled(map$3(urls, url => load(url).then(constant(url))));\n        return loadedUrls.then(results => {\n          const parts = partition$2(results, r => r.status === 'fulfilled');\n          if (parts.fail.length > 0) {\n            return Promise.reject(map$3(parts.fail, result => result.reason));\n          } else {\n            return map$3(parts.pass, result => result.value);\n          }\n        });\n      };\n      const unload = url => {\n        const urlWithSuffix = Tools._addCacheSuffix(url);\n        get$a(loadedStates, urlWithSuffix).each(state => {\n          const count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      const unloadRawCss = key => {\n        get$a(loadedStates, key).each(state => {\n          const count = --state.count;\n          if (count === 0) {\n            delete loadedStates[key];\n            removeStyle(state.id);\n          }\n        });\n      };\n      const unloadAll = urls => {\n        each$e(urls, url => {\n          unload(url);\n        });\n      };\n      return {\n        load,\n        loadRawCss,\n        loadAll,\n        unload,\n        unloadRawCss,\n        unloadAll,\n        _setReferrerPolicy,\n        _setContentCssCors\n      };\n    };\n\n    const create$d = () => {\n      const map = new WeakMap();\n      const forElement = (referenceElement, settings) => {\n        const root = getRootNode(referenceElement);\n        const rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(() => {\n          const sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement };\n    };\n    const instance = create$d();\n\n    const isSpan = node => node.nodeName.toLowerCase() === 'span';\n    const isInlineContent = (node, root, schema) => isNonNullable(node) && (isContent$1(node, root) || schema.isInline(node.nodeName.toLowerCase()));\n    const surroundedByInlineContent = (node, root, schema) => {\n      const prev = new DomTreeWalker(node, root).prev(false);\n      const next = new DomTreeWalker(node, root).next(false);\n      const prevIsInline = isUndefined(prev) || isInlineContent(prev, root, schema);\n      const nextIsInline = isUndefined(next) || isInlineContent(next, root, schema);\n      return prevIsInline && nextIsInline;\n    };\n    const isBookmarkNode$2 = node => isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    const isKeepTextNode = (node, root, schema) => isText$a(node) && node.data.length > 0 && surroundedByInlineContent(node, root, schema);\n    const isKeepElement = node => isElement$6(node) ? node.childNodes.length > 0 : false;\n    const isDocument = node => isDocumentFragment(node) || isDocument$1(node);\n    const trimNode = (dom, node, schema, root) => {\n      var _a;\n      const rootNode = root || node;\n      if (isElement$6(node) && isBookmarkNode$2(node)) {\n        return node;\n      }\n      const children = node.childNodes;\n      for (let i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], schema, rootNode);\n      }\n      if (isElement$6(node)) {\n        const currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode$2(currentChildren[0])) {\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument(node) && !isContent$1(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode, schema)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    const makeMap$3 = Tools.makeMap;\n    const attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    const textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    const rawCharsRegExp = /[<>&\\\"\\']/g;\n    const entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    const asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    const baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    const reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': `'`\n    };\n    const nativeDecode = text => {\n      const elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    const buildEntitiesLookup = (items, radix) => {\n      const lookup = {};\n      if (items) {\n        const itemList = items.split(',');\n        radix = radix || 10;\n        for (let i = 0; i < itemList.length; i += 2) {\n          const chr = String.fromCharCode(parseInt(itemList[i], radix));\n          if (!baseEntities[chr]) {\n            const entity = '&' + itemList[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      } else {\n        return undefined;\n      }\n    };\n    const namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    const encodeRaw = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n      return baseEntities[chr] || chr;\n    });\n    const encodeAllRaw = text => ('' + text).replace(rawCharsRegExp, chr => {\n      return baseEntities[chr] || chr;\n    });\n    const encodeNumeric = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n      if (chr.length > 1) {\n        return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n      }\n      return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n    });\n    const encodeNamed = (text, attr, entities) => {\n      const resolveEntities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n        return baseEntities[chr] || resolveEntities[chr] || chr;\n      });\n    };\n    const getEncodeFunc = (name, entities) => {\n      const entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      const encodeNamedAndNumeric = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n        if (baseEntities[chr] !== undefined) {\n          return baseEntities[chr];\n        }\n        if (entitiesMap[chr] !== undefined) {\n          return entitiesMap[chr];\n        }\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return '&#' + chr.charCodeAt(0) + ';';\n      });\n      const encodeCustomNamed = (text, attr) => {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      const nameMap = makeMap$3(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    const decode = text => text.replace(entityRegExp, (all, numeric) => {\n      if (numeric) {\n        if (numeric.charAt(0).toLowerCase() === 'x') {\n          numeric = parseInt(numeric.substr(1), 16);\n        } else {\n          numeric = parseInt(numeric, 10);\n        }\n        if (numeric > 65535) {\n          numeric -= 65536;\n          return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n        }\n        return asciiMap[numeric] || String.fromCharCode(numeric);\n      }\n      return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n    });\n    const Entities = {\n      encodeRaw,\n      encodeAllRaw,\n      encodeNumeric,\n      encodeNamed,\n      getEncodeFunc,\n      decode\n    };\n\n    const split$1 = (items, delim) => {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    const patternToRegExp = str => new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n\n    const parseCustomElementsRules = value => {\n      const customElementRegExp = /^(~)?(.+)$/;\n      return bind$3(split$1(value, ','), rule => {\n        const matches = customElementRegExp.exec(rule);\n        if (matches) {\n          const inline = matches[1] === '~';\n          const cloneName = inline ? 'span' : 'div';\n          const name = matches[2];\n          return [{\n              inline,\n              cloneName,\n              name\n            }];\n        } else {\n          return [];\n        }\n      });\n    };\n\n    const getElementSetsAsStrings = type => {\n      let globalAttributes, blockContent;\n      let phrasingContent;\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        const transparentContent = 'a ins del canvas map';\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav ' + transparentContent;\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen svg';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        const html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        const html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n      }\n      const flowContent = [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      return {\n        globalAttributes,\n        blockContent,\n        phrasingContent,\n        flowContent\n      };\n    };\n\n    const makeSchema = type => {\n      const {globalAttributes, phrasingContent, flowContent} = getElementSetsAsStrings(type);\n      const schema = {};\n      const addElement = (name, attributes, children) => {\n        schema[name] = {\n          attributes: mapToObject(attributes, constant({})),\n          attributesOrder: attributes,\n          children: mapToObject(children, constant({}))\n        };\n      };\n      const add = (name, attributes = '', children = '') => {\n        const childNames = split$1(children);\n        const names = split$1(name);\n        let ni = names.length;\n        const allAttributes = split$1([\n          globalAttributes,\n          attributes\n        ].join(' '));\n        while (ni--) {\n          addElement(names[ni], allAttributes.slice(), childNames);\n        }\n      };\n      const addAttrs = (name, attributes) => {\n        const names = split$1(name);\n        const attrs = split$1(attributes);\n        let ni = names.length;\n        while (ni--) {\n          const schemaItem = schema[names[ni]];\n          for (let i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (type !== 'html5-strict') {\n        const html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        each$e(split$1(html4PhrasingContent), name => {\n          add(name, '', phrasingContent);\n        });\n        const html4BlockContent = 'center dir isindex noframes';\n        each$e(split$1(html4BlockContent), name => {\n          add(name, '', flowContent);\n        });\n      }\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('dd div', '', flowContent);\n      add('address dt caption', '', type === 'html4' ? phrasingContent : flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', type === 'html4' ? phrasingContent : flowContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp bdi', '', phrasingContent);\n        add('summary', '', [\n          phrasingContent,\n          'h1 h2 h3 h4 h5 h6'\n        ].join(' '));\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n        addElement('svg', 'id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform'.split(' '), []);\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allow allowfullscreen loading');\n      }\n      if (type !== 'html4') {\n        each$e([\n          schema.video,\n          schema.audio\n        ], item => {\n          delete item.children.audio;\n          delete item.children.video;\n        });\n      }\n      each$e(split$1('a form meter progress dfn'), name => {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      return schema;\n    };\n\n    const prefixToOperation = prefix => prefix === '-' ? 'remove' : 'add';\n    const parseValidChildrenRules = value => {\n      const childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n      return bind$3(split$1(value, ','), rule => {\n        const matches = childRuleRegExp.exec(rule);\n        if (matches) {\n          const prefix = matches[1];\n          const operation = prefix ? prefixToOperation(prefix) : 'replace';\n          const name = matches[2];\n          const validChildren = split$1(matches[3], '|');\n          return [{\n              operation,\n              name,\n              validChildren\n            }];\n        } else {\n          return [];\n        }\n      });\n    };\n\n    const parseValidElementsAttrDataIntoElement = (attrData, targetElement) => {\n      const attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=~<]+)?(?:([=~<])(.*))?$/;\n      const hasPatternsRegExp = /[*?+]/;\n      const {attributes, attributesOrder} = targetElement;\n      return each$e(split$1(attrData, '|'), rule => {\n        const matches = attrRuleRegExp.exec(rule);\n        if (matches) {\n          const attr = {};\n          const attrType = matches[1];\n          const attrName = matches[2].replace(/[\\\\:]:/g, ':');\n          const attrPrefix = matches[3];\n          const value = matches[4];\n          if (attrType === '!') {\n            targetElement.attributesRequired = targetElement.attributesRequired || [];\n            targetElement.attributesRequired.push(attrName);\n            attr.required = true;\n          }\n          if (attrType === '-') {\n            delete attributes[attrName];\n            attributesOrder.splice(Tools.inArray(attributesOrder, attrName), 1);\n            return;\n          }\n          if (attrPrefix) {\n            if (attrPrefix === '=') {\n              targetElement.attributesDefault = targetElement.attributesDefault || [];\n              targetElement.attributesDefault.push({\n                name: attrName,\n                value\n              });\n              attr.defaultValue = value;\n            } else if (attrPrefix === '~') {\n              targetElement.attributesForced = targetElement.attributesForced || [];\n              targetElement.attributesForced.push({\n                name: attrName,\n                value\n              });\n              attr.forcedValue = value;\n            } else if (attrPrefix === '<') {\n              attr.validValues = Tools.makeMap(value, '?');\n            }\n          }\n          if (hasPatternsRegExp.test(attrName)) {\n            const attrPattern = attr;\n            targetElement.attributePatterns = targetElement.attributePatterns || [];\n            attrPattern.pattern = patternToRegExp(attrName);\n            targetElement.attributePatterns.push(attrPattern);\n          } else {\n            if (!attributes[attrName]) {\n              attributesOrder.push(attrName);\n            }\n            attributes[attrName] = attr;\n          }\n        }\n      });\n    };\n    const cloneAttributesInto = (from, to) => {\n      each$d(from.attributes, (value, key) => {\n        to.attributes[key] = value;\n      });\n      to.attributesOrder.push(...from.attributesOrder);\n    };\n    const parseValidElementsRules = (globalElement, validElements) => {\n      const elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/;\n      return bind$3(split$1(validElements, ','), rule => {\n        const matches = elementRuleRegExp.exec(rule);\n        if (matches) {\n          const prefix = matches[1];\n          const elementName = matches[2];\n          const outputName = matches[3];\n          const attrsPrefix = matches[4];\n          const attrData = matches[5];\n          const element = {\n            attributes: {},\n            attributesOrder: []\n          };\n          globalElement.each(el => cloneAttributesInto(el, element));\n          if (prefix === '#') {\n            element.paddEmpty = true;\n          } else if (prefix === '-') {\n            element.removeEmpty = true;\n          }\n          if (attrsPrefix === '!') {\n            element.removeEmptyAttrs = true;\n          }\n          if (attrData) {\n            parseValidElementsAttrDataIntoElement(attrData, element);\n          }\n          if (outputName) {\n            element.outputName = elementName;\n          }\n          if (elementName === '@') {\n            if (globalElement.isNone()) {\n              globalElement = Optional.some(element);\n            } else {\n              return [];\n            }\n          }\n          return [outputName ? {\n              name: elementName,\n              element,\n              aliasName: outputName\n            } : {\n              name: elementName,\n              element\n            }];\n        } else {\n          return [];\n        }\n      });\n    };\n\n    const mapCache = {};\n    const makeMap$2 = Tools.makeMap, each$b = Tools.each, extend$2 = Tools.extend, explode$2 = Tools.explode;\n    const createMap = (defaultValue, extendWith = {}) => {\n      const value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n      return extend$2(value, extendWith);\n    };\n    const getTextRootBlockElements = schema => createMap('td th li dt dd figcaption caption details summary', schema.getTextBlockElements());\n    const compileElementMap = (value, mode) => {\n      if (value) {\n        const styles = {};\n        if (isString(value)) {\n          value = { '*': value };\n        }\n        each$b(value, (value, key) => {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$2(value, /[, ]/);\n        });\n        return styles;\n      } else {\n        return undefined;\n      }\n    };\n    const Schema = (settings = {}) => {\n      var _a;\n      const elements = {};\n      const children = {};\n      let patternElements = [];\n      const customElementsMap = {};\n      const specialElements = {};\n      const createLookupTable = (option, defaultValue, extendWith) => {\n        const value = settings[option];\n        if (!value) {\n          let newValue = mapCache[option];\n          if (!newValue) {\n            newValue = createMap(defaultValue, extendWith);\n            mapCache[option] = newValue;\n          }\n          return newValue;\n        } else {\n          return makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n      };\n      const schemaType = (_a = settings.schema) !== null && _a !== void 0 ? _a : 'html5';\n      const schemaItems = makeSchema(schemaType);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      const validStyles = compileElementMap(settings.valid_styles);\n      const invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      const validClasses = compileElementMap(settings.valid_classes, 'map');\n      const whitespaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      const selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      const voidElementsMap = createLookupTable('void_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      const boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls allowfullscreen');\n      const nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      const nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre svg', voidElementsMap);\n      const moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', voidElementsMap);\n      const headings = 'h1 h2 h3 h4 h5 h6';\n      const textBlockElementsMap = createLookupTable('text_block_elements', headings + ' p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      const blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary html body multicol listing', textBlockElementsMap);\n      const textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font s strike u var cite ' + 'dfn code mark q sup sub samp');\n      const transparentElementsMap = createLookupTable('transparent_elements', 'a ins del canvas map');\n      const wrapBlockElementsMap = createLookupTable('wrap_block_elements', 'pre ' + headings);\n      each$b('script noscript iframe noframes noembed title style textarea xmp plaintext'.split(' '), name => {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      const addValidElements = validElements => {\n        const globalElement = Optional.from(elements['@']);\n        const hasPatternsRegExp = /[*?+]/;\n        each$e(parseValidElementsRules(globalElement, validElements !== null && validElements !== void 0 ? validElements : ''), ({name, element, aliasName}) => {\n          if (aliasName) {\n            elements[aliasName] = element;\n          }\n          if (hasPatternsRegExp.test(name)) {\n            const patternElement = element;\n            patternElement.pattern = patternToRegExp(name);\n            patternElements.push(patternElement);\n          } else {\n            elements[name] = element;\n          }\n        });\n      };\n      const setValidElements = validElements => {\n        patternElements = [];\n        each$e(keys(elements), name => {\n          delete elements[name];\n        });\n        addValidElements(validElements);\n      };\n      const addCustomElements = customElements => {\n        delete mapCache.text_block_elements;\n        delete mapCache.block_elements;\n        each$e(parseCustomElementsRules(customElements !== null && customElements !== void 0 ? customElements : ''), ({inline, name, cloneName}) => {\n          children[name] = children[cloneName];\n          customElementsMap[name] = cloneName;\n          nonEmptyElementsMap[name.toUpperCase()] = {};\n          nonEmptyElementsMap[name] = {};\n          if (!inline) {\n            blockElementsMap[name.toUpperCase()] = {};\n            blockElementsMap[name] = {};\n          }\n          if (!elements[name]) {\n            let customRule = elements[cloneName];\n            customRule = extend$2({}, customRule);\n            delete customRule.removeEmptyAttrs;\n            delete customRule.removeEmpty;\n            elements[name] = customRule;\n          }\n          each$d(children, (element, elmName) => {\n            if (element[cloneName]) {\n              children[elmName] = element = extend$2({}, children[elmName]);\n              element[name] = element[cloneName];\n            }\n          });\n        });\n      };\n      const addValidChildren = validChildren => {\n        each$e(parseValidChildrenRules(validChildren !== null && validChildren !== void 0 ? validChildren : ''), ({operation, name, validChildren}) => {\n          const parent = operation === 'replace' ? { '#comment': {} } : children[name];\n          each$e(validChildren, child => {\n            if (operation === 'remove') {\n              delete parent[child];\n            } else {\n              parent[child] = {};\n            }\n          });\n          children[name] = parent;\n        });\n      };\n      const getElementRule = name => {\n        const element = elements[name];\n        if (element) {\n          return element;\n        }\n        let i = patternElements.length;\n        while (i--) {\n          const patternElement = patternElements[i];\n          if (patternElement.pattern.test(name)) {\n            return patternElement;\n          }\n        }\n        return undefined;\n      };\n      if (!settings.valid_elements) {\n        each$b(schemaItems, (element, name) => {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        each$b(split$1('strong/b em/i'), item => {\n          const items = split$1(item, '/');\n          elements[items[1]].outputName = items[0];\n        });\n        each$b(textInlineElementsMap, (_val, name) => {\n          if (elements[name]) {\n            if (settings.padd_empty_block_inline_children) {\n              elements[name].paddInEmptyBlock = true;\n            }\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$b(split$1('ol ul blockquote a table tbody'), name => {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$b(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary'), name => {\n          if (elements[name]) {\n            elements[name].paddEmpty = true;\n          }\n        });\n        each$b(split$1('span'), name => {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n        each$b(schemaItems, (element, name) => {\n          children[name] = element.children;\n        });\n      }\n      delete elements.svg;\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$b({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, (parents, item) => {\n        if (elements[item]) {\n          elements[item].parentsRequired = split$1(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$b(explode$2(settings.invalid_elements), item => {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      const getValidStyles = constant(validStyles);\n      const getInvalidStyles = constant(invalidStyles);\n      const getValidClasses = constant(validClasses);\n      const getBoolAttrs = constant(boolAttrMap);\n      const getBlockElements = constant(blockElementsMap);\n      const getTextBlockElements = constant(textBlockElementsMap);\n      const getTextInlineElements = constant(textInlineElementsMap);\n      const getVoidElements = constant(Object.seal(voidElementsMap));\n      const getSelfClosingElements = constant(selfClosingElementsMap);\n      const getNonEmptyElements = constant(nonEmptyElementsMap);\n      const getMoveCaretBeforeOnEnterElements = constant(moveCaretBeforeOnEnterElementsMap);\n      const getWhitespaceElements = constant(whitespaceElementsMap);\n      const getTransparentElements = constant(transparentElementsMap);\n      const getWrapBlockElements = constant(wrapBlockElementsMap);\n      const getSpecialElements = constant(Object.seal(specialElements));\n      const isValidChild = (name, child) => {\n        const parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      const isValid = (name, attr) => {\n        const rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            const attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              let i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(attr)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      const isBlock = name => has$2(getBlockElements(), name);\n      const isInline = name => !startsWith(name, '#') && isValid(name) && !isBlock(name);\n      const isWrapper = name => has$2(getWrapBlockElements(), name) || isInline(name);\n      const getCustomElements = constant(customElementsMap);\n      return {\n        type: schemaType,\n        children,\n        elements,\n        getValidStyles,\n        getValidClasses,\n        getBlockElements,\n        getInvalidStyles,\n        getVoidElements,\n        getTextBlockElements,\n        getTextInlineElements,\n        getBoolAttrs,\n        getElementRule,\n        getSelfClosingElements,\n        getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements,\n        getWhitespaceElements,\n        getTransparentElements,\n        getSpecialElements,\n        isValidChild,\n        isValid,\n        isBlock,\n        isInline,\n        isWrapper,\n        getCustomElements,\n        addValidElements,\n        setValidElements,\n        addCustomElements,\n        addValidChildren\n      };\n    };\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const Styles = (settings = {}, schema) => {\n      const urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      const styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      const trimRightRegExp = /\\s+$/;\n      const encodingLookup = {};\n      let validStyles;\n      let invalidStyles;\n      const invisibleChar = zeroWidth;\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      const encodingItems = (`\\\\\" \\\\' \\\\; \\\\: ; : ` + invisibleChar).split(' ');\n      for (let i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      const self = {\n        parse: css => {\n          const styles = {};\n          let isEncoded = false;\n          const urlConverter = settings.url_converter;\n          const urlConverterScope = settings.url_converter_scope || self;\n          const compress = (prefix, suffix, noJoin) => {\n            const top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            const right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            const bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            const left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            const box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            let i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          const canCompress = key => {\n            const value = styles[key];\n            if (!value) {\n              return;\n            }\n            const values = value.indexOf(',') > -1 ? [value] : value.split(' ');\n            let i = values.length;\n            while (i--) {\n              if (values[i] !== values[0]) {\n                return false;\n              }\n            }\n            styles[key] = values[0];\n            return true;\n          };\n          const compress2 = (target, a, b, c) => {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          const encode = str => {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          const decode = (str, keepSlashes) => {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, str => {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          const decodeSingleHexSequence = escSeq => {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          const decodeHexSequences = value => {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          const processUrl = (match, url, url2, url3, str, str2) => {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return `'` + str.replace(/\\'/g, `\\\\'`) + `'`;\n            }\n            url = decode(url || url2 || url3 || '');\n            if (!settings.allow_script_urls) {\n              const scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return `url('` + url.replace(/\\'/g, `\\\\'`) + `')`;\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, str => {\n              return str.replace(/[;:]/g, encode);\n            });\n            let matches;\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              let name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              let value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                if (isString(settings.force_hex_color) && settings.force_hex_color !== 'off') {\n                  fromString(value).each(rgba => {\n                    if (settings.force_hex_color === 'always' || rgba.alpha === 1) {\n                      value = rgbaToHexString(toString(rgba));\n                    }\n                  });\n                }\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: (styles, elementName) => {\n          let css = '';\n          const serializeStyles = (elemName, validStyleList) => {\n            const styleList = validStyleList[elemName];\n            if (styleList) {\n              for (let i = 0, l = styleList.length; i < l; i++) {\n                const name = styleList[i];\n                const value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          const isValid = (name, elemName) => {\n            if (!invalidStyles || !elemName) {\n              return true;\n            }\n            let styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elemName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*', validStyles);\n            serializeStyles(elementName, validStyles);\n          } else {\n            each$d(styles, (value, name) => {\n              if (value && isValid(name, elementName)) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n      return self;\n    };\n\n    const deprecated = {\n      keyLocation: true,\n      layerX: true,\n      layerY: true,\n      returnValue: true,\n      webkitMovementX: true,\n      webkitMovementY: true,\n      keyIdentifier: true,\n      mozPressure: true\n    };\n    const isNativeEvent = event => event instanceof Event || isFunction(event.initEvent);\n    const hasIsDefaultPrevented = event => event.isDefaultPrevented === always || event.isDefaultPrevented === never;\n    const needsNormalizing = event => isNullable(event.preventDefault) || isNativeEvent(event);\n    const clone$3 = (originalEvent, data) => {\n      const event = data !== null && data !== void 0 ? data : {};\n      for (const name in originalEvent) {\n        if (!has$2(deprecated, name)) {\n          event[name] = originalEvent[name];\n        }\n      }\n      if (isNonNullable(originalEvent.composedPath)) {\n        event.composedPath = () => originalEvent.composedPath();\n      }\n      if (isNonNullable(originalEvent.getModifierState)) {\n        event.getModifierState = keyArg => originalEvent.getModifierState(keyArg);\n      }\n      if (isNonNullable(originalEvent.getTargetRanges)) {\n        event.getTargetRanges = () => originalEvent.getTargetRanges();\n      }\n      return event;\n    };\n    const normalize$3 = (type, originalEvent, fallbackTarget, data) => {\n      var _a;\n      const event = clone$3(originalEvent, data);\n      event.type = type;\n      if (isNullable(event.target)) {\n        event.target = (_a = event.srcElement) !== null && _a !== void 0 ? _a : fallbackTarget;\n      }\n      if (needsNormalizing(originalEvent)) {\n        event.preventDefault = () => {\n          event.defaultPrevented = true;\n          event.isDefaultPrevented = always;\n          if (isFunction(originalEvent.preventDefault)) {\n            originalEvent.preventDefault();\n          }\n        };\n        event.stopPropagation = () => {\n          event.cancelBubble = true;\n          event.isPropagationStopped = always;\n          if (isFunction(originalEvent.stopPropagation)) {\n            originalEvent.stopPropagation();\n          }\n        };\n        event.stopImmediatePropagation = () => {\n          event.isImmediatePropagationStopped = always;\n          event.stopPropagation();\n        };\n        if (!hasIsDefaultPrevented(event)) {\n          event.isDefaultPrevented = event.defaultPrevented === true ? always : never;\n          event.isPropagationStopped = event.cancelBubble === true ? always : never;\n          event.isImmediatePropagationStopped = never;\n        }\n      }\n      return event;\n    };\n\n    const eventExpandoPrefix = 'mce-data-';\n    const mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    const addEvent = (target, name, callback, capture) => {\n      target.addEventListener(name, callback, capture || false);\n    };\n    const removeEvent = (target, name, callback, capture) => {\n      target.removeEventListener(name, callback, capture || false);\n    };\n    const isMouseEvent = event => isNonNullable(event) && mouseEventRe.test(event.type);\n    const fix = (originalEvent, data) => {\n      const event = normalize$3(originalEvent.type, originalEvent, document, data);\n      if (isMouseEvent(originalEvent) && isUndefined(originalEvent.pageX) && !isUndefined(originalEvent.clientX)) {\n        const eventDoc = event.target.ownerDocument || document;\n        const doc = eventDoc.documentElement;\n        const body = eventDoc.body;\n        const mouseEvent = event;\n        mouseEvent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        mouseEvent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      return event;\n    };\n    const bindOnReady = (win, callback, eventUtils) => {\n      const doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      const isDocReady = () => {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      const readyHandler = () => {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    class EventUtils {\n      constructor() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      bind(target, names, callback, scope) {\n        const self = this;\n        let callbackList;\n        const win = window;\n        const defaultNativeHandler = evt => {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || isText$a(target) || isComment(target)) {\n          return callback;\n        }\n        let id;\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        const namesList = names.split(' ');\n        let i = namesList.length;\n        while (i--) {\n          let name = namesList[i];\n          let nativeHandler = defaultNativeHandler;\n          let capture = false;\n          let fakeName = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = evt => {\n              const event = fix(evt || win.event);\n              event.type = event.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(event, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      }\n      unbind(target, names, callback) {\n        if (!target || isText$a(target) || isComment(target)) {\n          return this;\n        }\n        const id = target[this.expando];\n        if (id) {\n          let eventMap = this.events[id];\n          if (names) {\n            const namesList = names.split(' ');\n            let i = namesList.length;\n            while (i--) {\n              const name = namesList[i];\n              const callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  let ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      const nativeHandler = callbackList.nativeHandler;\n                      const fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      const newCallbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      newCallbackList.nativeHandler = nativeHandler;\n                      newCallbackList.fakeName = fakeName;\n                      newCallbackList.capture = capture;\n                      eventMap[name] = newCallbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$d(eventMap, (callbackList, name) => {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (const name in eventMap) {\n            if (has$2(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      }\n      fire(target, name, args) {\n        return this.dispatch(target, name, args);\n      }\n      dispatch(target, name, args) {\n        if (!target || isText$a(target) || isComment(target)) {\n          return this;\n        }\n        const event = fix({\n          type: name,\n          target\n        }, args);\n        do {\n          const id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      }\n      clean(target) {\n        if (!target || isText$a(target) || isComment(target)) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          const children = target.getElementsByTagName('*');\n          let i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      }\n      destroy() {\n        this.events = {};\n      }\n      cancel(e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      }\n      executeHandlers(evt, id) {\n        const container = this.events[id];\n        const callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (let i = 0, l = callbackList.length; i < l; i++) {\n            const callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      }\n    }\n    EventUtils.Event = new EventUtils();\n\n    const each$a = Tools.each;\n    const grep = Tools.grep;\n    const internalStyleName = 'data-mce-style';\n    const numericalCssMap = Tools.makeMap('fill-opacity font-weight line-height opacity orphans widows z-index zoom', ' ');\n    const legacySetAttribute = (elm, name, value) => {\n      if (isNullable(value) || value === '') {\n        remove$a(elm, name);\n      } else {\n        set$3(elm, name, value);\n      }\n    };\n    const camelCaseToHyphens = name => name.replace(/[A-Z]/g, v => '-' + v.toLowerCase());\n    const findNodeIndex = (node, normalized) => {\n      let idx = 0;\n      if (node) {\n        for (let lastNodeType = node.nodeType, tempNode = node.previousSibling; tempNode; tempNode = tempNode.previousSibling) {\n          const nodeType = tempNode.nodeType;\n          if (normalized && isText$a(tempNode)) {\n            if (nodeType === lastNodeType || !tempNode.data.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    const updateInternalStyleAttr = (styles, elm) => {\n      const rawValue = get$9(elm, 'style');\n      const value = styles.serialize(styles.parse(rawValue), name(elm));\n      legacySetAttribute(elm, internalStyleName, value);\n    };\n    const convertStyleToString = (cssValue, cssName) => {\n      if (isNumber(cssValue)) {\n        return has$2(numericalCssMap, cssName) ? cssValue + '' : cssValue + 'px';\n      } else {\n        return cssValue;\n      }\n    };\n    const applyStyle$1 = ($elm, cssName, cssValue) => {\n      const normalizedName = camelCaseToHyphens(cssName);\n      if (isNullable(cssValue) || cssValue === '') {\n        remove$6($elm, normalizedName);\n      } else {\n        set$2($elm, normalizedName, convertStyleToString(cssValue, normalizedName));\n      }\n    };\n    const setupAttrHooks = (styles, settings, getContext) => {\n      const keepValues = settings.keep_values;\n      const keepUrlHook = {\n        set: (elm, value, name) => {\n          const sugarElm = SugarElement.fromDom(elm);\n          if (isFunction(settings.url_converter) && isNonNullable(value)) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), String(value), name, elm);\n          }\n          const internalName = 'data-mce-' + name;\n          legacySetAttribute(sugarElm, internalName, value);\n          legacySetAttribute(sugarElm, name, value);\n        },\n        get: (elm, name) => {\n          const sugarElm = SugarElement.fromDom(elm);\n          return get$9(sugarElm, 'data-mce-' + name) || get$9(sugarElm, name);\n        }\n      };\n      const attrHooks = {\n        style: {\n          set: (elm, value) => {\n            const sugarElm = SugarElement.fromDom(elm);\n            if (keepValues) {\n              legacySetAttribute(sugarElm, internalStyleName, value);\n            }\n            remove$a(sugarElm, 'style');\n            if (isString(value)) {\n              setAll(sugarElm, styles.parse(value));\n            }\n          },\n          get: elm => {\n            const sugarElm = SugarElement.fromDom(elm);\n            const value = get$9(sugarElm, internalStyleName) || get$9(sugarElm, 'style');\n            return styles.serialize(styles.parse(value), name(sugarElm));\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    const DOMUtils = (doc, settings = {}) => {\n      const addedStyles = {};\n      const win = window;\n      const files = {};\n      let counter = 0;\n      const stdMode = true;\n      const boxModel = true;\n      const styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      const boundEvents = [];\n      const schema = settings.schema ? settings.schema : Schema({});\n      const styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope,\n        force_hex_color: settings.force_hex_color\n      }, settings.schema);\n      const events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      const blockElementsMap = schema.getBlockElements();\n      const isBlock = node => {\n        if (isString(node)) {\n          return has$2(blockElementsMap, node);\n        } else {\n          return isElement$6(node) && (has$2(blockElementsMap, node.nodeName) || isTransparentBlock(schema, node));\n        }\n      };\n      const get = elm => elm && doc && isString(elm) ? doc.getElementById(elm) : elm;\n      const _get = elm => {\n        const value = get(elm);\n        return isNonNullable(value) ? SugarElement.fromDom(value) : null;\n      };\n      const getAttrib = (elm, name, defaultVal = '') => {\n        let value;\n        const $elm = _get(elm);\n        if (isNonNullable($elm) && isElement$7($elm)) {\n          const hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm.dom, name);\n          } else {\n            value = get$9($elm, name);\n          }\n        }\n        return isNonNullable(value) ? value : defaultVal;\n      };\n      const getAttribs = elm => {\n        const node = get(elm);\n        return isNullable(node) ? [] : node.attributes;\n      };\n      const setAttrib = (elm, name, value) => {\n        run(elm, e => {\n          if (isElement$6(e)) {\n            const $elm = SugarElement.fromDom(e);\n            const val = value === '' ? null : value;\n            const originalValue = get$9($elm, name);\n            const hook = attrHooks[name];\n            if (hook && hook.set) {\n              hook.set($elm.dom, val, name);\n            } else {\n              legacySetAttribute($elm, name, val);\n            }\n            if (originalValue !== val && settings.onSetAttrib) {\n              settings.onSetAttrib({\n                attrElm: $elm.dom,\n                attrName: name,\n                attrValue: val\n              });\n            }\n          }\n        });\n      };\n      const clone = (node, deep) => {\n        return node.cloneNode(deep);\n      };\n      const getRoot = () => settings.root_element || doc.body;\n      const getViewPort = argWin => {\n        const vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      const getPos$1 = (elm, rootElm) => getPos(doc.body, get(elm), rootElm);\n      const setStyle = (elm, name, value) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          applyStyle$1($elm, name, value);\n          if (settings.update_styles) {\n            updateInternalStyleAttr(styles, $elm);\n          }\n        });\n      };\n      const setStyles = (elm, stylesArg) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          each$d(stylesArg, (v, n) => {\n            applyStyle$1($elm, n, v);\n          });\n          if (settings.update_styles) {\n            updateInternalStyleAttr(styles, $elm);\n          }\n        });\n      };\n      const getStyle = (elm, name, computed) => {\n        const $elm = get(elm);\n        if (isNullable($elm) || !isHTMLElement($elm) && !isSVGElement($elm)) {\n          return undefined;\n        }\n        if (computed) {\n          return get$7(SugarElement.fromDom($elm), camelCaseToHyphens(name));\n        } else {\n          name = name.replace(/-(\\D)/g, (a, b) => b.toUpperCase());\n          if (name === 'float') {\n            name = 'cssFloat';\n          }\n          return $elm.style ? $elm.style[name] : undefined;\n        }\n      };\n      const getSize = elm => {\n        const $elm = get(elm);\n        if (!$elm) {\n          return {\n            w: 0,\n            h: 0\n          };\n        }\n        let w = getStyle($elm, 'width');\n        let h = getStyle($elm, 'height');\n        if (!w || w.indexOf('px') === -1) {\n          w = '0';\n        }\n        if (!h || h.indexOf('px') === -1) {\n          h = '0';\n        }\n        return {\n          w: parseInt(w, 10) || $elm.offsetWidth || $elm.clientWidth,\n          h: parseInt(h, 10) || $elm.offsetHeight || $elm.clientHeight\n        };\n      };\n      const getRect = elm => {\n        const $elm = get(elm);\n        const pos = getPos$1($elm);\n        const size = getSize($elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      const is = (elm, selector) => {\n        if (!elm) {\n          return false;\n        }\n        const elms = isArray$1(elm) ? elm : [elm];\n        return exists(elms, e => {\n          return is$1(SugarElement.fromDom(e), selector);\n        });\n      };\n      const getParents = (elm, selector, root, collect) => {\n        const result = [];\n        let node = get(elm);\n        collect = collect === undefined;\n        const resolvedRoot = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (isString(selector)) {\n          if (selector === '*') {\n            selector = isElement$6;\n          } else {\n            const selectorVal = selector;\n            selector = node => is(node, selectorVal);\n          }\n        }\n        while (node) {\n          if (node === resolvedRoot || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment(node)) {\n            break;\n          }\n          if (!selector || selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      const getParent = (node, selector, root) => {\n        const parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      const _findSib = (node, selector, name) => {\n        let func = selector;\n        if (node) {\n          if (isString(selector)) {\n            func = node => {\n              return is(node, selector);\n            };\n          }\n          for (let tempNode = node[name]; tempNode; tempNode = tempNode[name]) {\n            if (isFunction(func) && func(tempNode)) {\n              return tempNode;\n            }\n          }\n        }\n        return null;\n      };\n      const getNext = (node, selector) => _findSib(node, selector, 'nextSibling');\n      const getPrev = (node, selector) => _findSib(node, selector, 'previousSibling');\n      const isParentNode = node => isFunction(node.querySelectorAll);\n      const select = (selector, scope) => {\n        var _a, _b;\n        const elm = (_b = (_a = get(scope)) !== null && _a !== void 0 ? _a : settings.root_element) !== null && _b !== void 0 ? _b : doc;\n        return isParentNode(elm) ? from(elm.querySelectorAll(selector)) : [];\n      };\n      const run = function (elm, func, scope) {\n        const context = scope !== null && scope !== void 0 ? scope : this;\n        if (isArray$1(elm)) {\n          const result = [];\n          each$a(elm, (e, i) => {\n            const node = get(e);\n            if (node) {\n              result.push(func.call(context, node, i));\n            }\n          });\n          return result;\n        } else {\n          const node = get(elm);\n          return !node ? false : func.call(context, node);\n        }\n      };\n      const setAttribs = (elm, attrs) => {\n        run(elm, $elm => {\n          each$d(attrs, (value, name) => {\n            setAttrib($elm, name, value);\n          });\n        });\n      };\n      const setHTML = (elm, html) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          set$1($elm, html);\n        });\n      };\n      const add = (parentElm, name, attrs, html, create) => run(parentElm, parentElm => {\n        const newElm = isString(name) ? doc.createElement(name) : name;\n        if (isNonNullable(attrs)) {\n          setAttribs(newElm, attrs);\n        }\n        if (html) {\n          if (!isString(html) && html.nodeType) {\n            newElm.appendChild(html);\n          } else if (isString(html)) {\n            setHTML(newElm, html);\n          }\n        }\n        return !create ? parentElm.appendChild(newElm) : newElm;\n      });\n      const create = (name, attrs, html) => add(doc.createElement(name), name, attrs, html, true);\n      const decode = Entities.decode;\n      const encode = Entities.encodeAllRaw;\n      const createHTML = (name, attrs, html = '') => {\n        let outHtml = '<' + name;\n        for (const key in attrs) {\n          if (hasNonNullableKey(attrs, key)) {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (isEmpty$3(html) && has$2(schema.getVoidElements(), name)) {\n          return outHtml + ' />';\n        } else {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n      };\n      const createFragment = html => {\n        const container = doc.createElement('div');\n        const frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        let node;\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      const remove = (node, keepChildren) => {\n        return run(node, n => {\n          const $node = SugarElement.fromDom(n);\n          if (keepChildren) {\n            each$e(children$1($node), child => {\n              if (isText$b(child) && child.dom.length === 0) {\n                remove$5(child);\n              } else {\n                before$3($node, child);\n              }\n            });\n          }\n          remove$5($node);\n          return $node.dom;\n        });\n      };\n      const removeAllAttribs = e => run(e, e => {\n        const attrs = e.attributes;\n        for (let i = attrs.length - 1; i >= 0; i--) {\n          e.removeAttributeNode(attrs.item(i));\n        }\n      });\n      const parseStyle = cssText => styles.parse(cssText);\n      const serializeStyle = (stylesArg, name) => styles.serialize(stylesArg, name);\n      const addStyle = cssText => {\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        let styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          const head = doc.head;\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      const loadCSS = urls => {\n        if (!urls) {\n          urls = '';\n        }\n        each$e(urls.split(','), url => {\n          files[url] = true;\n          styleSheetLoader.load(url).catch(noop);\n        });\n      };\n      const toggleClass = (elm, cls, state) => {\n        run(elm, e => {\n          if (isElement$6(e)) {\n            const $elm = SugarElement.fromDom(e);\n            const classes = cls.split(' ');\n            each$e(classes, c => {\n              if (isNonNullable(state)) {\n                const fn = state ? add$2 : remove$7;\n                fn($elm, c);\n              } else {\n                toggle$1($elm, c);\n              }\n            });\n          }\n        });\n      };\n      const addClass = (elm, cls) => {\n        toggleClass(elm, cls, true);\n      };\n      const removeClass = (elm, cls) => {\n        toggleClass(elm, cls, false);\n      };\n      const hasClass = (elm, cls) => {\n        const $elm = _get(elm);\n        const classes = cls.split(' ');\n        return isNonNullable($elm) && forall(classes, c => has($elm, c));\n      };\n      const show = elm => {\n        run(elm, e => remove$6(SugarElement.fromDom(e), 'display'));\n      };\n      const hide = elm => {\n        run(elm, e => set$2(SugarElement.fromDom(e), 'display', 'none'));\n      };\n      const isHidden = elm => {\n        const $elm = _get(elm);\n        return isNonNullable($elm) && is$2(getRaw($elm, 'display'), 'none');\n      };\n      const uniqueId = prefix => (!prefix ? 'mce_' : prefix) + counter++;\n      const getOuterHTML = elm => {\n        const $elm = _get(elm);\n        if (isNonNullable($elm)) {\n          return isElement$6($elm.dom) ? $elm.dom.outerHTML : getOuter($elm);\n        } else {\n          return '';\n        }\n      };\n      const setOuterHTML = (elm, html) => {\n        run(elm, $elm => {\n          if (isElement$6($elm)) {\n            $elm.outerHTML = html;\n          }\n        });\n      };\n      const insertAfter = (node, reference) => {\n        const referenceNode = get(reference);\n        return run(node, node => {\n          const parent = referenceNode === null || referenceNode === void 0 ? void 0 : referenceNode.parentNode;\n          const nextSibling = referenceNode === null || referenceNode === void 0 ? void 0 : referenceNode.nextSibling;\n          if (parent) {\n            if (nextSibling) {\n              parent.insertBefore(node, nextSibling);\n            } else {\n              parent.appendChild(node);\n            }\n          }\n          return node;\n        });\n      };\n      const replace = (newElm, oldElm, keepChildren) => run(oldElm, elm => {\n        var _a;\n        const replacee = isArray$1(oldElm) ? newElm.cloneNode(true) : newElm;\n        if (keepChildren) {\n          each$a(grep(elm.childNodes), node => {\n            replacee.appendChild(node);\n          });\n        }\n        (_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.replaceChild(replacee, elm);\n        return elm;\n      });\n      const rename = (elm, name) => {\n        if (elm.nodeName !== name.toUpperCase()) {\n          const newElm = create(name);\n          each$a(getAttribs(elm), attrNode => {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n          return newElm;\n        } else {\n          return elm;\n        }\n      };\n      const findCommonAncestor = (a, b) => {\n        let ps = a;\n        while (ps) {\n          let pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        } else {\n          return ps;\n        }\n      };\n      const isNonEmptyElement = node => {\n        if (isElement$6(node)) {\n          const isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      const isEmpty = (node, elements, options) => {\n        let brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        const firstChild = node.firstChild;\n        if (firstChild) {\n          const walker = new DomTreeWalker(firstChild, node);\n          const whitespaceElements = schema ? schema.getWhitespaceElements() : {};\n          const nonEmptyElements = elements || (schema ? schema.getNonEmptyElements() : null);\n          let tempNode = firstChild;\n          do {\n            if (isElement$6(tempNode)) {\n              const bogusVal = tempNode.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                tempNode = walker.next(bogusVal === 'all');\n                continue;\n              }\n              const name = tempNode.nodeName.toLowerCase();\n              if (nonEmptyElements && nonEmptyElements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  tempNode = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(tempNode)) {\n                return false;\n              }\n            }\n            if (isComment(tempNode)) {\n              return false;\n            }\n            if (isText$a(tempNode) && !isWhitespaceText(tempNode.data) && (!(options === null || options === void 0 ? void 0 : options.includeZwsp) || !isZwsp(tempNode.data))) {\n              return false;\n            }\n            if (isText$a(tempNode) && tempNode.parentNode && whitespaceElements[tempNode.parentNode.nodeName] && isWhitespaceText(tempNode.data)) {\n              return false;\n            }\n            tempNode = walker.next();\n          } while (tempNode);\n        }\n        return brCount <= 1;\n      };\n      const createRng = () => doc.createRange();\n      const split = (parentElm, splitElm, replacementElm) => {\n        let range = createRng();\n        let beforeFragment;\n        let afterFragment;\n        if (parentElm && splitElm && parentElm.parentNode && splitElm.parentNode) {\n          const parentNode = parentElm.parentNode;\n          range.setStart(parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode.insertBefore(trimNode(self, beforeFragment, schema), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment, schema), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        } else {\n          return undefined;\n        }\n      };\n      const bind = (target, name, func, scope) => {\n        if (isArray$1(target)) {\n          let i = target.length;\n          const rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        } else {\n          if (settings.collect && (target === doc || target === win)) {\n            boundEvents.push([\n              target,\n              name,\n              func,\n              scope\n            ]);\n          }\n          return events.bind(target, name, func, scope || self);\n        }\n      };\n      const unbind = (target, name, func) => {\n        if (isArray$1(target)) {\n          let i = target.length;\n          const rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            let i = boundEvents.length;\n            while (i--) {\n              const [boundTarget, boundName, boundFunc] = boundEvents[i];\n              if (target === boundTarget && (!name || name === boundName) && (!func || func === boundFunc)) {\n                events.unbind(boundTarget, boundName, boundFunc);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      const dispatch = (target, name, evt) => events.dispatch(target, name, evt);\n      const fire = (target, name, evt) => events.dispatch(target, name, evt);\n      const getContentEditable = node => {\n        if (node && isHTMLElement(node)) {\n          const contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      const getContentEditableParent = node => {\n        const root = getRoot();\n        let state = null;\n        for (let tempNode = node; tempNode && tempNode !== root; tempNode = tempNode.parentNode) {\n          state = getContentEditable(tempNode);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      const isEditable = node => {\n        if (isNonNullable(node)) {\n          const scope = isElement$6(node) ? node : node.parentElement;\n          return isNonNullable(scope) && isHTMLElement(scope) && isEditable$2(SugarElement.fromDom(scope));\n        } else {\n          return false;\n        }\n      };\n      const destroy = () => {\n        if (boundEvents.length > 0) {\n          let i = boundEvents.length;\n          while (i--) {\n            const [boundTarget, boundName, boundFunc] = boundEvents[i];\n            events.unbind(boundTarget, boundName, boundFunc);\n          }\n        }\n        each$d(files, (_, url) => {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n      };\n      const isChildOf = (node, parent) => {\n        return node === parent || parent.contains(node);\n      };\n      const dumpRng = r => 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      const self = {\n        doc,\n        settings,\n        win,\n        files,\n        stdMode,\n        boxModel,\n        styleSheetLoader,\n        boundEvents,\n        styles,\n        schema,\n        events,\n        isBlock: isBlock,\n        root: null,\n        clone,\n        getRoot,\n        getViewPort,\n        getRect,\n        getSize,\n        getParent,\n        getParents: getParents,\n        get,\n        getNext,\n        getPrev,\n        select,\n        is,\n        add,\n        create,\n        createHTML,\n        createFragment,\n        remove,\n        setStyle,\n        getStyle: getStyle,\n        setStyles,\n        removeAllAttribs,\n        setAttrib,\n        setAttribs,\n        getAttrib,\n        getPos: getPos$1,\n        parseStyle,\n        serializeStyle,\n        addStyle,\n        loadCSS,\n        addClass,\n        removeClass,\n        hasClass,\n        toggleClass,\n        show,\n        hide,\n        isHidden,\n        uniqueId,\n        setHTML,\n        getOuterHTML,\n        setOuterHTML,\n        decode,\n        encode,\n        insertAfter,\n        replace,\n        rename,\n        findCommonAncestor,\n        run,\n        getAttribs,\n        isEmpty,\n        createRng,\n        nodeIndex: findNodeIndex,\n        split,\n        bind: bind,\n        unbind: unbind,\n        fire,\n        dispatch,\n        getContentEditable,\n        getContentEditableParent,\n        isEditable,\n        destroy,\n        isChildOf,\n        dumpRng\n      };\n      const attrHooks = setupAttrHooks(styles, settings, constant(self));\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    const DOM$b = DOMUtils.DOM;\n    const QUEUED = 0;\n    const LOADING = 1;\n    const LOADED = 2;\n    const FAILED = 3;\n    class ScriptLoader {\n      constructor(settings = {}) {\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = false;\n        this.settings = settings;\n      }\n      _setReferrerPolicy(referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      }\n      loadScript(url) {\n        return new Promise((resolve, reject) => {\n          const dom = DOM$b;\n          let elm;\n          const cleanup = () => {\n            dom.remove(id);\n            if (elm) {\n              elm.onerror = elm.onload = elm = null;\n            }\n          };\n          const done = () => {\n            cleanup();\n            resolve();\n          };\n          const error = () => {\n            cleanup();\n            reject('Failed to load script: ' + url);\n          };\n          const id = dom.uniqueId();\n          elm = document.createElement('script');\n          elm.id = id;\n          elm.type = 'text/javascript';\n          elm.src = Tools._addCacheSuffix(url);\n          if (this.settings.referrerPolicy) {\n            dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n          }\n          elm.onload = done;\n          elm.onerror = error;\n          (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n        });\n      }\n      isDone(url) {\n        return this.states[url] === LOADED;\n      }\n      markDone(url) {\n        this.states[url] = LOADED;\n      }\n      add(url) {\n        const self = this;\n        self.queue.push(url);\n        const state = self.states[url];\n        if (state === undefined) {\n          self.states[url] = QUEUED;\n        }\n        return new Promise((resolve, reject) => {\n          if (!self.scriptLoadedCallbacks[url]) {\n            self.scriptLoadedCallbacks[url] = [];\n          }\n          self.scriptLoadedCallbacks[url].push({\n            resolve,\n            reject\n          });\n        });\n      }\n      load(url) {\n        return this.add(url);\n      }\n      remove(url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      }\n      loadQueue() {\n        const queue = this.queue;\n        this.queue = [];\n        return this.loadScripts(queue);\n      }\n      loadScripts(scripts) {\n        const self = this;\n        const execCallbacks = (name, url) => {\n          get$a(self.scriptLoadedCallbacks, url).each(callbacks => {\n            each$e(callbacks, callback => callback[name](url));\n          });\n          delete self.scriptLoadedCallbacks[url];\n        };\n        const processResults = results => {\n          const failures = filter$5(results, result => result.status === 'rejected');\n          if (failures.length > 0) {\n            return Promise.reject(bind$3(failures, ({reason}) => isArray$1(reason) ? reason : [reason]));\n          } else {\n            return Promise.resolve();\n          }\n        };\n        const load = urls => Promise.allSettled(map$3(urls, url => {\n          if (self.states[url] === LOADED) {\n            execCallbacks('resolve', url);\n            return Promise.resolve();\n          } else if (self.states[url] === FAILED) {\n            execCallbacks('reject', url);\n            return Promise.reject(url);\n          } else {\n            self.states[url] = LOADING;\n            return self.loadScript(url).then(() => {\n              self.states[url] = LOADED;\n              execCallbacks('resolve', url);\n              const queue = self.queue;\n              if (queue.length > 0) {\n                self.queue = [];\n                return load(queue).then(processResults);\n              } else {\n                return Promise.resolve();\n              }\n            }, () => {\n              self.states[url] = FAILED;\n              execCallbacks('reject', url);\n              return Promise.reject(url);\n            });\n          }\n        }));\n        const processQueue = urls => {\n          self.loading = true;\n          return load(urls).then(results => {\n            self.loading = false;\n            const nextQueuedItem = self.queueLoadedCallbacks.shift();\n            Optional.from(nextQueuedItem).each(call);\n            return processResults(results);\n          });\n        };\n        const uniqueScripts = stringArray(scripts);\n        if (self.loading) {\n          return new Promise((resolve, reject) => {\n            self.queueLoadedCallbacks.push(() => {\n              processQueue(uniqueScripts).then(resolve, reject);\n            });\n          });\n        } else {\n          return processQueue(uniqueScripts);\n        }\n      }\n    }\n    ScriptLoader.ScriptLoader = new ScriptLoader();\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const isDuplicated = (items, item) => {\n      const firstIndex = items.indexOf(item);\n      return firstIndex !== -1 && items.indexOf(item, firstIndex + 1) > firstIndex;\n    };\n    const isRaw = str => isObject(str) && has$2(str, 'raw');\n    const isTokenised = str => isArray$1(str) && str.length > 1;\n    const data = {};\n    const currentCode = Cell('en');\n    const getLanguageData = () => get$a(data, currentCode.get());\n    const getData$1 = () => map$2(data, value => ({ ...value }));\n    const setCode = newCode => {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    const getCode = () => currentCode.get();\n    const add$1 = (code, items) => {\n      let langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      const lcNames = map$3(keys(items), name => name.toLowerCase());\n      each$d(items, (translation, name) => {\n        const lcName = name.toLowerCase();\n        if (lcName !== name && isDuplicated(lcNames, lcName)) {\n          if (!has$2(items, lcName)) {\n            langData[lcName] = translation;\n          }\n          langData[name] = translation;\n        } else {\n          langData[lcName] = translation;\n        }\n      });\n    };\n    const translate = text => {\n      const langData = getLanguageData().getOr({});\n      const toString = obj => {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      const isEmpty = text => text === '' || text === null || text === undefined;\n      const getLangData = text => {\n        const textStr = toString(text);\n        return has$2(langData, textStr) ? toString(langData[textStr]) : get$a(langData, textStr.toLowerCase()).map(toString).getOr(textStr);\n      };\n      const removeContext = str => str.replace(/{context:\\w+}$/, '');\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        const values = text.slice(1);\n        const substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, ($1, $2) => has$2(values, $2) ? toString(values[$2]) : $1);\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    const isRtl$1 = () => getLanguageData().bind(items => get$a(items, '_dir')).exists(dir => dir === 'rtl');\n    const hasCode = code => has$2(data, code);\n    const I18n = {\n      getData: getData$1,\n      setCode,\n      getCode,\n      add: add$1,\n      translate,\n      isRtl: isRtl$1,\n      hasCode\n    };\n\n    const AddOnManager = () => {\n      const items = [];\n      const urls = {};\n      const lookup = {};\n      const _listeners = [];\n      const runListeners = (name, state) => {\n        const matchedListeners = filter$5(_listeners, listener => listener.name === name && listener.state === state);\n        each$e(matchedListeners, listener => listener.resolve());\n      };\n      const isLoaded = name => has$2(urls, name);\n      const isAdded = name => has$2(lookup, name);\n      const get = name => {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      const loadLanguagePack = (name, languages) => {\n        const language = I18n.getCode();\n        const wrappedLanguages = ',' + (languages || '') + ',';\n        if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n          return;\n        }\n        ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n      };\n      const requireLangPack = (name, languages) => {\n        if (AddOnManager.languageLoad !== false) {\n          if (isLoaded(name)) {\n            loadLanguagePack(name, languages);\n          } else {\n            waitFor(name, 'loaded').then(() => loadLanguagePack(name, languages));\n          }\n        }\n      };\n      const add = (id, addOn) => {\n        items.push(addOn);\n        lookup[id] = { instance: addOn };\n        runListeners(id, 'added');\n        return addOn;\n      };\n      const remove = name => {\n        delete urls[name];\n        delete lookup[name];\n      };\n      const createUrl = (baseUrl, dep) => {\n        if (isString(dep)) {\n          return isString(baseUrl) ? {\n            prefix: '',\n            resource: dep,\n            suffix: ''\n          } : {\n            prefix: baseUrl.prefix,\n            resource: dep,\n            suffix: baseUrl.suffix\n          };\n        } else {\n          return dep;\n        }\n      };\n      const load = (name, addOnUrl) => {\n        if (urls[name]) {\n          return Promise.resolve();\n        }\n        let urlString = isString(addOnUrl) ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        const done = () => {\n          runListeners(name, 'loaded');\n          return Promise.resolve();\n        };\n        if (lookup[name]) {\n          return done();\n        } else {\n          return ScriptLoader.ScriptLoader.add(urlString).then(done);\n        }\n      };\n      const waitFor = (name, state = 'added') => {\n        if (state === 'added' && isAdded(name)) {\n          return Promise.resolve();\n        } else if (state === 'loaded' && isLoaded(name)) {\n          return Promise.resolve();\n        } else {\n          return new Promise(resolve => {\n            _listeners.push({\n              name,\n              state,\n              resolve\n            });\n          });\n        }\n      };\n      return {\n        items,\n        urls,\n        lookup,\n        get,\n        requireLangPack,\n        add,\n        remove,\n        createUrl,\n        load,\n        waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n    AddOnManager.ModelManager = AddOnManager();\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const repeatable = delay => {\n      const intervalId = Cell(Optional.none());\n      const revoke = () => intervalId.get().each(id => clearInterval(id));\n      const clear = () => {\n        revoke();\n        intervalId.set(Optional.none());\n      };\n      const isSet = () => intervalId.get().isSome();\n      const get = () => intervalId.get();\n      const set = functionToRepeat => {\n        revoke();\n        intervalId.set(Optional.some(setInterval(functionToRepeat, delay)));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const first$1 = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last$1 = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const annotation = constant('mce-annotation');\n    const dataAnnotation = constant('data-mce-annotation');\n    const dataAnnotationId = constant('data-mce-annotation-uid');\n    const dataAnnotationActive = constant('data-mce-annotation-active');\n    const dataAnnotationClasses = constant('data-mce-annotation-classes');\n    const dataAnnotationAttributes = constant('data-mce-annotation-attrs');\n\n    const isRoot$1 = root => node => eq(node, root);\n    const identify = (editor, annotationName) => {\n      const rng = editor.selection.getRng();\n      const start = SugarElement.fromDom(rng.startContainer);\n      const root = SugarElement.fromDom(editor.getBody());\n      const selector = annotationName.fold(() => '.' + annotation(), an => `[${ dataAnnotation() }=\"${ an }\"]`);\n      const newStart = child$1(start, rng.startOffset).getOr(start);\n      const closest = closest$3(newStart, selector, isRoot$1(root));\n      return closest.bind(c => getOpt(c, `${ dataAnnotationId() }`).bind(uid => getOpt(c, `${ dataAnnotation() }`).map(name => {\n        const elements = findMarkers(editor, uid);\n        return {\n          uid,\n          name,\n          elements\n        };\n      })));\n    };\n    const isAnnotation = elem => isElement$7(elem) && has(elem, annotation());\n    const isBogusElement = (elem, root) => has$1(elem, 'data-mce-bogus') || ancestor$2(elem, '[data-mce-bogus=\"all\"]', isRoot$1(root));\n    const findMarkers = (editor, uid) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const descendants$1 = descendants(body, `[${ dataAnnotationId() }=\"${ uid }\"]`);\n      return filter$5(descendants$1, descendant => !isBogusElement(descendant, body));\n    };\n    const findAll = (editor, name) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const markers = descendants(body, `[${ dataAnnotation() }=\"${ name }\"]`);\n      const directory = {};\n      each$e(markers, m => {\n        if (!isBogusElement(m, body)) {\n          const uid = get$9(m, dataAnnotationId());\n          const nodesAlready = get$a(directory, uid).getOr([]);\n          directory[uid] = nodesAlready.concat([m]);\n        }\n      });\n      return directory;\n    };\n\n    const setup$y = (editor, registry) => {\n      const changeCallbacks = Cell({});\n      const initData = () => ({\n        listeners: [],\n        previous: value$2()\n      });\n      const withCallbacks = (name, f) => {\n        updateCallbacks(name, data => {\n          f(data);\n          return data;\n        });\n      };\n      const updateCallbacks = (name, f) => {\n        const callbackMap = changeCallbacks.get();\n        const data = get$a(callbackMap, name).getOrThunk(initData);\n        const outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      const fireCallbacks = (name, uid, elements) => {\n        withCallbacks(name, data => {\n          each$e(data.listeners, f => f(true, name, {\n            uid,\n            nodes: map$3(elements, elem => elem.dom)\n          }));\n        });\n      };\n      const fireNoAnnotation = name => {\n        withCallbacks(name, data => {\n          each$e(data.listeners, f => f(false, name));\n        });\n      };\n      const toggleActiveAttr = (uid, state) => {\n        each$e(findMarkers(editor, uid), elem => {\n          if (state) {\n            set$3(elem, dataAnnotationActive(), 'true');\n          } else {\n            remove$a(elem, dataAnnotationActive());\n          }\n        });\n      };\n      const onNodeChange = last$1(() => {\n        const annotations = sort(registry.getNames());\n        each$e(annotations, name => {\n          updateCallbacks(name, data => {\n            const prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(() => {\n              prev.each(uid => {\n                fireNoAnnotation(name);\n                data.previous.clear();\n                toggleActiveAttr(uid, false);\n              });\n            }, ({uid, name, elements}) => {\n              if (!is$2(prev, uid)) {\n                prev.each(uid => toggleActiveAttr(uid, false));\n                fireCallbacks(name, uid, elements);\n                data.previous.set(uid);\n                toggleActiveAttr(uid, true);\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', () => {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', () => {\n        onNodeChange.throttle();\n      });\n      const addListener = (name, f) => {\n        updateCallbacks(name, data => ({\n          previous: data.previous,\n          listeners: data.listeners.concat([f])\n        }));\n      };\n      return { addListener };\n    };\n\n    const setup$x = (editor, registry) => {\n      const dataAnnotation$1 = dataAnnotation();\n      const identifyParserNode = node => Optional.from(node.attr(dataAnnotation$1)).bind(registry.lookup);\n      const removeDirectAnnotation = node => {\n        var _a, _b;\n        node.attr(dataAnnotationId(), null);\n        node.attr(dataAnnotation(), null);\n        node.attr(dataAnnotationActive(), null);\n        const customAttrNames = Optional.from(node.attr(dataAnnotationAttributes())).map(names => names.split(',')).getOr([]);\n        const customClasses = Optional.from(node.attr(dataAnnotationClasses())).map(names => names.split(',')).getOr([]);\n        each$e(customAttrNames, name => node.attr(name, null));\n        const classList = (_b = (_a = node.attr('class')) === null || _a === void 0 ? void 0 : _a.split(' ')) !== null && _b !== void 0 ? _b : [];\n        const newClassList = difference(classList, [annotation()].concat(customClasses));\n        node.attr('class', newClassList.length > 0 ? newClassList.join(' ') : null);\n        node.attr(dataAnnotationClasses(), null);\n        node.attr(dataAnnotationAttributes(), null);\n      };\n      editor.serializer.addTempAttr(dataAnnotationActive());\n      editor.serializer.addAttributeFilter(dataAnnotation$1, nodes => {\n        for (const node of nodes) {\n          identifyParserNode(node).each(settings => {\n            if (settings.persistent === false) {\n              if (node.name === 'span') {\n                node.unwrap();\n              } else {\n                removeDirectAnnotation(node);\n              }\n            }\n          });\n        }\n      });\n    };\n\n    const create$c = () => {\n      const annotations = {};\n      const register = (name, settings) => {\n        annotations[name] = {\n          name,\n          settings\n        };\n      };\n      const lookup = name => get$a(annotations, name).map(a => a.settings);\n      const getNames = () => keys(annotations);\n      return {\n        register,\n        lookup,\n        getNames\n      };\n    };\n\n    let unique = 0;\n    const generate$1 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const add = (element, classes) => {\n      each$e(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$4 = (element, classes) => {\n      each$e(classes, x => {\n        remove$7(element, x);\n      });\n    };\n\n    const clone$2 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow$1 = original => clone$2(original, false);\n    const deep$1 = original => clone$2(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$4(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$4(original, nu);\n      const children = children$1(original);\n      append(nu, children);\n      remove$5(original);\n      return nu;\n    };\n\n    const TextWalker = (startNode, rootNode, isBoundary = never) => {\n      const walker = new DomTreeWalker(startNode, rootNode);\n      const walk = direction => {\n        let next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$a(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$a);\n      };\n      return {\n        current: () => Optional.from(walker.current()).filter(isText$a),\n        next: () => walk('next'),\n        prev: () => walk('prev'),\n        prev2: () => walk('prev2')\n      };\n    };\n\n    const TextSeeker = (dom, isBoundary) => {\n      const isBlockBoundary = isBoundary ? isBoundary : node => dom.isBlock(node) || isBr$6(node) || isContentEditableFalse$b(node);\n      const walk = (node, offset, walker, process) => {\n        if (isText$a(node)) {\n          const newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(next => walk(next.container, next.offset, walker, process));\n      };\n      const backwards = (node, offset, process, root) => {\n        const walker = TextWalker(node, root !== null && root !== void 0 ? root : dom.getRoot(), isBlockBoundary);\n        return walk(node, offset, () => walker.prev().map(prev => ({\n          container: prev,\n          offset: prev.length\n        })), process).getOrNull();\n      };\n      const forwards = (node, offset, process, root) => {\n        const walker = TextWalker(node, root !== null && root !== void 0 ? root : dom.getRoot(), isBlockBoundary);\n        return walk(node, offset, () => walker.next().map(next => ({\n          container: next,\n          offset: 0\n        })), process).getOrNull();\n      };\n      return {\n        backwards,\n        forwards\n      };\n    };\n\n    const round$2 = Math.round;\n    const clone$1 = rect => {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round$2(rect.left),\n        top: round$2(rect.top),\n        bottom: round$2(rect.bottom),\n        right: round$2(rect.right),\n        width: round$2(rect.width),\n        height: round$2(rect.height)\n      };\n    };\n    const collapse = (rect, toStart) => {\n      rect = clone$1(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    const isEqual = (rect1, rect2) => rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    const isValidOverflow = (overflowY, rect1, rect2) => overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    const isAbove$1 = (rect1, rect2) => {\n      const halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    const isBelow$1 = (rect1, rect2) => {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    const containsXY = (rect, clientX, clientY) => clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    const boundingClientRectFromRects = rects => {\n      return foldl(rects, (acc, rect) => {\n        return acc.fold(() => Optional.some(rect), prevRect => {\n          const left = Math.min(rect.left, prevRect.left);\n          const top = Math.min(rect.top, prevRect.top);\n          const right = Math.max(rect.right, prevRect.right);\n          const bottom = Math.max(rect.bottom, prevRect.bottom);\n          return Optional.some({\n            top,\n            right,\n            bottom,\n            left,\n            width: right - left,\n            height: bottom - top\n          });\n        });\n      }, Optional.none());\n    };\n    const distanceToRectEdgeFromXY = (rect, x, y) => {\n      const cx = Math.max(Math.min(x, rect.left + rect.width), rect.left);\n      const cy = Math.max(Math.min(y, rect.top + rect.height), rect.top);\n      return Math.sqrt((x - cx) * (x - cx) + (y - cy) * (y - cy));\n    };\n    const overlapY = (r1, r2) => Math.max(0, Math.min(r1.bottom, r2.bottom) - Math.max(r1.top, r2.top));\n\n    const clamp$2 = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getSelectedNode = range => {\n      const startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer === range.endContainer && startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    const getNode$1 = (container, offset) => {\n      if (isElement$6(container) && container.hasChildNodes()) {\n        const childNodes = container.childNodes;\n        const safeOffset = clamp$2(offset, 0, childNodes.length - 1);\n        return childNodes[safeOffset];\n      } else {\n        return container;\n      }\n    };\n    const getNodeUnsafe = (container, offset) => {\n      if (offset < 0 && isElement$6(container) && container.hasChildNodes()) {\n        return undefined;\n      } else {\n        return getNode$1(container, offset);\n      }\n    };\n\n    const extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    const isExtendingChar = ch => isString(ch) && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n\n    const or = (...args) => {\n      return x => {\n        for (let i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const and = (...args) => {\n      return x => {\n        for (let i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    const isElement$4 = isElement$6;\n    const isCaretCandidate$2 = isCaretCandidate$3;\n    const isBlock$2 = matchStyleValues('display', 'block table');\n    const isFloated = matchStyleValues('float', 'left right');\n    const isValidElementCaretCandidate = and(isElement$4, isCaretCandidate$2, not(isFloated));\n    const isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    const isText$7 = isText$a;\n    const isBr$3 = isBr$6;\n    const nodeIndex$1 = DOMUtils.nodeIndex;\n    const resolveIndex$1 = getNodeUnsafe;\n    const createRange$1 = doc => doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    const isWhiteSpace$1 = chr => isString(chr) && /[\\r\\n\\t ]/.test(chr);\n    const isRange = rng => !!rng.setStart && !!rng.setEnd;\n    const isHiddenWhiteSpaceRange = range => {\n      const container = range.startContainer;\n      const offset = range.startOffset;\n      if (isWhiteSpace$1(range.toString()) && isNotPre(container.parentNode) && isText$a(container)) {\n        const text = container.data;\n        if (isWhiteSpace$1(text[offset - 1]) || isWhiteSpace$1(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const getBrClientRect = brNode => {\n      const doc = brNode.ownerDocument;\n      const rng = createRange$1(doc);\n      const nbsp$1 = doc.createTextNode(nbsp);\n      const parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      const clientRect = clone$1(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    const getBoundingClientRectWebKitText = rng => {\n      const sc = rng.startContainer;\n      const ec = rng.endContainer;\n      const so = rng.startOffset;\n      const eo = rng.endOffset;\n      if (sc === ec && isText$a(ec) && so === 0 && eo === 1) {\n        const newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect$1(newRng);\n      } else {\n        return null;\n      }\n    };\n    const isZeroRect = r => r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    const getBoundingClientRect$1 = item => {\n      var _a;\n      let clientRect;\n      const clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone$1(clientRects[0]);\n      } else {\n        clientRect = clone$1(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return (_a = getBoundingClientRectWebKitText(item)) !== null && _a !== void 0 ? _a : clientRect;\n      }\n      return clientRect;\n    };\n    const collapseAndInflateWidth = (clientRect, toStart) => {\n      const newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    const getCaretPositionClientRects = caretPosition => {\n      const clientRects = [];\n      const addUniqueAndValidRect = clientRect => {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      const addCharacterOffset = (container, offset) => {\n        const range = createRange$1(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n              return;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), true));\n          }\n        }\n      };\n      const container = caretPosition.container();\n      const offset = caretPosition.offset();\n      if (isText$7(container)) {\n        addCharacterOffset(container, offset);\n        return clientRects;\n      }\n      if (isElement$4(container)) {\n        if (caretPosition.isAtEnd()) {\n          const node = resolveIndex$1(container, offset);\n          if (isText$7(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n          }\n        } else {\n          const node = resolveIndex$1(container, offset);\n          if (isText$7(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n            return clientRects;\n          }\n          const beforeNode = resolveIndex$1(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n            if (isBlock$2(beforeNode) || isBlock$2(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    const CaretPosition = (container, offset, clientRects) => {\n      const isAtStart = () => {\n        if (isText$7(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      const isAtEnd = () => {\n        if (isText$7(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      const toRange = () => {\n        const range = createRange$1(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      const getClientRects = () => {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      const isVisible = () => getClientRects().length > 0;\n      const isEqual = caretPosition => caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      const getNode = before => resolveIndex$1(container, before ? offset - 1 : offset);\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange,\n        getClientRects,\n        isVisible,\n        isAtStart,\n        isAtEnd,\n        isEqual,\n        getNode\n      };\n    };\n    CaretPosition.fromRangeStart = range => CaretPosition(range.startContainer, range.startOffset);\n    CaretPosition.fromRangeEnd = range => CaretPosition(range.endContainer, range.endOffset);\n    CaretPosition.after = node => CaretPosition(node.parentNode, nodeIndex$1(node) + 1);\n    CaretPosition.before = node => CaretPosition(node.parentNode, nodeIndex$1(node));\n    CaretPosition.isAbove = (pos1, pos2) => lift2(head(pos2.getClientRects()), last$3(pos1.getClientRects()), isAbove$1).getOr(false);\n    CaretPosition.isBelow = (pos1, pos2) => lift2(last$3(pos2.getClientRects()), head(pos1.getClientRects()), isBelow$1).getOr(false);\n    CaretPosition.isAtStart = pos => pos ? pos.isAtStart() : false;\n    CaretPosition.isAtEnd = pos => pos ? pos.isAtEnd() : false;\n    CaretPosition.isTextPosition = pos => pos ? isText$a(pos.container()) : false;\n    CaretPosition.isElementPosition = pos => !CaretPosition.isTextPosition(pos);\n\n    const trimEmptyTextNode$1 = (dom, node) => {\n      if (isText$a(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    const insertNode = (dom, rng, node) => {\n      rng.insertNode(node);\n      trimEmptyTextNode$1(dom, node.previousSibling);\n      trimEmptyTextNode$1(dom, node.nextSibling);\n    };\n    const insertFragment = (dom, rng, frag) => {\n      const firstChild = Optional.from(frag.firstChild);\n      const lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(child => trimEmptyTextNode$1(dom, child.previousSibling));\n      lastChild.each(child => trimEmptyTextNode$1(dom, child.nextSibling));\n    };\n    const rangeInsertNode = (dom, rng, node) => {\n      if (isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    const isText$6 = isText$a;\n    const isBogus = isBogus$2;\n    const nodeIndex = DOMUtils.nodeIndex;\n    const normalizedParent = node => {\n      const parentNode = node.parentNode;\n      if (isBogus(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    const getChildNodes = node => {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, (result, node) => {\n        if (isBogus(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    const normalizedTextOffset = (node, offset) => {\n      let tempNode = node;\n      while (tempNode = tempNode.previousSibling) {\n        if (!isText$6(tempNode)) {\n          break;\n        }\n        offset += tempNode.data.length;\n      }\n      return offset;\n    };\n    const equal = a => b => a === b;\n    const normalizedNodeIndex = node => {\n      let nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      const numTextFragments = reduce(nodes, (result, node, i) => {\n        if (isText$6(node) && isText$6(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$3(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    const createPathItem = node => {\n      const name = isText$6(node) ? 'text()' : node.nodeName.toLowerCase();\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    const parentsUntil$1 = (root, node, predicate) => {\n      const parents = [];\n      for (let tempNode = node.parentNode; tempNode && tempNode !== root; tempNode = tempNode.parentNode) {\n        if (predicate && predicate(tempNode)) {\n          break;\n        }\n        parents.push(tempNode);\n      }\n      return parents;\n    };\n    const create$b = (root, caretPosition) => {\n      let path = [];\n      let container = caretPosition.container();\n      let offset = caretPosition.offset();\n      let outputOffset;\n      if (isText$6(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        const childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      let parents = parentsUntil$1(root, container);\n      parents = filter$3(parents, not(isBogus$2));\n      path = path.concat(map$1(parents, node => {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    const resolvePathItem = (node, name, index) => {\n      let nodes = getChildNodes(node);\n      nodes = filter$3(nodes, (node, index) => {\n        return !isText$6(node) || !isText$6(nodes[index - 1]);\n      });\n      nodes = filter$3(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    const findTextPosition = (container, offset) => {\n      let node = container;\n      let targetOffset = 0;\n      while (isText$6(node)) {\n        const dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$6(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$6(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    const resolve$1 = (root, path) => {\n      if (!path) {\n        return null;\n      }\n      const parts = path.split(',');\n      const paths = parts[0].split('/');\n      const offset = parts.length > 1 ? parts[1] : 'before';\n      const container = reduce(paths, (result, value) => {\n        const match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$6(container) && container.parentNode) {\n        let nodeOffset;\n        if (offset === 'after') {\n          nodeOffset = nodeIndex(container) + 1;\n        } else {\n          nodeOffset = nodeIndex(container);\n        }\n        return CaretPosition(container.parentNode, nodeOffset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    const isContentEditableFalse$9 = isContentEditableFalse$b;\n    const getNormalizedTextOffset$1 = (trim, container, offset) => {\n      let trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (let node = container.previousSibling; node && isText$a(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    const getPoint = (dom, trim, normalized, rng, start) => {\n      const container = start ? rng.startContainer : rng.endContainer;\n      let offset = start ? rng.startOffset : rng.endOffset;\n      const point = [];\n      const root = dom.getRoot();\n      if (isText$a(container)) {\n        point.push(normalized ? getNormalizedTextOffset$1(trim, container, offset) : offset);\n      } else {\n        let after = 0;\n        const childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (let node = container; node && node !== root; node = node.parentNode) {\n        point.push(dom.nodeIndex(node, normalized));\n      }\n      return point;\n    };\n    const getLocation = (trim, selection, normalized, rng) => {\n      const dom = selection.dom;\n      const start = getPoint(dom, trim, normalized, rng, true);\n      const forward = selection.isForward();\n      const fakeCaret = isRangeInCaretContainerBlock(rng) ? { isFakeCaret: true } : {};\n      if (!selection.isCollapsed()) {\n        const end = getPoint(dom, trim, normalized, rng, false);\n        return {\n          start,\n          end,\n          forward,\n          ...fakeCaret\n        };\n      } else {\n        return {\n          start,\n          forward,\n          ...fakeCaret\n        };\n      }\n    };\n    const findIndex = (dom, name, element) => {\n      let count = 0;\n      Tools.each(dom.select(name), node => {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        } else if (node === element) {\n          return false;\n        } else {\n          count++;\n          return;\n        }\n      });\n      return count;\n    };\n    const moveEndPoint$1 = (rng, start) => {\n      let container = start ? rng.startContainer : rng.endContainer;\n      let offset = start ? rng.startOffset : rng.endOffset;\n      if (isElement$6(container) && container.nodeName === 'TR') {\n        const childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          if (start) {\n            rng.setStart(container, offset);\n          } else {\n            rng.setEnd(container, offset);\n          }\n        }\n      }\n    };\n    const normalizeTableCellSelection = rng => {\n      moveEndPoint$1(rng, true);\n      moveEndPoint$1(rng, false);\n      return rng;\n    };\n    const findSibling = (node, offset) => {\n      if (isElement$6(node)) {\n        node = getNode$1(node, offset);\n        if (isContentEditableFalse$9(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer$2(node)) {\n        if (isText$a(node) && isCaretContainerBlock$1(node)) {\n          node = node.parentNode;\n        }\n        let sibling = node.previousSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n      }\n      return undefined;\n    };\n    const findAdjacentContentEditableFalseElm = rng => {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    const getOffsetBookmark = (trim, normalized, selection) => {\n      const element = selection.getNode();\n      const rng = selection.getRng();\n      if (element.nodeName === 'IMG' || isContentEditableFalse$9(element)) {\n        const name = element.nodeName;\n        return {\n          name,\n          index: findIndex(selection.dom, name, element)\n        };\n      }\n      const sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        const name = sibling.tagName;\n        return {\n          name,\n          index: findIndex(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    const getCaretBookmark = selection => {\n      const rng = selection.getRng();\n      return {\n        start: create$b(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$b(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng)),\n        forward: selection.isForward()\n      };\n    };\n    const getRangeBookmark = selection => {\n      return {\n        rng: selection.getRng(),\n        forward: selection.isForward()\n      };\n    };\n    const createBookmarkSpan = (dom, id, filled) => {\n      const args = {\n        'data-mce-type': 'bookmark',\n        id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    const getPersistentBookmark = (selection, filled) => {\n      const dom = selection.dom;\n      let rng = selection.getRng();\n      const id = dom.uniqueId();\n      const collapsed = selection.isCollapsed();\n      const element = selection.getNode();\n      const name = element.nodeName;\n      const forward = selection.isForward();\n      if (name === 'IMG') {\n        return {\n          name,\n          index: findIndex(dom, name, element)\n        };\n      }\n      const rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        const endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      const startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id,\n        keep: true,\n        forward\n      });\n      return {\n        id,\n        forward\n      };\n    };\n    const getBookmark$2 = (selection, type, normalized = false) => {\n      if (type === 2) {\n        return getOffsetBookmark(trim$2, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    const getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const generate = cases => {\n      if (!isArray$1(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$e(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray$1(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$e(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const isInlinePattern = pattern => pattern.type === 'inline-command' || pattern.type === 'inline-format';\n    const isBlockPattern = pattern => pattern.type === 'block-command' || pattern.type === 'block-format';\n    const normalizePattern = pattern => {\n      const err = message => Result.error({\n        message,\n        pattern\n      });\n      const formatOrCmd = (name, onFormat, onCommand) => {\n        if (pattern.format !== undefined) {\n          let formats;\n          if (isArray$1(pattern.format)) {\n            if (!forall(pattern.format, isString)) {\n              return err(name + ' pattern has non-string items in the `format` array');\n            }\n            formats = pattern.format;\n          } else if (isString(pattern.format)) {\n            formats = [pattern.format];\n          } else {\n            return err(name + ' pattern has non-string `format` parameter');\n          }\n          return Result.value(onFormat(formats));\n        } else if (pattern.cmd !== undefined) {\n          if (!isString(pattern.cmd)) {\n            return err(name + ' pattern has non-string `cmd` parameter');\n          }\n          return Result.value(onCommand(pattern.cmd, pattern.value));\n        } else {\n          return err(name + ' pattern is missing both `format` and `cmd` parameters');\n        }\n      };\n      if (!isObject(pattern)) {\n        return err('Raw pattern is not an object');\n      }\n      if (!isString(pattern.start)) {\n        return err('Raw pattern is missing `start` parameter');\n      }\n      if (pattern.end !== undefined) {\n        if (!isString(pattern.end)) {\n          return err('Inline pattern has non-string `end` parameter');\n        }\n        if (pattern.start.length === 0 && pattern.end.length === 0) {\n          return err('Inline pattern has empty `start` and `end` parameters');\n        }\n        let start = pattern.start;\n        let end = pattern.end;\n        if (end.length === 0) {\n          end = start;\n          start = '';\n        }\n        return formatOrCmd('Inline', format => ({\n          type: 'inline-format',\n          start,\n          end,\n          format\n        }), (cmd, value) => ({\n          type: 'inline-command',\n          start,\n          end,\n          cmd,\n          value\n        }));\n      } else if (pattern.replacement !== undefined) {\n        if (!isString(pattern.replacement)) {\n          return err('Replacement pattern has non-string `replacement` parameter');\n        }\n        if (pattern.start.length === 0) {\n          return err('Replacement pattern has empty `start` parameter');\n        }\n        return Result.value({\n          type: 'inline-command',\n          start: '',\n          end: pattern.start,\n          cmd: 'mceInsertContent',\n          value: pattern.replacement\n        });\n      } else {\n        if (pattern.start.length === 0) {\n          return err('Block pattern has empty `start` parameter');\n        }\n        return formatOrCmd('Block', formats => ({\n          type: 'block-format',\n          start: pattern.start,\n          format: formats[0]\n        }), (command, commandValue) => ({\n          type: 'block-command',\n          start: pattern.start,\n          cmd: command,\n          value: commandValue\n        }));\n      }\n    };\n    const getBlockPatterns = patterns => filter$5(patterns, isBlockPattern);\n    const getInlinePatterns = patterns => filter$5(patterns, isInlinePattern);\n    const createPatternSet = (patterns, dynamicPatternsLookup) => ({\n      inlinePatterns: getInlinePatterns(patterns),\n      blockPatterns: getBlockPatterns(patterns),\n      dynamicPatternsLookup\n    });\n    const fromRawPatterns = patterns => {\n      const normalized = partition$1(map$3(patterns, normalizePattern));\n      each$e(normalized.errors, err => console.error(err.message, err.pattern));\n      return normalized.values;\n    };\n    const fromRawPatternsLookup = lookupFn => {\n      return ctx => {\n        const rawPatterns = lookupFn(ctx);\n        return fromRawPatterns(rawPatterns);\n      };\n    };\n\n    const deviceDetection$1 = detect$2().deviceType;\n    const isTouch = deviceDetection$1.isTouch();\n    const DOM$a = DOMUtils.DOM;\n    const getHash = value => {\n      const items = value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(',');\n      return foldl(items, (output, item) => {\n        const arr = item.split('=');\n        const key = arr[0];\n        const val = arr.length > 1 ? arr[1] : key;\n        output[trim$4(key)] = trim$4(val);\n        return output;\n      }, {});\n    };\n    const isRegExp = x => is$4(x, RegExp);\n    const option = name => editor => editor.options.get(name);\n    const stringOrObjectProcessor = value => isString(value) || isObject(value);\n    const bodyOptionProcessor = (editor, defaultValue = '') => value => {\n      const valid = isString(value);\n      if (valid) {\n        if (value.indexOf('=') !== -1) {\n          const bodyObj = getHash(value);\n          return {\n            value: get$a(bodyObj, editor.id).getOr(defaultValue),\n            valid\n          };\n        } else {\n          return {\n            value,\n            valid\n          };\n        }\n      } else {\n        return {\n          valid: false,\n          message: 'Must be a string.'\n        };\n      }\n    };\n    const register$7 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('id', {\n        processor: 'string',\n        default: editor.id\n      });\n      registerOption('selector', { processor: 'string' });\n      registerOption('target', { processor: 'object' });\n      registerOption('suffix', { processor: 'string' });\n      registerOption('cache_suffix', { processor: 'string' });\n      registerOption('base_url', { processor: 'string' });\n      registerOption('referrer_policy', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('language_load', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('inline', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('iframe_attrs', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('doctype', {\n        processor: 'string',\n        default: '<!DOCTYPE html>'\n      });\n      registerOption('document_base_url', {\n        processor: 'string',\n        default: editor.documentBaseUrl\n      });\n      registerOption('body_id', {\n        processor: bodyOptionProcessor(editor, 'tinymce'),\n        default: 'tinymce'\n      });\n      registerOption('body_class', {\n        processor: bodyOptionProcessor(editor),\n        default: ''\n      });\n      registerOption('content_security_policy', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('br_in_pre', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('forced_root_block', {\n        processor: value => {\n          const valid = isString(value) && isNotEmpty(value);\n          if (valid) {\n            return {\n              value,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a non-empty string.'\n            };\n          }\n        },\n        default: 'p'\n      });\n      registerOption('forced_root_block_attrs', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('newline_behavior', {\n        processor: value => {\n          const valid = contains$2([\n            'block',\n            'linebreak',\n            'invert',\n            'default'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: block, linebreak, invert or default.'\n          };\n        },\n        default: 'default'\n      });\n      registerOption('br_newline_selector', {\n        processor: 'string',\n        default: '.mce-toc h2,figcaption,caption'\n      });\n      registerOption('no_newline_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('keep_styles', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('end_container_on_empty_block', {\n        processor: value => {\n          if (isBoolean(value)) {\n            return {\n              valid: true,\n              value\n            };\n          } else if (isString(value)) {\n            return {\n              valid: true,\n              value\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be boolean or a string'\n            };\n          }\n        },\n        default: 'blockquote'\n      });\n      registerOption('font_size_style_values', {\n        processor: 'string',\n        default: 'xx-small,x-small,small,medium,large,x-large,xx-large'\n      });\n      registerOption('font_size_legacy_values', {\n        processor: 'string',\n        default: 'xx-small,small,medium,large,x-large,xx-large,300%'\n      });\n      registerOption('font_size_classes', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('automatic_uploads', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('images_reuse_filename', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('images_replace_blob_uris', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('icons', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('icons_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_base_path', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_credentials', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('images_upload_handler', { processor: 'function' });\n      registerOption('language', {\n        processor: 'string',\n        default: 'en'\n      });\n      registerOption('language_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('entity_encoding', {\n        processor: 'string',\n        default: 'named'\n      });\n      registerOption('indent', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('indent_before', {\n        processor: 'string',\n        default: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'\n      });\n      registerOption('indent_after', {\n        processor: 'string',\n        default: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'\n      });\n      registerOption('indent_use_margin', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('indentation', {\n        processor: 'string',\n        default: '40px'\n      });\n      registerOption('content_css', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isString);\n          if (valid) {\n            if (isString(value)) {\n              return {\n                value: map$3(value.split(','), trim$4),\n                valid\n              };\n            } else if (isArray$1(value)) {\n              return {\n                value,\n                valid\n              };\n            } else if (value === false) {\n              return {\n                value: [],\n                valid\n              };\n            } else {\n              return {\n                value,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false, a string or an array of strings.'\n            };\n          }\n        },\n        default: isInline$1(editor) ? [] : ['default']\n      });\n      registerOption('content_style', { processor: 'string' });\n      registerOption('content_css_cors', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('font_css', {\n        processor: value => {\n          const valid = isString(value) || isArrayOf(value, isString);\n          if (valid) {\n            const newValue = isArray$1(value) ? value : map$3(value.split(','), trim$4);\n            return {\n              value: newValue,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or an array of strings.'\n            };\n          }\n        },\n        default: []\n      });\n      registerOption('inline_boundaries', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('inline_boundaries_selector', {\n        processor: 'string',\n        default: 'a[href],code,span.mce-annotation'\n      });\n      registerOption('object_resizing', {\n        processor: value => {\n          const valid = isBoolean(value) || isString(value);\n          if (valid) {\n            if (value === false || deviceDetection$1.isiPhone() || deviceDetection$1.isiPad()) {\n              return {\n                value: '',\n                valid\n              };\n            } else {\n              return {\n                value: value === true ? 'table,img,figure.image,div,video,iframe' : value,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be boolean or a string'\n            };\n          }\n        },\n        default: !isTouch\n      });\n      registerOption('resize_img_proportional', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('event_root', { processor: 'object' });\n      registerOption('service_message', { processor: 'string' });\n      registerOption('theme', {\n        processor: value => value === false || isString(value) || isFunction(value),\n        default: 'silver'\n      });\n      registerOption('theme_url', { processor: 'string' });\n      registerOption('formats', { processor: 'object' });\n      registerOption('format_empty_lines', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('format_noneditable_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('preview_styles', {\n        processor: value => {\n          const valid = value === false || isString(value);\n          if (valid) {\n            return {\n              value: value === false ? '' : value,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string'\n            };\n          }\n        },\n        default: 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow'\n      });\n      registerOption('custom_ui_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('hidden_input', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('submit_patch', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('encoding', { processor: 'string' });\n      registerOption('add_form_submit_trigger', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('add_unload_trigger', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('custom_undo_redo_levels', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('disable_nodechange', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('readonly', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('editable_root', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('plugins', {\n        processor: 'string[]',\n        default: []\n      });\n      registerOption('external_plugins', { processor: 'object' });\n      registerOption('forced_plugins', { processor: 'string[]' });\n      registerOption('model', {\n        processor: 'string',\n        default: editor.hasPlugin('rtc') ? 'plugin' : 'dom'\n      });\n      registerOption('model_url', { processor: 'string' });\n      registerOption('block_unsupported_drop', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('visual', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('visual_table_class', {\n        processor: 'string',\n        default: 'mce-item-table'\n      });\n      registerOption('visual_anchor_class', {\n        processor: 'string',\n        default: 'mce-item-anchor'\n      });\n      registerOption('iframe_aria_text', {\n        processor: 'string',\n        default: 'Rich Text Area. Press ALT-0 for help.'\n      });\n      registerOption('setup', { processor: 'function' });\n      registerOption('init_instance_callback', { processor: 'function' });\n      registerOption('url_converter', {\n        processor: 'function',\n        default: editor.convertURL\n      });\n      registerOption('url_converter_scope', {\n        processor: 'object',\n        default: editor\n      });\n      registerOption('urlconverter_callback', { processor: 'function' });\n      registerOption('allow_conditional_comments', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_html_data_urls', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_svg_data_urls', { processor: 'boolean' });\n      registerOption('allow_html_in_named_anchor', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_script_urls', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('convert_fonts_to_spans', {\n        processor: 'boolean',\n        default: true,\n        deprecated: true\n      });\n      registerOption('fix_list_elements', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('preserve_cdata', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('remove_trailing_brs', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('pad_empty_with_br', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('inline_styles', {\n        processor: 'boolean',\n        default: true,\n        deprecated: true\n      });\n      registerOption('element_format', {\n        processor: 'string',\n        default: 'html'\n      });\n      registerOption('entities', { processor: 'string' });\n      registerOption('schema', {\n        processor: 'string',\n        default: 'html5'\n      });\n      registerOption('convert_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('relative_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('remove_script_host', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('custom_elements', { processor: 'string' });\n      registerOption('extended_valid_elements', { processor: 'string' });\n      registerOption('invalid_elements', { processor: 'string' });\n      registerOption('invalid_styles', { processor: stringOrObjectProcessor });\n      registerOption('valid_children', { processor: 'string' });\n      registerOption('valid_classes', { processor: stringOrObjectProcessor });\n      registerOption('valid_elements', { processor: 'string' });\n      registerOption('valid_styles', { processor: stringOrObjectProcessor });\n      registerOption('verify_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('auto_focus', { processor: value => isString(value) || value === true });\n      registerOption('browser_spellcheck', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('protect', { processor: 'array' });\n      registerOption('images_file_types', {\n        processor: 'string',\n        default: 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp'\n      });\n      registerOption('deprecation_warnings', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('a11y_advanced_options', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('api_key', { processor: 'string' });\n      registerOption('paste_block_drop', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('paste_data_images', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_preprocess', { processor: 'function' });\n      registerOption('paste_postprocess', { processor: 'function' });\n      registerOption('paste_webkit_styles', {\n        processor: 'string',\n        default: 'none'\n      });\n      registerOption('paste_remove_styles_if_webkit', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_merge_formats', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('smart_paste', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_as_text', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('paste_tab_spaces', {\n        processor: 'number',\n        default: 4\n      });\n      registerOption('text_patterns', {\n        processor: value => {\n          if (isArrayOf(value, isObject) || value === false) {\n            const patterns = value === false ? [] : value;\n            return {\n              value: fromRawPatterns(patterns),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be an array of objects or false.'\n            };\n          }\n        },\n        default: [\n          {\n            start: '*',\n            end: '*',\n            format: 'italic'\n          },\n          {\n            start: '**',\n            end: '**',\n            format: 'bold'\n          },\n          {\n            start: '#',\n            format: 'h1'\n          },\n          {\n            start: '##',\n            format: 'h2'\n          },\n          {\n            start: '###',\n            format: 'h3'\n          },\n          {\n            start: '####',\n            format: 'h4'\n          },\n          {\n            start: '#####',\n            format: 'h5'\n          },\n          {\n            start: '######',\n            format: 'h6'\n          },\n          {\n            start: '1. ',\n            cmd: 'InsertOrderedList'\n          },\n          {\n            start: '* ',\n            cmd: 'InsertUnorderedList'\n          },\n          {\n            start: '- ',\n            cmd: 'InsertUnorderedList'\n          }\n        ]\n      });\n      registerOption('text_patterns_lookup', {\n        processor: value => {\n          if (isFunction(value)) {\n            return {\n              value: fromRawPatternsLookup(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a single function'\n            };\n          }\n        },\n        default: _ctx => []\n      });\n      registerOption('noneditable_class', {\n        processor: 'string',\n        default: 'mceNonEditable'\n      });\n      registerOption('editable_class', {\n        processor: 'string',\n        default: 'mceEditable'\n      });\n      registerOption('noneditable_regexp', {\n        processor: value => {\n          if (isArrayOf(value, isRegExp)) {\n            return {\n              value,\n              valid: true\n            };\n          } else if (isRegExp(value)) {\n            return {\n              value: [value],\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a RegExp or an array of RegExp.'\n            };\n          }\n        },\n        default: []\n      });\n      registerOption('table_tab_navigation', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('highlight_on_focus', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('xss_sanitization', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('details_initial_state', {\n        processor: value => {\n          const valid = contains$2([\n            'inherited',\n            'collapsed',\n            'expanded'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: inherited, collapsed, or expanded.'\n          };\n        },\n        default: 'inherited'\n      });\n      registerOption('details_serialized_state', {\n        processor: value => {\n          const valid = contains$2([\n            'inherited',\n            'collapsed',\n            'expanded'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: inherited, collapsed, or expanded.'\n          };\n        },\n        default: 'inherited'\n      });\n      registerOption('init_content_sync', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('newdocument_content', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('force_hex_color', {\n        processor: value => {\n          const options = [\n            'always',\n            'rgb_only',\n            'off'\n          ];\n          const valid = contains$2(options, value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: `Must be one of: ${ options.join(', ') }.`\n          };\n        },\n        default: 'off'\n      });\n      registerOption('sandbox_iframes', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('convert_unsafe_embeds', {\n        processor: 'boolean',\n        default: false\n      });\n      editor.on('ScriptsLoaded', () => {\n        registerOption('directionality', {\n          processor: 'string',\n          default: I18n.isRtl() ? 'rtl' : undefined\n        });\n        registerOption('placeholder', {\n          processor: 'string',\n          default: DOM$a.getAttrib(editor.getElement(), 'placeholder')\n        });\n      });\n    };\n    const getIframeAttrs = option('iframe_attrs');\n    const getDocType = option('doctype');\n    const getDocumentBaseUrl = option('document_base_url');\n    const getBodyId = option('body_id');\n    const getBodyClass = option('body_class');\n    const getContentSecurityPolicy = option('content_security_policy');\n    const shouldPutBrInPre$1 = option('br_in_pre');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n    const getNewlineBehavior = option('newline_behavior');\n    const getBrNewLineSelector = option('br_newline_selector');\n    const getNoNewLineSelector = option('no_newline_selector');\n    const shouldKeepStyles = option('keep_styles');\n    const shouldEndContainerOnEmptyBlock = option('end_container_on_empty_block');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const shouldReuseFileName = option('images_reuse_filename');\n    const shouldReplaceBlobUris = option('images_replace_blob_uris');\n    const getIconPackName = option('icons');\n    const getIconsUrl = option('icons_url');\n    const getImageUploadUrl = option('images_upload_url');\n    const getImageUploadBasePath = option('images_upload_base_path');\n    const getImagesUploadCredentials = option('images_upload_credentials');\n    const getImagesUploadHandler = option('images_upload_handler');\n    const shouldUseContentCssCors = option('content_css_cors');\n    const getReferrerPolicy = option('referrer_policy');\n    const getLanguageCode = option('language');\n    const getLanguageUrl = option('language_url');\n    const shouldIndentUseMargin = option('indent_use_margin');\n    const getIndentation = option('indentation');\n    const getContentCss = option('content_css');\n    const getContentStyle = option('content_style');\n    const getFontCss = option('font_css');\n    const getDirectionality = option('directionality');\n    const getInlineBoundarySelector = option('inline_boundaries_selector');\n    const getObjectResizing = option('object_resizing');\n    const getResizeImgProportional = option('resize_img_proportional');\n    const getPlaceholder = option('placeholder');\n    const getEventRoot = option('event_root');\n    const getServiceMessage = option('service_message');\n    const getTheme = option('theme');\n    const getThemeUrl = option('theme_url');\n    const getModel = option('model');\n    const getModelUrl = option('model_url');\n    const isInlineBoundariesEnabled = option('inline_boundaries');\n    const getFormats = option('formats');\n    const getPreviewStyles = option('preview_styles');\n    const canFormatEmptyLines = option('format_empty_lines');\n    const getFormatNoneditableSelector = option('format_noneditable_selector');\n    const getCustomUiSelector = option('custom_ui_selector');\n    const isInline$1 = option('inline');\n    const hasHiddenInput = option('hidden_input');\n    const shouldPatchSubmit = option('submit_patch');\n    const shouldAddFormSubmitTrigger = option('add_form_submit_trigger');\n    const shouldAddUnloadTrigger = option('add_unload_trigger');\n    const getCustomUndoRedoLevels = option('custom_undo_redo_levels');\n    const shouldDisableNodeChange = option('disable_nodechange');\n    const isReadOnly$1 = option('readonly');\n    const hasEditableRoot$1 = option('editable_root');\n    const hasContentCssCors = option('content_css_cors');\n    const getPlugins = option('plugins');\n    const getExternalPlugins$1 = option('external_plugins');\n    const shouldBlockUnsupportedDrop = option('block_unsupported_drop');\n    const isVisualAidsEnabled = option('visual');\n    const getVisualAidsTableClass = option('visual_table_class');\n    const getVisualAidsAnchorClass = option('visual_anchor_class');\n    const getIframeAriaText = option('iframe_aria_text');\n    const getSetupCallback = option('setup');\n    const getInitInstanceCallback = option('init_instance_callback');\n    const getUrlConverterCallback = option('urlconverter_callback');\n    const getAutoFocus = option('auto_focus');\n    const shouldBrowserSpellcheck = option('browser_spellcheck');\n    const getProtect = option('protect');\n    const shouldPasteBlockDrop = option('paste_block_drop');\n    const shouldPasteDataImages = option('paste_data_images');\n    const getPastePreProcess = option('paste_preprocess');\n    const getPastePostProcess = option('paste_postprocess');\n    const getNewDocumentContent = option('newdocument_content');\n    const getPasteWebkitStyles = option('paste_webkit_styles');\n    const shouldPasteRemoveWebKitStyles = option('paste_remove_styles_if_webkit');\n    const shouldPasteMergeFormats = option('paste_merge_formats');\n    const isSmartPasteEnabled = option('smart_paste');\n    const isPasteAsTextEnabled = option('paste_as_text');\n    const getPasteTabSpaces = option('paste_tab_spaces');\n    const shouldAllowHtmlDataUrls = option('allow_html_data_urls');\n    const getTextPatterns = option('text_patterns');\n    const getTextPatternsLookup = option('text_patterns_lookup');\n    const getNonEditableClass = option('noneditable_class');\n    const getEditableClass = option('editable_class');\n    const getNonEditableRegExps = option('noneditable_regexp');\n    const shouldPreserveCData = option('preserve_cdata');\n    const shouldHighlightOnFocus = option('highlight_on_focus');\n    const shouldSanitizeXss = option('xss_sanitization');\n    const shouldUseDocumentWrite = option('init_content_sync');\n    const hasTextPatternsLookup = editor => editor.options.isSet('text_patterns_lookup');\n    const getFontStyleValues = editor => Tools.explode(editor.options.get('font_size_style_values'));\n    const getFontSizeClasses = editor => Tools.explode(editor.options.get('font_size_classes'));\n    const isEncodingXml = editor => editor.options.get('encoding') === 'xml';\n    const getAllowedImageFileTypes = editor => Tools.explode(editor.options.get('images_file_types'));\n    const hasTableTabNavigation = option('table_tab_navigation');\n    const getDetailsInitialState = option('details_initial_state');\n    const getDetailsSerializedState = option('details_serialized_state');\n    const shouldForceHexColor = option('force_hex_color');\n    const shouldSandboxIframes = option('sandbox_iframes');\n\n    const isElement$3 = isElement$6;\n    const isText$5 = isText$a;\n    const removeNode$1 = node => {\n      const parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    const trimCount = text => {\n      const trimmedText = trim$2(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    const deleteZwspChars = caretContainer => {\n      let idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP$1)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    const removeUnchanged = (caretContainer, pos) => {\n      remove$3(caretContainer);\n      return pos;\n    };\n    const removeTextAndReposition = (caretContainer, pos) => {\n      const before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      const after = trimCount(caretContainer.data.substr(pos.offset()));\n      const text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    const removeElementAndReposition = (caretContainer, pos) => {\n      const parentNode = pos.container();\n      const newPosition = indexOf$1(from(parentNode.childNodes), caretContainer).map(index => {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$3(caretContainer);\n      return newPosition;\n    };\n    const removeTextCaretContainer = (caretContainer, pos) => isText$5(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    const removeElementCaretContainer = (caretContainer, pos) => pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    const removeAndReposition = (container, pos) => CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    const remove$3 = caretContainerNode => {\n      if (isElement$3(caretContainerNode) && isCaretContainer$2(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode$1(caretContainerNode);\n        }\n      }\n      if (isText$5(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode$1(caretContainerNode);\n        }\n      }\n    };\n\n    const isContentEditableFalse$8 = isContentEditableFalse$b;\n    const isMedia$1 = isMedia$2;\n    const isTableCell$1 = isTableCell$3;\n    const inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    const getAbsoluteClientRect = (root, element, before) => {\n      const clientRect = collapse(element.getBoundingClientRect(), before);\n      let scrollX;\n      let scrollY;\n      if (root.tagName === 'BODY') {\n        const docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        const rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      let margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    const trimInlineCaretContainers = root => {\n      var _a, _b;\n      const fakeCaretTargetNodes = descendants(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (let i = 0; i < fakeCaretTargetNodes.length; i++) {\n        const node = fakeCaretTargetNodes[i].dom;\n        let sibling = node.previousSibling;\n        if (endsWithCaretContainer$1(sibling)) {\n          const data = sibling.data;\n          if (data.length === 1) {\n            (_a = sibling.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer$1(sibling)) {\n          const data = sibling.data;\n          if (data.length === 1) {\n            (_b = sibling.parentNode) === null || _b === void 0 ? void 0 : _b.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    const FakeCaret = (editor, root, isBlock, hasFocus) => {\n      const lastVisualCaret = value$2();\n      let cursorInterval;\n      let caretContainerNode;\n      const caretBlock = getForcedRootBlock(editor);\n      const dom = editor.dom;\n      const show = (before, element) => {\n        let rng;\n        hide();\n        if (isTableCell$1(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          const caretContainer = insertBlock(caretBlock, element, before);\n          const clientRect = getAbsoluteClientRect(root, element, before);\n          dom.setStyle(caretContainer, 'top', clientRect.top);\n          caretContainerNode = caretContainer;\n          const caret = dom.create('div', {\n            'class': 'mce-visual-caret',\n            'data-mce-bogus': 'all'\n          });\n          dom.setStyles(caret, { ...clientRect });\n          dom.add(root, caret);\n          lastVisualCaret.set({\n            caret,\n            element,\n            before\n          });\n          if (before) {\n            dom.addClass(caret, 'mce-visual-caret-before');\n          }\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainer, 0);\n          rng.setEnd(caretContainer, 0);\n        } else {\n          caretContainerNode = insertInline$1(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      const hide = () => {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$3(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.on(caretState => {\n          dom.remove(caretState.caret);\n          lastVisualCaret.clear();\n        });\n        if (cursorInterval) {\n          clearInterval(cursorInterval);\n          cursorInterval = undefined;\n        }\n      };\n      const startBlink = () => {\n        cursorInterval = setInterval(() => {\n          lastVisualCaret.on(caretState => {\n            if (hasFocus()) {\n              dom.toggleClass(caretState.caret, 'mce-visual-caret-hidden');\n            } else {\n              dom.addClass(caretState.caret, 'mce-visual-caret-hidden');\n            }\n          });\n        }, 500);\n      };\n      const reposition = () => {\n        lastVisualCaret.on(caretState => {\n          const clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          dom.setStyles(caretState.caret, { ...clientRect });\n        });\n      };\n      const destroy = () => clearInterval(cursorInterval);\n      const getCss = () => '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      return {\n        show,\n        hide,\n        getCss,\n        reposition,\n        destroy\n      };\n    };\n    const isFakeCaretTableBrowser = () => Env.browser.isFirefox();\n    const isInlineFakeCaretTarget = node => isContentEditableFalse$8(node) || isMedia$1(node);\n    const isFakeCaretTarget = node => {\n      const isTarget = isInlineFakeCaretTarget(node) || isTable$2(node) && isFakeCaretTableBrowser();\n      return isTarget && parentElement(SugarElement.fromDom(node)).exists(isEditable$2);\n    };\n\n    const isContentEditableTrue$1 = isContentEditableTrue$3;\n    const isContentEditableFalse$7 = isContentEditableFalse$b;\n    const isMedia = isMedia$2;\n    const isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    const isCaretContainer = isCaretContainer$2;\n    const isCaretContainerBlock = isCaretContainerBlock$1;\n    const isElement$2 = isElement$6;\n    const isText$4 = isText$a;\n    const isCaretCandidate$1 = isCaretCandidate$3;\n    const isForwards = direction => direction > 0;\n    const isBackwards = direction => direction < 0;\n    const skipCaretContainers = (walk, shallow) => {\n      let node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const findNode = (node, direction, predicateFn, rootNode, shallow) => {\n      const walker = new DomTreeWalker(node, rootNode);\n      const isCefOrCaretContainer = isContentEditableFalse$7(node) || isCaretContainerBlock(node);\n      let tempNode;\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          tempNode = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n        while (tempNode = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          tempNode = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n        while (tempNode = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n      }\n      return null;\n    };\n    const getEditingHost = (node, rootNode) => {\n      const isCETrue = node => isContentEditableTrue$1(node.dom);\n      const isRoot = node => node.dom === rootNode;\n      return ancestor$4(SugarElement.fromDom(node), isCETrue, isRoot).map(elm => elm.dom).getOr(rootNode);\n    };\n    const getParentBlock$3 = (node, rootNode) => {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    const isInSameBlock = (caretPosition1, caretPosition2, rootNode) => getParentBlock$3(caretPosition1.container(), rootNode) === getParentBlock$3(caretPosition2.container(), rootNode);\n    const getChildNodeAtRelativeOffset = (relativeOffset, caretPosition) => {\n      if (!caretPosition) {\n        return Optional.none();\n      }\n      const container = caretPosition.container();\n      const offset = caretPosition.offset();\n      if (!isElement$2(container)) {\n        return Optional.none();\n      }\n      return Optional.from(container.childNodes[offset + relativeOffset]);\n    };\n    const beforeAfter = (before, node) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const range = doc.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    const isNodesInSameBlock = (root, node1, node2) => getParentBlock$3(node1, root) === getParentBlock$3(node2, root);\n    const lean = (left, root, node) => {\n      const siblingName = left ? 'previousSibling' : 'nextSibling';\n      let tempNode = node;\n      while (tempNode && tempNode !== root) {\n        let sibling = tempNode[siblingName];\n        if (sibling && isCaretContainer(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$7(sibling) || isMedia(sibling)) {\n          if (isNodesInSameBlock(root, sibling, tempNode)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$1(sibling)) {\n          break;\n        }\n        tempNode = tempNode.parentNode;\n      }\n      return null;\n    };\n    const before$2 = curry(beforeAfter, true);\n    const after$2 = curry(beforeAfter, false);\n    const normalizeRange = (direction, root, range) => {\n      let node;\n      const leanLeft = curry(lean, true, root);\n      const leanRight = curry(lean, false, root);\n      const container = range.startContainer;\n      const offset = range.startOffset;\n      if (isCaretContainerBlock$1(container)) {\n        const block = isText$4(container) ? container.parentNode : container;\n        const location = block.getAttribute('data-mce-caret');\n        if (location === 'before') {\n          node = block.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location === 'after') {\n          node = block.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$2(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$a(container)) {\n        if (isCaretContainer(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer$1(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer$1(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    const getRelativeCefElm = (forward, caretPosition) => getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition).filter(isContentEditableFalse$7);\n    const getNormalizedRangeEndPoint = (direction, root, range) => {\n      const normalizedRange = normalizeRange(direction, root, range);\n      return direction === -1 ? CaretPosition.fromRangeStart(normalizedRange) : CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    const getElementFromPosition = pos => Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    const getElementFromPrevPosition = pos => Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    const getVisualCaretPosition = (walkFn, caretPosition) => {\n      let pos = caretPosition;\n      while (pos = walkFn(pos)) {\n        if (pos.isVisible()) {\n          return pos;\n        }\n      }\n      return pos;\n    };\n    const isMoveInsideSameBlock = (from, to) => {\n      const inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr$6(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    const isContentEditableFalse$6 = isContentEditableFalse$b;\n    const isText$3 = isText$a;\n    const isElement$1 = isElement$6;\n    const isBr$2 = isBr$6;\n    const isCaretCandidate = isCaretCandidate$3;\n    const isAtomic = isAtomic$1;\n    const isEditableCaretCandidate = isEditableCaretCandidate$1;\n    const getParents$3 = (node, root) => {\n      const parents = [];\n      let tempNode = node;\n      while (tempNode && tempNode !== root) {\n        parents.push(tempNode);\n        tempNode = tempNode.parentNode;\n      }\n      return parents;\n    };\n    const nodeAtIndex = (container, offset) => {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    const getCaretCandidatePosition = (direction, node) => {\n      if (isForwards(direction)) {\n        if (isCaretCandidate(node.previousSibling) && !isText$3(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$3(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate(node.nextSibling) && !isText$3(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$3(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$2(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    const moveForwardFromBr = (root, nextNode) => {\n      const nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate(nextSibling)) {\n        if (isText$3(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition$1(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    const findCaretPosition$1 = (direction, startPos, root) => {\n      let node;\n      let nextNode;\n      let innerNode;\n      let caretPosition;\n      if (!isElement$1(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate(root.lastChild) && isElement$1(root.lastChild)) {\n          return isBr$2(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      const container = caretPosition.container();\n      let offset = caretPosition.offset();\n      if (isText$3(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate(nextNode)) {\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$3(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$3(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate(nextNode)) {\n            if (isBr$2(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$3(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$3(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (node && (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart())) {\n        node = findNode(node, direction, always, root, true);\n        if (isEditableCaretCandidate(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = node ? findNode(node, direction, isEditableCaretCandidate, root) : node;\n      const rootContentEditableFalseElm = last$2(filter$5(getParents$3(container, root), isContentEditableFalse$6));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    const CaretWalker = root => ({\n      next: caretPosition => {\n        return findCaretPosition$1(HDirection.Forwards, caretPosition, root);\n      },\n      prev: caretPosition => {\n        return findCaretPosition$1(HDirection.Backwards, caretPosition, root);\n      }\n    });\n\n    const walkToPositionIn = (forward, root, start) => {\n      const position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    const afterElement = node => isBr$6(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    const isBeforeOrStart = position => {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate$3(position.getNode());\n      }\n    };\n    const isAfterOrEnd = position => {\n      if (CaretPosition.isTextPosition(position)) {\n        const container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate$3(position.getNode(true));\n      }\n    };\n    const isBeforeAfterSameElement = (from, to) => !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    const isAtBr = position => !CaretPosition.isTextPosition(position) && isBr$6(position.getNode());\n    const shouldSkipPosition = (forward, from, to) => {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    const fromPosition = (forward, root, pos) => {\n      const walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    const navigate = (forward, root, from) => fromPosition(forward, root, from).bind(to => {\n      if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n        return fromPosition(forward, root, to);\n      } else {\n        return Optional.some(to);\n      }\n    });\n    const navigateIgnore = (forward, root, from, ignoreFilter) => navigate(forward, root, from).bind(pos => ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos));\n    const positionIn = (forward, element) => {\n      const startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$a(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate$3(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const nextPosition = curry(fromPosition, true);\n    const prevPosition = curry(fromPosition, false);\n    const firstPositionIn = curry(positionIn, true);\n    const lastPositionIn = curry(positionIn, false);\n\n    const CARET_ID = '_mce_caret';\n    const isCaretNode = node => isElement$6(node) && node.id === CARET_ID;\n    const getParentCaretContainer = (body, node) => {\n      let currentNode = node;\n      while (currentNode && currentNode !== body) {\n        if (isCaretNode(currentNode)) {\n          return currentNode;\n        }\n        currentNode = currentNode.parentNode;\n      }\n      return null;\n    };\n\n    const isStringPathBookmark = bookmark => isString(bookmark.start);\n    const isRangeBookmark = bookmark => has$2(bookmark, 'rng');\n    const isIdBookmark = bookmark => has$2(bookmark, 'id');\n    const isIndexBookmark = bookmark => has$2(bookmark, 'name');\n    const isPathBookmark = bookmark => Tools.isArray(bookmark.start);\n\n    const isForwardBookmark = bookmark => !isIndexBookmark(bookmark) && isBoolean(bookmark.forward) ? bookmark.forward : true;\n    const addBogus = (dom, node) => {\n      if (isElement$6(node) && dom.isBlock(node) && !node.innerHTML) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    const resolveCaretPositionBookmark = (dom, bookmark) => {\n      const startPos = Optional.from(resolve$1(dom.getRoot(), bookmark.start));\n      const endPos = Optional.from(resolve$1(dom.getRoot(), bookmark.end));\n      return lift2(startPos, endPos, (start, end) => {\n        const range = dom.createRng();\n        range.setStart(start.container(), start.offset());\n        range.setEnd(end.container(), end.offset());\n        return {\n          range,\n          forward: isForwardBookmark(bookmark)\n        };\n      });\n    };\n    const insertZwsp = (node, rng) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const textNode = doc.createTextNode(ZWSP$1);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    const isEmpty$1 = node => !node.hasChildNodes();\n    const tryFindRangePosition = (node, rng) => lastPositionIn(node).fold(never, pos => {\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      return true;\n    });\n    const padEmptyCaretContainer = (root, node, rng) => {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const setEndPoint = (dom, start, bookmark, rng) => {\n      const point = bookmark[start ? 'start' : 'end'];\n      const root = dom.getRoot();\n      if (point) {\n        let node = root;\n        let offset = point[0];\n        for (let i = point.length - 1; node && i >= 1; i--) {\n          const children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (isText$a(node)) {\n          offset = Math.min(point[0], node.data.length);\n        }\n        if (isElement$6(node)) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    const isValidTextNode = node => isText$a(node) && node.data.length > 0;\n    const restoreEndPoint = (dom, suffix, bookmark) => {\n      const marker = dom.get(bookmark.id + '_' + suffix);\n      const markerParent = marker === null || marker === void 0 ? void 0 : marker.parentNode;\n      const keep = bookmark.keep;\n      if (marker && markerParent) {\n        let container;\n        let offset;\n        if (suffix === 'start') {\n          if (!keep) {\n            container = markerParent;\n            offset = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              container = marker.firstChild;\n              offset = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              container = marker.nextSibling;\n              offset = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              container = marker.previousSibling;\n              offset = marker.previousSibling.data.length;\n            } else {\n              container = markerParent;\n              offset = dom.nodeIndex(marker) + 1;\n            }\n          }\n        } else {\n          if (!keep) {\n            container = markerParent;\n            offset = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              container = marker.firstChild;\n              offset = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              container = marker.previousSibling;\n              offset = marker.previousSibling.data.length;\n            } else {\n              container = markerParent;\n              offset = dom.nodeIndex(marker);\n            }\n          }\n        }\n        if (!keep) {\n          const prev = marker.previousSibling;\n          const next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), node => {\n            if (isText$a(node)) {\n              node.data = node.data.replace(/\\uFEFF/g, '');\n            }\n          });\n          let otherMarker;\n          while (otherMarker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(otherMarker, true);\n          }\n          if (isText$a(next) && isText$a(prev) && !Env.browser.isOpera()) {\n            const idx = prev.data.length;\n            prev.appendData(next.data);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const resolvePaths = (dom, bookmark) => {\n      const range = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, range) && setEndPoint(dom, false, bookmark, range)) {\n        return Optional.some({\n          range,\n          forward: isForwardBookmark(bookmark)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const resolveId = (dom, bookmark) => {\n      const startPos = restoreEndPoint(dom, 'start', bookmark);\n      const endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), (spos, epos) => {\n        const range = dom.createRng();\n        range.setStart(addBogus(dom, spos.container()), spos.offset());\n        range.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return {\n          range,\n          forward: isForwardBookmark(bookmark)\n        };\n      });\n    };\n    const resolveIndex = (dom, bookmark) => Optional.from(dom.select(bookmark.name)[bookmark.index]).map(elm => {\n      const range = dom.createRng();\n      range.selectNode(elm);\n      return {\n        range,\n        forward: true\n      };\n    });\n    const resolve = (selection, bookmark) => {\n      const dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return resolveCaretPositionBookmark(dom, bookmark);\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some({\n            range: bookmark.rng,\n            forward: isForwardBookmark(bookmark)\n          });\n        }\n      }\n      return Optional.none();\n    };\n\n    const getBookmark$1 = (selection, type, normalized) => {\n      return getBookmark$2(selection, type, normalized);\n    };\n    const moveToBookmark = (selection, bookmark) => {\n      resolve(selection, bookmark).each(({range, forward}) => {\n        selection.setRng(range, forward);\n      });\n    };\n    const isBookmarkNode$1 = node => {\n      return isElement$6(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    const is = expected => actual => expected === actual;\n    const isNbsp = is(nbsp);\n    const isWhiteSpace = chr => chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    const isContent = chr => !isWhiteSpace(chr) && !isNbsp(chr) && !isZwsp$2(chr);\n\n    const getRanges$1 = selection => {\n      const ranges = [];\n      if (selection) {\n        for (let i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    const getSelectedNodes = ranges => {\n      return bind$3(ranges, range => {\n        const node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    const hasMultipleRanges = selection => {\n      return getRanges$1(selection).length > 1;\n    };\n\n    const getCellsFromRanges = ranges => filter$5(getSelectedNodes(ranges), isTableCell$2);\n    const getCellsFromElement = elm => descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    const getCellsFromElementOrRanges = (ranges, element) => {\n      const selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    const getCellsFromEditor = editor => getCellsFromElementOrRanges(getRanges$1(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    const getClosestTable = (cell, isRoot) => ancestor$3(cell, 'table', isRoot);\n\n    const getStartNode = rng => {\n      const sc = rng.startContainer, so = rng.startOffset;\n      if (isText$a(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    const getEndNode = rng => {\n      const ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$a(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    const getFirstChildren = node => {\n      return firstChild(node).fold(constant([node]), child => {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    const getLastChildren = node => {\n      return lastChild(node).fold(constant([node]), child => {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(sibling => {\n            return [node].concat(getLastChildren(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren(child));\n        }\n      });\n    };\n    const hasAllContentsSelected = (elm, rng) => {\n      return lift2(getStartNode(rng), getEndNode(rng), (startNode, endNode) => {\n        const start = find$2(getFirstChildren(elm), curry(eq, startNode));\n        const end = find$2(getLastChildren(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    const moveEndPoint = (dom, rng, node, start) => {\n      const root = node;\n      const walker = new DomTreeWalker(node, root);\n      const moveCaretBeforeOnEnterElementsMap = filter$4(dom.schema.getMoveCaretBeforeOnEnterElements(), (_, name) => !contains$2([\n        'td',\n        'th',\n        'table'\n      ], name.toLowerCase()));\n      let currentNode = node;\n      do {\n        if (isText$a(currentNode) && Tools.trim(currentNode.data).length !== 0) {\n          if (start) {\n            rng.setStart(currentNode, 0);\n          } else {\n            rng.setEnd(currentNode, currentNode.data.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[currentNode.nodeName]) {\n          if (start) {\n            rng.setStartBefore(currentNode);\n          } else {\n            if (currentNode.nodeName === 'BR') {\n              rng.setEndBefore(currentNode);\n            } else {\n              rng.setEndAfter(currentNode);\n            }\n          }\n          return;\n        }\n      } while (currentNode = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    const hasAnyRanges = editor => {\n      const sel = editor.selection.getSel();\n      return isNonNullable(sel) && sel.rangeCount > 0;\n    };\n    const runOnRanges = (editor, executor) => {\n      const fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each$e(fakeSelectionNodes, elem => {\n          const node = elem.dom;\n          const fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    const preserve = (selection, fillBookmark, executor) => {\n      const bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    const isNode = node => isNumber(node === null || node === void 0 ? void 0 : node.nodeType);\n    const isElementNode$1 = node => isElement$6(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    const isElementDirectlySelected = (dom, node) => {\n      if (isElementNode$1(node) && !/^(TD|TH)$/.test(node.nodeName)) {\n        const selectedAttr = dom.getAttrib(node, 'data-mce-selected');\n        const value = parseInt(selectedAttr, 10);\n        return !isNaN(value) && value > 0;\n      } else {\n        return false;\n      }\n    };\n    const preserveSelection = (editor, action, shouldMoveStart) => {\n      const {selection, dom} = editor;\n      const selectedNodeBeforeAction = selection.getNode();\n      const isSelectedBeforeNodeNoneditable = isContentEditableFalse$b(selectedNodeBeforeAction);\n      preserve(selection, true, () => {\n        action();\n      });\n      const isBeforeNodeStillNoneditable = isSelectedBeforeNodeNoneditable && isContentEditableFalse$b(selectedNodeBeforeAction);\n      if (isBeforeNodeStillNoneditable && dom.isChildOf(selectedNodeBeforeAction, editor.getBody())) {\n        editor.selection.select(selectedNodeBeforeAction);\n      } else if (shouldMoveStart(selection.getStart())) {\n        moveStartToNearestText(dom, selection);\n      }\n    };\n    const moveStartToNearestText = (dom, selection) => {\n      var _a, _b;\n      const rng = selection.getRng();\n      const {startContainer, startOffset} = rng;\n      const selectedNode = selection.getNode();\n      if (isElementDirectlySelected(dom, selectedNode)) {\n        return;\n      }\n      if (isElement$6(startContainer)) {\n        const nodes = startContainer.childNodes;\n        const root = dom.getRoot();\n        let walker;\n        if (startOffset < nodes.length) {\n          const startNode = nodes[startOffset];\n          walker = new DomTreeWalker(startNode, (_a = dom.getParent(startNode, dom.isBlock)) !== null && _a !== void 0 ? _a : root);\n        } else {\n          const startNode = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(startNode, (_b = dom.getParent(startNode, dom.isBlock)) !== null && _b !== void 0 ? _b : root);\n          walker.next(true);\n        }\n        for (let node = walker.current(); node; node = walker.next()) {\n          if (dom.getContentEditable(node) === 'false') {\n            return;\n          } else if (isText$a(node) && !isWhiteSpaceNode$1(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    const getNonWhiteSpaceSibling = (node, next, inc) => {\n      if (node) {\n        const nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (isElement$6(node) || !isWhiteSpaceNode$1(node)) {\n            return node;\n          }\n        }\n      }\n      return undefined;\n    };\n    const isTextBlock$1 = (schema, node) => !!schema.getTextBlockElements()[node.nodeName.toLowerCase()] || isTransparentBlock(schema, node);\n    const isValid = (ed, parent, child) => {\n      return ed.schema.isValidChild(parent, child);\n    };\n    const isWhiteSpaceNode$1 = (node, allowSpaces = false) => {\n      if (isNonNullable(node) && isText$a(node)) {\n        const data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    const isEmptyTextNode$1 = node => {\n      return isNonNullable(node) && isText$a(node) && node.length === 0;\n    };\n    const isWrapNoneditableTarget = (editor, node) => {\n      const baseDataSelector = '[data-mce-cef-wrappable]';\n      const formatNoneditableSelector = getFormatNoneditableSelector(editor);\n      const selector = isEmpty$3(formatNoneditableSelector) ? baseDataSelector : `${ baseDataSelector },${ formatNoneditableSelector }`;\n      return is$1(SugarElement.fromDom(node), selector);\n    };\n    const isWrappableNoneditable = (editor, node) => {\n      const dom = editor.dom;\n      return isElementNode$1(node) && dom.getContentEditable(node) === 'false' && isWrapNoneditableTarget(editor, node) && dom.select('[contenteditable=\"true\"]', node).length === 0;\n    };\n    const replaceVars = (value, vars) => {\n      if (isFunction(value)) {\n        return value(vars);\n      } else if (isNonNullable(vars)) {\n        value = value.replace(/%(\\w+)/g, (str, name) => {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    const isEq$5 = (str1, str2) => {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    const normalizeStyleValue = (value, name) => {\n      if (isNullable(value)) {\n        return null;\n      } else {\n        let strValue = String(value);\n        if (name === 'color' || name === 'backgroundColor') {\n          strValue = rgbaToHexString(strValue);\n        }\n        if (name === 'fontWeight' && value === 700) {\n          strValue = 'bold';\n        }\n        if (name === 'fontFamily') {\n          strValue = strValue.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n        }\n        return strValue;\n      }\n    };\n    const getStyle = (dom, node, name) => {\n      const style = dom.getStyle(node, name);\n      return normalizeStyleValue(style, name);\n    };\n    const getTextDecoration = (dom, node) => {\n      let decoration;\n      dom.getParent(node, n => {\n        if (isElement$6(n)) {\n          decoration = dom.getStyle(n, 'text-decoration');\n          return !!decoration && decoration !== 'none';\n        } else {\n          return false;\n        }\n      });\n      return decoration;\n    };\n    const getParents$2 = (dom, node, selector) => {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    const isFormatPredicate = (editor, formatName, predicate) => {\n      const formats = editor.formatter.get(formatName);\n      return isNonNullable(formats) && exists(formats, predicate);\n    };\n    const isVariableFormatName = (editor, formatName) => {\n      const hasVariableValues = format => {\n        const isVariableValue = val => isFunction(val) || val.length > 1 && val.charAt(0) === '%';\n        return exists([\n          'styles',\n          'attributes'\n        ], key => get$a(format, key).exists(field => {\n          const fieldValues = isArray$1(field) ? field : values(field);\n          return exists(fieldValues, isVariableValue);\n        }));\n      };\n      return isFormatPredicate(editor, formatName, hasVariableValues);\n    };\n    const areSimilarFormats = (editor, formatName, otherFormatName) => {\n      const validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      const filterObj = format => filter$4(format, (_, key) => exists(validKeys, validKey => validKey === key));\n      return isFormatPredicate(editor, formatName, fmt1 => {\n        const filteredFmt1 = filterObj(fmt1);\n        return isFormatPredicate(editor, otherFormatName, fmt2 => {\n          const filteredFmt2 = filterObj(fmt2);\n          return equal$1(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    const isBlockFormat = format => hasNonNullableKey(format, 'block');\n    const isWrappingBlockFormat = format => isBlockFormat(format) && format.wrapper === true;\n    const isNonWrappingBlockFormat = format => isBlockFormat(format) && format.wrapper !== true;\n    const isSelectorFormat = format => hasNonNullableKey(format, 'selector');\n    const isInlineFormat = format => hasNonNullableKey(format, 'inline');\n    const isMixedFormat = format => isSelectorFormat(format) && isInlineFormat(format) && is$2(get$a(format, 'mixed'), true);\n    const shouldExpandToSelector = format => isSelectorFormat(format) && format.expand !== false && !isInlineFormat(format);\n    const getEmptyCaretContainers = node => {\n      const nodes = [];\n      let tempNode = node;\n      while (tempNode) {\n        if (isText$a(tempNode) && tempNode.data !== ZWSP$1 || tempNode.childNodes.length > 1) {\n          return [];\n        }\n        if (isElement$6(tempNode)) {\n          nodes.push(tempNode);\n        }\n        tempNode = tempNode.firstChild;\n      }\n      return nodes;\n    };\n    const isCaretContainerEmpty = node => {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    const isEmptyCaretFormatElement = element => {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    const isBookmarkNode = isBookmarkNode$1;\n    const getParents$1 = getParents$2;\n    const isWhiteSpaceNode = isWhiteSpaceNode$1;\n    const isTextBlock = isTextBlock$1;\n    const isBogusBr = node => {\n      return isBr$6(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    const findParentContentEditable = (dom, node) => {\n      let parent = node;\n      while (parent) {\n        if (isElement$6(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    const walkText = (start, node, offset, predicate) => {\n      const str = node.data;\n      if (start) {\n        for (let i = offset; i > 0; i--) {\n          if (predicate(str.charAt(i - 1))) {\n            return i;\n          }\n        }\n      } else {\n        for (let i = offset; i < str.length; i++) {\n          if (predicate(str.charAt(i))) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    const findSpace = (start, node, offset) => walkText(start, node, offset, c => isNbsp(c) || isWhiteSpace(c));\n    const findContent = (start, node, offset) => walkText(start, node, offset, isContent);\n    const findWordEndPoint = (dom, body, container, offset, start, includeTrailingSpaces) => {\n      let lastTextNode;\n      const rootNode = dom.getParent(container, dom.isBlock) || body;\n      const walk = (container, offset, pred) => {\n        const textSeeker = TextSeeker(dom);\n        const walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, (text, textOffset) => {\n          if (isBookmarkNode(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      const spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(result => includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result)).orThunk(() => lastTextNode ? Optional.some({\n        container: lastTextNode,\n        offset: start ? 0 : lastTextNode.length\n      }) : Optional.none());\n    };\n    const findSelectorEndPoint = (dom, formatList, rng, container, siblingName) => {\n      const sibling = container[siblingName];\n      if (isText$a(container) && isEmpty$3(container.data) && sibling) {\n        container = sibling;\n      }\n      const parents = getParents$1(dom, container);\n      for (let i = 0; i < parents.length; i++) {\n        for (let y = 0; y < formatList.length; y++) {\n          const curFormat = formatList[y];\n          if (isNonNullable(curFormat.collapsed) && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (isSelectorFormat(curFormat) && dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    const findBlockEndPoint = (dom, formatList, container, siblingName) => {\n      var _a;\n      let node = container;\n      const root = dom.getRoot();\n      const format = formatList[0];\n      if (isBlockFormat(format)) {\n        node = format.wrapper ? null : dom.getParent(container, format.block, root);\n      }\n      if (!node) {\n        const scopeRoot = (_a = dom.getParent(container, 'LI,TD,TH,SUMMARY')) !== null && _a !== void 0 ? _a : root;\n        node = dom.getParent(isText$a(container) ? container.parentNode : container, node => node !== root && isTextBlock(dom.schema, node), scopeRoot);\n      }\n      if (node && isBlockFormat(format) && format.wrapper) {\n        node = getParents$1(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node && node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq$5(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    const isAtBlockBoundary$1 = (dom, root, container, siblingName) => {\n      const parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary$1(dom, root, parent, siblingName);\n      }\n    };\n    const findParentContainer = (dom, formatList, container, offset, start) => {\n      let parent = container;\n      const siblingName = start ? 'previousSibling' : 'nextSibling';\n      const root = dom.getRoot();\n      if (isText$a(container) && !isWhiteSpaceNode(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (parent) {\n        if (!formatList[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (let sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          const allowSpaces = isText$a(sibling) && !isAtBlockBoundary$1(dom, root, sibling, siblingName);\n          if (!isBookmarkNode(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    const isSelfOrParentBookmark = container => isBookmarkNode(container.parentNode) || isBookmarkNode(container);\n    const expandRng = (dom, rng, formatList, includeTrailingSpace = false) => {\n      let {startContainer, startOffset, endContainer, endOffset} = rng;\n      const format = formatList[0];\n      if (isElement$6(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode$1(startContainer, startOffset);\n        if (isText$a(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$6(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode$1(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$a(endContainer)) {\n          endOffset = endContainer.data.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$a(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$a(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        const startPoint = findWordEndPoint(dom, dom.getRoot(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(({container, offset}) => {\n          startContainer = container;\n          startOffset = offset;\n        });\n        const endPoint = findWordEndPoint(dom, dom.getRoot(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(({container, offset}) => {\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (isInlineFormat(format) || format.block_expand) {\n        if (!isInlineFormat(format) || (!isText$a(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n        }\n        if (!isInlineFormat(format) || (!isText$a(endContainer) || endOffset === endContainer.data.length)) {\n          endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n        }\n      }\n      if (shouldExpandToSelector(format)) {\n        startContainer = findSelectorEndPoint(dom, formatList, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, formatList, rng, endContainer, 'nextSibling');\n      }\n      if (isBlockFormat(format) || isSelectorFormat(format)) {\n        startContainer = findBlockEndPoint(dom, formatList, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(dom, formatList, endContainer, 'nextSibling');\n        if (isBlockFormat(format)) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$6(startContainer) && startContainer.parentNode) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$6(endContainer) && endContainer.parentNode) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer,\n        startOffset,\n        endContainer,\n        endOffset\n      };\n    };\n\n    const walk$3 = (dom, rng, callback) => {\n      var _a;\n      const startOffset = rng.startOffset;\n      const startContainer = getNode$1(rng.startContainer, startOffset);\n      const endOffset = rng.endOffset;\n      const endContainer = getNode$1(rng.endContainer, endOffset - 1);\n      const exclude = nodes => {\n        const firstNode = nodes[0];\n        if (isText$a(firstNode) && firstNode === startContainer && startOffset >= firstNode.data.length) {\n          nodes.splice(0, 1);\n        }\n        const lastNode = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && lastNode === endContainer && isText$a(lastNode)) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      const collectSiblings = (node, name, endNode) => {\n        const siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      const findEndPoint = (node, root) => dom.getParent(node, node => node.parentNode === root, root);\n      const walkBoundary = (startNode, endNode, next) => {\n        const siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (let node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n          parent = node.parentNode;\n          const siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings.length) {\n            if (!next) {\n              siblings.reverse();\n            }\n            callback(exclude(siblings));\n          }\n        }\n      };\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      const ancestor = (_a = dom.findCommonAncestor(startContainer, endContainer)) !== null && _a !== void 0 ? _a : dom.getRoot();\n      if (dom.isChildOf(startContainer, endContainer)) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (dom.isChildOf(endContainer, startContainer)) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      const startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      const endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      const siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    const validBlocks = [\n      'pre[class*=language-][contenteditable=\"false\"]',\n      'figure.image',\n      'div[data-ephox-embed-iri]',\n      'div.tiny-pageembed',\n      'div.mce-toc',\n      'div[data-mce-toc]'\n    ];\n    const isZeroWidth = elem => isText$b(elem) && get$3(elem) === ZWSP$1;\n    const context = (editor, elem, wrapName, nodeName) => parent(elem).fold(() => 'skipping', parent => {\n      if (nodeName === 'br' || isZeroWidth(elem)) {\n        return 'valid';\n      } else if (isAnnotation(elem)) {\n        return 'existing';\n      } else if (isCaretNode(elem.dom)) {\n        return 'caret';\n      } else if (exists(validBlocks, selector => is$1(elem, selector))) {\n        return 'valid-block';\n      } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n        return 'invalid-child';\n      } else {\n        return 'valid';\n      }\n    });\n\n    const applyWordGrab = (editor, rng) => {\n      const r = expandRng(editor.dom, rng, [{ inline: 'span' }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    const applyAnnotation = (elem, masterUId, data, annotationName, decorate, directAnnotation) => {\n      const {uid = masterUId, ...otherData} = data;\n      add$2(elem, annotation());\n      set$3(elem, `${ dataAnnotationId() }`, uid);\n      set$3(elem, `${ dataAnnotation() }`, annotationName);\n      const {attributes = {}, classes = []} = decorate(uid, otherData);\n      setAll$1(elem, attributes);\n      add(elem, classes);\n      if (directAnnotation) {\n        if (classes.length > 0) {\n          set$3(elem, `${ dataAnnotationClasses() }`, classes.join(','));\n        }\n        const attributeNames = keys(attributes);\n        if (attributeNames.length > 0) {\n          set$3(elem, `${ dataAnnotationAttributes() }`, attributeNames.join(','));\n        }\n      }\n    };\n    const removeDirectAnnotation = elem => {\n      remove$7(elem, annotation());\n      remove$a(elem, `${ dataAnnotationId() }`);\n      remove$a(elem, `${ dataAnnotation() }`);\n      remove$a(elem, `${ dataAnnotationActive() }`);\n      const customAttrNames = getOpt(elem, `${ dataAnnotationAttributes() }`).map(names => names.split(',')).getOr([]);\n      const customClasses = getOpt(elem, `${ dataAnnotationClasses() }`).map(names => names.split(',')).getOr([]);\n      each$e(customAttrNames, name => remove$a(elem, name));\n      remove$4(elem, customClasses);\n      remove$a(elem, `${ dataAnnotationClasses() }`);\n      remove$a(elem, `${ dataAnnotationAttributes() }`);\n    };\n    const makeAnnotation = (eDoc, uid, data, annotationName, decorate) => {\n      const master = SugarElement.fromTag('span', eDoc);\n      applyAnnotation(master, uid, data, annotationName, decorate, false);\n      return master;\n    };\n    const annotate = (editor, rng, uid, annotationName, decorate, data) => {\n      const newWrappers = [];\n      const master = makeAnnotation(editor.getDoc(), uid, data, annotationName, decorate);\n      const wrapper = value$2();\n      const finishWrapper = () => {\n        wrapper.clear();\n      };\n      const getOrOpenWrapper = () => wrapper.get().getOrThunk(() => {\n        const nu = shallow$1(master);\n        newWrappers.push(nu);\n        wrapper.set(nu);\n        return nu;\n      });\n      const processElements = elems => {\n        each$e(elems, processElement);\n      };\n      const processElement = elem => {\n        const ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            const children = children$1(elem);\n            processElements(children);\n            finishWrapper();\n            break;\n          }\n        case 'valid-block': {\n            finishWrapper();\n            applyAnnotation(elem, uid, data, annotationName, decorate, true);\n            break;\n          }\n        case 'valid': {\n            const w = getOrOpenWrapper();\n            wrap$2(elem, w);\n            break;\n          }\n        }\n      };\n      const processNodes = nodes => {\n        const elems = map$3(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$3(editor.dom, rng, nodes => {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    const annotateWithBookmark = (editor, name, settings, data) => {\n      editor.undoManager.transact(() => {\n        const selection = editor.selection;\n        const initialRng = selection.getRng();\n        const hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        const masterUid = generate$1('mce-annotation');\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          const wrapper = makeAnnotation(editor.getDoc(), masterUid, data, name, settings.decorate);\n          set$1(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, () => {\n            runOnRanges(editor, selectionRng => {\n              annotate(editor, selectionRng, masterUid, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    const Annotator = editor => {\n      const registry = create$c();\n      setup$x(editor, registry);\n      const changes = setup$y(editor, registry);\n      const isSpan = isTag('span');\n      const removeAnnotations = elements => {\n        each$e(elements, element => {\n          if (isSpan(element)) {\n            unwrap(element);\n          } else {\n            removeDirectAnnotation(element);\n          }\n        });\n      };\n      return {\n        register: (name, settings) => {\n          registry.register(name, settings);\n        },\n        annotate: (name, data) => {\n          registry.lookup(name).each(settings => {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: (name, callback) => {\n          changes.addListener(name, callback);\n        },\n        remove: name => {\n          identify(editor, Optional.some(name)).each(({elements}) => {\n            const bookmark = editor.selection.getBookmark();\n            removeAnnotations(elements);\n            editor.selection.moveToBookmark(bookmark);\n          });\n        },\n        removeAll: name => {\n          const bookmark = editor.selection.getBookmark();\n          each$d(findAll(editor, name), (elements, _) => {\n            removeAnnotations(elements);\n          });\n          editor.selection.moveToBookmark(bookmark);\n        },\n        getAll: name => {\n          const directory = findAll(editor, name);\n          return map$2(directory, elems => map$3(elems, elem => elem.dom));\n        }\n      };\n    };\n\n    const BookmarkManager = selection => {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    const isXYWithinRange = (clientX, clientY, range) => {\n      if (range.collapsed) {\n        return false;\n      } else {\n        return exists(range.getClientRects(), rect => containsXY(rect, clientX, clientY));\n      }\n    };\n\n    const firePreProcess = (editor, args) => editor.dispatch('PreProcess', args);\n    const firePostProcess = (editor, args) => editor.dispatch('PostProcess', args);\n    const fireRemove = editor => {\n      editor.dispatch('remove');\n    };\n    const fireDetach = editor => {\n      editor.dispatch('detach');\n    };\n    const fireSwitchMode = (editor, mode) => {\n      editor.dispatch('SwitchMode', { mode });\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const firePreInit = editor => {\n      editor.dispatch('PreInit');\n    };\n    const firePostRender = editor => {\n      editor.dispatch('PostRender');\n    };\n    const fireInit = editor => {\n      editor.dispatch('Init');\n    };\n    const firePlaceholderToggle = (editor, state) => {\n      editor.dispatch('PlaceholderToggle', { state });\n    };\n    const fireError = (editor, errorType, error) => {\n      editor.dispatch(errorType, error);\n    };\n    const fireFormatApply = (editor, format, node, vars) => {\n      editor.dispatch('FormatApply', {\n        format,\n        node,\n        vars\n      });\n    };\n    const fireFormatRemove = (editor, format, node, vars) => {\n      editor.dispatch('FormatRemove', {\n        format,\n        node,\n        vars\n      });\n    };\n    const fireBeforeSetContent = (editor, args) => editor.dispatch('BeforeSetContent', args);\n    const fireSetContent = (editor, args) => editor.dispatch('SetContent', args);\n    const fireBeforeGetContent = (editor, args) => editor.dispatch('BeforeGetContent', args);\n    const fireGetContent = (editor, args) => editor.dispatch('GetContent', args);\n    const fireAutocompleterStart = (editor, args) => {\n      editor.dispatch('AutocompleterStart', args);\n    };\n    const fireAutocompleterUpdate = (editor, args) => {\n      editor.dispatch('AutocompleterUpdate', args);\n    };\n    const fireAutocompleterEnd = editor => {\n      editor.dispatch('AutocompleterEnd');\n    };\n    const firePastePreProcess = (editor, html, internal) => editor.dispatch('PastePreProcess', {\n      content: html,\n      internal\n    });\n    const firePastePostProcess = (editor, node, internal) => editor.dispatch('PastePostProcess', {\n      node,\n      internal\n    });\n    const firePastePlainTextToggle = (editor, state) => editor.dispatch('PastePlainTextToggle', { state });\n    const fireEditableRootStateChange = (editor, state) => editor.dispatch('EditableRootStateChange', { state });\n\n    const VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: e => {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: e => {\n        return Env.os.isMacOS() || Env.os.isiOS() ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    const elementSelectionAttr = 'data-mce-selected';\n    const controlElmSelector = 'table,img,figure.image,hr,video,span.mce-preview-object,details';\n    const abs = Math.abs;\n    const round$1 = Math.round;\n    const resizeHandles = {\n      nw: [\n        0,\n        0,\n        -1,\n        -1\n      ],\n      ne: [\n        1,\n        0,\n        1,\n        -1\n      ],\n      se: [\n        1,\n        1,\n        1,\n        1\n      ],\n      sw: [\n        0,\n        1,\n        -1,\n        1\n      ]\n    };\n    const isTouchEvent = evt => evt.type === 'longpress' || evt.type.indexOf('touch') === 0;\n    const ControlSelection = (selection, editor) => {\n      const dom = editor.dom;\n      const editableDoc = editor.getDoc();\n      const rootDocument = document;\n      const rootElement = editor.getBody();\n      let selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      let startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      let width;\n      let height;\n      let startScrollWidth;\n      let startScrollHeight;\n      const isImage = elm => isNonNullable(elm) && (isImg(elm) || dom.is(elm, 'figure.image'));\n      const isMedia = elm => isMedia$2(elm) || dom.hasClass(elm, 'mce-preview-object');\n      const isEventOnImageOutsideRange = (evt, range) => {\n        if (isTouchEvent(evt)) {\n          const touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      const contextMenuSelectImage = evt => {\n        const target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      const getResizeTargets = elm => {\n        if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else {\n          return [elm];\n        }\n      };\n      const isResizable = elm => {\n        const selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return is$1(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$1(SugarElement.fromDom(elm), selector);\n        }\n      };\n      const createGhostElement = elm => {\n        if (isMedia(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      const setSizeProp = (element, name, value) => {\n        if (isNonNullable(value)) {\n          const targets = getResizeTargets(element);\n          each$e(targets, target => {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      const setGhostElmSize = (ghostElm, width, height) => {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      const resizeGhostElement = e => {\n        let deltaX, deltaY, proportional;\n        let resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round$1(width * ratio);\n            width = round$1(height / ratio);\n          } else {\n            width = round$1(height / ratio);\n            height = round$1(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      const endGhostResize = () => {\n        const wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      const showResizeRect = targetElm => {\n        unbindResizeHandleEvents();\n        const position = dom.getPos(targetElm, rootElement);\n        const selectedElmX = position.x;\n        const selectedElmY = position.y;\n        const rect = targetElm.getBoundingClientRect();\n        const targetWidth = rect.width || rect.right - rect.left;\n        const targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        const e = editor.dispatch('ObjectSelected', { target: targetElm });\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each$d(resizeHandles, (handle, name) => {\n            const startDrag = e => {\n              const target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-backdrop',\n                'data-mce-bogus': 'all'\n              });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            let handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            dom.bind(handleElm, 'mousedown', e => {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect(false);\n        }\n      };\n      const throttledShowResizeRect = first$1(showResizeRect, 0);\n      const hideResizeRect = (removeSelected = true) => {\n        throttledShowResizeRect.cancel();\n        unbindResizeHandleEvents();\n        if (selectedElm && removeSelected) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$d(resizeHandles, (value, name) => {\n          const handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      const isChildOrEqual = (node, parent) => dom.isChildOf(node, parent);\n      const updateResizeRect = e => {\n        if (resizeStarted || editor.removed || editor.composing) {\n          return;\n        }\n        const targetElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        const controlElm = closest$3(SugarElement.fromDom(targetElm), controlElmSelector).map(e => e.dom).filter(e => dom.isEditable(e.parentElement) || e.nodeName === 'IMG' && dom.isEditable(e)).getOrUndefined();\n        const selectedValue = isNonNullable(controlElm) ? dom.getAttrib(controlElm, elementSelectionAttr, '1') : '1';\n        each$e(dom.select(`img[${ elementSelectionAttr }],hr[${ elementSelectionAttr }]`), img => {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        if (isNonNullable(controlElm) && isChildOrEqual(controlElm, rootElement) && editor.hasFocus()) {\n          disableGeckoResize();\n          const startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            dom.setAttrib(controlElm, elementSelectionAttr, selectedValue);\n            throttledShowResizeRect.throttle(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      const unbindResizeHandleEvents = () => {\n        each$d(resizeHandles, handle => {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      const disableGeckoResize = () => {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', () => {\n        disableGeckoResize();\n        editor.on('NodeChange ResizeEditor ResizeWindow ResizeContent drop', updateResizeRect);\n        editor.on('keyup compositionend', e => {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      const destroy = () => {\n        throttledShowResizeRect.cancel();\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable,\n        showResizeRect,\n        hideResizeRect,\n        updateResizeRect,\n        destroy\n      };\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$a = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$a };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint$1 = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const adt$2 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$2 = situ => situ.fold(identity, identity, identity);\n    const before$1 = adt$2.before;\n    const on = adt$2.on;\n    const after$1 = adt$2.after;\n    const Situ = {\n      before: before$1,\n      on,\n      after: after$1,\n      cata,\n      getStart: getStart$2\n    };\n\n    const adt$1 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$1.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart$1 = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$1.domRange;\n    const relative = adt$1.relative;\n    const exact = adt$1.exact;\n    const getWin = selection => {\n      const start = getStart$1(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n    const preprocess = selection => selection.match({\n      domRange: rng => {\n        const start = SugarElement.fromDom(rng.startContainer);\n        const finish = SugarElement.fromDom(rng.endContainer);\n        return preprocessExact(start, rng.startOffset, finish, rng.endOffset);\n      },\n      relative: preprocessRelative,\n      exact: preprocessExact\n    });\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$e(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const toNative = selection => {\n      const win = SimSelection.getWin(selection).dom;\n      const getDomRange = (start, soffset, finish, foffset) => exactToNative(win, start, soffset, finish, foffset);\n      const filtered = preprocess(selection);\n      return diagnose(win, filtered).match({\n        ltr: getDomRange,\n        rtl: getDomRange\n      });\n    };\n    const getAtPoint = (win, x, y) => fromPoint$1(win, x, y);\n\n    const fromPoint = (clientX, clientY, doc) => {\n      const win = defaultView(SugarElement.fromDom(doc));\n      return getAtPoint(win.dom, clientX, clientY).map(simRange => {\n        const rng = doc.createRange();\n        rng.setStart(simRange.start.dom, simRange.soffset);\n        rng.setEnd(simRange.finish.dom, simRange.foffset);\n        return rng;\n      }).getOrUndefined();\n    };\n\n    const isEq$4 = (rng1, rng2) => {\n      return isNonNullable(rng1) && isNonNullable(rng2) && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    const findParent = (node, rootNode, predicate) => {\n      let currentNode = node;\n      while (currentNode && currentNode !== rootNode) {\n        if (predicate(currentNode)) {\n          return currentNode;\n        }\n        currentNode = currentNode.parentNode;\n      }\n      return null;\n    };\n    const hasParent$1 = (node, rootNode, predicate) => findParent(node, rootNode, predicate) !== null;\n    const hasParentWithName = (node, rootNode, name) => hasParent$1(node, rootNode, node => node.nodeName === name);\n    const isCeFalseCaretContainer = (node, rootNode) => isCaretContainer$2(node) && !hasParent$1(node, rootNode, isCaretNode);\n    const hasBrBeforeAfter = (dom, node, left) => {\n      const parentNode = node.parentNode;\n      if (parentNode) {\n        const walker = new DomTreeWalker(node, dom.getParent(parentNode, dom.isBlock) || dom.getRoot());\n        let currentNode;\n        while (currentNode = walker[left ? 'prev' : 'next']()) {\n          if (isBr$6(currentNode)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const isPrevNode = (node, name) => {\n      var _a;\n      return ((_a = node.previousSibling) === null || _a === void 0 ? void 0 : _a.nodeName) === name;\n    };\n    const hasContentEditableFalseParent = (root, node) => {\n      let currentNode = node;\n      while (currentNode && currentNode !== root) {\n        if (isContentEditableFalse$b(currentNode)) {\n          return true;\n        }\n        currentNode = currentNode.parentNode;\n      }\n      return false;\n    };\n    const findTextNodeRelative = (dom, isAfterNode, collapsed, left, startNode) => {\n      const body = dom.getRoot();\n      const nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      const parentNode = startNode.parentNode;\n      let lastInlineElement;\n      let node;\n      if (!parentNode) {\n        return Optional.none();\n      }\n      const parentBlockContainer = dom.getParent(parentNode, dom.isBlock) || body;\n      if (left && isBr$6(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(parentNode, dom.nodeIndex(startNode)));\n      }\n      const walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$a(node) && node.data.length > 0) {\n          if (!hasParentWithName(node, body, 'A')) {\n            return Optional.some(CaretPosition(node, left ? node.data.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (isComment(lastInlineElement)) {\n        return Optional.none();\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    const normalizeEndPoint = (dom, collapsed, start, rng) => {\n      const body = dom.getRoot();\n      let node;\n      let normalized = false;\n      let container = start ? rng.startContainer : rng.endContainer;\n      let offset = start ? rng.startOffset : rng.endOffset;\n      const isAfterNode = isElement$6(container) && offset === container.childNodes.length;\n      const nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      let directionLeft = start;\n      if (isCaretContainer$2(container)) {\n        return Optional.none();\n      }\n      if (isElement$6(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer$2(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable$2(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$a(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable$2(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer$2(container)) {\n            return Optional.none();\n          }\n          if (isDetails(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && !isTable$2(container)) {\n            node = container;\n            const walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse$b(node) || isCaretContainer$2(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$a(node) && node.data.length > 0) {\n                offset = directionLeft ? 0 : node.data.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCellOrCaption(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$a(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(pos => {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$6(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr$6(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(pos => {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$a(container) && offset === container.data.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(pos => {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized && container ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    const normalize$2 = (dom, rng) => {\n      const collapsed = rng.collapsed, normRng = rng.cloneRange();\n      const startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(pos => {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(pos => {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$4(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    const splitText = (node, offset) => {\n      return node.splitText(offset);\n    };\n    const split = rng => {\n      let startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$a(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.data.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            const newContainer = splitText(endContainer, endOffset).previousSibling;\n            startContainer = endContainer = newContainer;\n            endOffset = newContainer.data.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$a(startContainer) && startOffset > 0 && startOffset < startContainer.data.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$a(endContainer) && endOffset > 0 && endOffset < endContainer.data.length) {\n          const newContainer = splitText(endContainer, endOffset).previousSibling;\n          endContainer = newContainer;\n          endOffset = newContainer.data.length;\n        }\n      }\n      return {\n        startContainer,\n        startOffset,\n        endContainer,\n        endOffset\n      };\n    };\n\n    const RangeUtils = dom => {\n      const walk = (rng, callback) => {\n        return walk$3(dom, rng, callback);\n      };\n      const split$1 = split;\n      const normalize = rng => {\n        return normalize$2(dom, rng).fold(never, normalizedRng => {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      const expand = (rng, options = { type: 'word' }) => {\n        if (options.type === 'word') {\n          const rangeLike = expandRng(dom, rng, [{ inline: 'span' }]);\n          const newRange = dom.createRng();\n          newRange.setStart(rangeLike.startContainer, rangeLike.startOffset);\n          newRange.setEnd(rangeLike.endContainer, rangeLike.endOffset);\n          return newRange;\n        }\n        return rng;\n      };\n      return {\n        walk,\n        split: split$1,\n        expand,\n        normalize\n      };\n    };\n    RangeUtils.compareRanges = isEq$4;\n    RangeUtils.getCaretRangeFromPoint = fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode$1;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$7(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$7(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$2 = element => api.get(element);\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner = element => documentOrOwner(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner\n    });\n\n    const find = element => {\n      const doc = getDocument();\n      const scroll = get$5(doc);\n      const frames = pathTo(element, Navigation);\n      const offset = viewport(element);\n      const r = foldr(frames, (b, a) => {\n        const loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    const excludeFromDescend = element => name(element) === 'textarea';\n    const fireScrollIntoViewEvent = (editor, data) => {\n      const scrollEvent = editor.dispatch('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    const fireAfterScrollIntoViewEvent = (editor, data) => {\n      editor.dispatch('AfterScrollIntoView', data);\n    };\n    const descend = (element, offset) => {\n      const children = children$1(element);\n      if (children.length === 0 || excludeFromDescend(element)) {\n        return {\n          element,\n          offset\n        };\n      } else if (offset < children.length && !excludeFromDescend(children[offset])) {\n        return {\n          element: children[offset],\n          offset: 0\n        };\n      } else {\n        const last = children[children.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element,\n            offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$b(last)) {\n            return {\n              element: last,\n              offset: get$3(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children$1(last).length\n            };\n          }\n        }\n      }\n    };\n    const markerInfo = (element, cleanupFun) => {\n      const pos = absolute(element);\n      const height = get$2(element);\n      return {\n        element,\n        bottom: pos.top + height,\n        height,\n        pos,\n        cleanup: cleanupFun\n      };\n    };\n    const createMarker$1 = (element, offset) => {\n      const startPoint = descend(element, offset);\n      const span = SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">' + ZWSP$1 + '</span>');\n      before$3(startPoint.element, span);\n      return markerInfo(span, () => remove$5(span));\n    };\n    const elementMarker = element => markerInfo(SugarElement.fromDom(element), noop);\n    const withMarker = (editor, f, rng, alignToTop) => {\n      preserveWith(editor, (_s, _e) => applyWithMarker(editor, f, rng, alignToTop), rng);\n    };\n    const withScrollEvents = (editor, doc, f, marker, alignToTop) => {\n      const data = {\n        elm: marker.element.dom,\n        alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      const scrollTop = get$5(doc).top;\n      f(editor, doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    const applyWithMarker = (editor, f, rng, alignToTop) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      const marker = createMarker$1(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    const withElement = (editor, element, f, alignToTop) => {\n      const doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    const preserveWith = (editor, f, rng) => {\n      const startElement = rng.startContainer;\n      const startOffset = rng.startOffset;\n      const endElement = rng.endContainer;\n      const endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      const newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    const scrollToMarker = (editor, marker, viewHeight, alignToTop, doc) => {\n      const pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        const y = pos.top - viewHeight + marker.height;\n        to(-editor.getBody().getBoundingClientRect().left, y, doc);\n      }\n    };\n    const intoWindowIfNeeded = (editor, doc, scrollTop, viewHeight, marker, alignToTop) => {\n      const viewportBottom = viewHeight + scrollTop;\n      const markerTop = marker.pos.top;\n      const markerBottom = marker.bottom;\n      const largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(editor, marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        const align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(editor, marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(editor, marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    const intoWindow = (editor, doc, scrollTop, marker, alignToTop) => {\n      const viewHeight = defaultView(doc).dom.innerHeight;\n      intoWindowIfNeeded(editor, doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    const intoFrame = (editor, doc, scrollTop, marker, alignToTop) => {\n      const frameViewHeight = defaultView(doc).dom.innerHeight;\n      intoWindowIfNeeded(editor, doc, scrollTop, frameViewHeight, marker, alignToTop);\n      const op = find(marker.element);\n      const viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    const rangeIntoWindow = (editor, rng, alignToTop) => withMarker(editor, intoWindow, rng, alignToTop);\n    const elementIntoWindow = (editor, element, alignToTop) => withElement(editor, element, intoWindow, alignToTop);\n    const rangeIntoFrame = (editor, rng, alignToTop) => withMarker(editor, intoFrame, rng, alignToTop);\n    const elementIntoFrame = (editor, element, alignToTop) => withElement(editor, element, intoFrame, alignToTop);\n    const scrollElementIntoView = (editor, element, alignToTop) => {\n      const scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    const scrollRangeIntoView = (editor, rng, alignToTop) => {\n      const scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    const focus$1 = (element, preventScroll = false) => element.dom.focus({ preventScroll });\n    const hasFocus$1 = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const clamp$1 = (offset, element) => {\n      const max = isText$b(element) ? get$3(element).length : children$1(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    const normalizeRng = rng => SimSelection.range(rng.start, clamp$1(rng.soffset, rng.start), rng.finish, clamp$1(rng.foffset, rng.finish));\n    const isOrContains = (root, elm) => !isRestrictedNode(elm.dom) && (contains(root, elm) || eq(root, elm));\n    const isRngInRoot = root => rng => isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n    const shouldStore = editor => editor.inline || Env.browser.isFirefox();\n    const nativeRangeToSelectionRange = r => SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    const readRange = win => {\n      const selection = win.getSelection();\n      const rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    const getBookmark = root => {\n      const win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    const validate = (root, bookmark) => Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    const bookmarkToNativeRng = bookmark => {\n      const rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    const store = editor => {\n      const newBookmark = shouldStore(editor) ? getBookmark(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    const getRng = editor => {\n      const bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(x => validate(SugarElement.fromDom(editor.getBody()), x)).bind(bookmarkToNativeRng);\n    };\n    const restore = editor => {\n      getRng(editor).each(rng => editor.selection.setRng(rng));\n    };\n\n    const isEditorUIElement$1 = elm => {\n      const className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    const FocusManager = { isEditorUIElement: isEditorUIElement$1 };\n\n    const wrappedSetTimeout = (callback, time) => {\n      if (!isNumber(time)) {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    const wrappedSetInterval = (callback, time) => {\n      if (!isNumber(time)) {\n        time = 0;\n      }\n      return setInterval(callback, time);\n    };\n    const Delay = {\n      setEditorTimeout: (editor, callback, time) => {\n        return wrappedSetTimeout(() => {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: (editor, callback, time) => {\n        const timer = wrappedSetInterval(() => {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      }\n    };\n\n    const isManualNodeChange = e => {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    const registerPageMouseUp = (editor, throttledStore) => {\n      const mouseUpPage = () => {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', () => {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    const registerMouseUp = (editor, throttledStore) => {\n      editor.on('mouseup touchend', _e => {\n        throttledStore.throttle();\n      });\n    };\n    const registerEditorEvents = (editor, throttledStore) => {\n      registerMouseUp(editor, throttledStore);\n      editor.on('keyup NodeChange AfterSetSelectionRange', e => {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    const register$6 = editor => {\n      const throttledStore = first$1(() => {\n        store(editor);\n      }, 0);\n      editor.on('init', () => {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', () => {\n        throttledStore.cancel();\n      });\n    };\n\n    let documentFocusInHandler;\n    const DOM$9 = DOMUtils.DOM;\n    const isEditorUIElement = elm => {\n      return isElement$6(elm) && FocusManager.isEditorUIElement(elm);\n    };\n    const isEditorContentAreaElement = elm => {\n      const classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    const isUIElement = (editor, elm) => {\n      const customSelector = getCustomUiSelector(editor);\n      const parent = DOM$9.getParent(elm, elm => {\n        return isEditorUIElement(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    const getActiveElement = editor => {\n      try {\n        const root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active$1(root).fold(() => document.body, x => x.dom);\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    const registerEvents$1 = (editorManager, e) => {\n      const editor = e.editor;\n      register$6(editor);\n      const toggleContentAreaOnFocus = (editor, fn) => {\n        if (shouldHighlightOnFocus(editor) && editor.inline !== true) {\n          const contentArea = SugarElement.fromDom(editor.getContainer());\n          fn(contentArea, 'tox-edit-focus');\n        }\n      };\n      editor.on('focusin', () => {\n        const focusedEditor = editorManager.focusedEditor;\n        if (isEditorContentAreaElement(getActiveElement(editor))) {\n          toggleContentAreaOnFocus(editor, add$2);\n        }\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.dispatch('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.dispatch('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', () => {\n        Delay.setEditorTimeout(editor, () => {\n          const focusedEditor = editorManager.focusedEditor;\n          if (!isEditorContentAreaElement(getActiveElement(editor)) || focusedEditor !== editor) {\n            toggleContentAreaOnFocus(editor, remove$7);\n          }\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.dispatch('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = e => {\n          const activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(target => {\n              const elem = target;\n              if (elem.ownerDocument === document) {\n                if (elem !== document.body && !isUIElement(activeEditor, elem) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.dispatch('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$9.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    const unregisterDocumentEvents = (editorManager, e) => {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor && documentFocusInHandler) {\n        DOM$9.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    const setup$w = editorManager => {\n      editorManager.on('AddEditor', curry(registerEvents$1, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    const getContentEditableHost = (editor, node) => editor.dom.getParent(node, node => editor.dom.getContentEditable(node) === 'true');\n    const getCollapsedNode = rng => rng.collapsed ? Optional.from(getNode$1(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    const getFocusInElement = (root, rng) => getCollapsedNode(rng).bind(node => {\n      if (isTableSection(node)) {\n        return Optional.some(node);\n      } else if (!contains(root, node)) {\n        return Optional.some(root);\n      } else {\n        return Optional.none();\n      }\n    });\n    const normalizeSelection = (editor, rng) => {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(elm => {\n        return firstPositionIn(elm.dom);\n      }).fold(() => {\n        editor.selection.normalize();\n      }, caretPos => editor.selection.setRng(caretPos.toRange()));\n    };\n    const focusBody = body => {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    const hasElementFocus = elm => hasFocus$1(elm) || search(elm).isSome();\n    const hasIframeFocus = editor => isNonNullable(editor.iframeElement) && hasFocus$1(SugarElement.fromDom(editor.iframeElement));\n    const hasInlineFocus = editor => {\n      const rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    const hasUiFocus = editor => {\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active$1(dos).filter(elem => !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom)).isSome();\n    };\n    const hasFocus = editor => editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    const hasEditorOrUiFocus = editor => hasFocus(editor) || hasUiFocus(editor);\n    const focusEditor = editor => {\n      const selection = editor.selection;\n      const body = editor.getBody();\n      let rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (isNonNullable(editor.bookmark) && !hasFocus(editor)) {\n        getRng(editor).each(bookmarkRng => {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      const contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (contentEditableHost && editor.dom.isChildOf(contentEditableHost, body)) {\n        focusBody(contentEditableHost);\n        normalizeSelection(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.browser.isOpera()) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.browser.isFirefox() || editor.inline) {\n        focusBody(body);\n        normalizeSelection(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    const activateEditor = editor => editor.editorManager.setActive(editor);\n    const focus = (editor, skipFocus) => {\n      if (editor.removed) {\n        return;\n      }\n      if (skipFocus) {\n        activateEditor(editor);\n      } else {\n        focusEditor(editor);\n      }\n    };\n\n    const isEditableRange = (dom, rng) => {\n      if (rng.collapsed) {\n        return dom.isEditable(rng.startContainer);\n      } else {\n        return dom.isEditable(rng.startContainer) && dom.isEditable(rng.endContainer);\n      }\n    };\n\n    const getEndpointElement = (root, rng, start, real, resolve) => {\n      const container = start ? rng.startContainer : rng.endContainer;\n      const offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(elm => !real || !rng.collapsed ? child$1(elm, resolve(elm, offset)).getOr(elm) : elm).bind(elm => isElement$7(elm) ? Optional.some(elm) : parent(elm).filter(isElement$7)).map(elm => elm.dom).getOr(root);\n    };\n    const getStart = (root, rng, real = false) => getEndpointElement(root, rng, true, real, (elm, offset) => Math.min(childNodesCount(elm), offset));\n    const getEnd$1 = (root, rng, real = false) => getEndpointElement(root, rng, false, real, (elm, offset) => offset > 0 ? offset - 1 : offset);\n    const skipEmptyTextNodes = (node, forwards) => {\n      const orig = node;\n      while (node && isText$a(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    const getNode = (root, rng) => {\n      if (!rng) {\n        return root;\n      }\n      let startContainer = rng.startContainer;\n      let endContainer = rng.endContainer;\n      const startOffset = rng.startOffset;\n      const endOffset = rng.endOffset;\n      let node = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              node = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (isText$a(startContainer) && isText$a(endContainer)) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            node = startContainer;\n          }\n        }\n      }\n      const elm = isText$a(node) ? node.parentNode : node;\n      return isHTMLElement(elm) ? elm : root;\n    };\n    const getSelectedBlocks = (dom, rng, startElm, endElm) => {\n      const selectedBlocks = [];\n      const root = dom.getRoot();\n      const start = dom.getParent(startElm || getStart(root, rng, rng.collapsed), dom.isBlock);\n      const end = dom.getParent(endElm || getEnd$1(root, rng, rng.collapsed), dom.isBlock);\n      if (start && start !== root) {\n        selectedBlocks.push(start);\n      }\n      if (start && end && start !== end) {\n        let node;\n        const walker = new DomTreeWalker(start, root);\n        while ((node = walker.next()) && node !== end) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (end && start !== end && end !== root) {\n        selectedBlocks.push(end);\n      }\n      return selectedBlocks;\n    };\n    const select = (dom, node, content) => Optional.from(node).bind(node => Optional.from(node.parentNode).map(parent => {\n      const idx = dom.nodeIndex(node);\n      const rng = dom.createRng();\n      rng.setStart(parent, idx);\n      rng.setEnd(parent, idx + 1);\n      if (content) {\n        moveEndPoint(dom, rng, node, true);\n        moveEndPoint(dom, rng, node, false);\n      }\n      return rng;\n    }));\n\n    const processRanges = (editor, ranges) => map$3(ranges, range => {\n      const evt = editor.dispatch('GetSelectionRange', { range });\n      return evt.range !== range ? evt.range : range;\n    });\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$1(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const isContentEditableFalse$5 = elem => isHTMLElement$1(elem) && get$9(elem, 'contenteditable') === 'false';\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem)) || isContentEditableFalse$5(elem);\n    };\n\n    const first = element => descendant$2(element, isCursorPosition);\n    const last = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$1(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const create$9 = (editor, range) => {\n      if (findIn(SugarElement.fromDom(editor.getBody())).isNone()) {\n        const wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$1(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(elm => elm.dom.normalize());\n        last(wrapper).map(last => {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n      }\n    };\n    const detect$1 = elm => closest$3(elm, autocompleteSelector);\n    const findIn = elm => descendant$1(elm, autocompleteSelector);\n    const remove$2 = (editor, elm) => findIn(elm).each(wrapper => {\n      const bookmark = editor.selection.getBookmark();\n      unwrap(wrapper);\n      editor.selection.moveToBookmark(bookmark);\n    });\n\n    const typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    const walk$2 = (node, root, prev) => {\n      const startName = prev ? 'lastChild' : 'firstChild';\n      const siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        let sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (let parent = node.parent; parent && parent !== root; parent = parent.parent) {\n          sibling = parent[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n      return undefined;\n    };\n    const isEmptyTextNode = node => {\n      var _a;\n      const text = (_a = node.value) !== null && _a !== void 0 ? _a : '';\n      if (!isWhitespaceText(text)) {\n        return false;\n      }\n      const parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(text)) {\n        return false;\n      }\n      return true;\n    };\n    const isNonEmptyElement = node => {\n      const isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    class AstNode {\n      static create(name, attrs) {\n        const node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$d(attrs, (value, attrName) => {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      }\n      constructor(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      replace(node) {\n        const self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      }\n      attr(name, value) {\n        const self = this;\n        if (!isString(name)) {\n          if (isNonNullable(name)) {\n            each$d(name, (value, key) => {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        const attrs = self.attributes;\n        if (attrs) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                let i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              let i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name,\n                value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n        return undefined;\n      }\n      clone() {\n        const self = this;\n        const clone = new AstNode(self.name, self.type);\n        const selfAttrs = self.attributes;\n        if (selfAttrs) {\n          const cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (let i = 0, l = selfAttrs.length; i < l; i++) {\n            const selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        return clone;\n      }\n      wrap(wrapper) {\n        const self = this;\n        if (self.parent) {\n          self.parent.insert(wrapper, self);\n          wrapper.append(self);\n        }\n        return self;\n      }\n      unwrap() {\n        const self = this;\n        for (let node = self.firstChild; node;) {\n          const next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      }\n      remove() {\n        const self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else if (prev) {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else if (next) {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      }\n      append(node) {\n        const self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        const last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      }\n      insert(node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        const parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else if (refNode.prev) {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else if (refNode.next) {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      }\n      getAll(name) {\n        const self = this;\n        const collection = [];\n        for (let node = self.firstChild; node; node = walk$2(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      }\n      children() {\n        const self = this;\n        const collection = [];\n        for (let node = self.firstChild; node; node = node.next) {\n          collection.push(node);\n        }\n        return collection;\n      }\n      empty() {\n        const self = this;\n        if (self.firstChild) {\n          const nodes = [];\n          for (let node = self.firstChild; node; node = walk$2(node, self)) {\n            nodes.push(node);\n          }\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      }\n      isEmpty(elements, whitespace = {}, predicate) {\n        var _a;\n        const self = this;\n        let node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText((_a = node.value) !== null && _a !== void 0 ? _a : '')) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$2(node, self));\n        }\n        return true;\n      }\n      walk(prev) {\n        return walk$2(this, null, prev);\n      }\n    }\n\n    const unescapedTextParents = Tools.makeMap('NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT', ' ');\n    const containsZwsp = node => isString(node.nodeValue) && node.nodeValue.includes(ZWSP$1);\n    const getTemporaryNodeSelector = tempAttrs => `${ tempAttrs.length === 0 ? '' : `${ map$3(tempAttrs, attr => `[${ attr }]`).join(',') },` }[data-mce-bogus=\"all\"]`;\n    const getTemporaryNodes = (tempAttrs, body) => body.querySelectorAll(getTemporaryNodeSelector(tempAttrs));\n    const createZwspCommentWalker = body => document.createTreeWalker(body, NodeFilter.SHOW_COMMENT, node => containsZwsp(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP);\n    const createUnescapedZwspTextWalker = body => document.createTreeWalker(body, NodeFilter.SHOW_TEXT, node => {\n      if (containsZwsp(node)) {\n        const parent = node.parentNode;\n        return parent && has$2(unescapedTextParents, parent.nodeName) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n      } else {\n        return NodeFilter.FILTER_SKIP;\n      }\n    });\n    const hasZwspComment = body => createZwspCommentWalker(body).nextNode() !== null;\n    const hasUnescapedZwspText = body => createUnescapedZwspTextWalker(body).nextNode() !== null;\n    const hasTemporaryNode = (tempAttrs, body) => body.querySelector(getTemporaryNodeSelector(tempAttrs)) !== null;\n    const trimTemporaryNodes = (tempAttrs, body) => {\n      each$e(getTemporaryNodes(tempAttrs, body), elm => {\n        const element = SugarElement.fromDom(elm);\n        if (get$9(element, 'data-mce-bogus') === 'all') {\n          remove$5(element);\n        } else {\n          each$e(tempAttrs, attr => {\n            if (has$1(element, attr)) {\n              remove$a(element, attr);\n            }\n          });\n        }\n      });\n    };\n    const emptyAllNodeValuesInWalker = walker => {\n      let curr = walker.nextNode();\n      while (curr !== null) {\n        curr.nodeValue = null;\n        curr = walker.nextNode();\n      }\n    };\n    const emptyZwspComments = compose(emptyAllNodeValuesInWalker, createZwspCommentWalker);\n    const emptyUnescapedZwspTexts = compose(emptyAllNodeValuesInWalker, createUnescapedZwspTextWalker);\n    const trim$1 = (body, tempAttrs) => {\n      const conditionalTrims = [\n        {\n          condition: curry(hasTemporaryNode, tempAttrs),\n          action: curry(trimTemporaryNodes, tempAttrs)\n        },\n        {\n          condition: hasZwspComment,\n          action: emptyZwspComments\n        },\n        {\n          condition: hasUnescapedZwspText,\n          action: emptyUnescapedZwspTexts\n        }\n      ];\n      let trimmed = body;\n      let cloned = false;\n      each$e(conditionalTrims, ({condition, action}) => {\n        if (condition(trimmed)) {\n          if (!cloned) {\n            trimmed = body.cloneNode(true);\n            cloned = true;\n          }\n          action(trimmed);\n        }\n      });\n      return trimmed;\n    };\n\n    const cleanupBogusElements = parent => {\n      const bogusElements = descendants(parent, '[data-mce-bogus]');\n      each$e(bogusElements, elem => {\n        const bogusValue = get$9(elem, 'data-mce-bogus');\n        if (bogusValue === 'all') {\n          remove$5(elem);\n        } else if (isBr$5(elem)) {\n          before$3(elem, SugarElement.fromText(zeroWidth));\n          remove$5(elem);\n        } else {\n          unwrap(elem);\n        }\n      });\n    };\n    const cleanupInputNames = parent => {\n      const inputs = descendants(parent, 'input');\n      each$e(inputs, input => {\n        remove$a(input, 'name');\n      });\n    };\n\n    const trimEmptyContents = (editor, html) => {\n      const blockName = getForcedRootBlock(editor);\n      const emptyRegExp = new RegExp(`^(<${ blockName }[^>]*>(&nbsp;|&#160;|\\\\s|\\u00a0|<br \\\\/>|)<\\\\/${ blockName }>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$`);\n      return html.replace(emptyRegExp, '');\n    };\n    const getPlainTextContent = (editor, body) => {\n      const doc = editor.getDoc();\n      const dos = getRootNode(SugarElement.fromDom(editor.getBody()));\n      const offscreenDiv = SugarElement.fromTag('div', doc);\n      set$3(offscreenDiv, 'data-mce-bogus', 'all');\n      setAll(offscreenDiv, {\n        position: 'fixed',\n        left: '-9999999px',\n        top: '0'\n      });\n      set$1(offscreenDiv, body.innerHTML);\n      cleanupBogusElements(offscreenDiv);\n      cleanupInputNames(offscreenDiv);\n      const root = getContentContainer(dos);\n      append$1(root, offscreenDiv);\n      const content = trim$2(offscreenDiv.dom.innerText);\n      remove$5(offscreenDiv);\n      return content;\n    };\n    const getContentFromBody = (editor, args, body) => {\n      let content;\n      if (args.format === 'raw') {\n        content = Tools.trim(trim$2(trim$1(body, editor.serializer.getTempAttrs()).innerHTML));\n      } else if (args.format === 'text') {\n        content = getPlainTextContent(editor, body);\n      } else if (args.format === 'tree') {\n        content = editor.serializer.serialize(body, args);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n      }\n      const shouldTrim = args.format !== 'text' && !isWsPreserveElement(SugarElement.fromDom(body));\n      return shouldTrim && isString(content) ? Tools.trim(content) : content;\n    };\n    const getContentInternal = (editor, args) => Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), body => getContentFromBody(editor, args, body));\n\n    const makeMap$1 = Tools.makeMap;\n    const Writer = settings => {\n      const html = [];\n      settings = settings || {};\n      const indent = settings.indent;\n      const indentBefore = makeMap$1(settings.indent_before || '');\n      const indentAfter = makeMap$1(settings.indent_after || '');\n      const encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      const htmlOutput = settings.element_format !== 'xhtml';\n      return {\n        start: (name, attrs, empty) => {\n          if (indent && indentBefore[name] && html.length > 0) {\n            const value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (let i = 0, l = attrs.length; i < l; i++) {\n              const attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            const value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: name => {\n          let value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: (text, raw) => {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: text => {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: text => {\n          html.push('<!--', text, '-->');\n        },\n        pi: (name, text) => {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: text => {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: () => {\n          html.length = 0;\n        },\n        getContent: () => {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    const HtmlSerializer = (settings = {}, schema = Schema()) => {\n      const writer = Writer(settings);\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      const serialize = node => {\n        const validate = settings.validate;\n        const handlers = {\n          3: node => {\n            var _a;\n            writer.text((_a = node.value) !== null && _a !== void 0 ? _a : '', node.raw);\n          },\n          8: node => {\n            var _a;\n            writer.comment((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          },\n          7: node => {\n            writer.pi(node.name, node.value);\n          },\n          10: node => {\n            var _a;\n            writer.doctype((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          },\n          4: node => {\n            var _a;\n            writer.cdata((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          },\n          11: node => {\n            let tempNode = node;\n            if (tempNode = tempNode.firstChild) {\n              do {\n                walk(tempNode);\n              } while (tempNode = tempNode.next);\n            }\n          }\n        };\n        writer.reset();\n        const walk = node => {\n          var _a;\n          const handler = handlers[node.type];\n          if (!handler) {\n            const name = node.name;\n            const isEmpty = name in schema.getVoidElements();\n            let attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              const sortedAttrs = [];\n              sortedAttrs.map = {};\n              const elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (let i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  const attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    const attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (let i = 0, l = attrs.length; i < l; i++) {\n                  const attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    const attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(name, attrs, isEmpty);\n            if (isNonHtmlElementRootName(name)) {\n              if (isString(node.value)) {\n                writer.text(node.value, true);\n              }\n              writer.end(name);\n            } else {\n              if (!isEmpty) {\n                let child = node.firstChild;\n                if (child) {\n                  if ((name === 'pre' || name === 'textarea') && child.type === 3 && ((_a = child.value) === null || _a === void 0 ? void 0 : _a[0]) === '\\n') {\n                    writer.text('\\n', true);\n                  }\n                  do {\n                    walk(child);\n                  } while (child = child.next);\n                }\n                writer.end(name);\n              }\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else if (node.type === 3) {\n          handlers[3](node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize };\n    };\n\n    const nonInheritableStyles = new Set();\n    (() => {\n      const nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each$e(nonInheritableStylesArr, style => {\n        nonInheritableStyles.add(style);\n      });\n    })();\n    const shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    const getStyleProps = (dom, node) => keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    const isNonInheritableStyle = style => nonInheritableStyles.has(style);\n    const hasInheritableStyles = (dom, node) => forall(getStyleProps(dom, node), style => !isNonInheritableStyle(style));\n    const getLonghandStyleProps = styles => filter$5(styles, style => exists(shorthandStyleProps, prop => startsWith(style, prop)));\n    const hasStyleConflict = (dom, node, parentNode) => {\n      const nodeStyleProps = getStyleProps(dom, node);\n      const parentNodeStyleProps = getStyleProps(dom, parentNode);\n      const valueMismatch = prop => {\n        var _a, _b;\n        const nodeValue = (_a = dom.getStyle(node, prop)) !== null && _a !== void 0 ? _a : '';\n        const parentValue = (_b = dom.getStyle(parentNode, prop)) !== null && _b !== void 0 ? _b : '';\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, nodeStyleProp => {\n        const propExists = props => exists(props, prop => prop === nodeStyleProp);\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          const longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    const isChar = (forward, predicate, pos) => Optional.from(pos.container()).filter(isText$a).exists(text => {\n      const delta = forward ? 0 : -1;\n      return predicate(text.data.charAt(pos.offset() + delta));\n    });\n    const isBeforeSpace = curry(isChar, true, isWhiteSpace);\n    const isAfterSpace = curry(isChar, false, isWhiteSpace);\n    const isEmptyText = pos => {\n      const container = pos.container();\n      return isText$a(container) && (container.data.length === 0 || isZwsp$1(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    const matchesElementPosition = (before, predicate) => pos => getChildNodeAtRelativeOffset(before ? 0 : -1, pos).filter(predicate).isSome();\n    const isImageBlock = node => isImg(node) && get$7(SugarElement.fromDom(node), 'display') === 'block';\n    const isCefNode = node => isContentEditableFalse$b(node) && !isBogusAll$1(node);\n    const isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    const isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    const isBeforeMedia = matchesElementPosition(true, isMedia$2);\n    const isAfterMedia = matchesElementPosition(false, isMedia$2);\n    const isBeforeTable = matchesElementPosition(true, isTable$2);\n    const isAfterTable = matchesElementPosition(false, isTable$2);\n    const isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    const isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    const dropLast = xs => xs.slice(0, -1);\n    const parentsUntil = (start, root, predicate) => {\n      if (contains(root, start)) {\n        return dropLast(parents$1(start, elm => {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    const parents = (start, root) => parentsUntil(start, root, never);\n    const parentsAndSelf = (start, root) => [start].concat(parents(start, root));\n\n    const navigateIgnoreEmptyTextNodes = (forward, root, from) => navigateIgnore(forward, root, from, isEmptyText);\n    const isBlock$1 = schema => el => schema.isBlock(name(el));\n    const getClosestBlock$1 = (root, pos, schema) => find$2(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$1(schema));\n    const isAtBeforeAfterBlockBoundary = (forward, root, pos, schema) => navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(newPos => getClosestBlock$1(root, pos, schema).fold(() => !isInSameBlock(newPos, pos, root.dom), fromBlock => !isInSameBlock(newPos, pos, root.dom) && contains(fromBlock, SugarElement.fromDom(newPos.container()))));\n    const isAtBlockBoundary = (forward, root, pos, schema) => getClosestBlock$1(root, pos, schema).fold(() => navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(newPos => !isInSameBlock(newPos, pos, root.dom)), parent => navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone());\n    const isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    const isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    const isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    const isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    const isBr$1 = pos => getElementFromPosition(pos).exists(isBr$5);\n    const findBr = (forward, root, pos, schema) => {\n      const parentBlocks = filter$5(parentsAndSelf(SugarElement.fromDom(pos.container()), root), el => schema.isBlock(name(el)));\n      const scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr$1);\n    };\n    const isBeforeBr$1 = (root, pos, schema) => getElementFromPosition(pos).exists(isBr$5) || findBr(true, root, pos, schema).isSome();\n    const isAfterBr = (root, pos, schema) => getElementFromPrevPosition(pos).exists(isBr$5) || findBr(false, root, pos, schema).isSome();\n    const findPreviousBr = curry(findBr, false);\n    const findNextBr = curry(findBr, true);\n\n    const isInMiddleOfText = pos => CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    const getClosestBlock = (root, pos, schema) => {\n      const parentBlocks = filter$5(parentsAndSelf(SugarElement.fromDom(pos.container()), root), el => schema.isBlock(name(el)));\n      return head(parentBlocks).getOr(root);\n    };\n    const hasSpaceBefore = (root, pos, schema) => {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock(root, pos, schema).dom, pos).exists(isAfterSpace);\n      }\n    };\n    const hasSpaceAfter = (root, pos, schema) => {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock(root, pos, schema).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    const isPreValue = value => contains$2([\n      'pre',\n      'pre-wrap'\n    ], value);\n    const isInPre = pos => getElementFromPosition(pos).bind(elm => closest$4(elm, isElement$7)).exists(elm => isPreValue(get$7(elm, 'white-space')));\n    const isAtBeginningOfBody = (root, pos) => prevPosition(root.dom, pos).isNone();\n    const isAtEndOfBody = (root, pos) => nextPosition(root.dom, pos).isNone();\n    const isAtLineBoundary = (root, pos, schema) => isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos, schema) || isAtEndOfBlock(root, pos, schema) || isAfterBr(root, pos, schema) || isBeforeBr$1(root, pos, schema);\n    const isCefBlock = node => isNonNullable(node) && isContentEditableFalse$b(node) && isBlockLike(node);\n    const isSiblingCefBlock = (root, direction) => container => {\n      return isCefBlock(new DomTreeWalker(container, root)[direction]());\n    };\n    const isBeforeCefBlock = (root, pos) => {\n      const nextPos = nextPosition(root.dom, pos).getOr(pos);\n      const isNextCefBlock = isSiblingCefBlock(root.dom, 'next');\n      return pos.isAtEnd() && (isNextCefBlock(pos.container()) || isNextCefBlock(nextPos.container()));\n    };\n    const isAfterCefBlock = (root, pos) => {\n      const prevPos = prevPosition(root.dom, pos).getOr(pos);\n      const isPrevCefBlock = isSiblingCefBlock(root.dom, 'prev');\n      return pos.isAtStart() && (isPrevCefBlock(pos.container()) || isPrevCefBlock(prevPos.container()));\n    };\n    const needsToHaveNbsp = (root, pos, schema) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos, schema) || hasSpaceBefore(root, pos, schema) || hasSpaceAfter(root, pos, schema);\n      }\n    };\n    const needsToBeNbspLeft = (root, pos, schema) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos, schema) || isBeforeBlock(root, pos, schema) || isAfterBr(root, pos, schema) || hasSpaceBefore(root, pos, schema) || isAfterCefBlock(root, pos);\n      }\n    };\n    const leanRight = pos => {\n      const container = pos.container();\n      const offset = pos.offset();\n      if (isText$a(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    const needsToBeNbspRight = (root, pos, schema) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos, schema) || isAfterBlock(root, pos, schema) || isBeforeBr$1(root, pos, schema) || hasSpaceAfter(root, pos, schema) || isBeforeCefBlock(root, pos);\n      }\n    };\n    const needsToBeNbsp = (root, pos, schema) => needsToBeNbspLeft(root, pos, schema) || needsToBeNbspRight(root, leanRight(pos), schema);\n    const isNbspAt = (text, offset) => isNbsp(text.charAt(offset));\n    const isWhiteSpaceAt = (text, offset) => isWhiteSpace(text.charAt(offset));\n    const hasNbsp = pos => {\n      const container = pos.container();\n      return isText$a(container) && contains$1(container.data, nbsp);\n    };\n    const normalizeNbspMiddle = text => {\n      const chars = text.split('');\n      return map$3(chars, (chr, i) => {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    const normalizeNbspAtStart = (root, node, makeNbsp, schema) => {\n      const text = node.data;\n      const firstPos = CaretPosition(node, 0);\n      if (!makeNbsp && isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos, schema)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else if (makeNbsp && isWhiteSpaceAt(text, 0) && needsToBeNbspLeft(root, firstPos, schema)) {\n        node.data = nbsp + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbspInMiddleOfTextNode = node => {\n      const text = node.data;\n      const newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbspAtEnd = (root, node, makeNbsp, schema) => {\n      const text = node.data;\n      const lastPos = CaretPosition(node, text.length - 1);\n      if (!makeNbsp && isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos, schema)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else if (makeNbsp && isWhiteSpaceAt(text, text.length - 1) && needsToBeNbspRight(root, lastPos, schema)) {\n        node.data = text.slice(0, -1) + nbsp;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbsps = (root, pos, schema) => {\n      const container = pos.container();\n      if (!isText$a(container)) {\n        return Optional.none();\n      }\n      if (hasNbsp(pos)) {\n        const normalized = normalizeNbspAtStart(root, container, false, schema) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container, false, schema);\n        return someIf(normalized, pos);\n      } else if (needsToBeNbsp(root, pos, schema)) {\n        const normalized = normalizeNbspAtStart(root, container, true, schema) || normalizeNbspAtEnd(root, container, true, schema);\n        return someIf(normalized, pos);\n      } else {\n        return Optional.none();\n      }\n    };\n    const normalizeNbspsInEditor = editor => {\n      const root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng()), editor.schema).each(pos => {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    const normalize$1 = (node, offset, count, schema) => {\n      if (count === 0) {\n        return;\n      }\n      const elm = SugarElement.fromDom(node);\n      const root = ancestor$4(elm, el => schema.isBlock(name(el))).getOr(elm);\n      const whitespace = node.data.slice(offset, offset + count);\n      const isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length), schema);\n      const isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0), schema);\n      node.replaceData(offset, count, normalize$4(whitespace, 4, isStartOfContent, isEndOfContent));\n    };\n    const normalizeWhitespaceAfter = (node, offset, schema) => {\n      const content = node.data.slice(offset);\n      const whitespaceCount = content.length - lTrim(content).length;\n      normalize$1(node, offset, whitespaceCount, schema);\n    };\n    const normalizeWhitespaceBefore = (node, offset, schema) => {\n      const content = node.data.slice(0, offset);\n      const whitespaceCount = content.length - rTrim(content).length;\n      normalize$1(node, offset - whitespaceCount, whitespaceCount, schema);\n    };\n    const mergeTextNodes = (prevNode, nextNode, schema, normalizeWhitespace, mergeToPrev = true) => {\n      const whitespaceOffset = rTrim(prevNode.data).length;\n      const newNode = mergeToPrev ? prevNode : nextNode;\n      const removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove$5(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset, schema);\n      }\n      return newNode;\n    };\n\n    const needsReposition = (pos, elm) => {\n      const container = pos.container();\n      const offset = pos.offset();\n      return !CaretPosition.isTextPosition(pos) && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    const reposition = (elm, pos) => needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    const beforeOrStartOf = node => isText$a(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    const afterOrEndOf = node => isText$a(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    const getPreviousSiblingCaretPosition = elm => {\n      if (isCaretCandidate$3(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    const getNextSiblingCaretPosition = elm => {\n      if (isCaretCandidate$3(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    const findCaretPositionBackwardsFromElm = (rootElement, elm) => {\n      return Optional.from(elm.previousSibling ? elm.previousSibling : elm.parentNode).bind(node => prevPosition(rootElement, CaretPosition.before(node))).orThunk(() => nextPosition(rootElement, CaretPosition.after(elm)));\n    };\n    const findCaretPositionForwardsFromElm = (rootElement, elm) => nextPosition(rootElement, CaretPosition.after(elm)).orThunk(() => prevPosition(rootElement, CaretPosition.before(elm)));\n    const findCaretPositionBackwards = (rootElement, elm) => getPreviousSiblingCaretPosition(elm).orThunk(() => getNextSiblingCaretPosition(elm)).orThunk(() => findCaretPositionBackwardsFromElm(rootElement, elm));\n    const findCaretPositionForward = (rootElement, elm) => getNextSiblingCaretPosition(elm).orThunk(() => getPreviousSiblingCaretPosition(elm)).orThunk(() => findCaretPositionForwardsFromElm(rootElement, elm));\n    const findCaretPosition = (forward, rootElement, elm) => forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    const findCaretPosOutsideElmAfterDelete = (forward, rootElement, elm) => findCaretPosition(forward, rootElement, elm).map(curry(reposition, elm));\n    const setSelection$1 = (editor, forward, pos) => {\n      pos.fold(() => {\n        editor.focus();\n      }, pos => {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    const eqRawNode = rawNode => elm => elm.dom === rawNode;\n    const isBlock = (editor, elm) => elm && has$2(editor.schema.getBlockElements(), name(elm));\n    const paddEmptyBlock = (elm, preserveEmptyCaret) => {\n      if (isEmpty$2(elm)) {\n        const br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        if (preserveEmptyCaret) {\n          each$e(children$1(elm), node => {\n            if (!isEmptyCaretFormatElement(node)) {\n              remove$5(node);\n            }\n          });\n        } else {\n          empty(elm);\n        }\n        append$1(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    const deleteNormalized = (elm, afterDeletePosOpt, schema, normalizeWhitespace) => {\n      const prevTextOpt = prevSibling(elm).filter(isText$b);\n      const nextTextOpt = nextSibling(elm).filter(isText$b);\n      remove$5(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, (prev, next, pos) => {\n        const prevNode = prev.dom, nextNode = next.dom;\n        const offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, schema, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(() => {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(elm => normalizeWhitespaceBefore(elm.dom, elm.dom.length, schema));\n          nextTextOpt.each(elm => normalizeWhitespaceAfter(elm.dom, 0, schema));\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    const isInlineElement = (editor, element) => has$2(editor.schema.getTextInlineElements(), name(element));\n    const deleteElement$2 = (editor, forward, elm, moveCaret = true, preserveEmptyCaret = false) => {\n      const afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      const parentBlock = ancestor$4(elm, curry(isBlock, editor), eqRawNode(editor.getBody()));\n      const normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, editor.schema, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(elm => paddEmptyBlock(elm, preserveEmptyCaret)).fold(() => {\n          if (moveCaret) {\n            setSelection$1(editor, forward, normalizedAfterDeletePos);\n          }\n        }, paddPos => {\n          if (moveCaret) {\n            setSelection$1(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    const strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    const hasStrongRtl = text => strongRtl.test(text);\n\n    const isInlineTarget = (editor, elm) => is$1(SugarElement.fromDom(elm), getInlineBoundarySelector(editor)) && !isTransparentBlock(editor.schema, elm) && editor.dom.isEditable(elm);\n    const isRtl = element => {\n      var _a;\n      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl((_a = element.textContent) !== null && _a !== void 0 ? _a : '');\n    };\n    const findInlineParents = (isInlineTarget, rootNode, pos) => filter$5(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    const findRootInline = (isInlineTarget, rootNode, pos) => {\n      const parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    const hasSameParentBlock = (rootNode, node1, node2) => {\n      const block1 = getParentBlock$3(node1, rootNode);\n      const block2 = getParentBlock$3(node2, rootNode);\n      return isNonNullable(block1) && block1 === block2;\n    };\n    const isAtZwsp = pos => isBeforeInline(pos) || isAfterInline(pos);\n    const normalizePosition = (forward, pos) => {\n      const container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$a(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$a(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    const normalizeForwards = curry(normalizePosition, true);\n    const normalizeBackwards = curry(normalizePosition, false);\n\n    const execCommandIgnoreInputEvents = (editor, command) => {\n      const inputBlocker = e => e.stopImmediatePropagation();\n      editor.on('beforeinput input', inputBlocker, true);\n      editor.getDoc().execCommand(command);\n      editor.off('beforeinput input', inputBlocker);\n    };\n    const execEditorDeleteCommand = editor => {\n      editor.execCommand('delete');\n    };\n    const execNativeDeleteCommand = editor => execCommandIgnoreInputEvents(editor, 'Delete');\n    const execNativeForwardDeleteCommand = editor => execCommandIgnoreInputEvents(editor, 'ForwardDelete');\n    const isBeforeRoot = rootNode => elm => is$2(parent(elm), rootNode, eq);\n    const isTextBlockOrListItem = element => isTextBlock$2(element) || isListItem$1(element);\n    const getParentBlock$2 = (rootNode, elm) => {\n      if (contains(rootNode, elm)) {\n        return closest$4(elm, isTextBlockOrListItem, isBeforeRoot(rootNode));\n      } else {\n        return Optional.none();\n      }\n    };\n    const paddEmptyBody = (editor, moveSelection = true) => {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('', { no_selection: !moveSelection });\n      }\n    };\n    const willDeleteLastPositionInElement = (forward, fromPos, elm) => lift2(firstPositionIn(elm), lastPositionIn(elm), (firstPos, lastPos) => {\n      const normalizedFirstPos = normalizePosition(true, firstPos);\n      const normalizedLastPos = normalizePosition(false, lastPos);\n      const normalizedFromPos = normalizePosition(false, fromPos);\n      if (forward) {\n        return nextPosition(elm, normalizedFromPos).exists(nextPos => nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos));\n      } else {\n        return prevPosition(elm, normalizedFromPos).exists(prevPos => prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos));\n      }\n    }).getOr(true);\n    const freefallRtl = root => {\n      const child = isComment$1(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(() => Optional.some(root));\n    };\n    const deleteRangeContents = (editor, rng, root, moveSelection = true) => {\n      var _a;\n      rng.deleteContents();\n      const lastNode = freefallRtl(root).getOr(root);\n      const lastBlock = SugarElement.fromDom((_a = editor.dom.getParent(lastNode.dom, editor.dom.isBlock)) !== null && _a !== void 0 ? _a : root.dom);\n      if (lastBlock.dom === editor.getBody()) {\n        paddEmptyBody(editor, moveSelection);\n      } else if (isEmpty$2(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        if (moveSelection) {\n          editor.selection.setCursorLocation(lastBlock.dom, 0);\n        }\n      }\n      if (!eq(root, lastBlock)) {\n        const additionalCleanupNodes = is$2(parent(lastBlock), root) ? [] : siblings(lastBlock);\n        each$e(additionalCleanupNodes.concat(children$1(root)), node => {\n          if (!eq(node, lastBlock) && !contains(node, lastBlock) && isEmpty$2(node)) {\n            remove$5(node);\n          }\n        });\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => ancestor$4(scope, predicate, isRoot).isSome();\n    const sibling = (scope, predicate) => sibling$1(scope, predicate).isSome();\n    const descendant = (scope, predicate) => descendant$2(scope, predicate).isSome();\n\n    const isRootFromElement = root => cur => eq(root, cur);\n    const getTableCells = table => descendants(table, 'td,th');\n    const getTable$1 = (node, isRoot) => getClosestTable(SugarElement.fromDom(node), isRoot);\n    const selectionInTableWithNestedTable = details => {\n      return lift2(details.startTable, details.endTable, (startTable, endTable) => {\n        const isStartTableParentOfEndTable = descendant(startTable, t => eq(t, endTable));\n        const isEndTableParentOfStartTable = descendant(endTable, t => eq(t, startTable));\n        return !isStartTableParentOfEndTable && !isEndTableParentOfStartTable ? details : {\n          ...details,\n          startTable: isStartTableParentOfEndTable ? Optional.none() : details.startTable,\n          endTable: isEndTableParentOfStartTable ? Optional.none() : details.endTable,\n          isSameTable: false,\n          isMultiTable: false\n        };\n      }).getOr(details);\n    };\n    const adjustQuirksInDetails = details => {\n      return selectionInTableWithNestedTable(details);\n    };\n    const getTableDetailsFromRange = (rng, isRoot) => {\n      const startTable = getTable$1(rng.startContainer, isRoot);\n      const endTable = getTable$1(rng.endContainer, isRoot);\n      const isStartInTable = startTable.isSome();\n      const isEndInTable = endTable.isSome();\n      const isSameTable = lift2(startTable, endTable, eq).getOr(false);\n      const isMultiTable = !isSameTable && isStartInTable && isEndInTable;\n      return adjustQuirksInDetails({\n        startTable,\n        endTable,\n        isStartInTable,\n        isEndInTable,\n        isSameTable,\n        isMultiTable\n      });\n    };\n\n    const tableCellRng = (start, end) => ({\n      start,\n      end\n    });\n    const tableSelection = (rng, table, cells) => ({\n      rng,\n      table,\n      cells\n    });\n    const deleteAction = Adt.generate([\n      {\n        singleCellTable: [\n          'rng',\n          'cell'\n        ]\n      },\n      { fullTable: ['table'] },\n      {\n        partialTable: [\n          'cells',\n          'outsideDetails'\n        ]\n      },\n      {\n        multiTable: [\n          'startTableCells',\n          'endTableCells',\n          'betweenRng'\n        ]\n      }\n    ]);\n    const getClosestCell$1 = (container, isRoot) => closest$3(SugarElement.fromDom(container), 'td,th', isRoot);\n    const isExpandedCellRng = cellRng => !eq(cellRng.start, cellRng.end);\n    const getTableFromCellRng = (cellRng, isRoot) => getClosestTable(cellRng.start, isRoot).bind(startParentTable => getClosestTable(cellRng.end, isRoot).bind(endParentTable => someIf(eq(startParentTable, endParentTable), startParentTable)));\n    const isSingleCellTable = (cellRng, isRoot) => !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(table => {\n      const rows = table.dom.rows;\n      return rows.length === 1 && rows[0].cells.length === 1;\n    });\n    const getCellRng = (rng, isRoot) => {\n      const startCell = getClosestCell$1(rng.startContainer, isRoot);\n      const endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    const getCellRangeFromStartTable = isRoot => startCell => getClosestTable(startCell, isRoot).bind(table => last$3(getTableCells(table)).map(endCell => tableCellRng(startCell, endCell)));\n    const getCellRangeFromEndTable = isRoot => endCell => getClosestTable(endCell, isRoot).bind(table => head(getTableCells(table)).map(startCell => tableCellRng(startCell, endCell)));\n    const getTableSelectionFromCellRng = isRoot => cellRng => getTableFromCellRng(cellRng, isRoot).map(table => tableSelection(cellRng, table, getTableCells(table)));\n    const getTableSelections = (cellRng, selectionDetails, rng, isRoot) => {\n      if (rng.collapsed || !cellRng.forall(isExpandedCellRng)) {\n        return Optional.none();\n      } else if (selectionDetails.isSameTable) {\n        const sameTableSelection = cellRng.bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: sameTableSelection,\n          end: sameTableSelection\n        });\n      } else {\n        const startCell = getClosestCell$1(rng.startContainer, isRoot);\n        const endCell = getClosestCell$1(rng.endContainer, isRoot);\n        const startTableSelection = startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        const endTableSelection = endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: startTableSelection,\n          end: endTableSelection\n        });\n      }\n    };\n    const getCellIndex = (cells, cell) => findIndex$2(cells, x => eq(x, cell));\n    const getSelectedCells = tableSelection => lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), (startIndex, endIndex) => tableSelection.cells.slice(startIndex, endIndex + 1));\n    const isSingleCellTableContentSelected = (optCellRng, rng, isRoot) => optCellRng.exists(cellRng => isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng));\n    const unselectCells = (rng, selectionDetails) => {\n      const {startTable, endTable} = selectionDetails;\n      const otherContentRng = rng.cloneRange();\n      startTable.each(table => otherContentRng.setStartAfter(table.dom));\n      endTable.each(table => otherContentRng.setEndBefore(table.dom));\n      return otherContentRng;\n    };\n    const handleSingleTable = (cellRng, selectionDetails, rng, isRoot) => getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(({start, end}) => start.or(end)).bind(tableSelection => {\n      const {isSameTable} = selectionDetails;\n      const selectedCells = getSelectedCells(tableSelection).getOr([]);\n      if (isSameTable && tableSelection.cells.length === selectedCells.length) {\n        return Optional.some(deleteAction.fullTable(tableSelection.table));\n      } else if (selectedCells.length > 0) {\n        if (isSameTable) {\n          return Optional.some(deleteAction.partialTable(selectedCells, Optional.none()));\n        } else {\n          const otherContentRng = unselectCells(rng, selectionDetails);\n          return Optional.some(deleteAction.partialTable(selectedCells, Optional.some({\n            ...selectionDetails,\n            rng: otherContentRng\n          })));\n        }\n      } else {\n        return Optional.none();\n      }\n    });\n    const handleMultiTable = (cellRng, selectionDetails, rng, isRoot) => getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(({start, end}) => {\n      const startTableSelectedCells = start.bind(getSelectedCells).getOr([]);\n      const endTableSelectedCells = end.bind(getSelectedCells).getOr([]);\n      if (startTableSelectedCells.length > 0 && endTableSelectedCells.length > 0) {\n        const otherContentRng = unselectCells(rng, selectionDetails);\n        return Optional.some(deleteAction.multiTable(startTableSelectedCells, endTableSelectedCells, otherContentRng));\n      } else {\n        return Optional.none();\n      }\n    });\n    const getActionFromRange = (root, rng) => {\n      const isRoot = isRootFromElement(root);\n      const optCellRng = getCellRng(rng, isRoot);\n      const selectionDetails = getTableDetailsFromRange(rng, isRoot);\n      if (isSingleCellTableContentSelected(optCellRng, rng, isRoot)) {\n        return optCellRng.map(cellRng => deleteAction.singleCellTable(rng, cellRng.start));\n      } else if (selectionDetails.isMultiTable) {\n        return handleMultiTable(optCellRng, selectionDetails, rng, isRoot);\n      } else {\n        return handleSingleTable(optCellRng, selectionDetails, rng, isRoot);\n      }\n    };\n\n    const cleanCells = cells => each$e(cells, cell => {\n      remove$a(cell, 'contenteditable');\n      fillWithPaddingBr(cell);\n    });\n    const getOutsideBlock = (editor, container) => Optional.from(editor.dom.getParent(container, editor.dom.isBlock)).map(SugarElement.fromDom);\n    const handleEmptyBlock = (editor, startInTable, emptyBlock) => {\n      emptyBlock.each(block => {\n        if (startInTable) {\n          remove$5(block);\n        } else {\n          fillWithPaddingBr(block);\n          editor.selection.setCursorLocation(block.dom, 0);\n        }\n      });\n    };\n    const deleteContentInsideCell = (editor, cell, rng, isFirstCellInSelection) => {\n      const insideTableRng = rng.cloneRange();\n      if (isFirstCellInSelection) {\n        insideTableRng.setStart(rng.startContainer, rng.startOffset);\n        insideTableRng.setEndAfter(cell.dom.lastChild);\n      } else {\n        insideTableRng.setStartBefore(cell.dom.firstChild);\n        insideTableRng.setEnd(rng.endContainer, rng.endOffset);\n      }\n      deleteCellContents(editor, insideTableRng, cell, false).each(action => action());\n    };\n    const collapseAndRestoreCellSelection = editor => {\n      const selectedCells = getCellsFromEditor(editor);\n      const selectedNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isTableCell$3(selectedNode.dom) && isEmpty$2(selectedNode)) {\n        editor.selection.setCursorLocation(selectedNode.dom, 0);\n      } else {\n        editor.selection.collapse(true);\n      }\n      if (selectedCells.length > 1 && exists(selectedCells, cell => eq(cell, selectedNode))) {\n        set$3(selectedNode, 'data-mce-selected', '1');\n      }\n    };\n    const emptySingleTableCells = (editor, cells, outsideDetails) => Optional.some(() => {\n      const editorRng = editor.selection.getRng();\n      const cellsToClean = outsideDetails.bind(({rng, isStartInTable}) => {\n        const outsideBlock = getOutsideBlock(editor, isStartInTable ? rng.endContainer : rng.startContainer);\n        rng.deleteContents();\n        handleEmptyBlock(editor, isStartInTable, outsideBlock.filter(isEmpty$2));\n        const endPointCell = isStartInTable ? cells[0] : cells[cells.length - 1];\n        deleteContentInsideCell(editor, endPointCell, editorRng, isStartInTable);\n        if (!isEmpty$2(endPointCell)) {\n          return Optional.some(isStartInTable ? cells.slice(1) : cells.slice(0, -1));\n        } else {\n          return Optional.none();\n        }\n      }).getOr(cells);\n      cleanCells(cellsToClean);\n      collapseAndRestoreCellSelection(editor);\n    });\n    const emptyMultiTableCells = (editor, startTableCells, endTableCells, betweenRng) => Optional.some(() => {\n      const rng = editor.selection.getRng();\n      const startCell = startTableCells[0];\n      const endCell = endTableCells[endTableCells.length - 1];\n      deleteContentInsideCell(editor, startCell, rng, true);\n      deleteContentInsideCell(editor, endCell, rng, false);\n      const startTableCellsToClean = isEmpty$2(startCell) ? startTableCells : startTableCells.slice(1);\n      const endTableCellsToClean = isEmpty$2(endCell) ? endTableCells : endTableCells.slice(0, -1);\n      cleanCells(startTableCellsToClean.concat(endTableCellsToClean));\n      betweenRng.deleteContents();\n      collapseAndRestoreCellSelection(editor);\n    });\n    const deleteCellContents = (editor, rng, cell, moveSelection = true) => Optional.some(() => {\n      deleteRangeContents(editor, rng, cell, moveSelection);\n    });\n    const deleteTableElement = (editor, table) => Optional.some(() => deleteElement$2(editor, false, table));\n    const deleteCellRange = (editor, rootElm, rng) => getActionFromRange(rootElm, rng).bind(action => action.fold(curry(deleteCellContents, editor), curry(deleteTableElement, editor), curry(emptySingleTableCells, editor), curry(emptyMultiTableCells, editor)));\n    const deleteCaptionRange = (editor, caption) => emptyElement(editor, caption);\n    const deleteTableRange = (editor, rootElm, rng, startElm) => getParentCaption(rootElm, startElm).fold(() => deleteCellRange(editor, rootElm, rng), caption => deleteCaptionRange(editor, caption));\n    const deleteRange$3 = (editor, startElm, selectedCells) => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const rng = editor.selection.getRng();\n      return selectedCells.length !== 0 ? emptySingleTableCells(editor, selectedCells, Optional.none()) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    const getParentCell = (rootElm, elm) => find$2(parentsAndSelf(elm, rootElm), isTableCell$2);\n    const getParentCaption = (rootElm, elm) => find$2(parentsAndSelf(elm, rootElm), isTag('caption'));\n    const deleteBetweenCells = (editor, rootElm, forward, fromCell, from) => navigate(forward, editor.getBody(), from).bind(to => getParentCell(rootElm, SugarElement.fromDom(to.getNode())).bind(toCell => eq(toCell, fromCell) ? Optional.none() : Optional.some(noop)));\n    const emptyElement = (editor, elm) => Optional.some(() => {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n    });\n    const isDeleteOfLastCharPos = (fromCaption, forward, from, to) => firstPositionIn(fromCaption.dom).bind(first => lastPositionIn(fromCaption.dom).map(last => forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first))).getOr(true);\n    const emptyCaretCaption = (editor, elm) => emptyElement(editor, elm);\n    const validateCaretCaption = (rootElm, fromCaption, to) => getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).fold(() => Optional.some(noop), toCaption => someIf(!eq(toCaption, fromCaption), noop));\n    const deleteCaretInsideCaption = (editor, rootElm, forward, fromCaption, from) => navigate(forward, editor.getBody(), from).fold(() => Optional.some(noop), to => isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to));\n    const deleteCaretCells = (editor, forward, rootElm, startElm) => {\n      const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(fromCell => isEmpty$2(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from));\n    };\n    const deleteCaretCaption = (editor, forward, rootElm, fromCaption) => {\n      const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty$2(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    const isNearTable = (forward, pos) => forward ? isBeforeTable(pos) : isAfterTable(pos);\n    const isBeforeOrAfterTable = (editor, forward) => {\n      const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(pos => isNearTable(forward, pos));\n    };\n    const deleteCaret$3 = (editor, forward, startElm) => {\n      const rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(() => deleteCaretCells(editor, forward, rootElm, startElm).orThunk(() => someIf(isBeforeOrAfterTable(editor, forward), noop)), fromCaption => deleteCaretCaption(editor, forward, rootElm, fromCaption));\n    };\n    const backspaceDelete$a = (editor, forward) => {\n      const startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      const cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$3(editor, forward, startElm) : deleteRange$3(editor, startElm, cells);\n    };\n\n    const getContentEditableRoot$1 = (root, node) => {\n      let tempNode = node;\n      while (tempNode && tempNode !== root) {\n        if (isContentEditableTrue$3(tempNode) || isContentEditableFalse$b(tempNode)) {\n          return tempNode;\n        }\n        tempNode = tempNode.parentNode;\n      }\n      return null;\n    };\n\n    const internalAttributesPrefixes = [\n      'data-ephox-',\n      'data-mce-',\n      'data-alloy-',\n      'data-snooker-',\n      '_'\n    ];\n    const each$9 = Tools.each;\n    const ElementUtils = editor => {\n      const dom = editor.dom;\n      const internalAttributes = new Set(editor.serializer.getTempAttrs());\n      const compare = (node1, node2) => {\n        if (node1.nodeName !== node2.nodeName || node1.nodeType !== node2.nodeType) {\n          return false;\n        }\n        const getAttribs = node => {\n          const attribs = {};\n          each$9(dom.getAttribs(node), attr => {\n            const name = attr.nodeName.toLowerCase();\n            if (name !== 'style' && !isAttributeInternal(name)) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        const compareObjects = (obj1, obj2) => {\n          for (const name in obj1) {\n            if (has$2(obj1, name)) {\n              const value = obj2[name];\n              if (isUndefined(value)) {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (const name in obj2) {\n            if (has$2(obj2, name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (isElement$6(node1) && isElement$6(node2)) {\n          if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n            return false;\n          }\n          if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n            return false;\n          }\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      const isAttributeInternal = attributeName => exists(internalAttributesPrefixes, value => startsWith(attributeName, value)) || internalAttributes.has(attributeName);\n      return {\n        compare,\n        isAttributeInternal\n      };\n    };\n\n    const isHeading = node => [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ].includes(node.name);\n    const isSummary = node => node.name === 'summary';\n\n    const traverse = (root, fn) => {\n      let node = root;\n      while (node = node.walk()) {\n        fn(node);\n      }\n    };\n    const matchNode$1 = (nodeFilters, attributeFilters, node, matches) => {\n      const name = node.name;\n      for (let ni = 0, nl = nodeFilters.length; ni < nl; ni++) {\n        const filter = nodeFilters[ni];\n        if (filter.name === name) {\n          const match = matches.nodes[name];\n          if (match) {\n            match.nodes.push(node);\n          } else {\n            matches.nodes[name] = {\n              filter,\n              nodes: [node]\n            };\n          }\n        }\n      }\n      if (node.attributes) {\n        for (let ai = 0, al = attributeFilters.length; ai < al; ai++) {\n          const filter = attributeFilters[ai];\n          const attrName = filter.name;\n          if (attrName in node.attributes.map) {\n            const match = matches.attributes[attrName];\n            if (match) {\n              match.nodes.push(node);\n            } else {\n              matches.attributes[attrName] = {\n                filter,\n                nodes: [node]\n              };\n            }\n          }\n        }\n      }\n    };\n    const findMatchingNodes = (nodeFilters, attributeFilters, node) => {\n      const matches = {\n        nodes: {},\n        attributes: {}\n      };\n      if (node.firstChild) {\n        traverse(node, childNode => {\n          matchNode$1(nodeFilters, attributeFilters, childNode, matches);\n        });\n      }\n      return matches;\n    };\n    const runFilters = (matches, args) => {\n      const run = (matchRecord, filteringAttributes) => {\n        each$d(matchRecord, match => {\n          const nodes = from(match.nodes);\n          each$e(match.filter.callbacks, callback => {\n            for (let i = nodes.length - 1; i >= 0; i--) {\n              const node = nodes[i];\n              const valueMatches = filteringAttributes ? node.attr(match.filter.name) !== undefined : node.name === match.filter.name;\n              if (!valueMatches || isNullable(node.parent)) {\n                nodes.splice(i, 1);\n              }\n            }\n            if (nodes.length > 0) {\n              callback(nodes, match.filter.name, args);\n            }\n          });\n        });\n      };\n      run(matches.nodes, false);\n      run(matches.attributes, true);\n    };\n    const filter$2 = (nodeFilters, attributeFilters, node, args = {}) => {\n      const matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      runFilters(matches, args);\n    };\n\n    const paddEmptyNode = (settings, args, isBlock, node) => {\n      const brPreferred = settings.pad_empty_with_br || args.insert;\n      if (brPreferred && isBlock(node)) {\n        const astNode = new AstNode('br', 1);\n        if (args.insert) {\n          astNode.attr('data-mce-bogus', '1');\n        }\n        node.empty().append(astNode);\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    const isPaddedWithNbsp = node => {\n      var _a;\n      return hasOnlyChild(node, '#text') && ((_a = node === null || node === void 0 ? void 0 : node.firstChild) === null || _a === void 0 ? void 0 : _a.value) === nbsp;\n    };\n    const hasOnlyChild = (node, name) => {\n      const firstChild = node === null || node === void 0 ? void 0 : node.firstChild;\n      return isNonNullable(firstChild) && firstChild === node.lastChild && firstChild.name === name;\n    };\n    const isPadded = (schema, node) => {\n      const rule = schema.getElementRule(node.name);\n      return (rule === null || rule === void 0 ? void 0 : rule.paddEmpty) === true;\n    };\n    const isEmpty = (schema, nonEmptyElements, whitespaceElements, node) => node.isEmpty(nonEmptyElements, whitespaceElements, node => isPadded(schema, node));\n    const isLineBreakNode = (node, isBlock) => isNonNullable(node) && (isBlock(node) || node.name === 'br');\n    const findClosestEditingHost = scope => {\n      let editableNode;\n      for (let node = scope; node; node = node.parent) {\n        const contentEditable = node.attr('contenteditable');\n        if (contentEditable === 'false') {\n          break;\n        } else if (contentEditable === 'true') {\n          editableNode = node;\n        }\n      }\n      return Optional.from(editableNode);\n    };\n\n    const removeOrUnwrapInvalidNode = (node, schema, originalNodeParent = node.parent) => {\n      if (schema.getSpecialElements()[node.name]) {\n        node.empty().remove();\n      } else {\n        const children = node.children();\n        for (const childNode of children) {\n          if (originalNodeParent && !schema.isValidChild(originalNodeParent.name, childNode.name)) {\n            removeOrUnwrapInvalidNode(childNode, schema, originalNodeParent);\n          }\n        }\n        node.unwrap();\n      }\n    };\n    const cleanInvalidNodes = (nodes, schema, rootNode, onCreate = noop) => {\n      const textBlockElements = schema.getTextBlockElements();\n      const nonEmptyElements = schema.getNonEmptyElements();\n      const whitespaceElements = schema.getWhitespaceElements();\n      const nonSplittableElements = Tools.makeMap('tr,td,th,tbody,thead,tfoot,table,summary');\n      const fixed = new Set();\n      const isSplittableElement = node => node !== rootNode && !nonSplittableElements[node.name];\n      for (let ni = 0; ni < nodes.length; ni++) {\n        const node = nodes[ni];\n        let parent;\n        let newParent;\n        let tempNode;\n        if (!node.parent || fixed.has(node)) {\n          continue;\n        }\n        if (textBlockElements[node.name] && node.parent.name === 'li') {\n          let sibling = node.next;\n          while (sibling) {\n            if (textBlockElements[sibling.name]) {\n              sibling.name = 'li';\n              fixed.add(sibling);\n              node.parent.insert(sibling, node.parent);\n            } else {\n              break;\n            }\n            sibling = sibling.next;\n          }\n          node.unwrap();\n          continue;\n        }\n        const parents = [node];\n        for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && isSplittableElement(parent); parent = parent.parent) {\n          parents.push(parent);\n        }\n        if (parent && parents.length > 1) {\n          if (!isInvalid(schema, node, parent)) {\n            parents.reverse();\n            newParent = parents[0].clone();\n            onCreate(newParent);\n            let currentNode = newParent;\n            for (let i = 0; i < parents.length - 1; i++) {\n              if (schema.isValidChild(currentNode.name, parents[i].name) && i > 0) {\n                tempNode = parents[i].clone();\n                onCreate(tempNode);\n                currentNode.append(tempNode);\n              } else {\n                tempNode = currentNode;\n              }\n              for (let childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                const nextNode = childNode.next;\n                tempNode.append(childNode);\n                childNode = nextNode;\n              }\n              currentNode = tempNode;\n            }\n            if (!isEmpty(schema, nonEmptyElements, whitespaceElements, newParent)) {\n              parent.insert(newParent, parents[0], true);\n              parent.insert(node, newParent);\n            } else {\n              parent.insert(node, parents[0], true);\n            }\n            parent = parents[0];\n            if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n              parent.empty().remove();\n            }\n          } else {\n            removeOrUnwrapInvalidNode(node, schema);\n          }\n        } else if (node.parent) {\n          if (node.name === 'li') {\n            let sibling = node.prev;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n              sibling.append(node);\n              continue;\n            }\n            sibling = node.next;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ol') && sibling.firstChild) {\n              sibling.insert(node, sibling.firstChild, true);\n              continue;\n            }\n            const wrapper = new AstNode('ul', 1);\n            onCreate(wrapper);\n            node.wrap(wrapper);\n            continue;\n          }\n          if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n            const wrapper = new AstNode('div', 1);\n            onCreate(wrapper);\n            node.wrap(wrapper);\n          } else {\n            removeOrUnwrapInvalidNode(node, schema);\n          }\n        }\n      }\n    };\n    const hasClosest = (node, parentName) => {\n      let tempNode = node;\n      while (tempNode) {\n        if (tempNode.name === parentName) {\n          return true;\n        }\n        tempNode = tempNode.parent;\n      }\n      return false;\n    };\n    const isInvalid = (schema, node, parent = node.parent) => {\n      if (!parent) {\n        return false;\n      }\n      if (schema.children[node.name] && !schema.isValidChild(parent.name, node.name)) {\n        return true;\n      }\n      if (node.name === 'a' && hasClosest(parent, 'a')) {\n        return true;\n      }\n      if (isSummary(parent) && isHeading(node)) {\n        return !((parent === null || parent === void 0 ? void 0 : parent.firstChild) === node && (parent === null || parent === void 0 ? void 0 : parent.lastChild) === node);\n      }\n      return false;\n    };\n\n    const createRange = (sc, so, ec, eo) => {\n      const rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    const normalizeBlockSelectionRange = rng => {\n      const startPos = CaretPosition.fromRangeStart(rng);\n      const endPos = CaretPosition.fromRangeEnd(rng);\n      const rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(newEndPos => {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    const normalize = rng => rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n\n    const hasOnlyOneChild$1 = node => {\n      return isNonNullable(node.firstChild) && node.firstChild === node.lastChild;\n    };\n    const isPaddingNode = node => {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    const isPaddedEmptyBlock = (schema, node) => {\n      const blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    const isEmptyFragmentElement = (schema, node) => {\n      const nonEmptyElements = schema.getNonEmptyElements();\n      return isNonNullable(node) && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    const isListFragment = (schema, fragment) => {\n      let firstChild = fragment.firstChild;\n      let lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild === null || lastChild === void 0 ? void 0 : lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    const cleanupDomFragment = domFragment => {\n      var _a, _b;\n      const firstChild = domFragment.firstChild;\n      const lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        (_a = firstChild.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        (_b = lastChild.parentNode) === null || _b === void 0 ? void 0 : _b.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    const toDomFragment = (dom, serializer, fragment) => {\n      const html = serializer.serialize(fragment);\n      const domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    const listItems = elm => {\n      var _a;\n      return filter$5((_a = elm === null || elm === void 0 ? void 0 : elm.childNodes) !== null && _a !== void 0 ? _a : [], child => {\n        return child.nodeName === 'LI';\n      });\n    };\n    const isPadding = node => {\n      return node.data === nbsp || isBr$6(node);\n    };\n    const isListItemPadded = node => {\n      return isNonNullable(node === null || node === void 0 ? void 0 : node.firstChild) && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    const isEmptyOrPadded = elm => {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    const trimListItems = elms => {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    const getParentLi = (dom, node) => {\n      const parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    const isParentBlockLi = (dom, node) => {\n      return !!getParentLi(dom, node);\n    };\n    const getSplit = (parentNode, rng) => {\n      const beforeRng = rng.cloneRange();\n      const afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    const findFirstIn = (node, rootNode) => {\n      const caretPos = CaretPosition.before(node);\n      const caretWalker = CaretWalker(rootNode);\n      const newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    const findLastOf = (node, rootNode) => {\n      const caretPos = CaretPosition.after(node);\n      const caretWalker = CaretWalker(rootNode);\n      const newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    const insertMiddle = (target, elms, rootNode, rng) => {\n      const parts = getSplit(target, rng);\n      const parentElm = target.parentNode;\n      if (parentElm) {\n        parentElm.insertBefore(parts[0], target);\n        Tools.each(elms, li => {\n          parentElm.insertBefore(li, target);\n        });\n        parentElm.insertBefore(parts[1], target);\n        parentElm.removeChild(target);\n      }\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    const insertBefore$2 = (target, elms, rootNode) => {\n      const parentElm = target.parentNode;\n      if (parentElm) {\n        Tools.each(elms, elm => {\n          parentElm.insertBefore(elm, target);\n        });\n      }\n      return findFirstIn(target, rootNode);\n    };\n    const insertAfter$2 = (target, elms, rootNode, dom) => {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    const insertAtCaret$1 = (serializer, dom, rng, fragment) => {\n      const domFragment = toDomFragment(dom, serializer, fragment);\n      const liTarget = getParentLi(dom, rng.startContainer);\n      const liElms = trimListItems(listItems(domFragment.firstChild));\n      const BEGINNING = 1, END = 2;\n      const rootNode = dom.getRoot();\n      const isAt = location => {\n        const caretPos = CaretPosition.fromRangeStart(rng);\n        const caretWalker = CaretWalker(dom.getRoot());\n        const newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        const newPosNode = newPos === null || newPos === void 0 ? void 0 : newPos.getNode();\n        return newPosNode ? getParentLi(dom, newPosNode) !== liTarget : true;\n      };\n      if (!liTarget) {\n        return null;\n      } else if (isAt(BEGINNING)) {\n        return insertBefore$2(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$2(liTarget, liElms, rootNode, dom);\n      } else {\n        return insertMiddle(liTarget, liElms, rootNode, rng);\n      }\n    };\n\n    const mergeableWrappedElements = ['pre'];\n    const shouldPasteContentOnly = (dom, fragment, parentNode, root) => {\n      var _a;\n      const firstNode = fragment.firstChild;\n      const lastNode = fragment.lastChild;\n      const last = lastNode.attr('data-mce-type') === 'bookmark' ? lastNode.prev : lastNode;\n      const isPastingSingleElement = firstNode === last;\n      const isWrappedElement = contains$2(mergeableWrappedElements, firstNode.name);\n      if (isPastingSingleElement && isWrappedElement) {\n        const isContentEditable = firstNode.attr('contenteditable') !== 'false';\n        const isPastingInTheSameBlockTag = ((_a = dom.getParent(parentNode, dom.isBlock)) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase()) === firstNode.name;\n        const isPastingInContentEditable = Optional.from(getContentEditableRoot$1(root, parentNode)).forall(isContentEditableTrue$3);\n        return isContentEditable && isPastingInTheSameBlockTag && isPastingInContentEditable;\n      } else {\n        return false;\n      }\n    };\n    const isTableCell = isTableCell$3;\n    const isTableCellContentSelected = (dom, rng, cell) => {\n      if (isNonNullable(cell)) {\n        const endCell = dom.getParent(rng.endContainer, isTableCell);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    const validInsertion = (editor, value, parentNode) => {\n      var _a;\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        (_a = parentNode.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        const node = parentNode.firstChild;\n        const node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value, { no_events: true });\n        }\n      }\n    };\n    const trimBrsFromTableCell = (dom, elm, schema) => {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(el => trimBlockTrailingBr(el, schema));\n    };\n    const reduceInlineTextElements = (editor, merge) => {\n      const textInlineElements = editor.schema.getTextInlineElements();\n      const dom = editor.dom;\n      if (merge) {\n        const root = editor.getBody();\n        const elementUtils = ElementUtils(editor);\n        Tools.each(dom.select('*[data-mce-fragment]'), node => {\n          const isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (let parentNode = node.parentElement; isNonNullable(parentNode) && parentNode !== root; parentNode = parentNode.parentElement) {\n              const styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    const markFragmentElements = fragment => {\n      let node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    const unmarkFragmentElements = elm => {\n      Tools.each(elm.getElementsByTagName('*'), elm => {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    const isPartOfFragment = node => {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    const canHaveChildren = (editor, node) => {\n      return isNonNullable(node) && !editor.schema.getVoidElements()[node.nodeName];\n    };\n    const moveSelectionToMarker = (editor, marker) => {\n      var _a, _b, _c;\n      let nextRng;\n      const dom = editor.dom;\n      const selection = editor.selection;\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      const parentEditableElm = getContentEditableRoot$1(editor.getBody(), marker);\n      if (parentEditableElm && dom.getContentEditable(parentEditableElm) === 'false') {\n        dom.remove(marker);\n        selection.select(parentEditableElm);\n        return;\n      }\n      let rng = dom.createRng();\n      const node = marker.previousSibling;\n      if (isText$a(node)) {\n        rng.setStart(node, (_b = (_a = node.nodeValue) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0);\n        const node2 = marker.nextSibling;\n        if (isText$a(node2)) {\n          node.appendData(node2.data);\n          (_c = node2.parentNode) === null || _c === void 0 ? void 0 : _c.removeChild(node2);\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      const findNextCaretRng = rng => {\n        let caretPos = CaretPosition.fromRangeStart(rng);\n        const caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        return caretPos === null || caretPos === void 0 ? void 0 : caretPos.toRange();\n      };\n      const parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        const isCell = isTableCell(parentBlock);\n        empty(SugarElement.fromDom(parentBlock));\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isCell && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', isCell ? {} : { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    const deleteSelectedContent = editor => {\n      const dom = editor.dom;\n      const rng = normalize(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      const startCell = dom.getParent(rng.startContainer, isTableCell);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else if (rng.startContainer === rng.endContainer && rng.endOffset - rng.startOffset === 1 && isText$a(rng.startContainer.childNodes[rng.startOffset])) {\n        rng.deleteContents();\n      } else {\n        editor.getDoc().execCommand('Delete', false);\n      }\n    };\n    const findMarkerNode = scope => {\n      for (let markerNode = scope; markerNode; markerNode = markerNode.walk()) {\n        if (markerNode.attr('id') === 'mce_marker') {\n          return Optional.some(markerNode);\n        }\n      }\n      return Optional.none();\n    };\n    const notHeadingsInSummary = (dom, node, fragment) => {\n      var _a;\n      return exists(fragment.children(), isHeading) && ((_a = dom.getParent(node, dom.isBlock)) === null || _a === void 0 ? void 0 : _a.nodeName) === 'SUMMARY';\n    };\n    const insertHtmlAtCaret = (editor, value, details) => {\n      var _a, _b;\n      const selection = editor.selection;\n      const dom = editor.dom;\n      const parser = editor.parser;\n      const merge = details.merge;\n      const serializer = HtmlSerializer({ validate: true }, editor.schema);\n      const bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      if (!details.preserve_zwsp) {\n        value = trim$2(value);\n      }\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      let rng = selection.getRng();\n      const caretElement = rng.startContainer;\n      const body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      const parentNode = selection.getNode();\n      const parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      const fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret$1(serializer, dom, selection.getRng(), fragment);\n        if (rng) {\n          selection.setRng(rng);\n        }\n        return value;\n      }\n      if (details.paste === true && shouldPasteContentOnly(dom, fragment, parentNode, editor.getBody())) {\n        (_a = fragment.firstChild) === null || _a === void 0 ? void 0 : _a.unwrap();\n      }\n      markFragmentElements(fragment);\n      let node = fragment.lastChild;\n      if (node && node.attr('id') === 'mce_marker') {\n        const marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (node.parent && editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid && !notHeadingsInSummary(dom, parentNode, fragment)) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        let parentNode = selection.getNode();\n        let tempNode;\n        const rootNode = editor.getBody();\n        if (isDocument$1(parentNode)) {\n          parentNode = tempNode = rootNode;\n        } else {\n          tempNode = parentNode;\n        }\n        while (tempNode && tempNode !== rootNode) {\n          parentNode = tempNode;\n          tempNode = tempNode.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        const root = parser.parse(value);\n        const markerNode = findMarkerNode(root);\n        const editingHost = markerNode.bind(findClosestEditingHost).getOr(root);\n        markerNode.each(marker => marker.replace(fragment));\n        const toExtract = fragment.children();\n        const parent = (_b = fragment.parent) !== null && _b !== void 0 ? _b : root;\n        fragment.unwrap();\n        const invalidChildren = filter$5(toExtract, node => isInvalid(editor.schema, node, parent));\n        cleanInvalidNodes(invalidChildren, editor.schema, editingHost);\n        filter$2(parser.getNodeFilters(), parser.getAttributeFilters(), root);\n        value = serializer.serialize(root);\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart(), editor.schema);\n      updateCaret(editor.schema, editor.getBody(), selection.getStart());\n      return value;\n    };\n\n    const isTreeNode = content => content instanceof AstNode;\n\n    const moveSelection = editor => {\n      if (hasFocus(editor)) {\n        firstPositionIn(editor.getBody()).each(pos => {\n          const node = pos.getNode();\n          const caretPos = isTable$2(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    const setEditorHtml = (editor, html, noSelection) => {\n      editor.dom.setHTML(editor.getBody(), html);\n      if (noSelection !== true) {\n        moveSelection(editor);\n      }\n    };\n    const setContentString = (editor, body, content, args) => {\n      content = trim$2(content);\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        const padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        const forcedRootBlockName = getForcedRootBlock(editor);\n        if (editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = padd;\n        }\n        setEditorHtml(editor, content, args.no_selection);\n        return {\n          content,\n          html: content\n        };\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: false }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        const trimmedHtml = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, trimmedHtml, args.no_selection);\n        return {\n          content: trimmedHtml,\n          html: trimmedHtml\n        };\n      }\n    };\n    const setContentTree = (editor, body, content, args) => {\n      filter$2(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      const html = HtmlSerializer({ validate: false }, editor.schema).serialize(content);\n      const trimmedHtml = trim$2(isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html));\n      setEditorHtml(editor, trimmedHtml, args.no_selection);\n      return {\n        content,\n        html: trimmedHtml\n      };\n    };\n    const setContentInternal = (editor, content, args) => {\n      return Optional.from(editor.getBody()).map(body => {\n        if (isTreeNode(content)) {\n          return setContentTree(editor, body, content, args);\n        } else {\n          return setContentString(editor, body, content, args);\n        }\n      }).getOr({\n        content,\n        html: isTreeNode(args.content) ? '' : args.content\n      });\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$1 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor(scope, transform, stop));\n    };\n\n    const isEq$3 = isEq$5;\n    const matchesUnInheritedFormatSelector = (ed, node, name) => {\n      const formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (let i = 0; i < formatList.length; i++) {\n          const format = formatList[i];\n          if (isSelectorFormat(format) && format.inherit === false && ed.dom.is(node, format.selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const matchParents = (editor, node, name, vars, similar) => {\n      const root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      const matchedNode = editor.dom.getParent(node, elm => {\n        if (matchesUnInheritedFormatSelector(editor, elm, name)) {\n          return true;\n        }\n        return elm.parentNode === root || !!matchNode(editor, elm, name, vars, true);\n      });\n      return !!matchNode(editor, matchedNode, name, vars, similar);\n    };\n    const matchName = (dom, node, format) => {\n      if (isInlineFormat(format) && isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isBlockFormat(format) && isEq$3(node, format.block)) {\n        return true;\n      }\n      if (isSelectorFormat(format)) {\n        return isElement$6(node) && dom.is(node, format.selector);\n      }\n      return false;\n    };\n    const matchItems = (dom, node, format, itemName, similar, vars) => {\n      const items = format[itemName];\n      const matchAttributes = itemName === 'attributes';\n      if (isFunction(format.onmatch)) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (!isArrayLike(items)) {\n          for (const key in items) {\n            if (has$2(items, key)) {\n              const value = matchAttributes ? dom.getAttrib(node, key) : getStyle(dom, node, key);\n              const expectedValue = replaceVars(items[key], vars);\n              const isEmptyValue = isNullable(value) || isEmpty$3(value);\n              if (isEmptyValue && isNullable(expectedValue)) {\n                continue;\n              }\n              if (similar && isEmptyValue && !format.exact) {\n                return false;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, normalizeStyleValue(expectedValue, key))) {\n                return false;\n              }\n            }\n          }\n        } else {\n          for (let i = 0; i < items.length; i++) {\n            if (matchAttributes ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return true;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    const matchNode = (ed, node, name, vars, similar) => {\n      const formatList = ed.formatter.get(name);\n      const dom = ed.dom;\n      if (formatList && isElement$6(node)) {\n        for (let i = 0; i < formatList.length; i++) {\n          const format = formatList[i];\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            const classes = format.classes;\n            if (classes) {\n              for (let x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n      return undefined;\n    };\n    const match$2 = (editor, name, vars, node, similar) => {\n      if (node) {\n        return matchParents(editor, node, name, vars, similar);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars, similar)) {\n        return true;\n      }\n      const startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars, similar)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const matchAll = (editor, names, vars) => {\n      const matchedFormatNames = [];\n      const checkedMap = {};\n      const startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, node => {\n        for (let i = 0; i < names.length; i++) {\n          const name = names[i];\n          if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n            checkedMap[name] = true;\n            matchedFormatNames.push(name);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    const closest = (editor, names) => {\n      const isRoot = elm => eq(elm, SugarElement.fromDom(editor.getBody()));\n      const match = (elm, name) => matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      return Optional.from(editor.selection.getStart(true)).bind(rawElm => closest$1(SugarElement.fromDom(rawElm), elm => findMap(names, name => match(elm, name)), isRoot)).getOrNull();\n    };\n    const canApply = (editor, name) => {\n      const formatList = editor.formatter.get(name);\n      const dom = editor.dom;\n      if (formatList && editor.selection.isEditable()) {\n        const startNode = editor.selection.getStart();\n        const parents = getParents$2(dom, startNode);\n        for (let x = formatList.length - 1; x >= 0; x--) {\n          const format = formatList[x];\n          if (!isSelectorFormat(format)) {\n            return true;\n          }\n          for (let i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], format.selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    const matchAllOnNode = (editor, node, formatNames) => foldl(formatNames, (acc, name) => {\n      const matchSimilar = isVariableFormatName(editor, name);\n      if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n        return acc.concat([name]);\n      } else {\n        return acc;\n      }\n    }, []);\n\n    const ZWSP = ZWSP$1;\n    const importNode = (ownerDocument, node) => {\n      return ownerDocument.importNode(node, true);\n    };\n    const findFirstTextNode = node => {\n      if (node) {\n        const walker = new DomTreeWalker(node, node);\n        for (let tempNode = walker.current(); tempNode; tempNode = walker.next()) {\n          if (isText$a(tempNode)) {\n            return tempNode;\n          }\n        }\n      }\n      return null;\n    };\n    const createCaretContainer = fill => {\n      const caretContainer = SugarElement.fromTag('span');\n      setAll$1(caretContainer, {\n        'id': CARET_ID,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append$1(caretContainer, SugarElement.fromText(ZWSP));\n      }\n      return caretContainer;\n    };\n    const trimZwspFromCaretContainer = caretContainerNode => {\n      const textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.data.charAt(0) === ZWSP) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    const removeCaretContainerNode = (editor, node, moveCaret) => {\n      const dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement$2(editor, false, SugarElement.fromDom(node), moveCaret, true);\n      } else {\n        const rng = selection.getRng();\n        const block = dom.getParent(node, dom.isBlock);\n        const startContainer = rng.startContainer;\n        const startOffset = rng.startOffset;\n        const endContainer = rng.endContainer;\n        const endOffset = rng.endOffset;\n        const textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    const removeCaretContainer = (editor, node, moveCaret) => {\n      const dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID)) {\n            removeCaretContainerNode(editor, node, moveCaret);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    const insertCaretContainerNode = (editor, caretContainer, formatNode) => {\n      var _a, _b;\n      const dom = editor.dom;\n      const block = dom.getParent(formatNode, curry(isTextBlock$1, editor.schema));\n      if (block && dom.isEmpty(block)) {\n        (_a = formatNode.parentNode) === null || _a === void 0 ? void 0 : _a.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          (_b = formatNode.parentNode) === null || _b === void 0 ? void 0 : _b.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    const appendNode = (parentNode, node) => {\n      parentNode.appendChild(node);\n      return node;\n    };\n    const insertFormatNodesIntoCaretContainer = (formatNodes, caretContainer) => {\n      var _a;\n      const innerMostFormatNode = foldr(formatNodes, (parentNode, formatNode) => {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      const doc = (_a = innerMostFormatNode.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      return appendNode(innerMostFormatNode, doc.createTextNode(ZWSP));\n    };\n    const cleanFormatNode = (editor, caretContainer, formatNode, name, vars, similar) => {\n      const formatter = editor.formatter;\n      const dom = editor.dom;\n      const validFormats = filter$5(keys(formatter.get()), formatName => formatName !== name && !contains$1(formatName, 'removeformat'));\n      const matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      const uniqueFormats = filter$5(matchedFormats, fmtName => !areSimilarFormats(editor, fmtName, name));\n      if (uniqueFormats.length > 0) {\n        const clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    const applyCaretFormat = (editor, name, vars) => {\n      let caretContainer;\n      const selection = editor.selection;\n      const formatList = editor.formatter.get(name);\n      if (!formatList) {\n        return;\n      }\n      const selectionRng = selection.getRng();\n      let offset = selectionRng.startOffset;\n      const container = selectionRng.startContainer;\n      const text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      const wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        const bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        let rng = expandRng(editor.dom, selectionRng, formatList);\n        rng = split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        let textNode = caretContainer ? findFirstTextNode(caretContainer) : null;\n        if (!caretContainer || (textNode === null || textNode === void 0 ? void 0 : textNode.data) !== ZWSP) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    const removeCaretFormat = (editor, name, vars, similar) => {\n      const dom = editor.dom;\n      const selection = editor.selection;\n      let hasContentAfter = false;\n      const formatList = editor.formatter.get(name);\n      if (!formatList) {\n        return;\n      }\n      const rng = selection.getRng();\n      const container = rng.startContainer;\n      const offset = rng.startOffset;\n      let node = container;\n      if (isText$a(container)) {\n        if (offset !== container.data.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      const parents = [];\n      let formatNode;\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        const bookmark = selection.getBookmark();\n        rng.collapse(true);\n        let expandedRng = expandRng(dom, rng, formatList, true);\n        expandedRng = split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        const caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        const parentsAfter = isNonNullable(caretContainer) ? dom.getParents(formatNode.parentNode, always, caretContainer) : [];\n        const newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null && caretContainer !== void 0 ? caretContainer : formatNode);\n        const cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        const caretTextNode = insertFormatNodesIntoCaretContainer([\n          ...parents,\n          ...cleanedFormatNode.toArray(),\n          ...parentsAfter\n        ], newCaretContainer);\n        if (caretContainer) {\n          removeCaretContainerNode(editor, caretContainer, isNonNullable(caretContainer));\n        }\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    const disableCaretContainer = (editor, keyCode, moveCaret) => {\n      const selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, moveCaret);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()), true);\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()), true);\n      }\n    };\n    const endsWithNbsp = element => isText$a(element) && endsWith(element.data, nbsp);\n    const setup$v = editor => {\n      editor.on('mouseup keydown', e => {\n        disableCaretContainer(editor, e.keyCode, endsWithNbsp(editor.selection.getRng().endContainer));\n      });\n    };\n    const createCaretFormat = formatNodes => {\n      const caretContainer = createCaretContainer(false);\n      const innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      return {\n        caretContainer,\n        caretPosition: CaretPosition(innerMost, 0)\n      };\n    };\n    const replaceWithCaretFormat = (targetNode, formatNodes) => {\n      const {caretContainer, caretPosition} = createCaretFormat(formatNodes);\n      before$3(SugarElement.fromDom(targetNode), caretContainer);\n      remove$5(SugarElement.fromDom(targetNode));\n      return caretPosition;\n    };\n    const createCaretFormatAtStart$1 = (rng, formatNodes) => {\n      const {caretContainer, caretPosition} = createCaretFormat(formatNodes);\n      rng.insertNode(caretContainer.dom);\n      return caretPosition;\n    };\n    const isFormatElement = (editor, element) => {\n      if (isCaretNode(element.dom)) {\n        return false;\n      }\n      const inlineElements = editor.schema.getTextInlineElements();\n      return has$2(inlineElements, name(element)) && !isCaretNode(element.dom) && !isBogus$2(element.dom);\n    };\n\n    const postProcessHooks = {};\n    const isPre = matchNodeNames(['pre']);\n    const addPostProcessHook = (name, hook) => {\n      const hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    const postProcess$1 = (name, editor) => {\n      if (has$2(postProcessHooks, name)) {\n        each$e(postProcessHooks[name], hook => {\n          hook(editor);\n        });\n      }\n    };\n    addPostProcessHook('pre', editor => {\n      const rng = editor.selection.getRng();\n      const hasPreSibling = blocks => pre => {\n        const prev = pre.previousSibling;\n        return isPre(prev) && contains$2(blocks, prev);\n      };\n      const joinPre = (pre1, pre2) => {\n        const sPre2 = SugarElement.fromDom(pre2);\n        const doc = documentOrOwner(sPre2).dom;\n        remove$5(sPre2);\n        append(SugarElement.fromDom(pre1), [\n          SugarElement.fromTag('br', doc),\n          SugarElement.fromTag('br', doc),\n          ...children$1(sPre2)\n        ]);\n      };\n      if (!rng.collapsed) {\n        const blocks = editor.selection.getSelectedBlocks();\n        const preBlocks = filter$5(filter$5(blocks, isPre), hasPreSibling(blocks));\n        each$e(preBlocks, pre => {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    const listItemStyles = [\n      'fontWeight',\n      'fontStyle',\n      'color',\n      'fontSize',\n      'fontFamily'\n    ];\n    const hasListStyles = fmt => isObject(fmt.styles) && exists(keys(fmt.styles), name => contains$2(listItemStyles, name));\n    const findExpandedListItemFormat = formats => find$2(formats, fmt => isInlineFormat(fmt) && fmt.inline === 'span' && hasListStyles(fmt));\n    const getExpandedListItemFormat = (formatter, format) => {\n      const formatList = formatter.get(format);\n      return isArray$1(formatList) ? findExpandedListItemFormat(formatList) : Optional.none();\n    };\n    const isRngStartAtStartOfElement = (rng, elm) => prevPosition(elm, CaretPosition.fromRangeStart(rng)).isNone();\n    const isRngEndAtEndOfElement = (rng, elm) => {\n      return nextPosition(elm, CaretPosition.fromRangeEnd(rng)).exists(pos => !isBr$6(pos.getNode()) || nextPosition(elm, pos).isSome()) === false;\n    };\n    const isEditableListItem = dom => elm => isListItem$2(elm) && dom.isEditable(elm);\n    const getFullySelectedBlocks = selection => {\n      const blocks = selection.getSelectedBlocks();\n      const rng = selection.getRng();\n      if (selection.isCollapsed()) {\n        return [];\n      }\n      if (blocks.length === 1) {\n        return isRngStartAtStartOfElement(rng, blocks[0]) && isRngEndAtEndOfElement(rng, blocks[0]) ? blocks : [];\n      } else {\n        const first = head(blocks).filter(elm => isRngStartAtStartOfElement(rng, elm)).toArray();\n        const last = last$3(blocks).filter(elm => isRngEndAtEndOfElement(rng, elm)).toArray();\n        const middle = blocks.slice(1, -1);\n        return first.concat(middle).concat(last);\n      }\n    };\n    const getFullySelectedListItems = selection => filter$5(getFullySelectedBlocks(selection), isEditableListItem(selection.dom));\n    const getPartiallySelectedListItems = selection => filter$5(selection.getSelectedBlocks(), isEditableListItem(selection.dom));\n\n    const each$8 = Tools.each;\n    const isElementNode = node => isElement$6(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    const findElementSibling = (node, siblingName) => {\n      for (let sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$a(sibling) && isNotEmpty(sibling.data)) {\n          return node;\n        }\n        if (isElement$6(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    const mergeSiblingsNodes = (editor, prev, next) => {\n      const elementUtils = ElementUtils(editor);\n      const isPrevEditable = isHTMLElement(prev) && editor.dom.isEditable(prev);\n      const isNextEditable = isHTMLElement(next) && editor.dom.isEditable(next);\n      if (isPrevEditable && isNextEditable) {\n        const prevSibling = findElementSibling(prev, 'previousSibling');\n        const nextSibling = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prevSibling, nextSibling)) {\n          for (let sibling = prevSibling.nextSibling; sibling && sibling !== nextSibling;) {\n            const tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prevSibling.appendChild(tmpSibling);\n          }\n          editor.dom.remove(nextSibling);\n          Tools.each(Tools.grep(nextSibling.childNodes), node => {\n            prevSibling.appendChild(node);\n          });\n          return prevSibling;\n        }\n      }\n      return next;\n    };\n    const mergeSiblings = (editor, format, vars, node) => {\n      var _a;\n      if (node && format.merge_siblings !== false) {\n        const newNode = (_a = mergeSiblingsNodes(editor, getNonWhiteSpaceSibling(node), node)) !== null && _a !== void 0 ? _a : node;\n        mergeSiblingsNodes(editor, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    const clearChildStyles = (dom, format, node) => {\n      if (format.clear_child_styles) {\n        const selector = format.links ? '*:not(a)' : '*';\n        each$8(dom.select(selector, node), childNode => {\n          if (isElementNode(childNode) && dom.isEditable(childNode)) {\n            each$8(format.styles, (_value, name) => {\n              dom.setStyle(childNode, name, '');\n            });\n          }\n        });\n      }\n    };\n    const processChildElements = (node, filter, process) => {\n      each$8(node.childNodes, node => {\n        if (isElementNode(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    const unwrapEmptySpan = (dom, node) => {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    const hasStyle = (dom, name) => node => !!(node && getStyle(dom, node, name));\n    const applyStyle = (dom, name, value) => node => {\n      dom.setStyle(node, name, value);\n      if (node.getAttribute('style') === '') {\n        node.removeAttribute('style');\n      }\n      unwrapEmptySpan(dom, node);\n    };\n\n    const removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    const MCE_ATTR_RE = /^(src|href|style)$/;\n    const each$7 = Tools.each;\n    const isEq$2 = isEq$5;\n    const isTableCellOrRow = node => /^(TR|TH|TD)$/.test(node.nodeName);\n    const isChildOfInlineParent = (dom, node, parent) => dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    const getContainer = (ed, rng, start) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      let offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$6(container)) {\n        const lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$a(container) && start && offset >= container.data.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$a(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    const normalizeTableSelection = (node, start) => {\n      const prop = start ? 'firstChild' : 'lastChild';\n      const childNode = node[prop];\n      if (isTableCellOrRow(node) && childNode) {\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    const wrap$1 = (dom, node, name, attrs) => {\n      var _a;\n      const wrapper = dom.create(name, attrs);\n      (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    const wrapWithSiblings = (dom, node, next, name, attrs) => {\n      const start = SugarElement.fromDom(node);\n      const wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      const siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append(wrapper, siblings);\n      if (next) {\n        before$3(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after$4(start, wrapper);\n        append$1(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    const isColorFormatAndAnchor = (node, format) => format.links && node.nodeName === 'A';\n    const removeNode = (ed, node, format) => {\n      const parentNode = node.parentNode;\n      let rootBlockElm;\n      const dom = ed.dom;\n      const forcedRootBlock = getForcedRootBlock(ed);\n      if (isBlockFormat(format)) {\n        if (parentNode === dom.getRoot()) {\n          if (!format.list_block || !isEq$2(node, format.list_block)) {\n            each$e(from(node.childNodes), node => {\n              if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                if (!rootBlockElm) {\n                  rootBlockElm = wrap$1(dom, node, forcedRootBlock);\n                  dom.setAttribs(rootBlockElm, getForcedRootBlockAttrs(ed));\n                } else {\n                  rootBlockElm.appendChild(node);\n                }\n              } else {\n                rootBlockElm = null;\n              }\n            });\n          }\n        }\n      }\n      if (isMixedFormat(format) && !isEq$2(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    const processFormatAttrOrStyle = (name, value, vars) => {\n      if (isNumber(name)) {\n        return {\n          name: value,\n          value: null\n        };\n      } else {\n        return {\n          name,\n          value: replaceVars(value, vars)\n        };\n      }\n    };\n    const removeEmptyStyleAttributeIfNeeded = (dom, elm) => {\n      if (dom.getAttrib(elm, 'style') === '') {\n        elm.removeAttribute('style');\n        elm.removeAttribute('data-mce-style');\n      }\n    };\n    const removeStyles = (dom, elm, format, vars, compareNode) => {\n      let stylesModified = false;\n      each$7(format.styles, (value, name) => {\n        const {\n          name: styleName,\n          value: styleValue\n        } = processFormatAttrOrStyle(name, value, vars);\n        const normalizedStyleValue = normalizeStyleValue(styleValue, styleName);\n        if (format.remove_similar || isNull(styleValue) || !isElement$6(compareNode) || isEq$2(getStyle(dom, compareNode, styleName), normalizedStyleValue)) {\n          dom.setStyle(elm, styleName, '');\n        }\n        stylesModified = true;\n      });\n      if (stylesModified) {\n        removeEmptyStyleAttributeIfNeeded(dom, elm);\n      }\n    };\n    const removeListStyleFormats = (editor, name, vars) => {\n      if (name === 'removeformat') {\n        each$e(getPartiallySelectedListItems(editor.selection), li => {\n          each$e(listItemStyles, name => editor.dom.setStyle(li, name, ''));\n          removeEmptyStyleAttributeIfNeeded(editor.dom, li);\n        });\n      } else {\n        getExpandedListItemFormat(editor.formatter, name).each(liFmt => {\n          each$e(getPartiallySelectedListItems(editor.selection), li => removeStyles(editor.dom, li, liFmt, vars, null));\n        });\n      }\n    };\n    const removeNodeFormatInternal = (ed, format, vars, node, compareNode) => {\n      const dom = ed.dom;\n      const elementUtils = ElementUtils(ed);\n      const schema = ed.schema;\n      if (isInlineFormat(format) && isTransparentElementName(schema, format.inline) && isTransparentBlock(schema, node) && node.parentElement === ed.getBody()) {\n        removeNode(ed, node, format);\n        return removeResult.removed();\n      }\n      if (!format.ceFalseOverride && node && dom.getContentEditableParent(node) === 'false') {\n        return removeResult.keep();\n      }\n      if (node && !matchName(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      const elm = node;\n      const preserveAttributes = format.preserve_attributes;\n      if (isInlineFormat(format) && format.remove === 'all' && isArray$1(preserveAttributes)) {\n        const attrsToPreserve = filter$5(dom.getAttribs(elm), attr => contains$2(preserveAttributes, attr.name.toLowerCase()));\n        dom.removeAllAttribs(elm);\n        each$e(attrsToPreserve, attr => dom.setAttrib(elm, attr.name, attr.value));\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        removeStyles(dom, elm, format, vars, compareNode);\n        each$7(format.attributes, (value, name) => {\n          const {\n            name: attrName,\n            value: attrValue\n          } = processFormatAttrOrStyle(name, value, vars);\n          if (format.remove_similar || isNull(attrValue) || !isElement$6(compareNode) || isEq$2(dom.getAttrib(compareNode, attrName), attrValue)) {\n            if (attrName === 'class') {\n              const currentValue = dom.getAttrib(elm, attrName);\n              if (currentValue) {\n                let valueOut = '';\n                each$e(currentValue.split(/\\s+/), cls => {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, attrName, valueOut);\n                  return;\n                }\n              }\n            }\n            if (MCE_ATTR_RE.test(attrName)) {\n              elm.removeAttribute('data-mce-' + attrName);\n            }\n            if (attrName === 'style' && matchNodeNames(['li'])(elm) && dom.getStyle(elm, 'list-style-type') === 'none') {\n              elm.removeAttribute(attrName);\n              dom.setStyle(elm, 'list-style-type', 'none');\n              return;\n            }\n            if (attrName === 'class') {\n              elm.removeAttribute('className');\n            }\n            elm.removeAttribute(attrName);\n          }\n        });\n        each$7(format.classes, value => {\n          value = replaceVars(value, vars);\n          if (!isElement$6(compareNode) || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        const attrs = dom.getAttribs(elm);\n        for (let i = 0; i < attrs.length; i++) {\n          const attrName = attrs[i].nodeName;\n          if (!elementUtils.isAttributeInternal(attrName)) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    const findFormatRoot = (editor, container, name, vars, similar) => {\n      let formatRoot;\n      if (container.parentNode) {\n        each$e(getParents$2(editor.dom, container.parentNode).reverse(), parent => {\n          if (!formatRoot && isElement$6(parent) && parent.id !== '_start' && parent.id !== '_end') {\n            const format = matchNode(editor, parent, name, vars, similar);\n            if (format && format.split !== false) {\n              formatRoot = parent;\n            }\n          }\n        });\n      }\n      return formatRoot;\n    };\n    const removeNodeFormatFromClone = (editor, format, vars, clone) => removeNodeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), newName => {\n      const fragment = editor.dom.createFragment();\n      fragment.appendChild(clone);\n      return editor.dom.rename(clone, newName);\n    }, constant(null));\n    const wrapAndSplit = (editor, formatList, formatRoot, container, target, split, format, vars) => {\n      var _a, _b;\n      let lastClone;\n      let firstClone;\n      const dom = editor.dom;\n      if (formatRoot) {\n        const formatRootParent = formatRoot.parentNode;\n        for (let parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n          let clone = dom.clone(parent, false);\n          for (let i = 0; i < formatList.length; i++) {\n            clone = removeNodeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = (_a = dom.split(formatRoot, container)) !== null && _a !== void 0 ? _a : container;\n        }\n        if (lastClone && firstClone) {\n          (_b = target.parentNode) === null || _b === void 0 ? void 0 : _b.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (isInlineFormat(format)) {\n            mergeSiblings(editor, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    const removeFormatInternal = (ed, name, vars, node, similar) => {\n      const formatList = ed.formatter.get(name);\n      const format = formatList[0];\n      const dom = ed.dom;\n      const selection = ed.selection;\n      const splitToFormatRoot = container => {\n        const formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      const isRemoveBookmarkNode = node => isBookmarkNode$1(node) && isElement$6(node) && (node.id === '_start' || node.id === '_end');\n      const removeFormatOnNode = node => exists(formatList, fmt => removeNodeFormat(ed, fmt, vars, node, node));\n      const process = node => {\n        const children = from(node.childNodes);\n        const removed = removeFormatOnNode(node);\n        const currentNodeMatches = removed || exists(formatList, f => matchName(dom, node, f));\n        const parentNode = node.parentNode;\n        if (!currentNodeMatches && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n          removeFormatOnNode(parentNode);\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (let i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n          }\n        }\n        const textDecorations = [\n          'underline',\n          'line-through',\n          'overline'\n        ];\n        each$e(textDecorations, decoration => {\n          if (isElement$6(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n            removeNodeFormat(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: decoration }\n            }, undefined, node);\n          }\n        });\n      };\n      const unwrap = start => {\n        const node = dom.get(start ? '_start' : '_end');\n        if (node) {\n          let out = node[start ? 'firstChild' : 'lastChild'];\n          if (isRemoveBookmarkNode(out)) {\n            out = out[start ? 'firstChild' : 'lastChild'];\n          }\n          if (isText$a(out) && out.data.length === 0) {\n            out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n          }\n          dom.remove(node, true);\n          return out;\n        } else {\n          return null;\n        }\n      };\n      const removeRngStyle = rng => {\n        let startContainer;\n        let endContainer;\n        let expandedRng = expandRng(dom, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              const marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              const marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$1(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$1(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            const newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$3(dom, newRng, nodes => {\n              each$e(nodes, n => {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$3(dom, expandedRng, nodes => {\n          each$e(nodes, process);\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          const rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (!selection.isCollapsed() || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n        preserveSelection(ed, () => runOnRanges(ed, removeRngStyle), startNode => isInlineFormat(format) && match$2(ed, name, vars, startNode));\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n      removeListStyleFormats(ed, name, vars);\n      fireFormatRemove(ed, name, node, vars);\n    };\n    const removeFormat$1 = (ed, name, vars, node, similar) => {\n      if (node || ed.selection.isEditable()) {\n        removeFormatInternal(ed, name, vars, node, similar);\n      }\n    };\n    const removeNodeFormat = (editor, format, vars, node, compareNode) => {\n      return removeNodeFormatInternal(editor, format, vars, node, compareNode).fold(never, newName => {\n        editor.dom.rename(node, newName);\n        return true;\n      }, always);\n    };\n\n    const each$6 = Tools.each;\n    const mergeTextDecorationsAndColor = (dom, format, vars, node) => {\n      const processTextDecorationsAndColor = n => {\n        if (isHTMLElement(n) && isElement$6(n.parentNode) && dom.isEditable(n)) {\n          const parentTextDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && parentTextDecoration) {\n            dom.setStyle(n, 'text-decoration', parentTextDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === parentTextDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    const mergeBackgroundColorAndFontSize = (dom, format, vars, node) => {\n      if (format.styles && format.styles.backgroundColor) {\n        const hasFontSize = hasStyle(dom, 'fontSize');\n        processChildElements(node, elm => hasFontSize(elm) && dom.isEditable(elm), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    const mergeSubSup = (dom, format, vars, node) => {\n      if (isInlineFormat(format) && (format.inline === 'sub' || format.inline === 'sup')) {\n        const hasFontSize = hasStyle(dom, 'fontSize');\n        processChildElements(node, elm => hasFontSize(elm) && dom.isEditable(elm), applyStyle(dom, 'fontSize', ''));\n        const inverseTagDescendants = filter$5(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), dom.isEditable);\n        dom.remove(inverseTagDescendants, true);\n      }\n    };\n    const mergeWithChildren = (editor, formatList, vars, node) => {\n      each$6(formatList, format => {\n        if (isInlineFormat(format)) {\n          each$6(editor.dom.select(format.inline, node), child => {\n            if (isElementNode(child)) {\n              removeNodeFormat(editor, format, vars, child, format.exact ? child : null);\n            }\n          });\n        }\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    const mergeWithParents = (editor, format, name, vars, node) => {\n      const parentNode = node.parentNode;\n      if (matchNode(editor, parentNode, name, vars)) {\n        if (removeNodeFormat(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents && parentNode) {\n        editor.dom.getParent(parentNode, parent => {\n          if (matchNode(editor, parent, name, vars)) {\n            removeNodeFormat(editor, format, vars, node);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      }\n    };\n\n    const each$5 = Tools.each;\n    const canFormatBR = (editor, format, node, parentName) => {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format) && node.parentNode) {\n        const validBRParentElements = getTextRootBlockElements(editor.schema);\n        const hasCaretNodeSibling = sibling(SugarElement.fromDom(node), sibling => isCaretNode(sibling.dom));\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty$2(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    const applyStyles = (dom, elm, format, vars) => {\n      each$5(format.styles, (value, name) => {\n        dom.setStyle(elm, name, replaceVars(value, vars));\n      });\n      if (format.styles) {\n        const styleVal = dom.getAttrib(elm, 'style');\n        if (styleVal) {\n          dom.setAttrib(elm, 'data-mce-style', styleVal);\n        }\n      }\n    };\n    const applyFormatAction = (ed, name, vars, node) => {\n      const formatList = ed.formatter.get(name);\n      const format = formatList[0];\n      const isCollapsed = !node && ed.selection.isCollapsed();\n      const dom = ed.dom;\n      const selection = ed.selection;\n      const setElementFormat = (elm, fmt = format) => {\n        if (isFunction(fmt.onformat)) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        applyStyles(dom, elm, fmt, vars);\n        each$5(fmt.attributes, (value, name) => {\n          dom.setAttrib(elm, name, replaceVars(value, vars));\n        });\n        each$5(fmt.classes, value => {\n          const newValue = replaceVars(value, vars);\n          if (!dom.hasClass(elm, newValue)) {\n            dom.addClass(elm, newValue);\n          }\n        });\n      };\n      const applyNodeStyle = (formatList, node) => {\n        let found = false;\n        each$5(formatList, format => {\n          if (!isSelectorFormat(format)) {\n            return false;\n          }\n          if (dom.getContentEditable(node) === 'false' && !format.ceFalseOverride) {\n            return true;\n          }\n          if (isNonNullable(format.collapsed) && format.collapsed !== isCollapsed) {\n            return true;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n          return true;\n        });\n        return found;\n      };\n      const createWrapElement = wrapName => {\n        if (isString(wrapName)) {\n          const wrapElm = dom.create(wrapName);\n          setElementFormat(wrapElm);\n          return wrapElm;\n        } else {\n          return null;\n        }\n      };\n      const applyRngStyle = (dom, rng, nodeSpecific) => {\n        const newWrappers = [];\n        let contentEditable = true;\n        const wrapName = format.inline || format.block;\n        const wrapElm = createWrapElement(wrapName);\n        const isMatchingWrappingBlock = node => isWrappingBlockFormat(format) && matchNode(ed, node, name, vars);\n        const canRenameBlock = (node, parentName, isEditableDescendant) => {\n          const isValidBlockFormatForNode = isNonWrappingBlockFormat(format) && isTextBlock$1(ed.schema, node) && isValid(ed, parentName, wrapName);\n          return isEditableDescendant && isValidBlockFormatForNode;\n        };\n        const canWrapNode = (node, parentName, isEditableDescendant, isWrappableNoneditableElm) => {\n          const nodeName = node.nodeName.toLowerCase();\n          const isValidWrapNode = isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName);\n          const isZwsp = !nodeSpecific && isText$a(node) && isZwsp$1(node.data);\n          const isCaret = isCaretNode(node);\n          const isCorrectFormatForNode = !isInlineFormat(format) || !dom.isBlock(node);\n          return (isEditableDescendant || isWrappableNoneditableElm) && isValidWrapNode && !isZwsp && !isCaret && isCorrectFormatForNode;\n        };\n        walk$3(dom, rng, nodes => {\n          let currentWrapElm;\n          const process = node => {\n            let hasContentEditableState = false;\n            let lastContentEditable = contentEditable;\n            let isWrappableNoneditableElm = false;\n            const parentNode = node.parentNode;\n            const parentName = parentNode.nodeName.toLowerCase();\n            const contentEditableValue = dom.getContentEditable(node);\n            if (isNonNullable(contentEditableValue)) {\n              lastContentEditable = contentEditable;\n              contentEditable = contentEditableValue === 'true';\n              hasContentEditableState = true;\n              isWrappableNoneditableElm = isWrappableNoneditable(ed, node);\n            }\n            const isEditableDescendant = contentEditable && !hasContentEditableState;\n            if (isBr$6(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (isMatchingWrappingBlock(node)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (canRenameBlock(node, parentName, isEditableDescendant)) {\n              const elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              let found = applyNodeStyle(formatList, node);\n              if (!found && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n                found = applyNodeStyle(formatList, parentNode);\n              }\n              if (!isInlineFormat(format) || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (isNonNullable(wrapElm) && canWrapNode(node, parentName, isEditableDescendant, isWrappableNoneditableElm)) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              if (isWrappableNoneditableElm && hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$e(from(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$e(nodes, process);\n        });\n        if (format.links === true) {\n          each$e(newWrappers, node => {\n            const process = node => {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$e(from(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$e(newWrappers, node => {\n          const getChildCount = node => {\n            let count = 0;\n            each$e(node.childNodes, node => {\n              if (!isEmptyTextNode$1(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          const mergeStyles = node => {\n            const childElement = find$2(node.childNodes, isElementNode$1).filter(child => dom.getContentEditable(child) !== 'false' && matchName(dom, child, format));\n            return childElement.map(child => {\n              const clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n              return clone;\n            }).getOr(node);\n          };\n          const childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || isBlockFormat(format) && format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(ed, format, vars, node);\n          }\n        });\n      };\n      const targetNode = isNode(node) ? node : selection.getNode();\n      if (dom.getContentEditable(targetNode) === 'false' && !isWrappableNoneditable(ed, targetNode)) {\n        node = targetNode;\n        applyNodeStyle(formatList, node);\n        fireFormatApply(ed, name, node, vars);\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              const rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(dom, rng, formatList), true);\n            }\n          } else {\n            applyRngStyle(dom, node, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            selection.setRng(normalize(selection.getRng()));\n            preserveSelection(ed, () => {\n              runOnRanges(ed, (selectionRng, fake) => {\n                const expandedRng = fake ? selectionRng : expandRng(dom, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng, false);\n              });\n            }, always);\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n          getExpandedListItemFormat(ed.formatter, name).each(liFmt => {\n            each$e(getFullySelectedListItems(ed.selection), li => applyStyles(dom, li, liFmt, vars));\n          });\n        }\n        postProcess$1(name, ed);\n      }\n      fireFormatApply(ed, name, node, vars);\n    };\n    const applyFormat$1 = (editor, name, vars, node) => {\n      if (node || editor.selection.isEditable()) {\n        applyFormatAction(editor, name, vars, node);\n      }\n    };\n\n    const hasVars = value => has$2(value, 'vars');\n    const setup$u = (registeredFormatListeners, editor) => {\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', e => {\n        updateAndFireChangeCallbacks(editor, e.element, registeredFormatListeners.get());\n      });\n      editor.on('FormatApply FormatRemove', e => {\n        const element = Optional.from(e.node).map(nodeOrRange => isNode(nodeOrRange) ? nodeOrRange : nodeOrRange.startContainer).bind(node => isElement$6(node) ? Optional.some(node) : Optional.from(node.parentElement)).getOrThunk(() => fallbackElement(editor));\n        updateAndFireChangeCallbacks(editor, element, registeredFormatListeners.get());\n      });\n    };\n    const fallbackElement = editor => editor.selection.getStart();\n    const matchingNode = (editor, parents, format, similar, vars) => {\n      const isMatchingNode = node => {\n        const matchingFormat = editor.formatter.matchNode(node, format, vars !== null && vars !== void 0 ? vars : {}, similar);\n        return !isUndefined(matchingFormat);\n      };\n      const isUnableToMatch = node => {\n        if (matchesUnInheritedFormatSelector(editor, node, format)) {\n          return true;\n        } else {\n          if (!similar) {\n            return isNonNullable(editor.formatter.matchNode(node, format, vars, true));\n          } else {\n            return false;\n          }\n        }\n      };\n      return findUntil$1(parents, isMatchingNode, isUnableToMatch);\n    };\n    const getParents = (editor, elm) => {\n      const element = elm !== null && elm !== void 0 ? elm : fallbackElement(editor);\n      return filter$5(getParents$2(editor.dom, element), node => isElement$6(node) && !isBogus$2(node));\n    };\n    const updateAndFireChangeCallbacks = (editor, elm, registeredCallbacks) => {\n      const parents = getParents(editor, elm);\n      each$d(registeredCallbacks, (data, format) => {\n        const runIfChanged = spec => {\n          const match = matchingNode(editor, parents, format, spec.similar, hasVars(spec) ? spec.vars : undefined);\n          const isSet = match.isSome();\n          if (spec.state.get() !== isSet) {\n            spec.state.set(isSet);\n            const node = match.getOr(elm);\n            if (hasVars(spec)) {\n              spec.callback(isSet, {\n                node,\n                format,\n                parents\n              });\n            } else {\n              each$e(spec.callbacks, callback => callback(isSet, {\n                node,\n                format,\n                parents\n              }));\n            }\n          }\n        };\n        each$e([\n          data.withSimilar,\n          data.withoutSimilar\n        ], runIfChanged);\n        each$e(data.withVars, runIfChanged);\n      });\n    };\n    const addListeners = (editor, registeredFormatListeners, formats, callback, similar, vars) => {\n      const formatChangeItems = registeredFormatListeners.get();\n      each$e(formats.split(','), format => {\n        const group = get$a(formatChangeItems, format).getOrThunk(() => {\n          const base = {\n            withSimilar: {\n              state: Cell(false),\n              similar: true,\n              callbacks: []\n            },\n            withoutSimilar: {\n              state: Cell(false),\n              similar: false,\n              callbacks: []\n            },\n            withVars: []\n          };\n          formatChangeItems[format] = base;\n          return base;\n        });\n        const getCurrent = () => {\n          const parents = getParents(editor);\n          return matchingNode(editor, parents, format, similar, vars).isSome();\n        };\n        if (isUndefined(vars)) {\n          const toAppendTo = similar ? group.withSimilar : group.withoutSimilar;\n          toAppendTo.callbacks.push(callback);\n          if (toAppendTo.callbacks.length === 1) {\n            toAppendTo.state.set(getCurrent());\n          }\n        } else {\n          group.withVars.push({\n            state: Cell(getCurrent()),\n            similar,\n            vars,\n            callback\n          });\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    const removeListeners = (registeredFormatListeners, formats, callback) => {\n      const formatChangeItems = registeredFormatListeners.get();\n      each$e(formats.split(','), format => get$a(formatChangeItems, format).each(group => {\n        formatChangeItems[format] = {\n          withSimilar: {\n            ...group.withSimilar,\n            callbacks: filter$5(group.withSimilar.callbacks, cb => cb !== callback)\n          },\n          withoutSimilar: {\n            ...group.withoutSimilar,\n            callbacks: filter$5(group.withoutSimilar.callbacks, cb => cb !== callback)\n          },\n          withVars: filter$5(group.withVars, item => item.callback !== callback)\n        };\n      }));\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    const formatChangedInternal = (editor, registeredFormatListeners, formats, callback, similar, vars) => {\n      addListeners(editor, registeredFormatListeners, formats, callback, similar, vars);\n      return { unbind: () => removeListeners(registeredFormatListeners, formats, callback) };\n    };\n\n    const toggle = (editor, name, vars, node) => {\n      const fmt = editor.formatter.get(name);\n      if (fmt) {\n        if (match$2(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n          removeFormat$1(editor, name, vars, node);\n        } else {\n          applyFormat$1(editor, name, vars, node);\n        }\n      }\n    };\n\n    const explode$1 = Tools.explode;\n    const create$8 = () => {\n      const filters = {};\n      const addFilter = (name, callback) => {\n        each$e(explode$1(name), name => {\n          if (!has$2(filters, name)) {\n            filters[name] = {\n              name,\n              callbacks: []\n            };\n          }\n          filters[name].callbacks.push(callback);\n        });\n      };\n      const getFilters = () => values(filters);\n      const removeFilter = (name, callback) => {\n        each$e(explode$1(name), name => {\n          if (has$2(filters, name)) {\n            if (isNonNullable(callback)) {\n              const filter = filters[name];\n              const newCallbacks = filter$5(filter.callbacks, c => c !== callback);\n              if (newCallbacks.length > 0) {\n                filter.callbacks = newCallbacks;\n              } else {\n                delete filters[name];\n              }\n            } else {\n              delete filters[name];\n            }\n          }\n        });\n      };\n      return {\n        addFilter,\n        getFilters,\n        removeFilter\n      };\n    };\n\n    const removeAttrs = (node, names) => {\n      each$e(names, name => {\n        node.attr(name, null);\n      });\n    };\n    const addFontToSpansFilter = (domParser, styles, fontSizes) => {\n      domParser.addNodeFilter('font', nodes => {\n        each$e(nodes, node => {\n          const props = styles.parse(node.attr('style'));\n          const color = node.attr('color');\n          const face = node.attr('face');\n          const size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            toInt(size).each(num => {\n              props['font-size'] = fontSizes[num - 1];\n            });\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    const addStrikeFilter = (domParser, schema, styles) => {\n      domParser.addNodeFilter('strike', nodes => {\n        const convertToSTag = schema.type !== 'html4';\n        each$e(nodes, node => {\n          if (convertToSTag) {\n            node.name = 's';\n          } else {\n            const props = styles.parse(node.attr('style'));\n            props['text-decoration'] = 'line-through';\n            node.name = 'span';\n            node.attr('style', styles.serialize(props));\n          }\n        });\n      });\n    };\n    const addFilters = (domParser, settings, schema) => {\n      var _a;\n      const styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode((_a = settings.font_size_legacy_values) !== null && _a !== void 0 ? _a : ''));\n      }\n      addStrikeFilter(domParser, schema, styles);\n    };\n    const register$5 = (domParser, settings, schema) => {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings, schema);\n      }\n    };\n\n    const addNodeFilter = (settings, htmlParser, schema) => {\n      htmlParser.addNodeFilter('br', (nodes, _, args) => {\n        const blockElements = Tools.extend({}, schema.getBlockElements());\n        const nonEmptyElements = schema.getNonEmptyElements();\n        const whitespaceElements = schema.getWhitespaceElements();\n        blockElements.body = 1;\n        const isBlock = node => node.name in blockElements || isTransparentAstBlock(schema, node);\n        for (let i = 0, l = nodes.length; i < l; i++) {\n          let node = nodes[i];\n          let parent = node.parent;\n          if (parent && isBlock(parent) && node === parent.lastChild) {\n            let prev = node.prev;\n            while (prev) {\n              const prevName = prev.name;\n              if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                if (prevName === 'br') {\n                  node = null;\n                }\n                break;\n              }\n              prev = prev.prev;\n            }\n            if (node) {\n              node.remove();\n              if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent)) {\n                const elementRule = schema.getElementRule(parent.name);\n                if (elementRule) {\n                  if (elementRule.removeEmpty) {\n                    parent.remove();\n                  } else if (elementRule.paddEmpty) {\n                    paddEmptyNode(settings, args, isBlock, parent);\n                  }\n                }\n              }\n            }\n          } else {\n            let lastParent = node;\n            while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n              lastParent = parent;\n              if (blockElements[parent.name]) {\n                break;\n              }\n              parent = parent.parent;\n            }\n            if (lastParent === parent) {\n              const textNode = new AstNode('#text', 3);\n              textNode.value = nbsp;\n              node.replace(textNode);\n            }\n          }\n        }\n      });\n    };\n\n    const blobUriToBlob = url => fetch(url).then(res => res.ok ? res.blob() : Promise.reject()).catch(() => Promise.reject({\n      message: `Cannot convert ${ url } to Blob. Resource might not exist or is inaccessible.`,\n      uriType: 'blob'\n    }));\n    const extractBase64Data = data => {\n      const matches = /([a-z0-9+\\/=\\s]+)/i.exec(data);\n      return matches ? matches[1] : '';\n    };\n    const parseDataUri = uri => {\n      const [type, ...rest] = uri.split(',');\n      const data = rest.join(',');\n      const matches = /data:([^/]+\\/[^;]+)(;.+)?/.exec(type);\n      if (matches) {\n        const base64Encoded = matches[2] === ';base64';\n        const extractedData = base64Encoded ? extractBase64Data(data) : decodeURIComponent(data);\n        return Optional.some({\n          type: matches[1],\n          data: extractedData,\n          base64Encoded\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const buildBlob = (type, data, base64Encoded = true) => {\n      let str = data;\n      if (base64Encoded) {\n        try {\n          str = atob(data);\n        } catch (e) {\n          return Optional.none();\n        }\n      }\n      const arr = new Uint8Array(str.length);\n      for (let i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type }));\n    };\n    const dataUriToBlob = uri => {\n      return new Promise((resolve, reject) => {\n        parseDataUri(uri).bind(({type, data, base64Encoded}) => buildBlob(type, data, base64Encoded)).fold(() => reject('Invalid data URI'), resolve);\n      });\n    };\n    const uriToBlob = url => {\n      if (startsWith(url, 'blob:')) {\n        return blobUriToBlob(url);\n      } else if (startsWith(url, 'data:')) {\n        return dataUriToBlob(url);\n      } else {\n        return Promise.reject('Unknown URI format');\n      }\n    };\n    const blobToDataUri = blob => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = () => {\n          var _a;\n          reject((_a = reader.error) === null || _a === void 0 ? void 0 : _a.message);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    let count$1 = 0;\n    const uniqueId$1 = prefix => {\n      return (prefix || 'blobid') + count$1++;\n    };\n    const processDataUri = (dataUri, base64Only, generateBlobInfo) => {\n      return parseDataUri(dataUri).bind(({data, type, base64Encoded}) => {\n        if (base64Only && !base64Encoded) {\n          return Optional.none();\n        } else {\n          const base64 = base64Encoded ? data : btoa(data);\n          return generateBlobInfo(base64, type);\n        }\n      });\n    };\n    const createBlobInfo$1 = (blobCache, blob, base64) => {\n      const blobInfo = blobCache.create(uniqueId$1(), blob, base64);\n      blobCache.add(blobInfo);\n      return blobInfo;\n    };\n    const dataUriToBlobInfo = (blobCache, dataUri, base64Only = false) => {\n      return processDataUri(dataUri, base64Only, (base64, type) => Optional.from(blobCache.getByData(base64, type)).orThunk(() => buildBlob(type, base64).map(blob => createBlobInfo$1(blobCache, blob, base64))));\n    };\n    const imageToBlobInfo = (blobCache, imageSrc) => {\n      const invalidDataUri = () => Promise.reject('Invalid data URI');\n      if (startsWith(imageSrc, 'blob:')) {\n        const blobInfo = blobCache.getByUri(imageSrc);\n        if (isNonNullable(blobInfo)) {\n          return Promise.resolve(blobInfo);\n        } else {\n          return uriToBlob(imageSrc).then(blob => {\n            return blobToDataUri(blob).then(dataUri => {\n              return processDataUri(dataUri, false, base64 => {\n                return Optional.some(createBlobInfo$1(blobCache, blob, base64));\n              }).getOrThunk(invalidDataUri);\n            });\n          });\n        }\n      } else if (startsWith(imageSrc, 'data:')) {\n        return dataUriToBlobInfo(blobCache, imageSrc).fold(invalidDataUri, blobInfo => Promise.resolve(blobInfo));\n      } else {\n        return Promise.reject('Unknown image data format');\n      }\n    };\n\n    const isBogusImage = img => isNonNullable(img.attr('data-mce-bogus'));\n    const isInternalImageSource = img => img.attr('src') === Env.transparentSrc || isNonNullable(img.attr('data-mce-placeholder'));\n    const registerBase64ImageFilter = (parser, settings) => {\n      const {blob_cache: blobCache} = settings;\n      if (blobCache) {\n        const processImage = img => {\n          const inputSrc = img.attr('src');\n          if (isInternalImageSource(img) || isBogusImage(img) || isNullable(inputSrc)) {\n            return;\n          }\n          dataUriToBlobInfo(blobCache, inputSrc, true).each(blobInfo => {\n            img.attr('src', blobInfo.blobUri());\n          });\n        };\n        parser.addAttributeFilter('src', nodes => each$e(nodes, processImage));\n      }\n    };\n    const isMimeType = (mime, type) => startsWith(mime, `${ type }/`);\n    const createSafeEmbed = (mime, src, width, height, sandboxIframes) => {\n      let name;\n      if (isUndefined(mime)) {\n        name = 'iframe';\n      } else if (isMimeType(mime, 'image')) {\n        name = 'img';\n      } else if (isMimeType(mime, 'video')) {\n        name = 'video';\n      } else if (isMimeType(mime, 'audio')) {\n        name = 'audio';\n      } else {\n        name = 'iframe';\n      }\n      const embed = new AstNode(name, 1);\n      embed.attr(name === 'audio' ? { src } : {\n        src,\n        width,\n        height\n      });\n      if (name === 'audio' || name === 'video') {\n        embed.attr('controls', '');\n      }\n      if (name === 'iframe' && sandboxIframes) {\n        embed.attr('sandbox', '');\n      }\n      return embed;\n    };\n    const register$4 = (parser, settings) => {\n      const schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        addNodeFilter(settings, parser, schema);\n      }\n      parser.addAttributeFilter('href', nodes => {\n        let i = nodes.length;\n        const appendRel = rel => {\n          const parts = rel.split(' ').filter(p => p.length > 0);\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        const addNoOpener = rel => {\n          const newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            const node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', nodes => {\n          let i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              while (sibling && parent) {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              }\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', nodes => {\n          let i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode && (parentNode.name === 'ul' || parentNode.name === 'ol')) {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                const li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      const validClasses = schema.getValidClasses();\n      if (settings.validate && validClasses) {\n        parser.addAttributeFilter('class', nodes => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            const clazz = (_a = node.attr('class')) !== null && _a !== void 0 ? _a : '';\n            const classList = Tools.explode(clazz, ' ');\n            let classValue = '';\n            for (let ci = 0; ci < classList.length; ci++) {\n              const className = classList[ci];\n              let valid = false;\n              let validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n      if (settings.convert_unsafe_embeds) {\n        parser.addNodeFilter('object,embed', nodes => each$e(nodes, node => {\n          node.replace(createSafeEmbed(node.attr('type'), node.name === 'object' ? node.attr('data') : node.attr('src'), node.attr('width'), node.attr('height'), settings.sandbox_iframes));\n        }));\n      }\n      if (settings.sandbox_iframes) {\n        parser.addNodeFilter('iframe', nodes => each$e(nodes, node => node.attr('sandbox', '')));\n      }\n    };\n\n    const {entries, setPrototypeOf, isFrozen, getPrototypeOf, getOwnPropertyDescriptor} = Object;\n    let {freeze, seal, create: create$7} = Object;\n    let {apply, construct} = typeof Reflect !== 'undefined' && Reflect;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return new Func(...args);\n      };\n    }\n    const arrayForEach = unapply(Array.prototype.forEach);\n    const arrayPop = unapply(Array.prototype.pop);\n    const arrayPush = unapply(Array.prototype.push);\n    const stringToLowerCase = unapply(String.prototype.toLowerCase);\n    const stringToString = unapply(String.prototype.toString);\n    const stringMatch = unapply(String.prototype.match);\n    const stringReplace = unapply(String.prototype.replace);\n    const stringIndexOf = unapply(String.prototype.indexOf);\n    const stringTrim = unapply(String.prototype.trim);\n    const regExpTest = unapply(RegExp.prototype.test);\n    const typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array, transformCaseFunc) {\n      var _transformCaseFunc;\n      transformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      let l = array.length;\n      while (l--) {\n        let element = array[l];\n        if (typeof element === 'string') {\n          const lcElement = transformCaseFunc(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      const newObject = create$7(null);\n      for (const [property, value] of entries(object)) {\n        newObject[property] = value;\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        const desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    const html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    const svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    const svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feDropShadow',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    const svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    const mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover',\n      'mprescripts'\n    ]);\n    const mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    const text = freeze(['#text']);\n    const html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    const svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    const mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    const xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n    const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    const DOCTYPE_NAME = seal(/^html$/i);\n    var EXPRESSIONS = Object.freeze({\n      __proto__: null,\n      MUSTACHE_EXPR: MUSTACHE_EXPR,\n      ERB_EXPR: ERB_EXPR,\n      TMPLIT_EXPR: TMPLIT_EXPR,\n      DATA_ATTR: DATA_ATTR,\n      ARIA_ATTR: ARIA_ATTR,\n      IS_ALLOWED_URI: IS_ALLOWED_URI,\n      IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE: ATTR_WHITESPACE,\n      DOCTYPE_NAME: DOCTYPE_NAME\n    });\n    const getGlobal = () => typeof window === 'undefined' ? null : window;\n    const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n      if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      let suffix = null;\n      const ATTR_NAME = 'data-tt-policy-suffix';\n      if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n        suffix = purifyHostElement.getAttribute(ATTR_NAME);\n      }\n      const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML(html) {\n            return html;\n          },\n          createScriptURL(scriptUrl) {\n            return scriptUrl;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      const DOMPurify = root => createDOMPurify(root);\n      DOMPurify.version = '3.0.5';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      const originalDocument = window.document;\n      const currentScript = originalDocument.currentScript;\n      let {document} = window;\n      const {DocumentFragment, HTMLTemplateElement, Node, Element, NodeFilter, NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap, HTMLFormElement, DOMParser, trustedTypes} = window;\n      const ElementPrototype = Element.prototype;\n      const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        const template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      let trustedTypesPolicy;\n      let emptyHTML = '';\n      const {implementation, createNodeIterator, createDocumentFragment, getElementsByTagName} = document;\n      const {importNode} = originalDocument;\n      let hooks = {};\n      DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n      const {MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR, DATA_ATTR, ARIA_ATTR, IS_SCRIPT_OR_DATA, ATTR_WHITESPACE} = EXPRESSIONS;\n      let {IS_ALLOWED_URI: IS_ALLOWED_URI$1} = EXPRESSIONS;\n      let ALLOWED_TAGS = null;\n      const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n        ...html$1,\n        ...svg$1,\n        ...svgFilters,\n        ...mathMl$1,\n        ...text\n      ]);\n      let ALLOWED_ATTR = null;\n      const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n        ...html,\n        ...svg,\n        ...mathMl,\n        ...xml\n      ]);\n      let CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      let FORBID_TAGS = null;\n      let FORBID_ATTR = null;\n      let ALLOW_ARIA_ATTR = true;\n      let ALLOW_DATA_ATTR = true;\n      let ALLOW_UNKNOWN_PROTOCOLS = false;\n      let ALLOW_SELF_CLOSE_IN_ATTR = true;\n      let SAFE_FOR_TEMPLATES = false;\n      let WHOLE_DOCUMENT = false;\n      let SET_CONFIG = false;\n      let FORCE_BODY = false;\n      let RETURN_DOM = false;\n      let RETURN_DOM_FRAGMENT = false;\n      let RETURN_TRUSTED_TYPE = false;\n      let SANITIZE_DOM = true;\n      let SANITIZE_NAMED_PROPS = false;\n      const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n      let KEEP_CONTENT = true;\n      let IN_PLACE = false;\n      let USE_PROFILES = {};\n      let FORBID_CONTENTS = null;\n      const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      let DATA_URI_TAGS = null;\n      const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      let URI_SAFE_ATTRIBUTES = null;\n      const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      let NAMESPACE = HTML_NAMESPACE;\n      let IS_EMPTY_INPUT = false;\n      let ALLOWED_NAMESPACES = null;\n      const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [\n        MATHML_NAMESPACE,\n        SVG_NAMESPACE,\n        HTML_NAMESPACE\n      ], stringToString);\n      let PARSER_MEDIA_TYPE;\n      const SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      let transformCaseFunc;\n      let CONFIG = null;\n      const formElement = document.createElement('form');\n      const isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      const _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || typeof cfg !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n        ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, [...text]);\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (cfg.TRUSTED_TYPES_POLICY) {\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n          }\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n          }\n          trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        } else {\n          if (trustedTypesPolicy === undefined) {\n            trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n          }\n          if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n            emptyHTML = trustedTypesPolicy.createHTML('');\n          }\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      const HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      const ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      const ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      const _checkValidNamespace = function _checkValidNamespace(element) {\n        let parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        const tagName = stringToLowerCase(element.tagName);\n        const parentTagName = stringToLowerCase(parent.tagName);\n        if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return false;\n        }\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return true;\n        }\n        return false;\n      };\n      const _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          node.remove();\n        }\n      };\n      const _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      const _initDocument = function _initDocument(dirty) {\n        let doc;\n        let leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        const body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      const _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      const _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n      };\n      const _isNode = function _isNode(object) {\n        return typeof Node === 'object' ? object instanceof Node : object && typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], hook => {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      const _sanitizeElements = function _sanitizeElements(currentNode) {\n        let content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        const tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              const childCount = childNodes.length;\n              for (let i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR, ' ');\n          content = stringReplace(content, ERB_EXPR, ' ');\n          content = stringReplace(content, TMPLIT_EXPR, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, '')));\n        else if (value) {\n          return false;\n        } else ;\n        return true;\n      };\n      const _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        let attr;\n        let value;\n        let lcName;\n        let l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        const {attributes} = currentNode;\n        if (!attributes) {\n          return;\n        }\n        const hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          const {name, namespaceURI} = attr;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          const initValue = value;\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR, ' ');\n            value = stringReplace(value, ERB_EXPR, ' ');\n            value = stringReplace(value, TMPLIT_EXPR, ' ');\n          }\n          const lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n            _removeAttribute(name, currentNode);\n            value = SANITIZE_NAMED_PROPS_PREFIX + value;\n          }\n          if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n            if (namespaceURI);\n            else {\n              switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML': {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL': {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n              }\n            }\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        let shadowNode;\n        const shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty) {\n        let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let body;\n        let importedNode;\n        let currentNode;\n        let returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString === 'function') {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          } else {\n            throw typeErrorCreate('toString is not a function');\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            const tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n        }\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n          serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        const lcTag = transformCaseFunc(tag);\n        const lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const each$4 = Tools.each, trim = Tools.trim;\n    const queryParts = [\n      'source',\n      'protocol',\n      'authority',\n      'userInfo',\n      'user',\n      'password',\n      'host',\n      'port',\n      'relative',\n      'path',\n      'directory',\n      'file',\n      'query',\n      'anchor'\n    ];\n    const DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    const safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    const blockSvgDataUris = (allowSvgDataUrls, tagName) => {\n      if (isNonNullable(allowSvgDataUrls)) {\n        return !allowSvgDataUrls;\n      } else {\n        return isNonNullable(tagName) ? !contains$2(safeSvgDataUrlElements, tagName) : true;\n      }\n    };\n    const decodeUri = encodedUri => {\n      try {\n        return decodeURIComponent(encodedUri);\n      } catch (ex) {\n        return unescape(encodedUri);\n      }\n    };\n    const isInvalidUri = (settings, uri, tagName) => {\n      const decodedUri = decodeUri(uri).replace(/\\s/g, '');\n      if (settings.allow_script_urls) {\n        return false;\n      } else if (/((java|vb)script|mhtml):/i.test(decodedUri)) {\n        return true;\n      } else if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(decodedUri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(decodedUri);\n      } else {\n        return /^data:/i.test(decodedUri);\n      }\n    };\n    class URI {\n      static parseDataUri(uri) {\n        let type;\n        const uriComponents = decodeURIComponent(uri).split(',');\n        const matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type,\n          data: uriComponents[1]\n        };\n      }\n      static isDomSafe(uri, context, options = {}) {\n        if (options.allow_script_urls) {\n          return true;\n        } else {\n          const decodedUri = Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g, '');\n          return !isInvalidUri(options, decodedUri, context);\n        }\n      }\n      static getDocumentBaseUrl(loc) {\n        var _a;\n        let baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = (_a = loc.href) !== null && _a !== void 0 ? _a : '';\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      }\n      constructor(url, settings = {}) {\n        this.path = '';\n        this.directory = '';\n        url = trim(url);\n        this.settings = settings;\n        const baseUri = settings.base_uri;\n        const self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        const isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          const baseUrl = baseUri ? baseUri.path : new URI(document.location.href).directory;\n          if ((baseUri === null || baseUri === void 0 ? void 0 : baseUri.protocol) === '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            const match = /([^#?]*)([#?]?.*)/.exec(url);\n            if (match) {\n              url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n            }\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        const urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        if (urlMatch) {\n          each$4(queryParts, (v, i) => {\n            let part = urlMatch[i];\n            if (part) {\n              part = part.replace(/\\(mce_at\\)/g, '@@');\n            }\n            self[v] = part;\n          });\n        }\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      setPath(path) {\n        const pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        if (pathMatch) {\n          this.path = pathMatch[0];\n          this.directory = pathMatch[1];\n          this.file = pathMatch[2];\n        }\n        this.source = '';\n        this.getURI();\n      }\n      toRelative(uri) {\n        if (uri === './') {\n          return uri;\n        }\n        const relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        const tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        let output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      }\n      toAbsolute(uri, noHost) {\n        const absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      }\n      isSameOrigin(uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          const defaultPort = this.protocol ? DEFAULT_PORTS[this.protocol] : null;\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      toRelPath(base, path) {\n        let breakPoint = 0, out = '', i, l;\n        const normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        const items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      }\n      toAbsPath(base, path) {\n        let nb = 0;\n        const tr = /\\/$/.test(path) ? '/' : '';\n        const normalizedBase = base.split('/');\n        const normalizedPath = path.split('/');\n        const baseParts = [];\n        each$4(normalizedBase, k => {\n          if (k) {\n            baseParts.push(k);\n          }\n        });\n        const pathParts = [];\n        for (let i = normalizedPath.length - 1; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          pathParts.push(normalizedPath[i]);\n        }\n        const i = baseParts.length - nb;\n        let outPath;\n        if (i <= 0) {\n          outPath = reverse(pathParts).join('/');\n        } else {\n          outPath = baseParts.slice(0, i).join('/') + '/' + reverse(pathParts).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      }\n      getURI(noProtoHost = false) {\n        let s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      }\n    }\n\n    const filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n    const internalElementAttr = 'data-mce-type';\n    let uid = 0;\n    const processNode = (node, settings, schema, scope, evt) => {\n      var _a, _b, _c, _d;\n      const validate = settings.validate;\n      const specialElements = schema.getSpecialElements();\n      if (node.nodeType === COMMENT && !settings.allow_conditional_comments && /^\\[if/i.test((_a = node.nodeValue) !== null && _a !== void 0 ? _a : '')) {\n        node.nodeValue = ' ' + node.nodeValue;\n      }\n      const lcTagName = (_b = evt === null || evt === void 0 ? void 0 : evt.tagName) !== null && _b !== void 0 ? _b : node.nodeName.toLowerCase();\n      if (scope !== 'html' && schema.isValid(scope)) {\n        if (isNonNullable(evt)) {\n          evt.allowedTags[lcTagName] = true;\n        }\n        return;\n      }\n      if (node.nodeType !== ELEMENT || lcTagName === 'body') {\n        return;\n      }\n      const element = SugarElement.fromDom(node);\n      const isInternalElement = has$1(element, internalElementAttr);\n      const bogus = get$9(element, 'data-mce-bogus');\n      if (!isInternalElement && isString(bogus)) {\n        if (bogus === 'all') {\n          remove$5(element);\n        } else {\n          unwrap(element);\n        }\n        return;\n      }\n      const rule = schema.getElementRule(lcTagName);\n      if (validate && !rule) {\n        if (has$2(specialElements, lcTagName)) {\n          remove$5(element);\n        } else {\n          unwrap(element);\n        }\n        return;\n      } else {\n        if (isNonNullable(evt)) {\n          evt.allowedTags[lcTagName] = true;\n        }\n      }\n      if (validate && rule && !isInternalElement) {\n        each$e((_c = rule.attributesForced) !== null && _c !== void 0 ? _c : [], attr => {\n          set$3(element, attr.name, attr.value === '{$uid}' ? `mce_${ uid++ }` : attr.value);\n        });\n        each$e((_d = rule.attributesDefault) !== null && _d !== void 0 ? _d : [], attr => {\n          if (!has$1(element, attr.name)) {\n            set$3(element, attr.name, attr.value === '{$uid}' ? `mce_${ uid++ }` : attr.value);\n          }\n        });\n        if (rule.attributesRequired && !exists(rule.attributesRequired, attr => has$1(element, attr))) {\n          unwrap(element);\n          return;\n        }\n        if (rule.removeEmptyAttrs && hasNone(element)) {\n          unwrap(element);\n          return;\n        }\n        if (rule.outputName && rule.outputName !== lcTagName) {\n          mutate(element, rule.outputName);\n        }\n      }\n    };\n    const processAttr = (ele, settings, schema, scope, evt) => {\n      const tagName = ele.tagName.toLowerCase();\n      const {attrName, attrValue} = evt;\n      evt.keepAttr = shouldKeepAttribute(settings, schema, scope, tagName, attrName, attrValue);\n      if (evt.keepAttr) {\n        evt.allowedAttributes[attrName] = true;\n        if (isBooleanAttribute(attrName, schema)) {\n          evt.attrValue = attrName;\n        }\n        if (settings.allow_svg_data_urls && startsWith(attrValue, 'data:image/svg+xml')) {\n          evt.forceKeepAttr = true;\n        }\n      } else if (isRequiredAttributeOfInternalElement(ele, attrName)) {\n        evt.forceKeepAttr = true;\n      }\n    };\n    const shouldKeepAttribute = (settings, schema, scope, tagName, attrName, attrValue) => {\n      if (scope !== 'html' && !isNonHtmlElementRootName(tagName)) {\n        return true;\n      }\n      return !(attrName in filteredUrlAttrs && isInvalidUri(settings, attrValue, tagName)) && (!settings.validate || schema.isValid(tagName, attrName) || startsWith(attrName, 'data-') || startsWith(attrName, 'aria-'));\n    };\n    const isRequiredAttributeOfInternalElement = (ele, attrName) => ele.hasAttribute(internalElementAttr) && (attrName === 'id' || attrName === 'class' || attrName === 'style');\n    const isBooleanAttribute = (attrName, schema) => attrName in schema.getBoolAttrs();\n    const filterAttributes = (ele, settings, schema, scope) => {\n      const {attributes} = ele;\n      for (let i = attributes.length - 1; i >= 0; i--) {\n        const attr = attributes[i];\n        const attrName = attr.name;\n        const attrValue = attr.value;\n        if (!shouldKeepAttribute(settings, schema, scope, ele.tagName.toLowerCase(), attrName, attrValue) && !isRequiredAttributeOfInternalElement(ele, attrName)) {\n          ele.removeAttribute(attrName);\n        } else if (isBooleanAttribute(attrName, schema)) {\n          ele.setAttribute(attrName, attrName);\n        }\n      }\n    };\n    const setupPurify = (settings, schema, namespaceTracker) => {\n      const purify$1 = purify();\n      purify$1.addHook('uponSanitizeElement', (ele, evt) => {\n        processNode(ele, settings, schema, namespaceTracker.track(ele), evt);\n      });\n      purify$1.addHook('uponSanitizeAttribute', (ele, evt) => {\n        processAttr(ele, settings, schema, namespaceTracker.current(), evt);\n      });\n      return purify$1;\n    };\n    const getPurifyConfig = (settings, mimeType) => {\n      const basePurifyConfig = {\n        IN_PLACE: true,\n        ALLOW_UNKNOWN_PROTOCOLS: true,\n        ALLOWED_TAGS: [\n          '#comment',\n          '#cdata-section',\n          'body'\n        ],\n        ALLOWED_ATTR: []\n      };\n      const config = { ...basePurifyConfig };\n      config.PARSER_MEDIA_TYPE = mimeType;\n      if (settings.allow_script_urls) {\n        config.ALLOWED_URI_REGEXP = /.*/;\n      } else if (settings.allow_html_data_urls) {\n        config.ALLOWED_URI_REGEXP = /^(?!(\\w+script|mhtml):)/i;\n      }\n      return config;\n    };\n    const sanitizeNamespaceElement = ele => {\n      const xlinkAttrs = [\n        'type',\n        'href',\n        'role',\n        'arcrole',\n        'title',\n        'show',\n        'actuate',\n        'label',\n        'from',\n        'to'\n      ].map(name => `xlink:${ name }`);\n      const config = {\n        IN_PLACE: true,\n        USE_PROFILES: {\n          html: true,\n          svg: true,\n          svgFilters: true\n        },\n        ALLOWED_ATTR: xlinkAttrs\n      };\n      purify().sanitize(ele, config);\n      return ele.innerHTML;\n    };\n    const getSanitizer = (settings, schema) => {\n      const namespaceTracker = createNamespaceTracker();\n      if (settings.sanitize) {\n        const purify = setupPurify(settings, schema, namespaceTracker);\n        const sanitizeHtmlElement = (body, mimeType) => {\n          purify.sanitize(body, getPurifyConfig(settings, mimeType));\n          purify.removed = [];\n          namespaceTracker.reset();\n        };\n        return {\n          sanitizeHtmlElement,\n          sanitizeNamespaceElement\n        };\n      } else {\n        const sanitizeHtmlElement = (body, _mimeType) => {\n          const nodeIterator = document.createNodeIterator(body, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT);\n          let node;\n          while (node = nodeIterator.nextNode()) {\n            const currentScope = namespaceTracker.track(node);\n            processNode(node, settings, schema, currentScope);\n            if (isElement$6(node)) {\n              filterAttributes(node, settings, schema, currentScope);\n            }\n          }\n          namespaceTracker.reset();\n        };\n        const sanitizeNamespaceElement = noop;\n        return {\n          sanitizeHtmlElement,\n          sanitizeNamespaceElement\n        };\n      }\n    };\n\n    const makeMap = Tools.makeMap, extend$1 = Tools.extend;\n    const transferChildren = (parent, nativeParent, specialElements, nsSanitizer) => {\n      const parentName = parent.name;\n      const isSpecial = parentName in specialElements && parentName !== 'title' && parentName !== 'textarea';\n      const childNodes = nativeParent.childNodes;\n      for (let ni = 0, nl = childNodes.length; ni < nl; ni++) {\n        const nativeChild = childNodes[ni];\n        const child = new AstNode(nativeChild.nodeName.toLowerCase(), nativeChild.nodeType);\n        if (isElement$6(nativeChild)) {\n          const attributes = nativeChild.attributes;\n          for (let ai = 0, al = attributes.length; ai < al; ai++) {\n            const attr = attributes[ai];\n            child.attr(attr.name, attr.value);\n          }\n          if (isNonHtmlElementRootName(child.name)) {\n            nsSanitizer(nativeChild);\n            child.value = nativeChild.innerHTML;\n          }\n        } else if (isText$a(nativeChild)) {\n          child.value = nativeChild.data;\n          if (isSpecial) {\n            child.raw = true;\n          }\n        } else if (isComment(nativeChild) || isCData(nativeChild) || isPi(nativeChild)) {\n          child.value = nativeChild.data;\n        }\n        if (!isNonHtmlElementRootName(child.name)) {\n          transferChildren(child, nativeChild, specialElements, nsSanitizer);\n        }\n        parent.append(child);\n      }\n    };\n    const walkTree = (root, preprocessors, postprocessors) => {\n      const traverseOrder = [];\n      for (let node = root, lastNode = node; node; lastNode = node, node = node.walk()) {\n        const tempNode = node;\n        each$e(preprocessors, preprocess => preprocess(tempNode));\n        if (isNullable(tempNode.parent) && tempNode !== root) {\n          node = lastNode;\n        } else {\n          traverseOrder.push(tempNode);\n        }\n      }\n      for (let i = traverseOrder.length - 1; i >= 0; i--) {\n        const node = traverseOrder[i];\n        each$e(postprocessors, postprocess => postprocess(node));\n      }\n    };\n    const whitespaceCleaner = (root, schema, settings, args) => {\n      const validate = settings.validate;\n      const nonEmptyElements = schema.getNonEmptyElements();\n      const whitespaceElements = schema.getWhitespaceElements();\n      const blockElements = extend$1(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n      const textRootBlockElements = getTextRootBlockElements(schema);\n      const allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n      const startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n      const endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n      const hasWhitespaceParent = node => {\n        let tempNode = node.parent;\n        while (isNonNullable(tempNode)) {\n          if (tempNode.name in whitespaceElements) {\n            return true;\n          } else {\n            tempNode = tempNode.parent;\n          }\n        }\n        return false;\n      };\n      const isTextRootBlockEmpty = node => {\n        let tempNode = node;\n        while (isNonNullable(tempNode)) {\n          if (tempNode.name in textRootBlockElements) {\n            return isEmpty(schema, nonEmptyElements, whitespaceElements, tempNode);\n          } else {\n            tempNode = tempNode.parent;\n          }\n        }\n        return false;\n      };\n      const isBlock = node => node.name in blockElements || isTransparentAstBlock(schema, node) || isNonHtmlElementRootName(node.name) && node.parent === root;\n      const isAtEdgeOfBlock = (node, start) => {\n        const neighbour = start ? node.prev : node.next;\n        if (isNonNullable(neighbour) || isNullable(node.parent)) {\n          return false;\n        }\n        return isBlock(node.parent) && (node.parent !== root || args.isRootContent === true);\n      };\n      const preprocess = node => {\n        var _a;\n        if (node.type === 3) {\n          if (!hasWhitespaceParent(node)) {\n            let text = (_a = node.value) !== null && _a !== void 0 ? _a : '';\n            text = text.replace(allWhiteSpaceRegExp, ' ');\n            if (isLineBreakNode(node.prev, isBlock) || isAtEdgeOfBlock(node, true)) {\n              text = text.replace(startWhiteSpaceRegExp, '');\n            }\n            if (text.length === 0) {\n              node.remove();\n            } else {\n              node.value = text;\n            }\n          }\n        }\n      };\n      const postprocess = node => {\n        var _a;\n        if (node.type === 1) {\n          const elementRule = schema.getElementRule(node.name);\n          if (validate && elementRule) {\n            const isNodeEmpty = isEmpty(schema, nonEmptyElements, whitespaceElements, node);\n            if (elementRule.paddInEmptyBlock && isNodeEmpty && isTextRootBlockEmpty(node)) {\n              paddEmptyNode(settings, args, isBlock, node);\n            } else if (elementRule.removeEmpty && isNodeEmpty) {\n              if (isBlock(node)) {\n                node.remove();\n              } else {\n                node.unwrap();\n              }\n            } else if (elementRule.paddEmpty && (isNodeEmpty || isPaddedWithNbsp(node))) {\n              paddEmptyNode(settings, args, isBlock, node);\n            }\n          }\n        } else if (node.type === 3) {\n          if (!hasWhitespaceParent(node)) {\n            let text = (_a = node.value) !== null && _a !== void 0 ? _a : '';\n            if (node.next && isBlock(node.next) || isAtEdgeOfBlock(node, false)) {\n              text = text.replace(endWhiteSpaceRegExp, '');\n            }\n            if (text.length === 0) {\n              node.remove();\n            } else {\n              node.value = text;\n            }\n          }\n        }\n      };\n      return [\n        preprocess,\n        postprocess\n      ];\n    };\n    const getRootBlockName = (settings, args) => {\n      var _a;\n      const name = (_a = args.forced_root_block) !== null && _a !== void 0 ? _a : settings.forced_root_block;\n      if (name === false) {\n        return '';\n      } else if (name === true) {\n        return 'p';\n      } else {\n        return name;\n      }\n    };\n    const DomParser = (settings = {}, schema = Schema()) => {\n      const nodeFilterRegistry = create$8();\n      const attributeFilterRegistry = create$8();\n      const defaultedSettings = {\n        validate: true,\n        root_name: 'body',\n        sanitize: true,\n        ...settings\n      };\n      const parser = new DOMParser();\n      const sanitizer = getSanitizer(defaultedSettings, schema);\n      const parseAndSanitizeWithContext = (html, rootName, format = 'html') => {\n        const mimeType = format === 'xhtml' ? 'application/xhtml+xml' : 'text/html';\n        const isSpecialRoot = has$2(schema.getSpecialElements(), rootName.toLowerCase());\n        const content = isSpecialRoot ? `<${ rootName }>${ html }</${ rootName }>` : html;\n        const wrappedHtml = format === 'xhtml' ? `<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>${ content }</body></html>` : `<body>${ content }</body>`;\n        const body = parser.parseFromString(wrappedHtml, mimeType).body;\n        sanitizer.sanitizeHtmlElement(body, mimeType);\n        return isSpecialRoot ? body.firstChild : body;\n      };\n      const addNodeFilter = nodeFilterRegistry.addFilter;\n      const getNodeFilters = nodeFilterRegistry.getFilters;\n      const removeNodeFilter = nodeFilterRegistry.removeFilter;\n      const addAttributeFilter = attributeFilterRegistry.addFilter;\n      const getAttributeFilters = attributeFilterRegistry.getFilters;\n      const removeAttributeFilter = attributeFilterRegistry.removeFilter;\n      const findInvalidChildren = (node, invalidChildren) => {\n        if (isInvalid(schema, node)) {\n          invalidChildren.push(node);\n        }\n      };\n      const isWrappableNode = (blockElements, node) => {\n        const isInternalElement = isString(node.attr(internalElementAttr));\n        const isInlineElement = node.type === 1 && (!has$2(blockElements, node.name) && !isTransparentAstBlock(schema, node)) && !isNonHtmlElementRootName(node.name);\n        return node.type === 3 || isInlineElement && !isInternalElement;\n      };\n      const addRootBlocks = (rootNode, rootBlockName) => {\n        const blockElements = extend$1(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        const startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        const endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        let node = rootNode.firstChild, rootBlockNode = null;\n        const trim = rootBlock => {\n          var _a, _b;\n          if (rootBlock) {\n            node = rootBlock.firstChild;\n            if (node && node.type === 3) {\n              node.value = (_a = node.value) === null || _a === void 0 ? void 0 : _a.replace(startWhiteSpaceRegExp, '');\n            }\n            node = rootBlock.lastChild;\n            if (node && node.type === 3) {\n              node.value = (_b = node.value) === null || _b === void 0 ? void 0 : _b.replace(endWhiteSpaceRegExp, '');\n            }\n          }\n        };\n        if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n          return;\n        }\n        while (node) {\n          const next = node.next;\n          if (isWrappableNode(blockElements, node)) {\n            if (!rootBlockNode) {\n              rootBlockNode = new AstNode(rootBlockName, 1);\n              rootBlockNode.attr(defaultedSettings.forced_root_block_attrs);\n              rootNode.insert(rootBlockNode, node);\n              rootBlockNode.append(node);\n            } else {\n              rootBlockNode.append(node);\n            }\n          } else {\n            trim(rootBlockNode);\n            rootBlockNode = null;\n          }\n          node = next;\n        }\n        trim(rootBlockNode);\n      };\n      const parse = (html, args = {}) => {\n        var _a;\n        const validate = defaultedSettings.validate;\n        const rootName = (_a = args.context) !== null && _a !== void 0 ? _a : defaultedSettings.root_name;\n        const element = parseAndSanitizeWithContext(html, rootName, args.format);\n        updateChildren(schema, element);\n        const rootNode = new AstNode(rootName, 11);\n        transferChildren(rootNode, element, schema.getSpecialElements(), sanitizer.sanitizeNamespaceElement);\n        element.innerHTML = '';\n        const [whitespacePre, whitespacePost] = whitespaceCleaner(rootNode, schema, defaultedSettings, args);\n        const invalidChildren = [];\n        const invalidFinder = validate ? node => findInvalidChildren(node, invalidChildren) : noop;\n        const matches = {\n          nodes: {},\n          attributes: {}\n        };\n        const matchFinder = node => matchNode$1(getNodeFilters(), getAttributeFilters(), node, matches);\n        walkTree(rootNode, [\n          whitespacePre,\n          matchFinder\n        ], [\n          whitespacePost,\n          invalidFinder\n        ]);\n        invalidChildren.reverse();\n        if (validate && invalidChildren.length > 0) {\n          if (args.context) {\n            const {\n              pass: topLevelChildren,\n              fail: otherChildren\n            } = partition$2(invalidChildren, child => child.parent === rootNode);\n            cleanInvalidNodes(otherChildren, schema, rootNode, matchFinder);\n            args.invalid = topLevelChildren.length > 0;\n          } else {\n            cleanInvalidNodes(invalidChildren, schema, rootNode, matchFinder);\n          }\n        }\n        const rootBlockName = getRootBlockName(defaultedSettings, args);\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks(rootNode, rootBlockName);\n        }\n        if (!args.invalid) {\n          runFilters(matches, args);\n        }\n        return rootNode;\n      };\n      const exports = {\n        schema,\n        addAttributeFilter,\n        getAttributeFilters,\n        removeAttributeFilter,\n        addNodeFilter,\n        getNodeFilters,\n        removeNodeFilter,\n        parse\n      };\n      register$4(exports, defaultedSettings);\n      register$5(exports, defaultedSettings, schema);\n      return exports;\n    };\n\n    const serializeContent = content => isTreeNode(content) ? HtmlSerializer({ validate: false }).serialize(content) : content;\n    const withSerializedContent = (content, fireEvent, parserSettings) => {\n      const serializedContent = serializeContent(content);\n      const eventArgs = fireEvent(serializedContent);\n      if (eventArgs.isDefaultPrevented()) {\n        return eventArgs;\n      } else if (isTreeNode(content)) {\n        if (eventArgs.content !== serializedContent) {\n          const rootNode = DomParser({\n            validate: false,\n            forced_root_block: false,\n            ...parserSettings\n          }).parse(eventArgs.content, { context: content.name });\n          return {\n            ...eventArgs,\n            content: rootNode\n          };\n        } else {\n          return {\n            ...eventArgs,\n            content\n          };\n        }\n      } else {\n        return eventArgs;\n      }\n    };\n    const preProcessGetContent = (editor, args) => {\n      if (args.no_events) {\n        return Result.value(args);\n      } else {\n        const eventArgs = fireBeforeGetContent(editor, args);\n        if (eventArgs.isDefaultPrevented()) {\n          return Result.error(fireGetContent(editor, {\n            content: '',\n            ...eventArgs\n          }).content);\n        } else {\n          return Result.value(eventArgs);\n        }\n      }\n    };\n    const postProcessGetContent = (editor, content, args) => {\n      if (args.no_events) {\n        return content;\n      } else {\n        const processedEventArgs = withSerializedContent(content, content => fireGetContent(editor, {\n          ...args,\n          content\n        }), {\n          sanitize: shouldSanitizeXss(editor),\n          sandbox_iframes: shouldSandboxIframes(editor)\n        });\n        return processedEventArgs.content;\n      }\n    };\n    const preProcessSetContent = (editor, args) => {\n      if (args.no_events) {\n        return Result.value(args);\n      } else {\n        const processedEventArgs = withSerializedContent(args.content, content => fireBeforeSetContent(editor, {\n          ...args,\n          content\n        }), {\n          sanitize: shouldSanitizeXss(editor),\n          sandbox_iframes: shouldSandboxIframes(editor)\n        });\n        if (processedEventArgs.isDefaultPrevented()) {\n          fireSetContent(editor, processedEventArgs);\n          return Result.error(undefined);\n        } else {\n          return Result.value(processedEventArgs);\n        }\n      }\n    };\n    const postProcessSetContent = (editor, content, args) => {\n      if (!args.no_events) {\n        fireSetContent(editor, {\n          ...args,\n          content\n        });\n      }\n    };\n\n    const tableModel = (element, width, rows) => ({\n      element,\n      width,\n      rows\n    });\n    const tableRow = (element, cells) => ({\n      element,\n      cells\n    });\n    const cellPosition = (x, y) => ({\n      x,\n      y\n    });\n    const getSpan = (td, key) => {\n      return getOpt(td, key).bind(toInt).getOr(1);\n    };\n    const fillout = (table, x, y, tr, td) => {\n      const rowspan = getSpan(td, 'rowspan');\n      const colspan = getSpan(td, 'colspan');\n      const rows = table.rows;\n      for (let y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep$1(tr), []);\n        }\n        for (let x2 = x; x2 < x + colspan; x2++) {\n          const cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow$1(td);\n        }\n      }\n    };\n    const cellExists = (table, x, y) => {\n      const rows = table.rows;\n      const cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    const skipCellsX = (table, x, y) => {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    const getWidth = rows => {\n      return foldl(rows, (acc, row) => {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    const findElementPos = (table, element) => {\n      const rows = table.rows;\n      for (let y = 0; y < rows.length; y++) {\n        const cells = rows[y].cells;\n        for (let x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    const extractRows = (table, sx, sy, ex, ey) => {\n      const newRows = [];\n      const rows = table.rows;\n      for (let y = sy; y <= ey; y++) {\n        const cells = rows[y].cells;\n        const slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    const subTable = (table, startPos, endPos) => {\n      const sx = startPos.x, sy = startPos.y;\n      const ex = endPos.x, ey = endPos.y;\n      const newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    const createDomTable = (table, rows) => {\n      const tableElement = shallow$1(table.element);\n      const tableBody = SugarElement.fromTag('tbody');\n      append(tableBody, rows);\n      append$1(tableElement, tableBody);\n      return tableElement;\n    };\n    const modelRowsToDomRows = table => {\n      return map$3(table.rows, row => {\n        const cells = map$3(row.cells, cell => {\n          const td = deep$1(cell);\n          remove$a(td, 'colspan');\n          remove$a(td, 'rowspan');\n          return td;\n        });\n        const tr = shallow$1(row.element);\n        append(tr, cells);\n        return tr;\n      });\n    };\n    const fromDom = tableElm => {\n      const table = tableModel(shallow$1(tableElm), 0, []);\n      each$e(descendants(tableElm, 'tr'), (tr, y) => {\n        each$e(descendants(tr, 'td,th'), (td, x) => {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    const toDom = table => {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    const subsection = (table, startElement, endElement) => {\n      return findElementPos(table, startElement).bind(startPos => {\n        return findElementPos(table, endElement).map(endPos => {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    const findParentListContainer = parents => find$2(parents, elm => name(elm) === 'ul' || name(elm) === 'ol');\n    const getFullySelectedListWrappers = (parents, rng) => find$2(parents, elm => name(elm) === 'li' && hasAllContentsSelected(elm, rng)).fold(constant([]), _li => findParentListContainer(parents).map(listCont => {\n      const listElm = SugarElement.fromTag(name(listCont));\n      const listStyles = filter$4(getAllRaw(listCont), (_style, name) => startsWith(name, 'list-style'));\n      setAll(listElm, listStyles);\n      return [\n        SugarElement.fromTag('li'),\n        listElm\n      ];\n    }).getOr([]));\n    const wrap = (innerElm, elms) => {\n      const wrapped = foldl(elms, (acc, elm) => {\n        append$1(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    const directListWrappers = commonAnchorContainer => {\n      if (isListItem$1(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), listElm => [\n          commonAnchorContainer,\n          listElm\n        ]);\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    const getWrapElements = (rootNode, rng, schema) => {\n      const commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      const parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      const wrapElements = filter$5(parents, el => schema.isWrapper(name(el)));\n      const listWrappers = getFullySelectedListWrappers(parents, rng);\n      const allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map$3(allWrappers, shallow$1);\n    };\n    const emptyFragment = () => fromElements([]);\n    const getFragmentFromRange = (rootNode, rng, schema) => wrap(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng, schema));\n    const getParentTable = (rootElm, cell) => ancestor$3(cell, 'table', curry(eq, rootElm));\n    const getTableFragment = (rootNode, selectedTableCells) => getParentTable(rootNode, selectedTableCells[0]).bind(tableElm => {\n      const firstCell = selectedTableCells[0];\n      const lastCell = selectedTableCells[selectedTableCells.length - 1];\n      const fullTableModel = fromDom(tableElm);\n      return subsection(fullTableModel, firstCell, lastCell).map(sectionedTableModel => fromElements([toDom(sectionedTableModel)]));\n    }).getOrThunk(emptyFragment);\n    const getSelectionFragment = (rootNode, ranges, schema) => ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0], schema);\n    const read$3 = (rootNode, ranges, schema) => {\n      const selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges, schema);\n    };\n\n    const isCollapsibleWhitespace = (text, index) => index >= 0 && index < text.length && isWhiteSpace(text.charAt(index));\n    const getInnerText = bin => {\n      return trim$2(bin.innerText);\n    };\n    const getContextNodeName = parentBlockOpt => parentBlockOpt.map(block => block.nodeName).getOr('div').toLowerCase();\n    const getTextContent = editor => Optional.from(editor.selection.getRng()).map(rng => {\n      var _a;\n      const parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n      const body = editor.getBody();\n      const contextNodeName = getContextNodeName(parentBlockOpt);\n      const rangeContentClone = SugarElement.fromDom(rng.cloneContents());\n      cleanupBogusElements(rangeContentClone);\n      cleanupInputNames(rangeContentClone);\n      const bin = editor.dom.add(body, contextNodeName, {\n        'data-mce-bogus': 'all',\n        'style': 'overflow: hidden; opacity: 0;'\n      }, rangeContentClone.dom);\n      const text = getInnerText(bin);\n      const nonRenderedText = trim$2((_a = bin.textContent) !== null && _a !== void 0 ? _a : '');\n      editor.dom.remove(bin);\n      if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n        const parentBlock = parentBlockOpt.getOr(body);\n        const parentBlockText = getInnerText(parentBlock);\n        const textIndex = parentBlockText.indexOf(text);\n        if (textIndex === -1) {\n          return text;\n        } else {\n          const hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n          const hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n          return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n        }\n      } else {\n        return text;\n      }\n    }).getOr('');\n    const getSerializedContent = (editor, args) => {\n      const rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      const sel = editor.selection.getSel();\n      const ranges = processRanges(editor, getRanges$1(sel));\n      const fragment = args.contextual ? read$3(SugarElement.fromDom(editor.getBody()), ranges, editor.schema).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    const extractSelectedContent = (editor, args) => {\n      if (args.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        const content = getSerializedContent(editor, args);\n        if (args.format === 'tree') {\n          return content;\n        } else {\n          return editor.selection.isCollapsed() ? '' : content;\n        }\n      }\n    };\n    const setupArgs$3 = (args, format) => ({\n      ...args,\n      format,\n      get: true,\n      selection: true,\n      getInner: true\n    });\n    const getSelectedContentInternal = (editor, format, args = {}) => {\n      const defaultedArgs = setupArgs$3(args, format);\n      return preProcessGetContent(editor, defaultedArgs).fold(identity, updatedArgs => {\n        const content = extractSelectedContent(editor, updatedArgs);\n        return postProcessGetContent(editor, content, updatedArgs);\n      });\n    };\n\n    const KEEP = 0, INSERT = 1, DELETE = 2;\n    const diff = (left, right) => {\n      const size = left.length + right.length + 2;\n      const vDown = new Array(size);\n      const vUp = new Array(size);\n      const snake = (start, end, diag) => {\n        return {\n          start,\n          end,\n          diag\n        };\n      };\n      const buildScript = (start1, end1, start2, end2, script) => {\n        const middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          let i = start1;\n          let j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (let i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      const buildSnake = (start, diag, end1, end2) => {\n        let end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      const getMiddleSnake = (start1, end1, start2, end2) => {\n        const m = end1 - start1;\n        const n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        const delta = m - n;\n        const sum = n + m;\n        const offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        let d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n        return null;\n      };\n      const script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    const getOuterHtml = elm => {\n      if (isElement$6(elm)) {\n        return elm.outerHTML;\n      } else if (isText$a(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    const createFragment = html => {\n      let node;\n      const container = document.createElement('div');\n      const frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    const insertAt = (elm, html, index) => {\n      const fragment = createFragment(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        const target = elm.childNodes[index];\n        elm.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    const removeAt = (elm, index) => {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        const target = elm.childNodes[index];\n        elm.removeChild(target);\n      }\n    };\n    const applyDiff = (diff, elm) => {\n      let index = 0;\n      each$e(diff, action => {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    const read$2 = (elm, trimZwsp) => filter$5(map$3(from(elm.childNodes), trimZwsp ? compose(trim$2, getOuterHtml) : getOuterHtml), item => {\n      return item.length > 0;\n    });\n    const write = (fragments, elm) => {\n      const currentFragments = map$3(from(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    const lazyTempDocument = cached(() => document.implementation.createHTMLDocument('undo'));\n    const hasIframes = body => body.querySelector('iframe') !== null;\n    const createFragmentedLevel = fragments => {\n      return {\n        type: 'fragmented',\n        fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    const createCompleteLevel = content => {\n      return {\n        type: 'complete',\n        fragments: null,\n        content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    const createFromEditor = editor => {\n      const tempAttrs = editor.serializer.getTempAttrs();\n      const body = trim$1(editor.getBody(), tempAttrs);\n      return hasIframes(body) ? createFragmentedLevel(read$2(body, true)) : createCompleteLevel(trim$2(body.innerHTML));\n    };\n    const applyToEditor = (editor, level, before) => {\n      const bookmark = before ? level.beforeBookmark : level.bookmark;\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, {\n          format: 'raw',\n          no_selection: isNonNullable(bookmark) && isPathBookmark(bookmark) ? !bookmark.isFakeCaret : true\n        });\n      }\n      if (bookmark) {\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.scrollIntoView();\n      }\n    };\n    const getLevelContent = level => {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    const getCleanLevelContent = level => {\n      const elm = SugarElement.fromTag('body', lazyTempDocument());\n      set$1(elm, getLevelContent(level));\n      each$e(descendants(elm, '*[data-mce-bogus]'), unwrap);\n      return get$6(elm);\n    };\n    const hasEqualContent = (level1, level2) => getLevelContent(level1) === getLevelContent(level2);\n    const hasEqualCleanedContent = (level1, level2) => getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    const isEq$1 = (level1, level2) => {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    const isUnlocked = locks => locks.get() === 0;\n\n    const setTyping = (undoManager, typing, locks) => {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    const endTyping = (undoManager, locks) => {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    const endTypingLevelIgnoreLocks = undoManager => {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    const beforeChange$1 = (editor, locks, beforeBookmark) => {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(getUndoBookmark(editor.selection));\n      }\n    };\n    const addUndoLevel$1 = (editor, undoManager, index, locks, beforeBookmark, level, event) => {\n      const currentLevel = createFromEditor(editor);\n      const newLevel = Tools.extend(level || {}, currentLevel);\n      if (!isUnlocked(locks) || editor.removed) {\n        return null;\n      }\n      const lastLevel = undoManager.data[index.get()];\n      if (editor.dispatch('BeforeAddUndo', {\n          level: newLevel,\n          lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$1(lastLevel, newLevel)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(bm => {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      const customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (let i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      newLevel.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(newLevel);\n      index.set(undoManager.data.length - 1);\n      const args = {\n        level: newLevel,\n        lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.dispatch('AddUndo', args);\n        editor.dispatch('change', args);\n      } else {\n        editor.dispatch('AddUndo', args);\n      }\n      return newLevel;\n    };\n    const clear$1 = (editor, undoManager, index) => {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.dispatch('ClearUndos');\n    };\n    const extra$1 = (editor, undoManager, index, callback1, callback2) => {\n      if (undoManager.transact(callback1)) {\n        const bookmark = undoManager.data[index.get()].bookmark;\n        const lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    const redo$1 = (editor, index, data) => {\n      let level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.dispatch('Redo', { level });\n      }\n      return level;\n    };\n    const undo$1 = (editor, undoManager, locks, index) => {\n      let level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.dispatch('Undo', { level });\n      }\n      return level;\n    };\n    const reset$1 = undoManager => {\n      undoManager.clear();\n      undoManager.add();\n    };\n    const hasUndo$1 = (editor, undoManager, index) => index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$1(createFromEditor(editor), undoManager.data[0]);\n    const hasRedo$1 = (undoManager, index) => index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    const transact$1 = (undoManager, locks, callback) => {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    const ignore$1 = (locks, callback) => {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    const addVisualInternal = (editor, elm) => {\n      const dom = editor.dom;\n      const scope = isNonNullable(elm) ? elm : editor.getBody();\n      each$e(dom.select('table,a', scope), matchedElm => {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          const cls = getVisualAidsTableClass(editor);\n          const value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            const value = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            const cls = getVisualAidsAnchorClass(editor);\n            if (value && editor.hasVisual) {\n              dom.addClass(matchedElm, cls);\n            } else {\n              dom.removeClass(matchedElm, cls);\n            }\n          }\n          break;\n        }\n      });\n      editor.dispatch('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    const makePlainAdaptor = editor => ({\n      init: { bindEvents: noop },\n      undoManager: {\n        beforeChange: (locks, beforeBookmark) => beforeChange$1(editor, locks, beforeBookmark),\n        add: (undoManager, index, locks, beforeBookmark, level, event) => addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event),\n        undo: (undoManager, locks, index) => undo$1(editor, undoManager, locks, index),\n        redo: (index, data) => redo$1(editor, index, data),\n        clear: (undoManager, index) => clear$1(editor, undoManager, index),\n        reset: undoManager => reset$1(undoManager),\n        hasUndo: (undoManager, index) => hasUndo$1(editor, undoManager, index),\n        hasRedo: (undoManager, index) => hasRedo$1(undoManager, index),\n        transact: (undoManager, locks, callback) => transact$1(undoManager, locks, callback),\n        ignore: (locks, callback) => ignore$1(locks, callback),\n        extra: (undoManager, index, callback1, callback2) => extra$1(editor, undoManager, index, callback1, callback2)\n      },\n      formatter: {\n        match: (name, vars, node, similar) => match$2(editor, name, vars, node, similar),\n        matchAll: (names, vars) => matchAll(editor, names, vars),\n        matchNode: (node, name, vars, similar) => matchNode(editor, node, name, vars, similar),\n        canApply: name => canApply(editor, name),\n        closest: names => closest(editor, names),\n        apply: (name, vars, node) => applyFormat$1(editor, name, vars, node),\n        remove: (name, vars, node, similar) => removeFormat$1(editor, name, vars, node, similar),\n        toggle: (name, vars, node) => toggle(editor, name, vars, node),\n        formatChanged: (registeredFormatListeners, formats, callback, similar, vars) => formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar, vars)\n      },\n      editor: {\n        getContent: args => getContentInternal(editor, args),\n        setContent: (content, args) => setContentInternal(editor, content, args),\n        insertContent: (value, details) => insertHtmlAtCaret(editor, value, details),\n        addVisual: elm => addVisualInternal(editor, elm)\n      },\n      selection: { getContent: (format, args) => getSelectedContentInternal(editor, format, args) },\n      autocompleter: {\n        addDecoration: range => create$9(editor, range),\n        removeDecoration: () => remove$2(editor, SugarElement.fromDom(editor.getBody()))\n      },\n      raw: { getModel: () => Optional.none() }\n    });\n    const makeRtcAdaptor = rtcEditor => {\n      const defaultVars = vars => isObject(vars) ? vars : {};\n      const {init, undoManager, formatter, editor, selection, autocompleter, raw} = rtcEditor;\n      return {\n        init: { bindEvents: init.bindEvents },\n        undoManager: {\n          beforeChange: undoManager.beforeChange,\n          add: undoManager.add,\n          undo: undoManager.undo,\n          redo: undoManager.redo,\n          clear: undoManager.clear,\n          reset: undoManager.reset,\n          hasUndo: undoManager.hasUndo,\n          hasRedo: undoManager.hasRedo,\n          transact: (_undoManager, _locks, fn) => undoManager.transact(fn),\n          ignore: (_locks, callback) => undoManager.ignore(callback),\n          extra: (_undoManager, _index, callback1, callback2) => undoManager.extra(callback1, callback2)\n        },\n        formatter: {\n          match: (name, vars, _node, similar) => formatter.match(name, defaultVars(vars), similar),\n          matchAll: formatter.matchAll,\n          matchNode: formatter.matchNode,\n          canApply: name => formatter.canApply(name),\n          closest: names => formatter.closest(names),\n          apply: (name, vars, _node) => formatter.apply(name, defaultVars(vars)),\n          remove: (name, vars, _node, _similar) => formatter.remove(name, defaultVars(vars)),\n          toggle: (name, vars, _node) => formatter.toggle(name, defaultVars(vars)),\n          formatChanged: (_rfl, formats, callback, similar, vars) => formatter.formatChanged(formats, callback, similar, vars)\n        },\n        editor: {\n          getContent: args => editor.getContent(args),\n          setContent: (content, args) => {\n            return {\n              content: editor.setContent(content, args),\n              html: ''\n            };\n          },\n          insertContent: (content, _details) => {\n            editor.insertContent(content);\n            return '';\n          },\n          addVisual: editor.addVisual\n        },\n        selection: { getContent: (_format, args) => selection.getContent(args) },\n        autocompleter: {\n          addDecoration: autocompleter.addDecoration,\n          removeDecoration: autocompleter.removeDecoration\n        },\n        raw: { getModel: () => Optional.some(raw.getRawModel()) }\n      };\n    };\n    const makeNoopAdaptor = () => {\n      const nul = constant(null);\n      const empty = constant('');\n      return {\n        init: { bindEvents: noop },\n        undoManager: {\n          beforeChange: noop,\n          add: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: constant(undefined),\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: constant({\n            content: '',\n            html: ''\n          }),\n          insertContent: constant(''),\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        autocompleter: {\n          addDecoration: noop,\n          removeDecoration: noop\n        },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    const isRtc = editor => has$2(editor.plugins, 'rtc');\n    const getRtcSetup = editor => get$a(editor.plugins, 'rtc').bind(rtcPlugin => Optional.from(rtcPlugin.setup));\n    const setup$t = editor => {\n      const editorCast = editor;\n      return getRtcSetup(editor).fold(() => {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, setup => {\n        editorCast.rtcInstance = makeNoopAdaptor();\n        return Optional.some(() => setup().then(rtcEditor => {\n          editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n          return rtcEditor.rtc.isRemote;\n        }));\n      });\n    };\n    const getRtcInstanceWithFallback = editor => editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    const getRtcInstanceWithError = editor => {\n      const rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    const beforeChange = (editor, locks, beforeBookmark) => {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    const addUndoLevel = (editor, undoManager, index, locks, beforeBookmark, level, event) => getRtcInstanceWithError(editor).undoManager.add(undoManager, index, locks, beforeBookmark, level, event);\n    const undo = (editor, undoManager, locks, index) => getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    const redo = (editor, index, data) => getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    const clear = (editor, undoManager, index) => {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    const reset = (editor, undoManager) => {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    const hasUndo = (editor, undoManager, index) => getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    const hasRedo = (editor, undoManager, index) => getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    const transact = (editor, undoManager, locks, callback) => getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    const ignore = (editor, locks, callback) => {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    const extra = (editor, undoManager, index, callback1, callback2) => {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    const matchFormat = (editor, name, vars, node, similar) => getRtcInstanceWithError(editor).formatter.match(name, vars, node, similar);\n    const matchAllFormats = (editor, names, vars) => getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    const matchNodeFormat = (editor, node, name, vars, similar) => getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    const canApplyFormat = (editor, name) => getRtcInstanceWithError(editor).formatter.canApply(name);\n    const closestFormat = (editor, names) => getRtcInstanceWithError(editor).formatter.closest(names);\n    const applyFormat = (editor, name, vars, node) => {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    const removeFormat = (editor, name, vars, node, similar) => {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    const toggleFormat = (editor, name, vars, node) => {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    const formatChanged = (editor, registeredFormatListeners, formats, callback, similar, vars) => getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar, vars);\n    const getContent$2 = (editor, args) => getRtcInstanceWithFallback(editor).editor.getContent(args);\n    const setContent$2 = (editor, content, args) => getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    const insertContent$1 = (editor, value, details) => getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    const getSelectedContent = (editor, format, args) => getRtcInstanceWithError(editor).selection.getContent(format, args);\n    const addVisual$1 = (editor, elm) => getRtcInstanceWithError(editor).editor.addVisual(elm);\n    const bindEvents = editor => getRtcInstanceWithError(editor).init.bindEvents();\n    const addAutocompleterDecoration = (editor, range) => getRtcInstanceWithError(editor).autocompleter.addDecoration(range);\n    const removeAutocompleterDecoration = editor => getRtcInstanceWithError(editor).autocompleter.removeDecoration();\n\n    const getContent$1 = (editor, args = {}) => {\n      const format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    const removeEmpty = text => {\n      if (text.dom.length === 0) {\n        remove$5(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    const walkPastBookmark = (node, start) => node.filter(elm => BookmarkManager.isBookmarkNode(elm.dom)).bind(start ? nextSibling : prevSibling);\n    const merge$1 = (outer, inner, rng, start, schema) => {\n      const outerElm = outer.dom;\n      const innerElm = inner.dom;\n      const oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, schema, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, schema, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    const normalizeTextIfRequired = (inner, start, schema) => {\n      parent(inner).each(root => {\n        const text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0), schema)) {\n          normalizeWhitespaceAfter(text, 0, schema);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length), schema)) {\n          normalizeWhitespaceBefore(text, text.length, schema);\n        }\n      });\n    };\n    const mergeAndNormalizeText = (outerNode, innerNode, rng, start, schema) => {\n      outerNode.bind(outer => {\n        const normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0, schema);\n        return innerNode.filter(isText$b).map(inner => merge$1(outer, inner, rng, start, schema));\n      }).orThunk(() => {\n        const innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText$b);\n        return innerTextNode.map(inner => normalizeTextIfRequired(inner, start, schema));\n      });\n    };\n    const rngSetContent = (rng, fragment, schema) => {\n      const firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      const lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      const prevText = firstChild.bind(prevSibling).filter(isText$b).bind(removeEmpty);\n      const nextText = lastChild.bind(nextSibling).filter(isText$b).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true, schema);\n      mergeAndNormalizeText(nextText, lastChild, rng, false, schema);\n      rng.collapse(false);\n    };\n    const setupArgs$2 = (args, content) => ({\n      format: 'html',\n      ...args,\n      set: true,\n      selection: true,\n      content\n    });\n    const cleanContent = (editor, args) => {\n      if (args.format !== 'raw') {\n        const rng = editor.selection.getRng();\n        const contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        const contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        const node = editor.parser.parse(args.content, {\n          forced_root_block: false,\n          ...contextArgs,\n          ...args\n        });\n        return HtmlSerializer({ validate: false }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    const setContent$1 = (editor, content, args = {}) => {\n      const defaultedArgs = setupArgs$2(args, content);\n      preProcessSetContent(editor, defaultedArgs).each(updatedArgs => {\n        const cleanedContent = cleanContent(editor, updatedArgs);\n        const rng = editor.selection.getRng();\n        rngSetContent(rng, rng.createContextualFragment(cleanedContent), editor.schema);\n        editor.selection.setRng(rng);\n        scrollRangeIntoView(editor, rng);\n        postProcessSetContent(editor, cleanedContent, updatedArgs);\n      });\n    };\n\n    const deleteFromCallbackMap = (callbackMap, selector, callback) => {\n      if (has$2(callbackMap, selector)) {\n        const newCallbacks = filter$5(callbackMap[selector], cb => cb !== callback);\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    var SelectorChanged = (dom, editor) => {\n      let selectorChangedData;\n      let currentSelectors;\n      const findMatchingNode = (selector, nodes) => find$2(nodes, node => dom.is(node, selector));\n      const getParents = elem => dom.getParents(elem, undefined, dom.getRoot());\n      const setup = () => {\n        selectorChangedData = {};\n        currentSelectors = {};\n        editor.on('NodeChange', e => {\n          const node = e.element;\n          const parents = getParents(node);\n          const matchedSelectors = {};\n          each$d(selectorChangedData, (callbacks, selector) => {\n            findMatchingNode(selector, parents).each(node => {\n              if (!currentSelectors[selector]) {\n                each$e(callbacks, callback => {\n                  callback(true, {\n                    node,\n                    selector,\n                    parents\n                  });\n                });\n                currentSelectors[selector] = callbacks;\n              }\n              matchedSelectors[selector] = callbacks;\n            });\n          });\n          each$d(currentSelectors, (callbacks, selector) => {\n            if (!matchedSelectors[selector]) {\n              delete currentSelectors[selector];\n              each$e(callbacks, callback => {\n                callback(false, {\n                  node,\n                  selector,\n                  parents\n                });\n              });\n            }\n          });\n        });\n      };\n      return {\n        selectorChangedWithUnbind: (selector, callback) => {\n          if (!selectorChangedData) {\n            setup();\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          findMatchingNode(selector, getParents(editor.selection.getStart())).each(() => {\n            currentSelectors[selector] = selectorChangedData[selector];\n          });\n          return {\n            unbind: () => {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    };\n\n    const isAttachedToDom = node => {\n      return !!(node && node.ownerDocument) && contains(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    const isValidRange = rng => {\n      if (!rng) {\n        return false;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    const EditorSelection = (dom, win, serializer, editor) => {\n      let selectedRange;\n      let explicitRange;\n      const {selectorChangedWithUnbind} = SelectorChanged(dom, editor);\n      const setCursorLocation = (node, offset) => {\n        const rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      const getContent = args => getContent$1(editor, args);\n      const setContent = (content, args) => setContent$1(editor, content, args);\n      const getStart$1 = real => getStart(editor.getBody(), getRng$1(), real);\n      const getEnd = real => getEnd$1(editor.getBody(), getRng$1(), real);\n      const getBookmark = (type, normalized) => bookmarkManager.getBookmark(type, normalized);\n      const moveToBookmark = bookmark => bookmarkManager.moveToBookmark(bookmark);\n      const select$1 = (node, content) => {\n        select(dom, node, content).each(setRng);\n        return node;\n      };\n      const isCollapsed = () => {\n        const rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      const isEditable = () => {\n        const rng = getRng$1();\n        const fakeSelectedElements = editor.getBody().querySelectorAll('[data-mce-selected=\"1\"]');\n        if (fakeSelectedElements.length > 0) {\n          return forall(fakeSelectedElements, el => dom.isEditable(el.parentElement));\n        } else {\n          return isEditableRange(dom, rng);\n        }\n      };\n      const collapse = toStart => {\n        const rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      const getSel = () => win.getSelection ? win.getSelection() : win.document.selection;\n      const getRng$1 = () => {\n        let rng;\n        const tryCompareBoundaryPoints = (how, sourceRange, destinationRange) => {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        const doc = win.document;\n        if (isNonNullable(editor.bookmark) && !hasFocus(editor)) {\n          const bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(r => processRanges(editor, [r])[0]).getOr(doc.createRange());\n          }\n        }\n        try {\n          const selection = getSel();\n          if (selection && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange();\n        }\n        if (isDocument$1(rng.startContainer) && rng.collapsed) {\n          const elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      const setRng = (rng, forward) => {\n        if (!isValidRange(rng)) {\n          return;\n        }\n        const sel = getSel();\n        const evt = editor.dispatch('SetSelectionRange', {\n          range: rng,\n          forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && (sel === null || sel === void 0 ? void 0 : sel.setBaseAndExtent)) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              const node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.nodeName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.dispatch('AfterSetSelectionRange', {\n          range: rng,\n          forward\n        });\n      };\n      const setNode = elm => {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      const getNode$1 = () => getNode(editor.getBody(), getRng$1());\n      const getSelectedBlocks$1 = (startElm, endElm) => getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      const isForward = () => {\n        const sel = getSel();\n        const anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        const focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        const anchorRange = dom.createRng();\n        const focusRange = dom.createRng();\n        try {\n          anchorRange.setStart(anchorNode, sel.anchorOffset);\n          anchorRange.collapse(true);\n          focusRange.setStart(focusNode, sel.focusOffset);\n          focusRange.collapse(true);\n        } catch (e) {\n          return true;\n        }\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      const normalize = () => {\n        const rng = getRng$1();\n        const sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          const normRng = normalize$2(dom, rng);\n          normRng.each(normRng => {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      const selectorChanged = (selector, callback) => {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      const getScrollContainer = () => {\n        let scrollContainer;\n        let node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      const scrollIntoView = (elm, alignToTop) => {\n        if (isNonNullable(elm)) {\n          scrollElementIntoView(editor, elm, alignToTop);\n        } else {\n          scrollRangeIntoView(editor, getRng$1(), alignToTop);\n        }\n      };\n      const placeCaretAt = (clientX, clientY) => setRng(fromPoint(clientX, clientY, editor.getDoc()));\n      const getBoundingClientRect = () => {\n        const rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      const destroy = () => {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      const expand = (options = { type: 'word' }) => setRng(RangeUtils(dom).expand(getRng$1(), options));\n      const exports = {\n        dom,\n        win,\n        serializer,\n        editor,\n        expand,\n        collapse,\n        setCursorLocation,\n        getContent,\n        setContent,\n        getBookmark,\n        moveToBookmark,\n        select: select$1,\n        isCollapsed,\n        isEditable,\n        isForward,\n        setNode,\n        getNode: getNode$1,\n        getSel,\n        setRng,\n        getRng: getRng$1,\n        getStart: getStart$1,\n        getEnd,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize,\n        selectorChanged,\n        selectorChangedWithUnbind,\n        getScrollContainer,\n        scrollIntoView,\n        placeCaretAt,\n        getBoundingClientRect,\n        destroy\n      };\n      const bookmarkManager = BookmarkManager(exports);\n      const controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    const register$3 = (htmlParser, settings, dom) => {\n      htmlParser.addAttributeFilter('data-mce-tabindex', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', (nodes, name) => {\n        const internalName = 'data-mce-' + name;\n        const urlConverter = settings.url_converter;\n        const urlConverterScope = settings.url_converter_scope;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr('class');\n          if (value) {\n            value = value.replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', (nodes, name, args) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            const hasChildren = Optional.from(node.firstChild).exists(firstChild => {\n              var _a;\n              return !isZwsp$1((_a = firstChild.value) !== null && _a !== void 0 ? _a : '');\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', nodes => {\n        var _a;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', (nodes, name) => {\n        var _a;\n        const trim = value => {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const firstChild = node.firstChild;\n          const value = (_a = firstChild === null || firstChild === void 0 ? void 0 : firstChild.value) !== null && _a !== void 0 ? _a : '';\n          if (name === 'script') {\n            const type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && firstChild && value.length > 0) {\n              firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && firstChild && value.length > 0) {\n              firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const value = node.value;\n          if (settings.preserve_cdata && (value === null || value === void 0 ? void 0 : value.indexOf('[CDATA[')) === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if ((value === null || value === void 0 ? void 0 : value.indexOf('mce:protected ')) === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', nodes => {\n        each$e(nodes, node => {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,data-mce-block,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n      if (settings.remove_trailing_brs) {\n        addNodeFilter(settings, htmlParser, htmlParser.schema);\n      }\n    };\n    const trimTrailingBr = rootNode => {\n      const isBr = node => {\n        return (node === null || node === void 0 ? void 0 : node.name) === 'br';\n      };\n      const brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        const brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    const preProcess$1 = (editor, node, args) => {\n      let oldDoc;\n      const dom = editor.dom;\n      let clonedNode = node.cloneNode(true);\n      const impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        const doc = impl.createHTMLDocument('');\n        Tools.each(clonedNode.nodeName === 'BODY' ? clonedNode.childNodes : [clonedNode], node => {\n          doc.body.appendChild(doc.importNode(node, true));\n        });\n        if (clonedNode.nodeName !== 'BODY') {\n          clonedNode = doc.body.firstChild;\n        } else {\n          clonedNode = doc.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc;\n      }\n      firePreProcess(editor, {\n        ...args,\n        node: clonedNode\n      });\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return clonedNode;\n    };\n    const shouldFireEvent = (editor, args) => {\n      return isNonNullable(editor) && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    const process$1 = (editor, node, args) => {\n      return shouldFireEvent(editor, args) ? preProcess$1(editor, node, args) : node;\n    };\n\n    const addTempAttr = (htmlParser, tempAttrs, name) => {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, (nodes, name) => {\n          let i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    const postProcess = (editor, args, content) => {\n      if (!args.no_events && editor) {\n        const outArgs = firePostProcess(editor, {\n          ...args,\n          content\n        });\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    const getHtmlFromNode = (dom, node, args) => {\n      const html = trim$2(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    const parseHtml = (htmlParser, html, args) => {\n      const parserArgs = args.selection ? {\n        forced_root_block: false,\n        ...args\n      } : args;\n      const rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    const serializeNode = (settings, schema, node) => {\n      const htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    const toHtml = (editor, settings, schema, rootNode, args) => {\n      const content = serializeNode(settings, schema, rootNode);\n      return postProcess(editor, args, content);\n    };\n    const DomSerializerImpl = (settings, editor) => {\n      const tempAttrs = ['data-mce-selected'];\n      const defaultedSettings = {\n        entity_encoding: 'named',\n        remove_trailing_brs: true,\n        pad_empty_with_br: false,\n        ...settings\n      };\n      const dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      const schema = editor && editor.schema ? editor.schema : Schema(defaultedSettings);\n      const htmlParser = DomParser(defaultedSettings, schema);\n      register$3(htmlParser, defaultedSettings, dom);\n      const serialize = (node, parserArgs = {}) => {\n        const args = {\n          format: 'html',\n          ...parserArgs\n        };\n        const targetNode = process$1(editor, node, args);\n        const html = getHtmlFromNode(dom, targetNode, args);\n        const rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, defaultedSettings, schema, rootNode, args);\n      };\n      return {\n        schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: schema.addValidElements,\n        setRules: schema.setValidElements,\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters,\n        removeNodeFilter: htmlParser.removeNodeFilter,\n        removeAttributeFilter: htmlParser.removeAttributeFilter\n      };\n    };\n\n    const DomSerializer = (settings, editor) => {\n      const domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters,\n        removeNodeFilter: domSerializer.removeNodeFilter,\n        removeAttributeFilter: domSerializer.removeAttributeFilter\n      };\n    };\n\n    const defaultFormat$1 = 'html';\n    const setupArgs$1 = (args, format) => ({\n      ...args,\n      format,\n      get: true,\n      getInner: true\n    });\n    const getContent = (editor, args = {}) => {\n      const format = args.format ? args.format : defaultFormat$1;\n      const defaultedArgs = setupArgs$1(args, format);\n      return preProcessGetContent(editor, defaultedArgs).fold(identity, updatedArgs => {\n        const content = getContent$2(editor, updatedArgs);\n        return postProcessGetContent(editor, content, updatedArgs);\n      });\n    };\n\n    const defaultFormat = 'html';\n    const setupArgs = (args, content) => ({\n      format: defaultFormat,\n      ...args,\n      set: true,\n      content\n    });\n    const setContent = (editor, content, args = {}) => {\n      const defaultedArgs = setupArgs(args, content);\n      return preProcessSetContent(editor, defaultedArgs).map(updatedArgs => {\n        const result = setContent$2(editor, updatedArgs.content, updatedArgs);\n        postProcessSetContent(editor, result.html, updatedArgs);\n        return result.content;\n      }).getOr(content);\n    };\n\n    const removedOptions = ('autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,' + 'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,' + 'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,' + 'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,' + 'tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,' + 'paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');\n    const deprecatedOptions = 'template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format'.split(',');\n    const removedPlugins = 'bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');\n    const deprecatedPlugins = [\n      {\n        name: 'template',\n        replacedWith: 'Advanced Template'\n      },\n      { name: 'rtc' }\n    ];\n    const getMatchingOptions = (options, searchingFor) => {\n      const settingNames = filter$5(searchingFor, setting => has$2(options, setting));\n      return sort(settingNames);\n    };\n    const getRemovedOptions = options => {\n      const settingNames = getMatchingOptions(options, removedOptions);\n      const forcedRootBlock = options.forced_root_block;\n      if (forcedRootBlock === false || forcedRootBlock === '') {\n        settingNames.push('forced_root_block (false only)');\n      }\n      return sort(settingNames);\n    };\n    const getDeprecatedOptions = options => getMatchingOptions(options, deprecatedOptions);\n    const getMatchingPlugins = (options, searchingFor) => {\n      const plugins = Tools.makeMap(options.plugins, ' ');\n      const hasPlugin = plugin => has$2(plugins, plugin);\n      const pluginNames = filter$5(searchingFor, hasPlugin);\n      return sort(pluginNames);\n    };\n    const getRemovedPlugins = options => getMatchingPlugins(options, removedPlugins);\n    const getDeprecatedPlugins = options => getMatchingPlugins(options, deprecatedPlugins.map(entry => entry.name));\n    const logRemovedWarnings = (rawOptions, normalizedOptions) => {\n      const removedOptions = getRemovedOptions(rawOptions);\n      const removedPlugins = getRemovedPlugins(normalizedOptions);\n      const hasRemovedPlugins = removedPlugins.length > 0;\n      const hasRemovedOptions = removedOptions.length > 0;\n      const isLegacyMobileTheme = normalizedOptions.theme === 'mobile';\n      if (hasRemovedPlugins || hasRemovedOptions || isLegacyMobileTheme) {\n        const listJoiner = '\\n- ';\n        const themesMessage = isLegacyMobileTheme ? `\\n\\nThemes:${ listJoiner }mobile` : '';\n        const pluginsMessage = hasRemovedPlugins ? `\\n\\nPlugins:${ listJoiner }${ removedPlugins.join(listJoiner) }` : '';\n        const optionsMessage = hasRemovedOptions ? `\\n\\nOptions:${ listJoiner }${ removedOptions.join(listJoiner) }` : '';\n        console.warn('The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. ' + 'See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information.' + themesMessage + pluginsMessage + optionsMessage);\n      }\n    };\n    const getPluginDescription = name => find$2(deprecatedPlugins, entry => entry.name === name).fold(() => name, entry => {\n      if (entry.replacedWith) {\n        return `${ name }, replaced by ${ entry.replacedWith }`;\n      } else {\n        return name;\n      }\n    });\n    const logDeprecatedWarnings = (rawOptions, normalizedOptions) => {\n      const deprecatedOptions = getDeprecatedOptions(rawOptions);\n      const deprecatedPlugins = getDeprecatedPlugins(normalizedOptions);\n      const hasDeprecatedPlugins = deprecatedPlugins.length > 0;\n      const hasDeprecatedOptions = deprecatedOptions.length > 0;\n      if (hasDeprecatedPlugins || hasDeprecatedOptions) {\n        const listJoiner = '\\n- ';\n        const pluginsMessage = hasDeprecatedPlugins ? `\\n\\nPlugins:${ listJoiner }${ deprecatedPlugins.map(getPluginDescription).join(listJoiner) }` : '';\n        const optionsMessage = hasDeprecatedOptions ? `\\n\\nOptions:${ listJoiner }${ deprecatedOptions.join(listJoiner) }` : '';\n        console.warn('The following deprecated features are currently enabled but will be removed soon.' + pluginsMessage + optionsMessage);\n      }\n    };\n    const logWarnings = (rawOptions, normalizedOptions) => {\n      logRemovedWarnings(rawOptions, normalizedOptions);\n      logDeprecatedWarnings(rawOptions, normalizedOptions);\n    };\n\n    const DOM$8 = DOMUtils.DOM;\n    const restoreOriginalStyles = editor => {\n      DOM$8.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    const safeDestroy = x => Optional.from(x).each(x => x.destroy());\n    const clearDomReferences = editor => {\n      const ed = editor;\n      ed.contentAreaContainer = ed.formElement = ed.container = ed.editorContainer = null;\n      ed.bodyElement = ed.contentDocument = ed.contentWindow = null;\n      ed.iframeElement = ed.targetElm = null;\n      const selection = editor.selection;\n      if (selection) {\n        const dom = selection.dom;\n        ed.selection = selection.win = selection.dom = dom.doc = null;\n      }\n    };\n    const restoreForm = editor => {\n      const form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          delete form._mceOldSubmit;\n        }\n        DOM$8.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    const remove$1 = editor => {\n      if (!editor.removed) {\n        const {_selectionOverrides, editorUpload} = editor;\n        const body = editor.getBody();\n        const element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && isNonNullable(element === null || element === void 0 ? void 0 : element.nextSibling)) {\n          DOM$8.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$8.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    const destroy = (editor, automatic) => {\n      const {selection, dom} = editor;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    const CreateIconManager = () => {\n      const lookup = {};\n      const add = (id, iconPack) => {\n        lookup[id] = iconPack;\n      };\n      const get = id => {\n        if (lookup[id]) {\n          return lookup[id];\n        } else {\n          return { icons: {} };\n        }\n      };\n      const has = id => has$2(lookup, id);\n      return {\n        add,\n        get,\n        has\n      };\n    };\n    const IconManager = CreateIconManager();\n\n    const ModelManager = AddOnManager.ModelManager;\n\n    const getProp = (propName, elm) => {\n      const rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    const getComputedSizeProp = (propName, elm) => parseInt(get$7(elm, propName), 10);\n    const getClientWidth = curry(getProp, 'clientWidth');\n    const getClientHeight = curry(getProp, 'clientHeight');\n    const getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    const getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    const getBoundingClientRect = elm => elm.dom.getBoundingClientRect();\n    const isInsideElementContentArea = (bodyElm, clientX, clientY) => {\n      const clientWidth = getClientWidth(bodyElm);\n      const clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    const transpose = (inline, elm, clientX, clientY) => {\n      const clientRect = getBoundingClientRect(elm);\n      const deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      const deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      const x = clientX - deltaX;\n      const y = clientY - deltaY;\n      return {\n        x,\n        y\n      };\n    };\n    const isXYInContentArea = (editor, clientX, clientY) => {\n      const bodyElm = SugarElement.fromDom(editor.getBody());\n      const targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      const transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    const fromDomSafe = node => Optional.from(node).map(SugarElement.fromDom);\n    const isEditorAttachedToDom = editor => {\n      const rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    var NotificationManagerImpl = () => {\n      const unimplemented = () => {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    const NotificationManager = editor => {\n      const notifications = [];\n      const getImplementation = () => {\n        const theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      const getTopNotification = () => {\n        return Optional.from(notifications[0]);\n      };\n      const isEqual = (a, b) => {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      const reposition = () => {\n        each$e(notifications, notification => {\n          notification.reposition();\n        });\n      };\n      const addNotification = notification => {\n        notifications.push(notification);\n      };\n      const closeNotification = notification => {\n        findIndex$2(notifications, otherNotification => {\n          return otherNotification === notification;\n        }).each(index => {\n          notifications.splice(index, 1);\n        });\n      };\n      const open = (spec, fireEvent = true) => {\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return {};\n        }\n        if (fireEvent) {\n          editor.dispatch('BeforeOpenNotification', { notification: spec });\n        }\n        return find$2(notifications, notification => {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(() => {\n          editor.editorManager.setActive(editor);\n          const notification = getImplementation().open(spec, () => {\n            closeNotification(notification);\n            reposition();\n            if (hasEditorOrUiFocus(editor)) {\n              getTopNotification().fold(() => editor.focus(), top => focus$1(SugarElement.fromDom(top.getEl())));\n            }\n          });\n          addNotification(notification);\n          reposition();\n          editor.dispatch('OpenNotification', { notification: { ...notification } });\n          return notification;\n        });\n      };\n      const close = () => {\n        getTopNotification().each(notification => {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      const getNotifications = constant(notifications);\n      const registerEvents = editor => {\n        editor.on('SkinLoaded', () => {\n          const serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n          reposition();\n        });\n        editor.on('show ResizeEditor ResizeWindow NodeChange', () => {\n          requestAnimationFrame(reposition);\n        });\n        editor.on('remove', () => {\n          each$e(notifications.slice(), notification => {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open,\n        close,\n        getNotifications\n      };\n    };\n\n    const PluginManager = AddOnManager.PluginManager;\n\n    const ThemeManager = AddOnManager.ThemeManager;\n\n    var WindowManagerImpl = () => {\n      const unimplemented = () => {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented\n      };\n    };\n\n    const WindowManager = editor => {\n      let dialogs = [];\n      const getImplementation = () => {\n        const theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      const funcBind = (scope, f) => {\n        return (...args) => {\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      const fireOpenEvent = dialog => {\n        editor.dispatch('OpenWindow', { dialog });\n      };\n      const fireCloseEvent = dialog => {\n        editor.dispatch('CloseWindow', { dialog });\n      };\n      const addDialog = dialog => {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      const closeDialog = dialog => {\n        fireCloseEvent(dialog);\n        dialogs = filter$5(dialogs, otherDialog => {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      const getTopDialog = () => {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      const storeSelectionAndOpenDialog = openDialog => {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        editor.ui.show();\n        const dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      const open = (args, params) => {\n        return storeSelectionAndOpenDialog(() => getImplementation().open(args, params, closeDialog));\n      };\n      const openUrl = args => {\n        return storeSelectionAndOpenDialog(() => getImplementation().openUrl(args, closeDialog));\n      };\n      const alert = (message, callback, scope) => {\n        const windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      const confirm = (message, callback, scope) => {\n        const windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      const close = () => {\n        getTopDialog().each(dialog => {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', () => {\n        each$e(dialogs, dialog => {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open,\n        openUrl,\n        alert,\n        confirm,\n        close\n      };\n    };\n\n    const displayNotification = (editor, message) => {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    const displayError = (editor, message) => {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', () => {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    const uploadError = (editor, message) => {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    const logError = (editor, errorType, msg) => {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    const createLoadError = (type, url, name) => name ? `Failed to load ${ type }: ${ name } from url ${ url }` : `Failed to load ${ type } url: ${ url }`;\n    const pluginLoadError = (editor, url, name) => {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    const iconsLoadError = (editor, url, name) => {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    const languageLoadError = (editor, url, name) => {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    const themeLoadError = (editor, url, name) => {\n      logError(editor, 'ThemeLoadError', createLoadError('theme', url, name));\n    };\n    const modelLoadError = (editor, url, name) => {\n      logError(editor, 'ModelLoadError', createLoadError('model', url, name));\n    };\n    const pluginInitError = (editor, name, err) => {\n      const message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    const initError = (message, ...x) => {\n      const console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error(message, ...x);\n        } else {\n          console.log(message, ...x);\n        }\n      }\n    };\n\n    const isContentCssSkinName = url => /^[a-z0-9\\-]+$/i.test(url);\n    const toContentSkinResourceName = url => 'content/' + url + '/content.css';\n    const isBundledCssSkinName = url => tinymce.Resource.has(toContentSkinResourceName(url));\n    const getContentCssUrls = editor => {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    const getFontCssUrls = editor => {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    const transformToUrls = (editor, cssLinks) => {\n      const skinUrl = editor.editorManager.baseURL + '/skins/content';\n      const suffix = editor.editorManager.suffix;\n      const contentCssFile = `content${ suffix }.css`;\n      return map$3(cssLinks, url => {\n        if (isBundledCssSkinName(url)) {\n          return url;\n        } else if (isContentCssSkinName(url) && !editor.inline) {\n          return `${ skinUrl }/${ url }/${ contentCssFile }`;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    const appendContentCssFromSettings = editor => {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    const getAllImages = elm => {\n      return elm ? from(elm.getElementsByTagName('img')) : [];\n    };\n    const ImageScanner = (uploadStatus, blobCache) => {\n      const cachedPromises = {};\n      const findAll = (elm, predicate = always) => {\n        const images = filter$5(getAllImages(elm), img => {\n          const src = img.src;\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (startsWith(src, 'blob:')) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (startsWith(src, 'data:')) {\n            return predicate(img);\n          }\n          return false;\n        });\n        const promises = map$3(images, img => {\n          const imageSrc = img.src;\n          if (has$2(cachedPromises, imageSrc)) {\n            return cachedPromises[imageSrc].then(imageInfo => {\n              if (isString(imageInfo)) {\n                return imageInfo;\n              } else {\n                return {\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                };\n              }\n            });\n          } else {\n            const newPromise = imageToBlobInfo(blobCache, imageSrc).then(blobInfo => {\n              delete cachedPromises[imageSrc];\n              return {\n                image: img,\n                blobInfo\n              };\n            }).catch(error => {\n              delete cachedPromises[imageSrc];\n              return error;\n            });\n            cachedPromises[imageSrc] = newPromise;\n            return newPromise;\n          }\n        });\n        return Promise.all(promises);\n      };\n      return { findAll };\n    };\n\n    const UploadStatus = () => {\n      const PENDING = 1, UPLOADED = 2;\n      let blobUriStatuses = {};\n      const createStatus = (status, resultUri) => {\n        return {\n          status,\n          resultUri\n        };\n      };\n      const hasBlobUri = blobUri => {\n        return blobUri in blobUriStatuses;\n      };\n      const getResultUri = blobUri => {\n        const result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      const isPending = blobUri => {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      const isUploaded = blobUri => {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      const markPending = blobUri => {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      const markUploaded = (blobUri, resultUri) => {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      const removeFailed = blobUri => {\n        delete blobUriStatuses[blobUri];\n      };\n      const destroy = () => {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri,\n        getResultUri,\n        isPending,\n        isUploaded,\n        markPending,\n        markUploaded,\n        removeFailed,\n        destroy\n      };\n    };\n\n    let count = 0;\n    const seed = () => {\n      const rnd = () => {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      const now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    const uuid = prefix => {\n      return prefix + count++ + seed();\n    };\n\n    const BlobCache = () => {\n      let cache = [];\n      const mimeToExt = mime => {\n        const mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      const create = (o, blob, base64, name, filename) => {\n        if (isString(o)) {\n          const id = o;\n          return toBlobInfo({\n            id,\n            name,\n            filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      const toBlobInfo = o => {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        const id = o.id || uuid('blobid');\n        const name = o.name || id;\n        const blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      const add = blobInfo => {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      const findFirst = predicate => find$2(cache, predicate).getOrUndefined();\n      const get = id => findFirst(cachedBlobInfo => cachedBlobInfo.id() === id);\n      const getByUri = blobUri => findFirst(blobInfo => blobInfo.blobUri() === blobUri);\n      const getByData = (base64, type) => findFirst(blobInfo => blobInfo.base64() === base64 && blobInfo.blob().type === type);\n      const removeByUri = blobUri => {\n        cache = filter$5(cache, blobInfo => {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      const destroy = () => {\n        each$e(cache, cachedBlobInfo => {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create,\n        add,\n        get,\n        getByUri,\n        getByData,\n        findFirst,\n        removeByUri,\n        destroy\n      };\n    };\n\n    const Uploader = (uploadStatus, settings) => {\n      const pendingPromises = {};\n      const pathJoin = (path1, path2) => {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      const defaultHandler = (blobInfo, progress) => new Promise((success, failure) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = e => {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = () => {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = () => {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          const json = JSON.parse(xhr.responseText);\n          if (!json || !isString(json.location)) {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        const formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      });\n      const uploadHandler = isFunction(settings.handler) ? settings.handler : defaultHandler;\n      const noUpload = () => new Promise(resolve => {\n        resolve([]);\n      });\n      const handlerSuccess = (blobInfo, url) => ({\n        url,\n        blobInfo,\n        status: true\n      });\n      const handlerFailure = (blobInfo, error) => ({\n        url: '',\n        blobInfo,\n        status: false,\n        error\n      });\n      const resolvePending = (blobUri, result) => {\n        Tools.each(pendingPromises[blobUri], resolve => {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      const uploadBlobInfo = (blobInfo, handler, openNotification) => {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new Promise(resolve => {\n          let notification;\n          let progress;\n          try {\n            const closeNotification = () => {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            const success = url => {\n              closeNotification();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            const failure = error => {\n              closeNotification();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n              resolve(handlerFailure(blobInfo, error));\n            };\n            progress = percent => {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(() => Optional.from(openNotification).map(apply$1)).each(n => {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, progress).then(success, err => {\n              failure(isString(err) ? { message: err } : err);\n            });\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex));\n          }\n        });\n      };\n      const isDefaultHandler = handler => handler === defaultHandler;\n      const pendingUploadBlobInfo = blobInfo => {\n        const blobUri = blobInfo.blobUri();\n        return new Promise(resolve => {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      const uploadBlobs = (blobInfos, openNotification) => {\n        blobInfos = Tools.grep(blobInfos, blobInfo => !uploadStatus.isUploaded(blobInfo.blobUri()));\n        return Promise.all(Tools.map(blobInfos, blobInfo => uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, uploadHandler, openNotification)));\n      };\n      const upload = (blobInfos, openNotification) => !settings.url && isDefaultHandler(uploadHandler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      return { upload };\n    };\n\n    const openNotification = editor => () => editor.notificationManager.open({\n      text: editor.translate('Image uploading...'),\n      type: 'info',\n      timeout: -1,\n      progressBar: true\n    });\n    const createUploader = (editor, uploadStatus) => Uploader(uploadStatus, {\n      url: getImageUploadUrl(editor),\n      basePath: getImageUploadBasePath(editor),\n      credentials: getImagesUploadCredentials(editor),\n      handler: getImagesUploadHandler(editor)\n    });\n    const ImageUploader = editor => {\n      const uploadStatus = UploadStatus();\n      const uploader = createUploader(editor, uploadStatus);\n      return { upload: (blobInfos, showNotification = true) => uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined) };\n    };\n\n    const isEmptyForPadding = (editor, element) => editor.dom.isEmpty(element.dom) && isNonNullable(editor.schema.getTextBlockElements()[name(element)]);\n    const addPaddingToEmpty = editor => element => {\n      if (isEmptyForPadding(editor, element)) {\n        append$1(element, SugarElement.fromHtml('<br data-mce-bogus=\"1\" />'));\n      }\n    };\n    const EditorUpload = editor => {\n      const blobCache = BlobCache();\n      let uploader, imageScanner;\n      const uploadStatus = UploadStatus();\n      const urlFilters = [];\n      const aliveGuard = callback => {\n        return result => {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      const cacheInvalidator = url => url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      const replaceString = (content, search, replace) => {\n        let index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      const replaceImageUrl = (content, targetUrl, replacementUrl) => {\n        const replacementString = `src=\"${ replacementUrl }\"${ replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '' }`;\n        content = replaceString(content, `src=\"${ targetUrl }\"`, replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      const replaceUrlInUndoStack = (targetUrl, replacementUrl) => {\n        each$e(editor.undoManager.data, level => {\n          if (level.type === 'fragmented') {\n            level.fragments = map$3(level.fragments, fragment => replaceImageUrl(fragment, targetUrl, replacementUrl));\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      const replaceImageUriInView = (image, resultUri) => {\n        const src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        setAll$1(SugarElement.fromDom(image), {\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      const uploadImages = () => {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(imageInfos => {\n          const blobInfos = map$3(imageInfos, imageInfo => imageInfo.blobInfo);\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(result => {\n            const imagesToRemove = [];\n            let shouldDispatchChange = false;\n            const filteredResult = map$3(result, (uploadInfo, index) => {\n              const {blobInfo, image} = imageInfos[index];\n              let removed = false;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                if (uploadInfo.url && !contains$1(image.src, uploadInfo.url)) {\n                  shouldDispatchChange = true;\n                }\n                blobCache.removeByUri(image.src);\n                if (isRtc(editor)) ; else {\n                  replaceImageUriInView(image, uploadInfo.url);\n                }\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.remove) {\n                  replaceUrlInUndoStack(image.src, Env.transparentSrc);\n                  imagesToRemove.push(image);\n                  removed = true;\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo,\n                removed\n              };\n            });\n            if (imagesToRemove.length > 0 && !isRtc(editor)) {\n              editor.undoManager.transact(() => {\n                each$e(fromDom$1(imagesToRemove), sugarElement => {\n                  const parentOpt = parent(sugarElement);\n                  remove$5(sugarElement);\n                  parentOpt.each(addPaddingToEmpty(editor));\n                  blobCache.removeByUri(sugarElement.dom.src);\n                });\n              });\n            } else if (shouldDispatchChange) {\n              editor.undoManager.dispatchChange();\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      const uploadImagesAuto = () => isAutomaticUploadsEnabled(editor) ? uploadImages() : Promise.resolve([]);\n      const isValidDataUriImage = imgElm => forall(urlFilters, filter => filter(imgElm));\n      const addFilter = filter => {\n        urlFilters.push(filter);\n      };\n      const scanForImages = () => {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(result => {\n          const filteredResult = filter$5(result, resultItem => {\n            if (isString(resultItem)) {\n              displayError(editor, resultItem);\n              return false;\n            } else if (resultItem.uriType === 'blob') {\n              return false;\n            } else {\n              return true;\n            }\n          });\n          if (isRtc(editor)) ; else {\n            each$e(filteredResult, resultItem => {\n              replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n              resultItem.image.src = resultItem.blobInfo.blobUri();\n              resultItem.image.removeAttribute('data-mce-src');\n            });\n          }\n          return filteredResult;\n        }));\n      };\n      const destroy = () => {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      const replaceBlobUris = content => {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, (match, blobUri) => {\n          const resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          let blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), (result, editor) => {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, undefined);\n          }\n          if (blobInfo) {\n            const blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', () => {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', e => {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', e => {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', () => {\n        editor.parser.addNodeFilter('img', images => {\n          each$e(images, img => {\n            const src = img.attr('src');\n            if (!src || blobCache.getByUri(src)) {\n              return;\n            }\n            const resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache,\n        addFilter,\n        uploadImages,\n        uploadImagesAuto,\n        scanForImages,\n        destroy\n      };\n    };\n\n    const get$1 = editor => {\n      const dom = editor.dom;\n      const schemaType = editor.schema.type;\n      const formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: '0px',\n              marginRight: 'auto'\n            },\n            onformat: table => {\n              dom.setStyle(table, 'float', null);\n            },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: '.mce-preview-object,[data-ephox-embed-iri]',\n            ceFalseOverride: true,\n            styles: { float: 'left' }\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: '.mce-preview-object',\n            ceFalseOverride: true,\n            styles: {\n              display: 'table',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: '[data-ephox-embed-iri]',\n            ceFalseOverride: true,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginRight: '0px',\n              marginLeft: 'auto'\n            },\n            onformat: table => {\n              dom.setStyle(table, 'float', null);\n            },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: '.mce-preview-object,[data-ephox-embed-iri]',\n            ceFalseOverride: true,\n            styles: { float: 'right' },\n            preview: false\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: (() => {\n          const span = {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          };\n          const strike = {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          };\n          const s = {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          };\n          return schemaType !== 'html4' ? [\n            s,\n            span,\n            strike\n          ] : [\n            span,\n            s,\n            strike\n          ];\n        })(),\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: (node, _fmt, _itemName) => {\n            return isElement$6(node) && node.hasAttribute('href');\n          },\n          onformat: (elm, _fmt, vars) => {\n            Tools.each(vars, (value, key) => {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        lang: {\n          inline: 'span',\n          clear_child_styles: true,\n          remove_similar: true,\n          attributes: {\n            'lang': '%value',\n            'data-mce-lang': vars => {\n              var _a;\n              return (_a = vars === null || vars === void 0 ? void 0 : vars.customValue) !== null && _a !== void 0 ? _a : null;\n            }\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), name => {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    const genericBase = {\n      remove_similar: true,\n      inherit: false\n    };\n    const cellBase = {\n      selector: 'td,th',\n      ...genericBase\n    };\n    const cellFormats = {\n      tablecellbackgroundcolor: {\n        styles: { backgroundColor: '%value' },\n        ...cellBase\n      },\n      tablecellverticalalign: {\n        styles: { 'vertical-align': '%value' },\n        ...cellBase\n      },\n      tablecellbordercolor: {\n        styles: { borderColor: '%value' },\n        ...cellBase\n      },\n      tablecellclass: {\n        classes: ['%value'],\n        ...cellBase\n      },\n      tableclass: {\n        selector: 'table',\n        classes: ['%value'],\n        ...genericBase\n      },\n      tablecellborderstyle: {\n        styles: { borderStyle: '%value' },\n        ...cellBase\n      },\n      tablecellborderwidth: {\n        styles: { borderWidth: '%value' },\n        ...cellBase\n      }\n    };\n    const get = constant(cellFormats);\n\n    const FormatRegistry = editor => {\n      const formats = {};\n      const get$2 = name => isNonNullable(name) ? formats[name] : formats;\n      const has = name => has$2(formats, name);\n      const register = (name, format) => {\n        if (name) {\n          if (!isString(name)) {\n            each$d(name, (format, name) => {\n              register(name, format);\n            });\n          } else {\n            if (!isArray$1(format)) {\n              format = [format];\n            }\n            each$e(format, format => {\n              if (isUndefined(format.deep)) {\n                format.deep = !isSelectorFormat(format);\n              }\n              if (isUndefined(format.split)) {\n                format.split = !isSelectorFormat(format) || isInlineFormat(format);\n              }\n              if (isUndefined(format.remove) && isSelectorFormat(format) && !isInlineFormat(format)) {\n                format.remove = 'none';\n              }\n              if (isSelectorFormat(format) && isInlineFormat(format)) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (isString(format.classes)) {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      const unregister = name => {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get$1(editor));\n      register(get());\n      register(getFormats(editor));\n      return {\n        get: get$2,\n        has,\n        register,\n        unregister\n      };\n    };\n\n    const each$3 = Tools.each;\n    const dom = DOMUtils.DOM;\n    const isPreviewItem = item => isNonNullable(item) && isObject(item);\n    const parsedSelectorToHtml = (ancestry, editor) => {\n      const schema = editor && editor.schema || Schema({});\n      const decorate = (elm, item) => {\n        if (item.classes.length > 0) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      const createElement = sItem => {\n        const item = isString(sItem) ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        const elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      const getRequiredParent = (elm, candidate) => {\n        const elmRule = schema.getElementRule(elm.nodeName.toLowerCase());\n        const parentsRequired = elmRule === null || elmRule === void 0 ? void 0 : elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && contains$2(parentsRequired, candidate) ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      const wrapInHtml = (elm, ancestors, siblings) => {\n        let parentCandidate;\n        const ancestor = ancestors[0];\n        const ancestorName = isPreviewItem(ancestor) ? ancestor.name : undefined;\n        const parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestor;\n            ancestors = ancestors.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestor;\n          ancestors = ancestors.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        const parent = parentCandidate ? createElement(parentCandidate) : dom.create('div');\n        parent.appendChild(elm);\n        if (siblings) {\n          Tools.each(siblings, sibling => {\n            const siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        const parentSiblings = isPreviewItem(parentCandidate) ? parentCandidate.siblings : undefined;\n        return wrapInHtml(parent, ancestors, parentSiblings);\n      };\n      const fragment = dom.create('div');\n      if (ancestry.length > 0) {\n        const item = ancestry[0];\n        const elm = createElement(item);\n        const siblings = isPreviewItem(item) ? item.siblings : undefined;\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), siblings));\n      }\n      return fragment;\n    };\n    const parseSelectorItem = item => {\n      item = Tools.trim(item);\n      let tagName = 'div';\n      const obj = {\n        name: tagName,\n        classes: [],\n        attrs: {},\n        selector: item\n      };\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, ($0, $1, $2, $3, $4) => {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            const m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    const parseSelector = selector => {\n      if (!isString(selector)) {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), item => {\n        const siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        const obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    const getCssText = (editor, format) => {\n      let previewCss = '';\n      let previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      const removeVars = val => {\n        return isString(val) ? val.replace(/%(\\w+)/g, '') : '';\n      };\n      const getComputedStyle = (name, elm) => {\n        return dom.getStyle(elm !== null && elm !== void 0 ? elm : editor.getBody(), name, true);\n      };\n      if (isString(format)) {\n        const formats = editor.formatter.get(format);\n        if (!formats) {\n          return '';\n        }\n        format = formats[0];\n      }\n      if ('preview' in format) {\n        const preview = format.preview;\n        if (preview === false) {\n          return '';\n        } else {\n          previewStyles = preview || previewStyles;\n        }\n      }\n      let name = format.block || format.inline || 'span';\n      let previewFrag;\n      const items = parseSelector(format.selector);\n      if (items.length > 0) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      const previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$3(format.styles, (value, name) => {\n        const newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$3(format.attributes, (value, name) => {\n        const newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$3(format.classes, value => {\n        const newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.dispatch('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      const rawParentFontSize = getComputedStyle('fontSize');\n      const parentFontSize = /px$/.test(rawParentFontSize) ? parseInt(rawParentFontSize, 10) : 0;\n      each$3(previewStyles.split(' '), name => {\n        let value = getComputedStyle(name, previewElm);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = getComputedStyle(name);\n          if (rgbaToHexString(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (rgbaToHexString(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            const numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.dispatch('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    const setup$s = editor => {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (let i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    const Formatter = editor => {\n      const formats = FormatRegistry(editor);\n      const formatChangeState = Cell({});\n      setup$s(editor);\n      setup$v(editor);\n      if (!isRtc(editor)) {\n        setup$u(formatChangeState, editor);\n      }\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: (name, vars, node) => {\n          applyFormat(editor, name, vars, node);\n        },\n        remove: (name, vars, node, similar) => {\n          removeFormat(editor, name, vars, node, similar);\n        },\n        toggle: (name, vars, node) => {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: (name, vars, node, similar) => matchFormat(editor, name, vars, node, similar),\n        closest: names => closestFormat(editor, names),\n        matchAll: (names, vars) => matchAllFormats(editor, names, vars),\n        matchNode: (node, name, vars, similar) => matchNodeFormat(editor, node, name, vars, similar),\n        canApply: name => canApplyFormat(editor, name),\n        formatChanged: (formats, callback, similar, vars) => formatChanged(editor, formatChangeState, formats, callback, similar, vars),\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    const shouldIgnoreCommand = cmd => {\n      switch (cmd.toLowerCase()) {\n      case 'undo':\n      case 'redo':\n      case 'mcefocus':\n        return true;\n      default:\n        return false;\n      }\n    };\n    const registerEvents = (editor, undoManager, locks) => {\n      const isFirstTypedCharacter = Cell(false);\n      const addNonTypingUndoLevel = e => {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', () => {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', e => {\n        const cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', () => {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', e => {\n        const keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        const isMeta = Env.os.isMacOS() && e.key === 'Meta';\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey || isMeta) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && !isEq$1(createFromEditor(editor), undoManager.data[0])) {\n          if (!editor.isDirty()) {\n            editor.setDirty(true);\n          }\n          editor.dispatch('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', e => {\n        const keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        const modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n          return;\n        }\n        const hasOnlyMetaOrCtrlModifier = Env.os.isMacOS() ? e.metaKey : e.ctrlKey && !e.altKey;\n        if (hasOnlyMetaOrCtrlModifier) {\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('mousedown', e => {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      const isInsertReplacementText = event => event.inputType === 'insertReplacementText';\n      const isInsertTextDataNull = event => event.inputType === 'insertText' && event.data === null;\n      const isInsertFromPasteOrDrop = event => event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      editor.on('input', e => {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', e => {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    const addKeyboardShortcuts = editor => {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    const UndoManager = editor => {\n      const beforeBookmark = value$2();\n      const locks = Cell(0);\n      const index = Cell(0);\n      const undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: () => {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: (level, event) => {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        dispatchChange: () => {\n          editor.setDirty(true);\n          const level = createFromEditor(editor);\n          level.bookmark = getUndoBookmark(editor.selection);\n          editor.dispatch('change', {\n            level,\n            lastLevel: get$b(undoManager.data, index.get()).getOrUndefined()\n          });\n        },\n        undo: () => {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: () => {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: () => {\n          clear(editor, undoManager, index);\n        },\n        reset: () => {\n          reset(editor, undoManager);\n        },\n        hasUndo: () => {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: () => {\n          return hasRedo(editor, undoManager, index);\n        },\n        transact: callback => {\n          return transact(editor, undoManager, locks, callback);\n        },\n        ignore: callback => {\n          ignore(editor, locks, callback);\n        },\n        extra: (callback1, callback2) => {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    const nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    const placeholderAttr = 'data-mce-placeholder';\n    const isKeyboardEvent = e => e.type === 'keydown' || e.type === 'keyup';\n    const isDeleteEvent = e => {\n      const keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    const isNonTypingKeyboardEvent = e => {\n      if (isKeyboardEvent(e)) {\n        const keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains$2(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    const isTypingKeyboardEvent = e => isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    const isVisuallyEmpty = (dom, rootElm, forcedRootBlock) => {\n      if (isEmpty$2(SugarElement.fromDom(rootElm), false)) {\n        const firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    const setup$r = editor => {\n      var _a;\n      const dom = editor.dom;\n      const rootBlock = getForcedRootBlock(editor);\n      const placeholder = (_a = getPlaceholder(editor)) !== null && _a !== void 0 ? _a : '';\n      const updatePlaceholder = (e, initial) => {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        const body = editor.getBody();\n        const showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        const isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (isNotEmpty(placeholder)) {\n        editor.on('init', e => {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', e => Delay.setEditorTimeout(editor, () => updatePlaceholder(e)));\n        });\n      }\n    };\n\n    const blockPosition = (block, position) => ({\n      block,\n      position\n    });\n    const blockBoundary = (from, to) => ({\n      from,\n      to\n    });\n    const getBlockPosition = (rootNode, pos) => {\n      const rootElm = SugarElement.fromDom(rootNode);\n      const containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$2(rootElm, containerElm).map(block => blockPosition(block, pos));\n    };\n    const isDifferentBlocks = blockBoundary => !eq(blockBoundary.from.block, blockBoundary.to.block);\n    const getClosestHost = (root, scope) => {\n      const isRoot = node => eq(node, root);\n      const isHost = node => isTableCell$2(node) || isContentEditableTrue$3(node.dom);\n      return closest$4(scope, isHost, isRoot).filter(isElement$7).getOr(root);\n    };\n    const hasSameHost = (rootNode, blockBoundary) => {\n      const root = SugarElement.fromDom(rootNode);\n      return eq(getClosestHost(root, blockBoundary.from.block), getClosestHost(root, blockBoundary.to.block));\n    };\n    const isEditable$1 = blockBoundary => isContentEditableFalse$b(blockBoundary.from.block.dom) === false && isContentEditableFalse$b(blockBoundary.to.block.dom) === false;\n    const hasValidBlocks = blockBoundary => {\n      const isValidBlock = block => isTextBlock$2(block) || hasBlockAttr(block.dom);\n      return isValidBlock(blockBoundary.from.block) && isValidBlock(blockBoundary.to.block);\n    };\n    const skipLastBr = (rootNode, forward, blockPosition) => {\n      if (isBr$6(blockPosition.position.getNode()) && !isEmpty$2(blockPosition.block)) {\n        return positionIn(false, blockPosition.block.dom).bind(lastPositionInBlock => {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(to => getBlockPosition(rootNode, to));\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    const readFromRange = (rootNode, forward, rng) => {\n      const fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      const toBlockPos = fromBlockPos.bind(blockPos => fromPosition(forward, rootNode, blockPos.position).bind(to => getBlockPosition(rootNode, to).map(blockPos => skipLastBr(rootNode, forward, blockPos))));\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(blockBoundary => isDifferentBlocks(blockBoundary) && hasSameHost(rootNode, blockBoundary) && isEditable$1(blockBoundary) && hasValidBlocks(blockBoundary));\n    };\n    const read$1 = (rootNode, forward, rng) => rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n\n    const getChildrenUntilBlockBoundary = (block, schema) => {\n      const children = children$1(block);\n      return findIndex$2(children, el => schema.isBlock(name(el))).fold(constant(children), index => children.slice(0, index));\n    };\n    const extractChildren = (block, schema) => {\n      const children = getChildrenUntilBlockBoundary(block, schema);\n      each$e(children, remove$5);\n      return children;\n    };\n    const removeEmptyRoot = (rootNode, block) => {\n      const parents = parentsAndSelf(block, rootNode);\n      return find$2(parents.reverse(), element => isEmpty$2(element)).each(remove$5);\n    };\n    const isEmptyBefore = el => filter$5(prevSiblings(el), el => !isEmpty$2(el)).length === 0;\n    const nestedBlockMerge = (rootNode, fromBlock, toBlock, schema, insertionPoint) => {\n      if (isEmpty$2(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty$2(fromBlock)) {\n        before$3(insertionPoint, SugarElement.fromTag('br'));\n      }\n      const position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each$e(extractChildren(fromBlock, schema), child => {\n        before$3(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    const isInline = (schema, node) => schema.isInline(name(node));\n    const sidelongBlockMerge = (rootNode, fromBlock, toBlock, schema) => {\n      if (isEmpty$2(toBlock)) {\n        if (isEmpty$2(fromBlock)) {\n          const getInlineToBlockDescendants = el => {\n            const helper = (node, elements) => firstChild(node).fold(() => elements, child => isInline(schema, child) ? helper(child, elements.concat(shallow$1(child))) : elements);\n            return helper(el, []);\n          };\n          const newFromBlockDescendants = foldr(getInlineToBlockDescendants(toBlock), (element, descendant) => {\n            wrap$2(element, descendant);\n            return descendant;\n          }, createPaddingBr());\n          empty(fromBlock);\n          append$1(fromBlock, newFromBlockDescendants);\n        }\n        remove$5(toBlock);\n        return firstPositionIn(fromBlock.dom);\n      }\n      const position = lastPositionIn(toBlock.dom);\n      each$e(extractChildren(fromBlock, schema), child => {\n        append$1(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    const findInsertionPoint = (toBlock, block) => {\n      const parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    const getInsertionPoint = (fromBlock, toBlock) => contains(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    const trimBr = (first, block) => {\n      positionIn(first, block.dom).bind(position => Optional.from(position.getNode())).map(SugarElement.fromDom).filter(isBr$5).each(remove$5);\n    };\n    const mergeBlockInto = (rootNode, fromBlock, toBlock, schema) => {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock, schema), curry(nestedBlockMerge, rootNode, fromBlock, toBlock, schema));\n    };\n    const mergeBlocks = (rootNode, forward, block1, block2, schema) => forward ? mergeBlockInto(rootNode, block2, block1, schema) : mergeBlockInto(rootNode, block1, block2, schema);\n\n    const backspaceDelete$9 = (editor, forward) => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const position = read$1(rootNode.dom, forward, editor.selection.getRng()).map(blockBoundary => () => {\n        mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block, editor.schema).each(pos => {\n          editor.selection.setRng(pos.toRange());\n        });\n      });\n      return position;\n    };\n\n    const deleteRangeMergeBlocks = (rootNode, selection, schema) => {\n      const rng = selection.getRng();\n      return lift2(getParentBlock$2(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$2(rootNode, SugarElement.fromDom(rng.endContainer)), (block1, block2) => {\n        if (!eq(block1, block2)) {\n          return Optional.some(() => {\n            rng.deleteContents();\n            mergeBlocks(rootNode, true, block1, block2, schema).each(pos => {\n              selection.setRng(pos.toRange());\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      }).getOr(Optional.none());\n    };\n    const isRawNodeInTable = (root, rawNode) => {\n      const node = SugarElement.fromDom(rawNode);\n      const isRoot = curry(eq, root);\n      return ancestor$4(node, isTableCell$2, isRoot).isSome();\n    };\n    const isSelectionInTable = (root, rng) => isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    const isEverythingSelected = (root, rng) => {\n      const noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      const noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    const emptyEditor = editor => {\n      return Optional.some(() => {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      });\n    };\n    const deleteRange$2 = editor => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection, editor.schema);\n    };\n    const backspaceDelete$8 = (editor, _forward) => editor.selection.isCollapsed() ? Optional.none() : deleteRange$2(editor);\n\n    const showCaret = (direction, editor, node, before, scrollIntoView) => Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    const getNodeRange = node => {\n      const rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    const selectNode = (editor, node) => {\n      const e = editor.dispatch('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    const renderCaretAtRange = (editor, range, scrollIntoView) => {\n      const normalizedRange = normalizeRange(1, editor.getBody(), range);\n      const caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      const caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      const caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      const ceRoot = getContentEditableRoot$1(editor.dom.getRoot(), caretPosition.getNode());\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    const renderRangeCaret = (editor, range, scrollIntoView) => range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n\n    const isBeforeBoundary = pos => isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    const isAfterBoundary = pos => isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    const trimEmptyTextNode = (dom, node) => {\n      if (isText$a(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    const deleteContentAndShowCaret = (editor, range, node, direction, forward, peekCaretPosition) => {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(caretRange => {\n        if (range.collapsed) {\n          const deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode(editor.dom, node);\n    };\n    const deleteBoundaryText = (editor, forward) => {\n      const range = editor.selection.getRng();\n      if (!isText$a(range.commonAncestorContainer)) {\n        return Optional.none();\n      }\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const caretWalker = CaretWalker(editor.getBody());\n      const getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      const isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      const nextCaretPosition = getNextPosFn(caretPosition);\n      const normalizedNextCaretPosition = nextCaretPosition ? normalizePosition(forward, nextCaretPosition) : nextCaretPosition;\n      if (!normalizedNextCaretPosition || !isMoveInsideSameBlock(caretPosition, normalizedNextCaretPosition)) {\n        return Optional.none();\n      } else if (isBeforeFn(normalizedNextCaretPosition)) {\n        return Optional.some(() => deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, normalizedNextCaretPosition));\n      }\n      const peekCaretPosition = getNextPosFn(normalizedNextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(normalizedNextCaretPosition, peekCaretPosition)) {\n          return Optional.some(() => deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition));\n        }\n      }\n      return Optional.none();\n    };\n    const backspaceDelete$7 = (editor, forward) => deleteBoundaryText(editor, forward);\n\n    const getEdgeCefPosition = (editor, atStart) => {\n      const root = editor.getBody();\n      return atStart ? firstPositionIn(root).filter(isBeforeContentEditableFalse) : lastPositionIn(root).filter(isAfterContentEditableFalse);\n    };\n    const isCefAtEdgeSelected = editor => {\n      const rng = editor.selection.getRng();\n      return !rng.collapsed && (getEdgeCefPosition(editor, true).exists(pos => pos.isEqual(CaretPosition.fromRangeStart(rng))) || getEdgeCefPosition(editor, false).exists(pos => pos.isEqual(CaretPosition.fromRangeEnd(rng))));\n    };\n\n    const isCompoundElement = node => isNonNullable(node) && (isTableCell$2(SugarElement.fromDom(node)) || isListItem$1(SugarElement.fromDom(node)));\n    const DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    const isAtContentEditableBlockCaret = (forward, from) => {\n      const elm = from.getNode(!forward);\n      const caretLocation = forward ? 'after' : 'before';\n      return isElement$6(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    const isDeleteFromCefDifferentBlocks = (root, forward, from, to, schema) => {\n      const inSameBlock = elm => schema.isInline(elm.nodeName.toLowerCase()) && !isInSameBlock(from, to, root);\n      return getRelativeCefElm(!forward, from).fold(() => getRelativeCefElm(forward, to).fold(never, inSameBlock), inSameBlock);\n    };\n    const deleteEmptyBlockOrMoveToCef = (root, forward, from, to) => {\n      const toCefElm = to.getNode(!forward);\n      return getParentBlock$2(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(blockElm => isEmpty$2(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm)).orThunk(() => Optional.some(DeleteAction.moveToElement(toCefElm)));\n    };\n    const findCefPosition = (root, forward, from, schema) => fromPosition(forward, root, from).bind(to => {\n      if (isCompoundElement(to.getNode())) {\n        return Optional.none();\n      } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to, schema)) {\n        return Optional.none();\n      } else if (forward && isContentEditableFalse$b(to.getNode())) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (!forward && isContentEditableFalse$b(to.getNode(true))) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      } else if (!forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      } else {\n        return Optional.none();\n      }\n    });\n    const getContentEditableBlockAction = (forward, elm) => {\n      if (isNullable(elm)) {\n        return Optional.none();\n      } else if (forward && isContentEditableFalse$b(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (!forward && isContentEditableFalse$b(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    const skipMoveToActionFromInlineCefToContent = (root, from, deleteAction) => deleteAction.fold(elm => Optional.some(DeleteAction.remove(elm)), elm => Optional.some(DeleteAction.moveToElement(elm)), to => {\n      if (isInSameBlock(from, to, root)) {\n        return Optional.none();\n      } else {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      }\n    });\n    const getContentEditableAction = (root, forward, from, schema) => {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(!forward)).orThunk(() => findCefPosition(root, forward, from, schema));\n      } else {\n        return findCefPosition(root, forward, from, schema).bind(deleteAction => skipMoveToActionFromInlineCefToContent(root, from, deleteAction));\n      }\n    };\n    const read = (root, forward, rng, schema) => {\n      const normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      const from = CaretPosition.fromRangeStart(normalizedRange);\n      const rootElement = SugarElement.fromDom(root);\n      if (!forward && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (!forward && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from, schema)) {\n        return findPreviousBr(rootElement, from, schema).map(br => DeleteAction.remove(br.getNode()));\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr$1(rootElement, from, schema)) {\n        return findNextBr(rootElement, from, schema).map(br => DeleteAction.remove(br.getNode()));\n      } else {\n        return getContentEditableAction(root, forward, from, schema);\n      }\n    };\n\n    const deleteElement$1 = (editor, forward) => element => {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    const moveToElement = (editor, forward) => element => {\n      const pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n    const moveToPosition = editor => pos => {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n    const getAncestorCe = (editor, node) => Optional.from(getContentEditableRoot$1(editor.getBody(), node));\n    const backspaceDeleteCaret = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse$b).fold(() => read(editor.getBody(), forward, editor.selection.getRng(), editor.schema).map(deleteAction => () => deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor))), () => Optional.some(noop));\n    };\n    const deleteOffscreenSelection = rootElement => {\n      each$e(descendants(rootElement, '.mce-offscreen-selection'), remove$5);\n    };\n    const backspaceDeleteRange = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse$b(selectedNode) && !isTableCell$3(selectedNode)) {\n        const hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse$b);\n        return hasCefAncestor.fold(() => Optional.some(() => {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement$2(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n        }), () => Optional.some(noop));\n      }\n      if (isCefAtEdgeSelected(editor)) {\n        return Optional.some(() => {\n          deleteRangeContents(editor, editor.selection.getRng(), SugarElement.fromDom(editor.getBody()));\n        });\n      }\n      return Optional.none();\n    };\n    const paddEmptyElement = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const ceRoot = getContentEditableRoot$1(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue$3(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        const br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    const backspaceDelete$6 = (editor, forward) => {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    const deleteCaret$2 = (editor, forward) => {\n      const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(pos => forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos)).bind(pos => getChildNodeAtRelativeOffset(forward ? 0 : -1, pos)).map(elm => () => editor.selection.select(elm));\n    };\n    const backspaceDelete$5 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : Optional.none();\n\n    const isText$2 = isText$a;\n    const startsWithCaretContainer = node => isText$2(node) && node.data[0] === ZWSP$1;\n    const endsWithCaretContainer = node => isText$2(node) && node.data[node.data.length - 1] === ZWSP$1;\n    const createZwsp = node => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      return doc.createTextNode(ZWSP$1);\n    };\n    const insertBefore$1 = node => {\n      var _a;\n      if (isText$2(node.previousSibling)) {\n        if (endsWithCaretContainer(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP$1);\n          return node.previousSibling;\n        }\n      } else if (isText$2(node)) {\n        if (startsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP$1);\n          return node;\n        }\n      } else {\n        const newNode = createZwsp(node);\n        (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    const insertAfter$1 = node => {\n      var _a, _b;\n      if (isText$2(node.nextSibling)) {\n        if (startsWithCaretContainer(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP$1);\n          return node.nextSibling;\n        }\n      } else if (isText$2(node)) {\n        if (endsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP$1);\n          return node;\n        }\n      } else {\n        const newNode = createZwsp(node);\n        if (node.nextSibling) {\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(newNode, node.nextSibling);\n        } else {\n          (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    const insertInline = (before, node) => before ? insertBefore$1(node) : insertAfter$1(node);\n    const insertInlineBefore = curry(insertInline, true);\n    const insertInlineAfter = curry(insertInline, false);\n\n    const insertInlinePos = (pos, before) => {\n      if (isText$a(pos.container())) {\n        return insertInline(before, pos.container());\n      } else {\n        return insertInline(before, pos.getNode());\n      }\n    };\n    const isPosCaretContainer = (pos, caret) => {\n      const caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    const renderCaret = (caret, location) => location.fold(element => {\n      remove$3(caret.get());\n      const text = insertInlineBefore(element);\n      caret.set(text);\n      return Optional.some(CaretPosition(text, text.length - 1));\n    }, element => firstPositionIn(element).map(pos => {\n      if (!isPosCaretContainer(pos, caret)) {\n        remove$3(caret.get());\n        const text = insertInlinePos(pos, true);\n        caret.set(text);\n        return CaretPosition(text, 1);\n      } else {\n        const node = caret.get();\n        return CaretPosition(node, 1);\n      }\n    }), element => lastPositionIn(element).map(pos => {\n      if (!isPosCaretContainer(pos, caret)) {\n        remove$3(caret.get());\n        const text = insertInlinePos(pos, false);\n        caret.set(text);\n        return CaretPosition(text, text.length - 1);\n      } else {\n        const node = caret.get();\n        return CaretPosition(node, node.length - 1);\n      }\n    }), element => {\n      remove$3(caret.get());\n      const text = insertInlineAfter(element);\n      caret.set(text);\n      return Optional.some(CaretPosition(text, 1));\n    });\n\n    const evaluateUntil = (fns, args) => {\n      for (let i = 0; i < fns.length; i++) {\n        const result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    const Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    const rescope$1 = (rootNode, node) => {\n      const parentBlock = getParentBlock$3(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    const before = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeForwards(pos);\n      const scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(() => nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(inline => Location.before(inline)), Optional.none);\n    };\n    const isNotInsideFormatCaretContainer = (rootNode, elm) => getParentCaretContainer(rootNode, elm) === null;\n    const findInsideRootInline = (isInlineTarget, rootNode, pos) => findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    const start$1 = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(inline => {\n        const prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    const end = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(inline => {\n        const nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    const after = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeBackwards(pos);\n      const scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(() => prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(inline => Location.after(inline)), Optional.none);\n    };\n    const isValidLocation = location => !isRtl(getElement(location));\n    const readLocation = (isInlineTarget, rootNode, pos) => {\n      const location = evaluateUntil([\n        before,\n        start$1,\n        end,\n        after\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    const getElement = location => location.fold(identity, identity, identity, identity);\n    const getName = location => location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    const outside = location => location.fold(Location.before, Location.before, Location.after, Location.after);\n    const inside = location => location.fold(Location.start, Location.start, Location.end, Location.end);\n    const isEq = (location1, location2) => getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    const betweenInlines = (forward, isInlineTarget, rootNode, from, to, location) => lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), (fromInline, toInline) => {\n      if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n        return Location.after(forward ? fromInline : toInline);\n      } else {\n        return location;\n      }\n    }).getOr(location);\n    const skipNoMovement = (fromLocation, toLocation) => fromLocation.fold(always, fromLocation => !isEq(fromLocation, toLocation));\n    const findLocationTraverse = (forward, isInlineTarget, rootNode, fromLocation, pos) => {\n      const from = normalizePosition(forward, pos);\n      const to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      const location = to.fold(() => fromLocation.map(outside), to => readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation)));\n      return location.filter(isValidLocation);\n    };\n    const findLocationSimple = (forward, location) => {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    const findLocation$1 = (forward, isInlineTarget, rootNode, pos) => {\n      const from = normalizePosition(forward, pos);\n      const fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(() => findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos));\n    };\n\n    const hasSelectionModifyApi = editor => {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    const moveRel = (forward, selection, pos) => {\n      const delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    const moveByWord = (forward, editor) => {\n      const rng = editor.selection.getRng();\n      const pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    const flip = (direction, positions) => direction === HDirection.Backwards ? reverse(positions) : positions;\n    const walk$1 = (direction, caretWalker, pos) => direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    const getBreakType = (scope, direction, currentPos, nextPos) => {\n      if (isBr$6(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    const getPositionsUntil = (predicate, direction, scope, start) => {\n      const caretWalker = CaretWalker(scope);\n      let currentPos = start;\n      const positions = [];\n      while (currentPos) {\n        const nextPos = walk$1(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr$6(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          const breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    const getAdjacentLinePositions = (direction, getPositionsUntilBreak, scope, start) => getPositionsUntilBreak(scope, start).breakAt.map(pos => {\n      const positions = getPositionsUntilBreak(scope, pos).positions;\n      return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n    }).getOr([]);\n    const findClosestHorizontalPositionFromPoint = (positions, x) => foldl(positions, (acc, newPos) => acc.fold(() => Optional.some(newPos), lastPos => lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), (lastRect, newRect) => {\n      const lastDist = Math.abs(x - lastRect.left);\n      const newDist = Math.abs(x - newRect.left);\n      return newDist <= lastDist ? newPos : lastPos;\n    }).or(acc)), Optional.none());\n    const findClosestHorizontalPosition = (positions, pos) => head(pos.getClientRects()).bind(targetRect => findClosestHorizontalPositionFromPoint(positions, targetRect.left));\n    const getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    const getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    const getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    const getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    const isAtFirstLine = (scope, pos) => getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    const isAtLastLine = (scope, pos) => getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    const getFirstLinePositions = scope => firstPositionIn(scope).map(pos => [pos].concat(getPositionsUntilNextLine(scope, pos).positions)).getOr([]);\n    const getLastLinePositions = scope => lastPositionIn(scope).map(pos => getPositionsUntilPreviousLine(scope, pos).positions.concat(pos)).getOr([]);\n    const getClosestPositionAbove = (scope, pos) => findClosestHorizontalPosition(getPositionsAbove(scope, pos), pos);\n    const getClosestPositionBelow = (scope, pos) => findClosestHorizontalPosition(getPositionsBelow(scope, pos), pos);\n\n    const isContentEditableFalse$4 = isContentEditableFalse$b;\n    const distanceToRectLeft$1 = (clientRect, clientX) => Math.abs(clientRect.left - clientX);\n    const distanceToRectRight$1 = (clientRect, clientX) => Math.abs(clientRect.right - clientX);\n    const isNodeClientRect = rect => hasNonNullableKey(rect, 'node');\n    const findClosestClientRect = (clientRects, clientX) => reduce(clientRects, (oldClientRect, clientRect) => {\n      const oldDistance = Math.min(distanceToRectLeft$1(oldClientRect, clientX), distanceToRectRight$1(oldClientRect, clientX));\n      const newDistance = Math.min(distanceToRectLeft$1(clientRect, clientX), distanceToRectRight$1(clientRect, clientX));\n      if (newDistance === oldDistance && isNodeClientRect(clientRect) && isContentEditableFalse$4(clientRect.node)) {\n        return clientRect;\n      }\n      if (newDistance < oldDistance) {\n        return clientRect;\n      }\n      return oldClientRect;\n    });\n\n    const getNodeClientRects = node => {\n      const toArrayWithNode = clientRects => {\n        return map$3(clientRects, rect => {\n          const clientRect = clone$1(rect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$6(node)) {\n        return toArrayWithNode(node.getClientRects());\n      } else if (isText$a(node)) {\n        const rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      } else {\n        return [];\n      }\n    };\n    const getClientRects = nodes => bind$3(nodes, getNodeClientRects);\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    const findUntil = (direction, root, predicateFn, node) => {\n      let currentNode = node;\n      while (currentNode = findNode(currentNode, direction, isEditableCaretCandidate$1, root)) {\n        if (predicateFn(currentNode)) {\n          return;\n        }\n      }\n    };\n    const walkUntil = (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) => {\n      let line = 0;\n      const result = [];\n      const add = node => {\n        let clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (let i = 0; i < clientRects.length; i++) {\n          const clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$2(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n        return false;\n      };\n      const targetClientRect = last$2(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      const node = caretPosition.getNode();\n      if (node) {\n        add(node);\n        findUntil(direction, root, add, node);\n      }\n      return result;\n    };\n    const aboveLineNumber = (lineNumber, clientRect) => clientRect.line > lineNumber;\n    const isLineNumber = (lineNumber, clientRect) => clientRect.line === lineNumber;\n    const upUntil = curry(walkUntil, VDirection.Up, isAbove$1, isBelow$1);\n    const downUntil = curry(walkUntil, VDirection.Down, isBelow$1, isAbove$1);\n    const getLastClientRect = caretPosition => {\n      return last$2(caretPosition.getClientRects());\n    };\n    const positionsUntil = (direction, root, predicateFn, node) => {\n      const caretWalker = CaretWalker(root);\n      let walkFn;\n      let isBelowFn;\n      let isAboveFn;\n      let caretPosition;\n      const result = [];\n      let line = 0;\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow$1;\n        isAboveFn = isAbove$1;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove$1;\n        isAboveFn = isBelow$1;\n        caretPosition = CaretPosition.before(node);\n      }\n      const targetClientRect = getLastClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        const rect = getLastClientRect(caretPosition);\n        if (isAboveFn(rect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(rect, last$2(result))) {\n          line++;\n        }\n        const clientRect = clone$1(rect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    const isAboveLine = lineNumber => clientRect => aboveLineNumber(lineNumber, clientRect);\n    const isLine = lineNumber => clientRect => isLineNumber(lineNumber, clientRect);\n\n    const moveToRange = (editor, rng) => {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    const renderRangeCaretOpt = (editor, range, scrollIntoView) => Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    const moveHorizontally = (editor, direction, range, isBefore, isAfter, isElement) => {\n      const forwards = direction === HDirection.Forwards;\n      const caretWalker = CaretWalker(editor.getBody());\n      const getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      const isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        const node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        } else if (isCefAtEdgeSelected(editor)) {\n          const newRange = range.cloneRange();\n          newRange.collapse(direction === HDirection.Backwards);\n          return Optional.from(newRange);\n        }\n      }\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      let nextCaretPosition = getNextPosFn(caretPosition);\n      const rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      } else {\n        nextCaretPosition = normalizePosition(forwards, nextCaretPosition);\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      const peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    const moveVertically = (editor, direction, range, isBefore, isAfter, isElement) => {\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      const caretClientRect = last$2(caretPosition.getClientRects());\n      const forwards = direction === VDirection.Down;\n      const root = editor.getBody();\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      if (isCefAtEdgeSelected(editor)) {\n        const caretPosition = forwards ? CaretPosition.fromRangeEnd(range) : CaretPosition.fromRangeStart(range);\n        const getClosestFn = !forwards ? getClosestPositionAbove : getClosestPositionBelow;\n        return getClosestFn(root, caretPosition).orThunk(() => Optional.from(caretPosition)).map(pos => pos.toRange());\n      }\n      const walkerFn = forwards ? downUntil : upUntil;\n      const linePositions = walkerFn(root, isAboveLine(1), caretPosition);\n      const nextLinePositions = filter$5(linePositions, isLine(1));\n      const clientX = caretClientRect.left;\n      const nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        const dist1 = Math.abs(clientX - nextLineRect.left);\n        const dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      let currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        const caretPositions = positionsUntil(direction, root, isAboveLine(1), currentNode);\n        let closestNextLineRect = findClosestClientRect(filter$5(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$2(filter$5(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(pos => renderRangeCaret(editor, pos.toRange(), false));\n      }\n      return Optional.none();\n    };\n    const getLineEndPoint = (editor, forward) => {\n      const rng = editor.selection.getRng();\n      const from = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      const host = getEditingHost(from.container(), editor.getBody());\n      if (forward) {\n        const lineInfo = getPositionsUntilNextLine(host, from);\n        return last$3(lineInfo.positions);\n      } else {\n        const lineInfo = getPositionsUntilPreviousLine(host, from);\n        return head(lineInfo.positions);\n      }\n    };\n    const moveToLineEndPoint$3 = (editor, forward, isElementPosition) => getLineEndPoint(editor, forward).filter(isElementPosition).exists(pos => {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    });\n\n    const setCaretPosition = (editor, pos) => {\n      const rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    const setSelected = (state, elm) => {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    const renderCaretLocation = (editor, caret, location) => renderCaret(caret, location).map(pos => {\n      setCaretPosition(editor, pos);\n      return location;\n    });\n    const getPositionFromRange = (range, root, forward) => {\n      const start = CaretPosition.fromRangeStart(range);\n      if (range.collapsed) {\n        return start;\n      } else {\n        const end = CaretPosition.fromRangeEnd(range);\n        return forward ? prevPosition(root, end).getOr(end) : nextPosition(root, start).getOr(start);\n      }\n    };\n    const findLocation = (editor, caret, forward) => {\n      const rootNode = editor.getBody();\n      const from = getPositionFromRange(editor.selection.getRng(), rootNode, forward);\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const location = findLocation$1(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(location => renderCaretLocation(editor, caret, location));\n    };\n    const toggleInlines = (isInlineTarget, dom, elms) => {\n      const inlineBoundaries = map$3(descendants(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), e => e.dom);\n      const selectedInlines = filter$5(inlineBoundaries, isInlineTarget);\n      const targetInlines = filter$5(elms, isInlineTarget);\n      each$e(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each$e(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    const safeRemoveCaretContainer = (editor, caret) => {\n      const caretValue = caret.get();\n      if (editor.selection.isCollapsed() && !editor.composing && caretValue) {\n        const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && !isAtZwsp(pos)) {\n          setCaretPosition(editor, removeAndReposition(caretValue, pos));\n          caret.set(null);\n        }\n      }\n    };\n    const renderInsideInlineCaret = (isInlineTarget, editor, caret, elms) => {\n      if (editor.selection.isCollapsed()) {\n        const inlines = filter$5(elms, isInlineTarget);\n        each$e(inlines, _inline => {\n          const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(location => renderCaretLocation(editor, caret, location));\n        });\n      }\n    };\n    const move$3 = (editor, caret, forward) => isInlineBoundariesEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;\n    const moveWord = (forward, editor, _caret) => isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    const setupSelectedState = editor => {\n      const caret = Cell(null);\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', e => {\n        if (isInlineBoundariesEnabled(editor)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    const moveNextWord = curry(moveWord, true);\n    const movePrevWord = curry(moveWord, false);\n    const moveToLineEndPoint$2 = (editor, forward, caret) => {\n      if (isInlineBoundariesEnabled(editor)) {\n        const linePoint = getLineEndPoint(editor, forward).getOrThunk(() => {\n          const rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(loc => {\n          const outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(pos => {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    const rangeFromPositions = (from, to) => {\n      const range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    const hasOnlyTwoOrLessPositionsLeft = elm => lift2(firstPositionIn(elm), lastPositionIn(elm), (firstPos, lastPos) => {\n      const normalizedFirstPos = normalizePosition(true, firstPos);\n      const normalizedLastPos = normalizePosition(false, lastPos);\n      return nextPosition(elm, normalizedFirstPos).forall(pos => pos.isEqual(normalizedLastPos));\n    }).getOr(true);\n    const setCaretLocation = (editor, caret) => location => renderCaret(caret, location).map(pos => () => setCaretPosition(editor, pos));\n    const deleteFromTo = (editor, caret, from, to) => {\n      const rootNode = editor.getBody();\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(() => {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        execNativeDeleteCommand(editor);\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).bind(setCaretLocation(editor, caret)).each(call);\n      });\n      editor.nodeChanged();\n    };\n    const rescope = (rootNode, node) => {\n      const parentBlock = getParentBlock$3(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    const backspaceDeleteCollapsed = (editor, caret, forward, from) => {\n      const rootNode = rescope(editor.getBody(), from.container());\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      const location = fromLocation.bind(location => {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      });\n      return location.map(setCaretLocation(editor, caret)).getOrThunk(() => {\n        const toPosition = navigate(forward, rootNode, from);\n        const toLocation = toPosition.bind(pos => readLocation(isInlineTarget$1, rootNode, pos));\n        return lift2(fromLocation, toLocation, () => findRootInline(isInlineTarget$1, rootNode, from).bind(elm => {\n          if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n            return Optional.some(() => {\n              deleteElement$2(editor, forward, SugarElement.fromDom(elm));\n            });\n          } else {\n            return Optional.none();\n          }\n        })).getOrThunk(() => toLocation.bind(() => toPosition.map(to => {\n          return () => {\n            if (forward) {\n              deleteFromTo(editor, caret, from, to);\n            } else {\n              deleteFromTo(editor, caret, to, from);\n            }\n          };\n        })));\n      });\n    };\n    const backspaceDelete$4 = (editor, caret, forward) => {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return Optional.none();\n    };\n\n    const hasMultipleChildren = elm => childNodesCount(elm) > 1;\n    const getParentsUntil = (editor, pred) => {\n      const rootElm = SugarElement.fromDom(editor.getBody());\n      const startElm = SugarElement.fromDom(editor.selection.getStart());\n      const parents = parentsAndSelf(startElm, rootElm);\n      return findIndex$2(parents, pred).fold(constant(parents), index => parents.slice(0, index));\n    };\n    const hasOnlyOneChild = elm => childNodesCount(elm) === 1;\n    const getParentInlinesUntilMultichildInline = editor => getParentsUntil(editor, elm => editor.schema.isBlock(name(elm)) || hasMultipleChildren(elm));\n    const getParentInlines = editor => getParentsUntil(editor, el => editor.schema.isBlock(name(el)));\n    const getFormatNodes = (editor, parentInlines) => {\n      const isFormatElement$1 = curry(isFormatElement, editor);\n      return bind$3(parentInlines, elm => isFormatElement$1(elm) ? [elm.dom] : []);\n    };\n    const getFormatNodesAtStart = editor => {\n      const parentInlines = getParentInlines(editor);\n      return getFormatNodes(editor, parentInlines);\n    };\n    const deleteLastPosition = (forward, editor, target, parentInlines) => {\n      const formatNodes = getFormatNodes(editor, parentInlines);\n      if (formatNodes.length === 0) {\n        deleteElement$2(editor, forward, target);\n      } else {\n        const pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    const deleteCaret$1 = (editor, forward) => {\n      const parentInlines = filter$5(getParentInlinesUntilMultichildInline(editor), hasOnlyOneChild);\n      return last$3(parentInlines).bind(target => {\n        const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          return Optional.some(() => deleteLastPosition(forward, editor, target, parentInlines));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const isBrInEmptyElement = (editor, elm) => {\n      const parentElm = elm.parentElement;\n      return isBr$6(elm) && !isNull(parentElm) && editor.dom.isEmpty(parentElm);\n    };\n    const isEmptyCaret = elm => isEmptyCaretFormatElement(SugarElement.fromDom(elm));\n    const createCaretFormatAtStart = (editor, formatNodes) => {\n      const startElm = editor.selection.getStart();\n      const pos = isBrInEmptyElement(editor, startElm) || isEmptyCaret(startElm) ? replaceWithCaretFormat(startElm, formatNodes) : createCaretFormatAtStart$1(editor.selection.getRng(), formatNodes);\n      editor.selection.setRng(pos.toRange());\n    };\n    const updateCaretFormat = (editor, updateFormats) => {\n      const missingFormats = difference(updateFormats, getFormatNodesAtStart(editor));\n      if (missingFormats.length > 0) {\n        createCaretFormatAtStart(editor, missingFormats);\n      }\n    };\n    const rangeStartsAtTextContainer = rng => isText$a(rng.startContainer);\n    const rangeStartsAtStartOfTextContainer = rng => rng.startOffset === 0 && rangeStartsAtTextContainer(rng);\n    const rangeStartParentIsFormatElement = (editor, rng) => {\n      const startParent = rng.startContainer.parentElement;\n      return !isNull(startParent) && isFormatElement(editor, SugarElement.fromDom(startParent));\n    };\n    const rangeStartAndEndHaveSameParent = rng => {\n      const startParent = rng.startContainer.parentNode;\n      const endParent = rng.endContainer.parentNode;\n      return !isNull(startParent) && !isNull(endParent) && startParent.isEqualNode(endParent);\n    };\n    const rangeEndsAtEndOfEndContainer = rng => {\n      const endContainer = rng.endContainer;\n      return rng.endOffset === (isText$a(endContainer) ? endContainer.length : endContainer.childNodes.length);\n    };\n    const rangeEndsAtEndOfStartContainer = rng => rangeStartAndEndHaveSameParent(rng) && rangeEndsAtEndOfEndContainer(rng);\n    const rangeEndsAfterEndOfStartContainer = rng => !rng.endContainer.isEqualNode(rng.commonAncestorContainer);\n    const rangeEndsAtOrAfterEndOfStartContainer = rng => rangeEndsAtEndOfStartContainer(rng) || rangeEndsAfterEndOfStartContainer(rng);\n    const requiresDeleteRangeOverride = editor => {\n      const rng = editor.selection.getRng();\n      return rangeStartsAtStartOfTextContainer(rng) && rangeStartParentIsFormatElement(editor, rng) && rangeEndsAtOrAfterEndOfStartContainer(rng);\n    };\n    const deleteRange$1 = editor => {\n      if (requiresDeleteRangeOverride(editor)) {\n        const formatNodes = getFormatNodesAtStart(editor);\n        return Optional.some(() => {\n          execNativeDeleteCommand(editor);\n          updateCaretFormat(editor, formatNodes);\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const backspaceDelete$3 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : deleteRange$1(editor);\n    const hasAncestorInlineCaret = (elm, schema) => ancestor$1(elm, node => isCaretNode(node.dom), el => schema.isBlock(name(el)));\n    const hasAncestorInlineCaretAtStart = editor => hasAncestorInlineCaret(SugarElement.fromDom(editor.selection.getStart()), editor.schema);\n    const requiresRefreshCaretOverride = editor => {\n      const rng = editor.selection.getRng();\n      return rng.collapsed && (rangeStartsAtTextContainer(rng) || editor.dom.isEmpty(rng.startContainer)) && !hasAncestorInlineCaretAtStart(editor);\n    };\n    const refreshCaret = editor => {\n      if (requiresRefreshCaretOverride(editor)) {\n        createCaretFormatAtStart(editor, []);\n      }\n      return true;\n    };\n\n    const deleteElement = (editor, forward, element) => {\n      if (isNonNullable(element)) {\n        return Optional.some(() => {\n          editor._selectionOverrides.hideFakeCaret();\n          deleteElement$2(editor, forward, SugarElement.fromDom(element));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const deleteCaret = (editor, forward) => {\n      const isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(pos => isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos)).bind(pos => deleteElement(editor, forward, pos.getNode(!forward)));\n      }\n    };\n    const deleteRange = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      return isMedia$2(selectedNode) ? deleteElement(editor, forward, selectedNode) : Optional.none();\n    };\n    const backspaceDelete$2 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret(editor, forward) : deleteRange(editor, forward);\n\n    const isEditable = target => closest$4(target, elm => isContentEditableTrue$3(elm.dom) || isContentEditableFalse$b(elm.dom)).exists(elm => isContentEditableTrue$3(elm.dom));\n    const parseIndentValue = value => toInt(value !== null && value !== void 0 ? value : '').getOr(0);\n    const getIndentStyleName = (useMargin, element) => {\n      const indentStyleName = useMargin || isTable$1(element) ? 'margin' : 'padding';\n      const suffix = get$7(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    const indentElement = (dom, command, useMargin, value, unit, element) => {\n      const indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      const parsedValue = parseIndentValue(dom.getStyle(element, indentStyleName));\n      if (command === 'outdent') {\n        const styleValue = Math.max(0, parsedValue - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        const styleValue = parsedValue + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    const validateBlocks = (editor, blocks) => forall(blocks, block => {\n      const indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n      const intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n      const contentEditable = editor.dom.getContentEditable(block.dom);\n      return contentEditable !== 'false' && intentValue > 0;\n    });\n    const canOutdent = editor => {\n      const blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    const isListComponent = el => isList(el) || isListItem$1(el);\n    const parentIsListComponent = el => parent(el).exists(isListComponent);\n    const getBlocksToIndent = editor => filter$5(fromDom$1(editor.selection.getSelectedBlocks()), el => !isListComponent(el) && !parentIsListComponent(el) && isEditable(el));\n    const handle = (editor, command) => {\n      var _a, _b;\n      const {dom} = editor;\n      const indentation = getIndentation(editor);\n      const indentUnit = (_b = (_a = /[a-z%]+$/i.exec(indentation)) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : 'px';\n      const indentValue = parseIndentValue(indentation);\n      const useMargin = shouldIndentUseMargin(editor);\n      each$e(getBlocksToIndent(editor), block => {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n    const indent = editor => handle(editor, 'indent');\n    const outdent = editor => handle(editor, 'outdent');\n\n    const backspaceDelete$1 = editor => {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        const dom = editor.dom;\n        const rng = editor.selection.getRng();\n        const pos = CaretPosition.fromRangeStart(rng);\n        const block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos, editor.schema)) {\n          return Optional.some(() => outdent(editor));\n        }\n      }\n      return Optional.none();\n    };\n\n    const findAction = (editor, caret, forward) => findMap([\n      backspaceDelete$1,\n      backspaceDelete$6,\n      backspaceDelete$7,\n      (editor, forward) => backspaceDelete$4(editor, caret, forward),\n      backspaceDelete$9,\n      backspaceDelete$a,\n      backspaceDelete$5,\n      backspaceDelete$2,\n      backspaceDelete$8,\n      backspaceDelete$3\n    ], item => item(editor, forward)).filter(_ => editor.selection.isEditable());\n    const deleteCommand = (editor, caret) => {\n      const result = findAction(editor, caret, false);\n      result.fold(() => {\n        if (editor.selection.isEditable()) {\n          execNativeDeleteCommand(editor);\n          paddEmptyBody(editor);\n        }\n      }, call);\n    };\n    const forwardDeleteCommand = (editor, caret) => {\n      const result = findAction(editor, caret, true);\n      result.fold(() => {\n        if (editor.selection.isEditable()) {\n          execNativeForwardDeleteCommand(editor);\n        }\n      }, call);\n    };\n    const setup$q = (editor, caret) => {\n      editor.addCommand('delete', () => {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', () => {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const setup$p = editor => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const debounceLongpress = last$1(e => {\n        editor.dispatch('longpress', {\n          ...e,\n          type: 'longpress'\n        });\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', e => {\n        getTouch(e).each(touch => {\n          debounceLongpress.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n      }, true);\n      editor.on('touchmove', e => {\n        debounceLongpress.cancel();\n        getTouch(e).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n              longpressFired.set(false);\n              editor.dispatch('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', e => {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(data => data.target.isEqualNode(e.target)).each(() => {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.dispatch('tap', {\n              ...e,\n              type: 'tap'\n            });\n          }\n        });\n      }, true);\n    };\n\n    const isBlockElement = (blockElements, node) => has$2(blockElements, node.nodeName);\n    const isValidTarget = (schema, node) => {\n      if (isText$a(node)) {\n        return true;\n      } else if (isElement$6(node)) {\n        return !isBlockElement(schema.getBlockElements(), node) && !isBookmarkNode$1(node) && !isTransparentBlock(schema, node) && !isNonHtmlElementRoot(node);\n      } else {\n        return false;\n      }\n    };\n    const hasBlockParent = (blockElements, root, node) => {\n      return exists(parents(SugarElement.fromDom(node), SugarElement.fromDom(root)), elm => {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    const shouldRemoveTextNode = (blockElements, node) => {\n      if (isText$a(node)) {\n        if (node.data.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.data)) {\n          return !node.nextSibling || isBlockElement(blockElements, node.nextSibling) || isNonHtmlElementRoot(node.nextSibling);\n        }\n      }\n      return false;\n    };\n    const createRootBlock = editor => editor.dom.create(getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n    const addRootBlocks = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const schema = editor.schema;\n      const blockElements = schema.getBlockElements();\n      const startNode = selection.getStart();\n      const rootNode = editor.getBody();\n      let rootBlockNode;\n      let tempNode;\n      let wrapped = false;\n      const forcedRootBlock = getForcedRootBlock(editor);\n      if (!startNode || !isElement$6(startNode)) {\n        return;\n      }\n      const rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, startNode)) {\n        return;\n      }\n      const rng = selection.getRng();\n      const {startContainer, startOffset, endContainer, endOffset} = rng;\n      const restoreSelection = hasFocus(editor);\n      let node = rootNode.firstChild;\n      while (node) {\n        if (isElement$6(node)) {\n          updateElement(schema, node);\n        }\n        if (isValidTarget(schema, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = createRootBlock(editor);\n            rootNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    const insertEmptyLine = (editor, root, insertBlock) => {\n      const block = SugarElement.fromDom(createRootBlock(editor));\n      const br = createPaddingBr();\n      append$1(block, br);\n      insertBlock(root, block);\n      const rng = document.createRange();\n      rng.setStartBefore(br.dom);\n      rng.setEndBefore(br.dom);\n      return rng;\n    };\n    const setup$o = editor => {\n      editor.on('NodeChange', curry(addRootBlocks, editor));\n    };\n\n    const hasClass = checkClassName => node => (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n    const replaceMatchWithSpan = (editor, content, cls) => {\n      return function (match) {\n        const args = arguments, index = args[args.length - 2];\n        const prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          const findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            const tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    const convertRegExpsToNonEditable = (editor, nonEditableRegExps, e) => {\n      let i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    const setup$n = editor => {\n      const contentEditableAttrName = 'contenteditable';\n      const editClass = ' ' + Tools.trim(getEditableClass(editor)) + ' ';\n      const nonEditClass = ' ' + Tools.trim(getNonEditableClass(editor)) + ' ';\n      const hasEditClass = hasClass(editClass);\n      const hasNonEditClass = hasClass(nonEditClass);\n      const nonEditableRegExps = getNonEditableRegExps(editor);\n      if (nonEditableRegExps.length > 0) {\n        editor.on('BeforeSetContent', e => {\n          convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n        });\n      }\n      editor.parser.addAttributeFilter('class', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (hasEditClass(node)) {\n            node.attr(contentEditableAttrName, 'true');\n          } else if (hasNonEditClass(node)) {\n            node.attr(contentEditableAttrName, 'false');\n          }\n        }\n      });\n      editor.serializer.addAttributeFilter(contentEditableAttrName, nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (!hasEditClass(node) && !hasNonEditClass(node)) {\n            continue;\n          }\n          if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = node.attr('data-mce-content');\n          } else {\n            node.attr(contentEditableAttrName, null);\n          }\n        }\n      });\n    };\n\n    const findBlockCaretContainer = editor => descendant$1(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').map(elm => elm.dom).getOrNull();\n    const showBlockCaretContainer = (editor, blockCaretContainer) => {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        editor.selection.setRng(editor.selection.getRng());\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    const handleBlockContainer = (editor, e) => {\n      const blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    const setup$m = editor => {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    const isContentEditableFalse$3 = isContentEditableFalse$b;\n    const moveToCeFalseHorizontally = (direction, editor, range) => moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$3);\n    const moveToCeFalseVertically = (direction, editor, range) => {\n      const isBefore = caretPosition => isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      const isAfter = caretPosition => isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$3);\n    };\n    const createTextBlock = editor => {\n      const textBlock = editor.dom.create(getForcedRootBlock(editor));\n      textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      return textBlock;\n    };\n    const exitPreBlock = (editor, direction, range) => {\n      const caretWalker = CaretWalker(editor.getBody());\n      const getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed) {\n        const pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        const caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          const newBlock = SugarElement.fromDom(createTextBlock(editor));\n          if (direction === 1) {\n            after$4(SugarElement.fromDom(pre), newBlock);\n          } else {\n            before$3(SugarElement.fromDom(pre), newBlock);\n          }\n          editor.selection.select(newBlock.dom, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    const getHorizontalRange = (editor, forward) => {\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(() => {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    const getVerticalRange = (editor, down) => {\n      const direction = down ? 1 : -1;\n      const range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(() => {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    const flipDirection = (selection, forward) => {\n      const elm = forward ? selection.getEnd(true) : selection.getStart(true);\n      return isRtl(elm) ? !forward : forward;\n    };\n    const moveH$2 = (editor, forward) => getHorizontalRange(editor, flipDirection(editor.selection, forward)).exists(newRange => {\n      moveToRange(editor, newRange);\n      return true;\n    });\n    const moveV$4 = (editor, down) => getVerticalRange(editor, down).exists(newRange => {\n      moveToRange(editor, newRange);\n      return true;\n    });\n    const moveToLineEndPoint$1 = (editor, forward) => {\n      const isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint$3(editor, forward, isCefPosition);\n    };\n    const selectToEndPoint = (editor, forward) => getEdgeCefPosition(editor, !forward).map(pos => {\n      const rng = pos.toRange();\n      const curRng = editor.selection.getRng();\n      if (forward) {\n        rng.setStart(curRng.startContainer, curRng.startOffset);\n      } else {\n        rng.setEnd(curRng.endContainer, curRng.endOffset);\n      }\n      return rng;\n    }).exists(rng => {\n      moveToRange(editor, rng);\n      return true;\n    });\n\n    const isTarget = node => contains$2(['figcaption'], name(node));\n    const getClosestTargetBlock = (pos, root, schema) => {\n      const isRoot = curry(eq, root);\n      return closest$4(SugarElement.fromDom(pos.container()), el => schema.isBlock(name(el)), isRoot).filter(isTarget);\n    };\n    const isAtFirstOrLastLine = (root, forward, pos) => forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    const moveCaretToNewEmptyLine = (editor, forward) => {\n      const root = SugarElement.fromDom(editor.getBody());\n      const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getClosestTargetBlock(pos, root, editor.schema).exists(() => {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          const insertFn = forward ? append$1 : prepend;\n          const rng = insertEmptyLine(editor, root, insertFn);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    const moveV$3 = (editor, forward) => {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    const moveUp = (editor, details, summary) => {\n      const rng = editor.selection.getRng();\n      const pos = CaretPosition.fromRangeStart(rng);\n      const root = editor.getBody();\n      if (root.firstChild === details && isAtFirstLine(summary, pos)) {\n        editor.execCommand('InsertNewBlockBefore');\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const moveDown = (editor, details) => {\n      const rng = editor.selection.getRng();\n      const pos = CaretPosition.fromRangeStart(rng);\n      const root = editor.getBody();\n      if (root.lastChild === details && isAtLastLine(details, pos)) {\n        editor.execCommand('InsertNewBlockAfter');\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const move$2 = (editor, forward) => {\n      if (forward) {\n        return Optional.from(editor.dom.getParent(editor.selection.getNode(), 'details')).map(details => moveDown(editor, details)).getOr(false);\n      } else {\n        return Optional.from(editor.dom.getParent(editor.selection.getNode(), 'summary')).bind(summary => Optional.from(editor.dom.getParent(summary, 'details')).map(details => moveUp(editor, details, summary))).getOr(false);\n      }\n    };\n    const moveV$2 = (editor, forward) => move$2(editor, forward);\n\n    const baseKeyPattern = {\n      shiftKey: false,\n      altKey: false,\n      ctrlKey: false,\n      metaKey: false,\n      keyCode: 0\n    };\n    const defaultPatterns = patterns => map$3(patterns, pattern => ({\n      ...baseKeyPattern,\n      ...pattern\n    }));\n    const defaultDelayedPatterns = patterns => map$3(patterns, pattern => ({\n      ...baseKeyPattern,\n      ...pattern\n    }));\n    const matchesEvent = (pattern, evt) => evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    const match$1 = (patterns, evt) => bind$3(defaultPatterns(patterns), pattern => matchesEvent(pattern, evt) ? [pattern] : []);\n    const matchDelayed = (patterns, evt) => bind$3(defaultDelayedPatterns(patterns), pattern => matchesEvent(pattern, evt) ? [pattern] : []);\n    const action = (f, ...x) => () => f.apply(null, x);\n    const execute = (patterns, evt) => find$2(match$1(patterns, evt), pattern => pattern.action());\n    const executeWithDelayedAction = (patterns, evt) => findMap(matchDelayed(patterns, evt), pattern => pattern.action());\n\n    const moveH$1 = (editor, forward) => {\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(newRange => {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    const moveV$1 = (editor, down) => {\n      const direction = down ? 1 : -1;\n      const range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(newRange => {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    const moveToLineEndPoint = (editor, forward) => {\n      const isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint$3(editor, forward, isNearMedia);\n    };\n\n    const adt = Adt.generate([\n      { none: ['current'] },\n      { first: ['current'] },\n      {\n        middle: [\n          'current',\n          'target'\n        ]\n      },\n      { last: ['current'] }\n    ]);\n    const none = current => adt.none(current);\n    const CellLocation = {\n      ...adt,\n      none\n    };\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$3(children$1(scope), x => {\n        if (is$1(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup$1 = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$1(elm, 'table') || isRoot(elm);\n      return ancestor$3(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup$1([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const table = (element, isRoot) => closest$3(element, 'table', isRoot);\n\n    const walk = (all, current, index, direction, isEligible = always) => {\n      const forwards = direction === 1;\n      if (!forwards && index <= 0) {\n        return CellLocation.first(all[0]);\n      } else if (forwards && index >= all.length - 1) {\n        return CellLocation.last(all[all.length - 1]);\n      } else {\n        const newIndex = index + direction;\n        const elem = all[newIndex];\n        return isEligible(elem) ? CellLocation.middle(current, elem) : walk(all, current, newIndex, direction, isEligible);\n      }\n    };\n    const detect = (current, isRoot) => {\n      return table(current, isRoot).bind(table => {\n        const all = cells(table);\n        const index = findIndex$2(all, x => eq(current, x));\n        return index.map(index => ({\n          index,\n          all\n        }));\n      });\n    };\n    const next = (current, isEligible, isRoot) => {\n      const detection = detect(current, isRoot);\n      return detection.fold(() => {\n        return CellLocation.none(current);\n      }, info => {\n        return walk(info.all, current, info.index, 1, isEligible);\n      });\n    };\n    const prev = (current, isEligible, isRoot) => {\n      const detection = detect(current, isRoot);\n      return detection.fold(() => {\n        return CellLocation.none();\n      }, info => {\n        return walk(info.all, current, info.index, -1, isEligible);\n      });\n    };\n\n    const deflate = (rect, delta) => ({\n      left: rect.left - delta,\n      top: rect.top - delta,\n      right: rect.right + delta * 2,\n      bottom: rect.bottom + delta * 2,\n      width: rect.width + delta,\n      height: rect.height + delta\n    });\n    const getCorners = (getYAxisValue, tds) => bind$3(tds, td => {\n      const rect = deflate(clone$1(td.getBoundingClientRect()), -1);\n      return [\n        {\n          x: rect.left,\n          y: getYAxisValue(rect),\n          cell: td\n        },\n        {\n          x: rect.right,\n          y: getYAxisValue(rect),\n          cell: td\n        }\n      ];\n    });\n    const findClosestCorner = (corners, x, y) => foldl(corners, (acc, newCorner) => acc.fold(() => Optional.some(newCorner), oldCorner => {\n      const oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n      const newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n      return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n    }), Optional.none());\n    const getClosestCell = (getYAxisValue, isTargetCorner, table, x, y) => {\n      const cells = descendants(SugarElement.fromDom(table), 'td,th,caption').map(e => e.dom);\n      const corners = filter$5(getCorners(getYAxisValue, cells), corner => isTargetCorner(corner, y));\n      return findClosestCorner(corners, x, y).map(corner => corner.cell);\n    };\n    const getBottomValue = rect => rect.bottom;\n    const getTopValue = rect => rect.top;\n    const isAbove = (corner, y) => corner.y < y;\n    const isBelow = (corner, y) => corner.y > y;\n    const getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove);\n    const getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow);\n    const findClosestPositionInAboveCell = (table, pos) => head(pos.getClientRects()).bind(rect => getClosestCellAbove(table, rect.left, rect.top)).bind(cell => findClosestHorizontalPosition(getLastLinePositions(cell), pos));\n    const findClosestPositionInBelowCell = (table, pos) => last$3(pos.getClientRects()).bind(rect => getClosestCellBelow(table, rect.left, rect.top)).bind(cell => findClosestHorizontalPosition(getFirstLinePositions(cell), pos));\n\n    const hasNextBreak = (getPositionsUntil, scope, lineInfo) => lineInfo.breakAt.exists(breakPos => getPositionsUntil(scope, breakPos).breakAt.isSome());\n    const startsWithWrapBreak = lineInfo => lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    const startsWithBrBreak = lineInfo => lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    const isAtTableCellLine = (getPositionsUntil, scope, pos) => {\n      const lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr$6(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    const isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    const isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    const isCaretAtStartOrEndOfTable = (forward, rng, table) => {\n      const caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(pos => pos.isEqual(caretPos));\n    };\n    const navigateHorizontally = (editor, forward, table, _td) => {\n      const rng = editor.selection.getRng();\n      const direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(newRng => {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    const getClosestAbovePosition = (root, table, start) => findClosestPositionInAboveCell(table, start).orThunk(() => head(start.getClientRects()).bind(rect => findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left))).getOr(CaretPosition.before(table));\n    const getClosestBelowPosition = (root, table, start) => findClosestPositionInBelowCell(table, start).orThunk(() => head(start.getClientRects()).bind(rect => findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left))).getOr(CaretPosition.after(table));\n    const getTable = (previous, pos) => {\n      const node = pos.getNode(previous);\n      return isTable$2(node) ? Optional.some(node) : Optional.none();\n    };\n    const renderBlock = (down, editor, table) => {\n      editor.undoManager.transact(() => {\n        const insertFn = down ? after$4 : before$3;\n        const rng = insertEmptyLine(editor, SugarElement.fromDom(table), insertFn);\n        moveToRange(editor, rng);\n      });\n    };\n    const moveCaret = (editor, down, pos) => {\n      const table = down ? getTable(true, pos) : getTable(false, pos);\n      const last = down === false;\n      table.fold(() => moveToRange(editor, pos.toRange()), table => positionIn(last, editor.getBody()).filter(lastPos => lastPos.isEqual(pos)).fold(() => moveToRange(editor, pos.toRange()), _ => renderBlock(down, editor, table)));\n    };\n    const navigateVertically = (editor, down, table, td) => {\n      const rng = editor.selection.getRng();\n      const pos = CaretPosition.fromRangeStart(rng);\n      const root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        const newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        const newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const move$1 = (editor, forward, mover) => Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(td => Optional.from(editor.dom.getParent(td, 'table')).map(table => mover(editor, forward, table, td))).getOr(false);\n    const moveH = (editor, forward) => move$1(editor, forward, navigateHorizontally);\n    const moveV = (editor, forward) => move$1(editor, forward, navigateVertically);\n    const getCellFirstCursorPosition = cell => {\n      const selection = SimSelection.exact(cell, 0, cell, 0);\n      return toNative(selection);\n    };\n    const tabGo = (editor, isRoot, cell) => {\n      return cell.fold(Optional.none, Optional.none, (_current, next) => {\n        return first(next).map(cell => {\n          return getCellFirstCursorPosition(cell);\n        });\n      }, current => {\n        editor.execCommand('mceTableInsertRowAfter');\n        return tabForward(editor, isRoot, current);\n      });\n    };\n    const tabForward = (editor, isRoot, cell) => tabGo(editor, isRoot, next(cell, isEditable$2));\n    const tabBackward = (editor, isRoot, cell) => tabGo(editor, isRoot, prev(cell, isEditable$2));\n    const handleTab = (editor, forward) => {\n      const rootElements = [\n        'table',\n        'li',\n        'dl'\n      ];\n      const body = SugarElement.fromDom(editor.getBody());\n      const isRoot = element => {\n        const name$1 = name(element);\n        return eq(element, body) || contains$2(rootElements, name$1);\n      };\n      const rng = editor.selection.getRng();\n      const container = SugarElement.fromDom(!forward ? rng.startContainer : rng.endContainer);\n      return cell(container, isRoot).map(cell => {\n        table(cell, isRoot).each(table => {\n          editor.model.table.clearSelectedCells(table.dom);\n        });\n        editor.selection.collapse(!forward);\n        const navigation = !forward ? tabBackward : tabForward;\n        const rng = navigation(editor, isRoot, cell);\n        rng.each(range => {\n          editor.selection.setRng(range);\n        });\n        return true;\n      }).getOr(false);\n    };\n\n    const executeKeydownOverride$4 = (editor, caret, evt) => {\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$4, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$4, editor, true)\n        },\n        ...isMac ? [\n          {\n            keyCode: VK.UP,\n            action: action(selectToEndPoint, editor, false),\n            metaKey: true,\n            shiftKey: true\n          },\n          {\n            keyCode: VK.DOWN,\n            action: action(selectToEndPoint, editor, true),\n            metaKey: true,\n            shiftKey: true\n          }\n        ] : [],\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move$3, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move$3, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !isMac,\n          altKey: isMac,\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !isMac,\n          altKey: isMac,\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        }\n      ], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$l = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$4(editor, caret, evt);\n        }\n      });\n    };\n\n    const point = (container, offset) => ({\n      container,\n      offset\n    });\n\n    const DOM$7 = DOMUtils.DOM;\n    const alwaysNext = startNode => node => startNode === node ? -1 : 0;\n    const isBoundary = dom => node => dom.isBlock(node) || contains$2([\n      'BR',\n      'IMG',\n      'HR',\n      'INPUT'\n    ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    const textBefore = (node, offset, rootNode) => {\n      if (isText$a(node) && offset >= 0) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).map(prev => point(prev.container, prev.container.data.length));\n      }\n    };\n    const textAfter = (node, offset, rootNode) => {\n      if (isText$a(node) && offset >= node.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).map(prev => point(prev.container, 0));\n      }\n    };\n    const scanLeft = (node, offset, rootNode) => {\n      if (!isText$a(node)) {\n        return Optional.none();\n      }\n      const text = node.data;\n      if (offset >= 0 && offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).bind(prev => {\n          const prevText = prev.container.data;\n          return scanLeft(prev.container, offset + prevText.length, rootNode);\n        });\n      }\n    };\n    const scanRight = (node, offset, rootNode) => {\n      if (!isText$a(node)) {\n        return Optional.none();\n      }\n      const text = node.data;\n      if (offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).bind(next => scanRight(next.container, offset - text.length, rootNode));\n      }\n    };\n    const repeatLeft = (dom, node, offset, process, rootNode) => {\n      const search = TextSeeker(dom, isBoundary(dom));\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    const isValidTextRange = rng => rng.collapsed && isText$a(rng.startContainer);\n    const getText = rng => trim$2(rng.toString().replace(/\\u00A0/g, ' '));\n    const isWhitespace = chr => chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n\n    const stripTrigger = (text, trigger) => text.substring(trigger.length);\n    const findTrigger = (text, index, trigger) => {\n      let i;\n      const firstChar = trigger.charAt(0);\n      for (i = index - 1; i >= 0; i--) {\n        const char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (firstChar === char && contains$1(text, trigger, i, index)) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    const findStart = (dom, initRange, trigger, minChars = 0) => {\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      const buffer = {\n        text: '',\n        offset: 0\n      };\n      const findTriggerIndex = (element, offset, text) => {\n        buffer.text = text + buffer.text;\n        buffer.offset += offset;\n        return findTrigger(buffer.text, buffer.offset, trigger).getOr(offset);\n      };\n      const root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerIndex, root).bind(spot => {\n        const range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        const text = getText(range);\n        const triggerIndex = text.lastIndexOf(trigger);\n        if (triggerIndex !== 0 || stripTrigger(text, trigger).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTrigger(text, trigger),\n            range,\n            trigger\n          });\n        }\n      });\n    };\n    const getContext = (dom, initRange, trigger, minChars = 0) => detect$1(SugarElement.fromDom(initRange.startContainer)).fold(() => findStart(dom, initRange, trigger, minChars), elm => {\n      const range = dom.createRng();\n      range.selectNode(elm.dom);\n      const text = getText(range);\n      return Optional.some({\n        range,\n        text: stripTrigger(text, trigger),\n        trigger\n      });\n    });\n\n    const isText$1 = node => node.nodeType === TEXT;\n    const isElement = node => node.nodeType === ELEMENT;\n    const toLast = node => {\n      if (isText$1(node)) {\n        return point(node, node.data.length);\n      } else {\n        const children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    const toLeaf = (node, offset) => {\n      const children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    const isPreviousCharContent = (dom, leaf) => {\n      var _a;\n      const root = (_a = dom.getParent(leaf.container, dom.isBlock)) !== null && _a !== void 0 ? _a : dom.getRoot();\n      return repeatLeft(dom, leaf.container, leaf.offset, (_element, offset) => offset === 0 ? -1 : offset, root).filter(spot => {\n        const char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    const isStartOfWord = dom => rng => {\n      const leaf = toLeaf(rng.startContainer, rng.startOffset);\n      return !isPreviousCharContent(dom, leaf);\n    };\n    const getTriggerContext = (dom, initRange, database) => findMap(database.triggers, trigger => getContext(dom, initRange, trigger));\n    const lookup = (editor, getDatabase) => {\n      const database = getDatabase();\n      const rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(context => lookupWithContext(editor, getDatabase, context));\n    };\n    const lookupWithContext = (editor, getDatabase, context, fetchOptions = {}) => {\n      var _a;\n      const database = getDatabase();\n      const rng = editor.selection.getRng();\n      const startText = (_a = rng.startContainer.nodeValue) !== null && _a !== void 0 ? _a : '';\n      const autocompleters = filter$5(database.lookupByTrigger(context.trigger), autocompleter => context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(() => isStartOfWord(editor.dom))(context.range, startText, context.text));\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      const lookupData = Promise.all(map$3(autocompleters, ac => {\n        const fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(results => ({\n          matchText: context.text,\n          items: results,\n          columns: ac.columns,\n          onAction: ac.onAction,\n          highlightOn: ac.highlightOn\n        }));\n      }));\n      return Optional.some({\n        lookupData,\n        context\n      });\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition = results => {\n      const values = [];\n      const errors = [];\n      each$e(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult = res => fold$1(res, Result.error, Result.value);\n    const fromResult = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult,\n      toResult,\n      svalue,\n      partition,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant('... (only showing first ten failures)')\n        }]) : errors;\n      return map$3(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const custom = (path, err) => nu(path, constant(err));\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$a(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$1 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$a(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const shallow = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge = baseMerge(shallow);\n\n    const required = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n\n    const mergeValues = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors(partition.errors) : mergeValues(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const field$1 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const value = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$a(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$a(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$a(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$a(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$3(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$3(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const valueOf = validator => value(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose = (key, branches) => choose$1(key, map$2(branches, objOf));\n\n    const anyValue = constant(anyValue$1);\n    const typedValue = (validator, expectedType) => value(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n\n    const field = field$1;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const requiredOf = (key, schema) => field(key, key, required(), schema);\n    const requiredString = key => requiredOf(key, string);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const requiredArrayOf = (key, schema) => field(key, key, required(), arrOf(schema));\n    const optionOf = (key, schema) => field(key, key, asOption(), schema);\n    const optionString = key => optionOf(key, string);\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const defaulted = (key, fallback) => field(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n\n    const type = requiredString('type');\n    const fetch$1 = requiredFunction('fetch');\n    const onAction = requiredFunction('onAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const active = defaultedBoolean('active', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedType = type => defaultedString('type', type);\n\n    const autocompleterSchema = objOf([\n      type,\n      requiredString('trigger'),\n      defaultedNumber('minChars', 1),\n      defaultedColumns(1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      fetch$1,\n      onAction,\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    const createAutocompleter = spec => asRaw('Autocompleter', autocompleterSchema, {\n      trigger: spec.ch,\n      ...spec\n    });\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n\n    const register$2 = editor => {\n      const popups = editor.ui.registry.getAll().popups;\n      const dataset = map$2(popups, popup => createAutocompleter(popup).fold(err => {\n        throw new Error(formatError(err));\n      }, identity));\n      const triggers = stringArray(mapToArray(dataset, v => v.trigger));\n      const datasetValues = values(dataset);\n      const lookupByTrigger = trigger => filter$5(datasetValues, dv => dv.trigger === trigger);\n      return {\n        dataset,\n        triggers,\n        lookupByTrigger\n      };\n    };\n\n    const setupEditorInput = (editor, api) => {\n      const update = last$1(api.load, 50);\n      editor.on('keypress compositionend', e => {\n        if (e.which === 27) {\n          return;\n        }\n        update.throttle();\n      });\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (keyCode === 8) {\n          update.throttle();\n        } else if (keyCode === 27) {\n          api.cancelIfNecessary();\n        }\n      });\n      editor.on('remove', update.cancel);\n    };\n    const setup$k = editor => {\n      const activeAutocompleter = value$2();\n      const uiActive = Cell(false);\n      const isActive = activeAutocompleter.isSet;\n      const cancelIfNecessary = () => {\n        if (isActive()) {\n          removeAutocompleterDecoration(editor);\n          fireAutocompleterEnd(editor);\n          uiActive.set(false);\n          activeAutocompleter.clear();\n        }\n      };\n      const commenceIfNecessary = context => {\n        if (!isActive()) {\n          addAutocompleterDecoration(editor, context.range);\n          activeAutocompleter.set({\n            trigger: context.trigger,\n            matchLength: context.text.length\n          });\n        }\n      };\n      const getAutocompleters = cached(() => register$2(editor));\n      const doLookup = fetchOptions => activeAutocompleter.get().map(ac => getContext(editor.dom, editor.selection.getRng(), ac.trigger).bind(newContext => lookupWithContext(editor, getAutocompleters, newContext, fetchOptions))).getOrThunk(() => lookup(editor, getAutocompleters));\n      const load = fetchOptions => {\n        doLookup(fetchOptions).fold(cancelIfNecessary, lookupInfo => {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(lookupData => {\n            activeAutocompleter.get().map(ac => {\n              const context = lookupInfo.context;\n              if (ac.trigger === context.trigger) {\n                if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  activeAutocompleter.set({\n                    ...ac,\n                    matchLength: context.text.length\n                  });\n                  if (uiActive.get()) {\n                    fireAutocompleterUpdate(editor, { lookupData });\n                  } else {\n                    uiActive.set(true);\n                    fireAutocompleterStart(editor, { lookupData });\n                  }\n                }\n              }\n            });\n          });\n        });\n      };\n      editor.addCommand('mceAutocompleterReload', (_ui, value) => {\n        const fetchOptions = isObject(value) ? value.fetchOptions : {};\n        load(fetchOptions);\n      });\n      editor.addCommand('mceAutocompleterClose', cancelIfNecessary);\n      setupEditorInput(editor, {\n        cancelIfNecessary,\n        load\n      });\n    };\n\n    const browser$1 = detect$2().browser;\n    const isSafari = browser$1.isSafari();\n    const emptyNodeContents = node => fillWithPaddingBr(SugarElement.fromDom(node));\n    const isEntireNodeSelected = (rng, node) => {\n      var _a;\n      return rng.startOffset === 0 && rng.endOffset === ((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.length);\n    };\n    const getParentDetailsElementAtPos = (dom, pos) => Optional.from(dom.getParent(pos.container(), 'details'));\n    const isInDetailsElement = (dom, pos) => getParentDetailsElementAtPos(dom, pos).isSome();\n    const getDetailsElements = (dom, rng) => {\n      const startDetails = Optional.from(dom.getParent(rng.startContainer, 'details'));\n      const endDetails = Optional.from(dom.getParent(rng.endContainer, 'details'));\n      if (startDetails.isSome() || endDetails.isSome()) {\n        const startSummary = startDetails.bind(details => Optional.from(dom.select('summary', details)[0]));\n        return Optional.some({\n          startSummary,\n          startDetails,\n          endDetails\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const isCaretInTheBeginningOf = (caretPos, element) => firstPositionIn(element).exists(pos => pos.isEqual(caretPos));\n    const isCaretInTheEndOf = (caretPos, element) => {\n      return lastPositionIn(element).exists(pos => {\n        if (isBr$6(pos.getNode())) {\n          return prevPosition(element, pos).exists(pos2 => pos2.isEqual(caretPos)) || pos.isEqual(caretPos);\n        } else {\n          return pos.isEqual(caretPos);\n        }\n      });\n    };\n    const isCaretAtStartOfSummary = (caretPos, detailsElements) => detailsElements.startSummary.exists(summary => isCaretInTheBeginningOf(caretPos, summary));\n    const isCaretAtEndOfSummary = (caretPos, detailsElements) => detailsElements.startSummary.exists(summary => isCaretInTheEndOf(caretPos, summary));\n    const isCaretInFirstPositionInBody = (caretPos, detailsElements) => detailsElements.startDetails.exists(details => prevPosition(details, caretPos).forall(pos => detailsElements.startSummary.exists(summary => !summary.contains(caretPos.container()) && summary.contains(pos.container()))));\n    const isCaretInLastPositionInBody = (root, caretPos, detailsElements) => detailsElements.startDetails.exists(details => nextPosition(root, caretPos).forall(pos => !details.contains(pos.container())));\n    const setCaretToPosition = (editor, position) => {\n      const node = position.getNode();\n      if (!isUndefined(node)) {\n        editor.selection.setCursorLocation(node, position.offset());\n      }\n    };\n    const moveCaretToDetailsPos = (editor, pos, forward) => {\n      const details = editor.dom.getParent(pos.container(), 'details');\n      if (details && !details.open) {\n        const summary = editor.dom.select('summary', details)[0];\n        if (summary) {\n          const newPos = forward ? firstPositionIn(summary) : lastPositionIn(summary);\n          newPos.each(pos => setCaretToPosition(editor, pos));\n        }\n      } else {\n        setCaretToPosition(editor, pos);\n      }\n    };\n    const isPartialDelete = (rng, detailsElements) => {\n      const containsStart = element => element.contains(rng.startContainer);\n      const containsEnd = element => element.contains(rng.endContainer);\n      const startInSummary = detailsElements.startSummary.exists(containsStart);\n      const endInSummary = detailsElements.startSummary.exists(containsEnd);\n      const isPartiallySelectedDetailsElements = detailsElements.startDetails.forall(startDetails => detailsElements.endDetails.forall(endDetails => startDetails !== endDetails));\n      const isInPartiallySelectedSummary = (startInSummary || endInSummary) && !(startInSummary && endInSummary);\n      return isInPartiallySelectedSummary || isPartiallySelectedDetailsElements;\n    };\n    const shouldPreventDeleteIntoDetails = (editor, forward, granularity) => {\n      const {dom, selection} = editor;\n      const root = editor.getBody();\n      if (granularity === 'character') {\n        const caretPos = CaretPosition.fromRangeStart(selection.getRng());\n        const parentBlock = dom.getParent(caretPos.container(), dom.isBlock);\n        const parentDetailsAtCaret = getParentDetailsElementAtPos(dom, caretPos);\n        const inEmptyParentBlock = parentBlock && dom.isEmpty(parentBlock);\n        const isFirstBlock = isNull(parentBlock === null || parentBlock === void 0 ? void 0 : parentBlock.previousSibling);\n        const isLastBlock = isNull(parentBlock === null || parentBlock === void 0 ? void 0 : parentBlock.nextSibling);\n        if (inEmptyParentBlock) {\n          const firstOrLast = forward ? isLastBlock : isFirstBlock;\n          if (firstOrLast) {\n            const isBeforeAfterDetails = navigate(!forward, root, caretPos).exists(pos => {\n              return isInDetailsElement(dom, pos) && !equals(parentDetailsAtCaret, getParentDetailsElementAtPos(dom, pos));\n            });\n            if (isBeforeAfterDetails) {\n              return true;\n            }\n          }\n        }\n        return navigate(forward, root, caretPos).fold(never, pos => {\n          const parentDetailsAtNewPos = getParentDetailsElementAtPos(dom, pos);\n          if (isInDetailsElement(dom, pos) && !equals(parentDetailsAtCaret, parentDetailsAtNewPos)) {\n            if (!forward) {\n              moveCaretToDetailsPos(editor, pos, false);\n            }\n            if (parentBlock && inEmptyParentBlock) {\n              if (forward && isFirstBlock) {\n                return true;\n              } else if (!forward && isLastBlock) {\n                return true;\n              }\n              moveCaretToDetailsPos(editor, pos, forward);\n              editor.dom.remove(parentBlock);\n            }\n            return true;\n          } else {\n            return false;\n          }\n        });\n      } else {\n        return false;\n      }\n    };\n    const shouldPreventDeleteSummaryAction = (editor, detailElements, forward, granularity) => {\n      const selection = editor.selection;\n      const rng = selection.getRng();\n      const caretPos = CaretPosition.fromRangeStart(rng);\n      const root = editor.getBody();\n      if (granularity === 'selection') {\n        return isPartialDelete(rng, detailElements);\n      } else if (forward) {\n        return isCaretAtEndOfSummary(caretPos, detailElements) || isCaretInLastPositionInBody(root, caretPos, detailElements);\n      } else {\n        return isCaretAtStartOfSummary(caretPos, detailElements) || isCaretInFirstPositionInBody(caretPos, detailElements);\n      }\n    };\n    const shouldPreventDeleteAction = (editor, forward, granularity) => getDetailsElements(editor.dom, editor.selection.getRng()).fold(() => shouldPreventDeleteIntoDetails(editor, forward, granularity), detailsElements => shouldPreventDeleteSummaryAction(editor, detailsElements, forward, granularity) || shouldPreventDeleteIntoDetails(editor, forward, granularity));\n    const handleDeleteActionSafari = (editor, forward, granularity) => {\n      const selection = editor.selection;\n      const node = selection.getNode();\n      const rng = selection.getRng();\n      const caretPos = CaretPosition.fromRangeStart(rng);\n      if (isSummary$1(node)) {\n        if (granularity === 'selection' && isEntireNodeSelected(rng, node) || willDeleteLastPositionInElement(forward, caretPos, node)) {\n          emptyNodeContents(node);\n        } else {\n          editor.undoManager.transact(() => {\n            const sel = selection.getSel();\n            let {anchorNode, anchorOffset, focusNode, focusOffset} = sel !== null && sel !== void 0 ? sel : {};\n            const applySelection = () => {\n              if (isNonNullable(anchorNode) && isNonNullable(anchorOffset) && isNonNullable(focusNode) && isNonNullable(focusOffset)) {\n                sel === null || sel === void 0 ? void 0 : sel.setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset);\n              }\n            };\n            const updateSelection = () => {\n              anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n              anchorOffset = sel === null || sel === void 0 ? void 0 : sel.anchorOffset;\n              focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n              focusOffset = sel === null || sel === void 0 ? void 0 : sel.focusOffset;\n            };\n            const appendAllChildNodes = (from, to) => {\n              each$e(from.childNodes, child => {\n                if (isNode(child)) {\n                  to.appendChild(child);\n                }\n              });\n            };\n            const container = editor.dom.create('span', { 'data-mce-bogus': '1' });\n            appendAllChildNodes(node, container);\n            node.appendChild(container);\n            applySelection();\n            if (granularity === 'word' || granularity === 'line') {\n              sel === null || sel === void 0 ? void 0 : sel.modify('extend', forward ? 'right' : 'left', granularity);\n            }\n            if (!selection.isCollapsed() && isEntireNodeSelected(selection.getRng(), container)) {\n              emptyNodeContents(node);\n            } else {\n              editor.execCommand(forward ? 'ForwardDelete' : 'Delete');\n              updateSelection();\n              appendAllChildNodes(container, node);\n              applySelection();\n            }\n            editor.dom.remove(container);\n          });\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const backspaceDelete = (editor, forward, granularity) => shouldPreventDeleteAction(editor, forward, granularity) || isSafari && handleDeleteActionSafari(editor, forward, granularity) ? Optional.some(noop) : Optional.none();\n\n    const createAndFireInputEvent = eventType => (editor, inputType, specifics = {}) => {\n      const target = editor.getBody();\n      const overrides = {\n        bubbles: true,\n        composed: true,\n        data: null,\n        isComposing: false,\n        detail: 0,\n        view: null,\n        target,\n        currentTarget: target,\n        eventPhase: Event.AT_TARGET,\n        originalTarget: target,\n        explicitOriginalTarget: target,\n        isTrusted: false,\n        srcElement: target,\n        cancelable: false,\n        preventDefault: noop,\n        inputType\n      };\n      const input = clone$3(new InputEvent(eventType));\n      return editor.dispatch(eventType, {\n        ...input,\n        ...overrides,\n        ...specifics\n      });\n    };\n    const fireInputEvent = createAndFireInputEvent('input');\n    const fireBeforeInputEvent = createAndFireInputEvent('beforeinput');\n\n    const platform$2 = detect$2();\n    const os = platform$2.os;\n    const isMacOSOriOS = os.isMacOS() || os.isiOS();\n    const browser = platform$2.browser;\n    const isFirefox = browser.isFirefox();\n    const executeKeydownOverride$3 = (editor, caret, evt) => {\n      const inputType = evt.keyCode === VK.BACKSPACE ? 'deleteContentBackward' : 'deleteContentForward';\n      const isCollapsed = editor.selection.isCollapsed();\n      const unmodifiedGranularity = isCollapsed ? 'character' : 'selection';\n      const getModifiedGranularity = isWord => {\n        if (isCollapsed) {\n          return isWord ? 'word' : 'line';\n        } else {\n          return 'selection';\n        }\n      };\n      executeWithDelayedAction([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$a, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$a, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor, false, unmodifiedGranularity)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete, editor, true, unmodifiedGranularity)\n        },\n        ...isMacOSOriOS ? [\n          {\n            keyCode: VK.BACKSPACE,\n            altKey: true,\n            action: action(backspaceDelete, editor, false, getModifiedGranularity(true))\n          },\n          {\n            keyCode: VK.DELETE,\n            altKey: true,\n            action: action(backspaceDelete, editor, true, getModifiedGranularity(true))\n          },\n          {\n            keyCode: VK.BACKSPACE,\n            metaKey: true,\n            action: action(backspaceDelete, editor, false, getModifiedGranularity(false))\n          }\n        ] : [\n          {\n            keyCode: VK.BACKSPACE,\n            ctrlKey: true,\n            action: action(backspaceDelete, editor, false, getModifiedGranularity(true))\n          },\n          {\n            keyCode: VK.DELETE,\n            ctrlKey: true,\n            action: action(backspaceDelete, editor, true, getModifiedGranularity(true))\n          }\n        ],\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$9, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, true)\n        }\n      ], evt).filter(_ => editor.selection.isEditable()).each(applyAction => {\n        evt.preventDefault();\n        const beforeInput = fireBeforeInputEvent(editor, inputType);\n        if (!beforeInput.isDefaultPrevented()) {\n          applyAction();\n          fireInputEvent(editor, inputType);\n        }\n      });\n    };\n    const executeKeyupOverride = (editor, evt, isBackspaceKeydown) => execute([\n      {\n        keyCode: VK.BACKSPACE,\n        action: action(paddEmptyElement, editor)\n      },\n      {\n        keyCode: VK.DELETE,\n        action: action(paddEmptyElement, editor)\n      },\n      ...isMacOSOriOS ? [\n        {\n          keyCode: VK.BACKSPACE,\n          altKey: true,\n          action: action(refreshCaret, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          altKey: true,\n          action: action(refreshCaret, editor)\n        },\n        ...isBackspaceKeydown ? [{\n            keyCode: isFirefox ? 224 : 91,\n            action: action(refreshCaret, editor)\n          }] : []\n      ] : [\n        {\n          keyCode: VK.BACKSPACE,\n          ctrlKey: true,\n          action: action(refreshCaret, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          ctrlKey: true,\n          action: action(refreshCaret, editor)\n        }\n      ]\n    ], evt);\n    const setup$j = (editor, caret) => {\n      let isBackspaceKeydown = false;\n      editor.on('keydown', evt => {\n        isBackspaceKeydown = evt.keyCode === VK.BACKSPACE;\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$3(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeyupOverride(editor, evt, isBackspaceKeydown);\n        }\n        isBackspaceKeydown = false;\n      });\n    };\n\n    const firstNonWhiteSpaceNodeSibling = node => {\n      while (node) {\n        if (isElement$6(node) || isText$a(node) && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n      return null;\n    };\n    const moveToCaretPosition = (editor, root) => {\n      const dom = editor.dom;\n      const moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        const firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      const rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        const walker = new DomTreeWalker(root, root);\n        let lastNode = root;\n        let node;\n        while (node = walker.current()) {\n          if (isText$a(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr$6(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    const getEditableRoot = (dom, node) => {\n      const root = dom.getRoot();\n      let editableRoot;\n      let parent = node;\n      while (parent !== root && parent && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    const getParentBlock$1 = editor => {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    const getParentBlockName = editor => {\n      return getParentBlock$1(editor).fold(constant(''), parentBlock => {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    const isListItemParentBlock = editor => {\n      return getParentBlock$1(editor).filter(elm => {\n        return isListItem$1(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n    const emptyBlock = elm => {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    const applyAttributes = (editor, node, forcedRootBlockAttrs) => {\n      const dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(attrStyles => {\n        const currentStyles = getAllRaw(SugarElement.fromDom(node));\n        const newStyles = {\n          ...currentStyles,\n          ...attrStyles\n        };\n        dom.setStyles(node, newStyles);\n      });\n      const attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(attrClasses => attrClasses.split(/\\s+/));\n      const currentClassesOpt = Optional.from(node.className).map(currentClasses => filter$5(currentClasses.split(/\\s+/), clazz => clazz !== ''));\n      lift2(attrClassesOpt, currentClassesOpt, (attrClasses, currentClasses) => {\n        const filteredClasses = filter$5(currentClasses, clazz => !contains$2(attrClasses, clazz));\n        const newClasses = [\n          ...attrClasses,\n          ...filteredClasses\n        ];\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      const appliedAttrs = [\n        'style',\n        'class'\n      ];\n      const remainingAttrs = filter$4(forcedRootBlockAttrs, (_, attrs) => !contains$2(appliedAttrs, attrs));\n      dom.setAttribs(node, remainingAttrs);\n    };\n    const setForcedBlockAttrs = (editor, node) => {\n      const forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        const forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    const createNewBlock = (editor, container, parentBlock, editableRoot, keepStyles = true, name, styles) => {\n      const dom = editor.dom;\n      const schema = editor.schema;\n      const newBlockName = getForcedRootBlock(editor);\n      const parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      let node = container;\n      const textInlineElements = schema.getTextInlineElements();\n      let block;\n      if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n        block = dom.create(name || newBlockName, styles || {});\n      } else {\n        block = parentBlock.cloneNode(false);\n      }\n      let caretNode = block;\n      if (!keepStyles) {\n        dom.setAttrib(block, 'style', null);\n        dom.setAttrib(block, 'class', null);\n      } else {\n        do {\n          if (textInlineElements[node.nodeName]) {\n            if (isCaretNode(node) || isBookmarkNode$1(node)) {\n              continue;\n            }\n            const clonedNode = node.cloneNode(false);\n            dom.setAttrib(clonedNode, 'id', '');\n            if (block.hasChildNodes()) {\n              clonedNode.appendChild(block.firstChild);\n              block.appendChild(clonedNode);\n            } else {\n              caretNode = clonedNode;\n              block.appendChild(clonedNode);\n            }\n          }\n        } while ((node = node.parentNode) && node !== editableRoot);\n      }\n      setForcedBlockAttrs(editor, block);\n      emptyBlock(caretNode);\n      return block;\n    };\n\n    const getDetailsRoot = (editor, element) => editor.dom.getParent(element, isDetails);\n    const isAtDetailsEdge = (root, element, isTextBlock) => {\n      let node = element;\n      while (node && node !== root && isNull(node.nextSibling)) {\n        const parent = node.parentElement;\n        if (!parent || !isTextBlock(parent)) {\n          return isDetails(parent);\n        }\n        node = parent;\n      }\n      return false;\n    };\n    const isLastEmptyBlockInDetails = (editor, shiftKey, element) => !shiftKey && element.nodeName.toLowerCase() === getForcedRootBlock(editor) && editor.dom.isEmpty(element) && isAtDetailsEdge(editor.getBody(), element, el => has$2(editor.schema.getTextBlockElements(), el.nodeName.toLowerCase()));\n    const insertNewLine = (editor, createNewBlock, parentBlock) => {\n      var _a, _b, _c;\n      const newBlock = createNewBlock(getForcedRootBlock(editor));\n      const root = getDetailsRoot(editor, parentBlock);\n      if (!root) {\n        return;\n      }\n      editor.dom.insertAfter(newBlock, root);\n      moveToCaretPosition(editor, newBlock);\n      if (((_c = (_b = (_a = parentBlock.parentElement) === null || _a === void 0 ? void 0 : _a.childNodes) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) > 1) {\n        editor.dom.remove(parentBlock);\n      }\n    };\n\n    const hasFirstChild = (elm, name) => {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    const isFirstChild = elm => {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    const hasParent = (elm, parentName) => {\n      const parentNode = elm === null || elm === void 0 ? void 0 : elm.parentNode;\n      return isNonNullable(parentNode) && parentNode.nodeName === parentName;\n    };\n    const isListBlock = elm => {\n      return isNonNullable(elm) && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    const isListItem = elm => {\n      return isNonNullable(elm) && /^(LI|DT|DD)$/.test(elm.nodeName);\n    };\n    const isNestedList = elm => {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    const getContainerBlock = containerBlock => {\n      const containerBlockParent = containerBlock.parentNode;\n      return isListItem(containerBlockParent) ? containerBlockParent : containerBlock;\n    };\n    const isFirstOrLastLi = (containerBlock, parentBlock, first) => {\n      let node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$6(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    const getStyles = elm => foldl(mapToArray(getAllRaw(SugarElement.fromDom(elm)), (style, styleName) => `${ styleName }: ${ style };`), (acc, s) => acc + s, '');\n    const insert$4 = (editor, createNewBlock, containerBlock, parentBlock, newBlockName) => {\n      const dom = editor.dom;\n      const rng = editor.selection.getRng();\n      const containerParent = containerBlock.parentNode;\n      if (containerBlock === editor.getBody() || !containerParent) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      const parentBlockStyles = isListItem(parentBlock) ? getStyles(parentBlock) : undefined;\n      let newBlock = isListItem(parentBlock) && parentBlockStyles ? createNewBlock(newBlockName, { style: getStyles(parentBlock) }) : createNewBlock(newBlockName);\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent(containerBlock, 'LI')) {\n          const containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerParent.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        const tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        const fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          const previousChildren = filter$5(map$3(newBlock.children, SugarElement.fromDom), not(isTag('br')));\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n          each$e(previousChildren, child => prepend(SugarElement.fromDom(newBlock), child));\n          if (parentBlockStyles) {\n            newBlock.setAttribute('style', parentBlockStyles);\n          }\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    const trimZwsp = fragment => {\n      each$e(descendants$1(SugarElement.fromDom(fragment), isText$b), text => {\n        const rawNode = text.dom;\n        rawNode.nodeValue = trim$2(rawNode.data);\n      });\n    };\n    const isWithinNonEditableList = (editor, node) => {\n      const parentList = editor.dom.getParent(node, 'ol,ul,dl');\n      return parentList !== null && editor.dom.getContentEditableParent(parentList) === 'false';\n    };\n    const isEmptyAnchor = (dom, elm) => {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    const containerAndSiblingName = (container, nodeName) => {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    const canSplitBlock = (dom, node) => {\n      return isNonNullable(node) && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.isEditable(node.parentNode) && dom.getContentEditable(node) !== 'false';\n    };\n    const trimInlineElementsOnLeftSideOfBlock = (dom, nonEmptyElementsMap, block) => {\n      var _a;\n      const firstChilds = [];\n      if (!block) {\n        return;\n      }\n      let currentNode = block;\n      while (currentNode = currentNode.firstChild) {\n        if (dom.isBlock(currentNode)) {\n          return;\n        }\n        if (isElement$6(currentNode) && !nonEmptyElementsMap[currentNode.nodeName.toLowerCase()]) {\n          firstChilds.push(currentNode);\n        }\n      }\n      let i = firstChilds.length;\n      while (i--) {\n        currentNode = firstChilds[i];\n        if (!currentNode.hasChildNodes() || currentNode.firstChild === currentNode.lastChild && ((_a = currentNode.firstChild) === null || _a === void 0 ? void 0 : _a.nodeValue) === '') {\n          dom.remove(currentNode);\n        } else {\n          if (isEmptyAnchor(dom, currentNode)) {\n            dom.remove(currentNode);\n          }\n        }\n      }\n    };\n    const normalizeZwspOffset = (start, container, offset) => {\n      if (!isText$a(container)) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP$1 ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP$1 ? container.data.length : offset;\n      }\n    };\n    const includeZwspInRange = rng => {\n      const newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    const trimLeadingLineBreaks = node => {\n      let currentNode = node;\n      do {\n        if (isText$a(currentNode)) {\n          currentNode.data = currentNode.data.replace(/^[\\r\\n]+/, '');\n        }\n        currentNode = currentNode.firstChild;\n      } while (currentNode);\n    };\n    const wrapSelfAndSiblingsInDefaultBlock = (editor, newBlockName, rng, container, offset) => {\n      var _a, _b;\n      const dom = editor.dom;\n      const editableRoot = (_a = getEditableRoot(dom, container)) !== null && _a !== void 0 ? _a : dom.getRoot();\n      let parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (!parentBlock.hasChildNodes()) {\n          const newBlock = dom.create(newBlockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        let node = container;\n        while (node && node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        let startNode;\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        const startNodeName = (_b = startNode === null || startNode === void 0 ? void 0 : startNode.parentElement) === null || _b === void 0 ? void 0 : _b.nodeName;\n        if (startNode && startNodeName && editor.schema.isValidChild(startNodeName, newBlockName.toLowerCase())) {\n          const startNodeParent = startNode.parentNode;\n          const newBlock = dom.create(newBlockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNodeParent.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            const next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    const addBrToBlockIfNeeded = (dom, block) => {\n      block.normalize();\n      const lastChild = block.lastChild;\n      if (!lastChild || isElement$6(lastChild) && /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    const shouldEndContainer = (editor, container) => {\n      const optionValue = shouldEndContainerOnEmptyBlock(editor);\n      if (isNullable(container)) {\n        return false;\n      } else if (isString(optionValue)) {\n        return contains$2(Tools.explode(optionValue), container.nodeName.toLowerCase());\n      } else {\n        return optionValue;\n      }\n    };\n    const insert$3 = (editor, evt) => {\n      let container;\n      let offset;\n      let parentBlockName;\n      let containerBlock;\n      let isAfterLastNodeInContainer = false;\n      const dom = editor.dom;\n      const schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      const rng = editor.selection.getRng();\n      const newBlockName = getForcedRootBlock(editor);\n      const start = SugarElement.fromDom(rng.startContainer);\n      const child = child$1(start, rng.startOffset);\n      const isCef = child.exists(element => isHTMLElement$1(element) && !isEditable$2(element));\n      const collapsedAndCef = rng.collapsed && isCef;\n      const createNewBlock$1 = (name, styles) => {\n        return createNewBlock(editor, container, parentBlock, editableRoot, shouldKeepStyles(editor), name, styles);\n      };\n      const isCaretAtStartOrEndOfBlock = start => {\n        const normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$a(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.data.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$6(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        const walker = new DomTreeWalker(container, parentBlock);\n        if (isText$a(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.data.length) {\n            walker.next();\n          }\n        }\n        let node;\n        while (node = walker.current()) {\n          if (isElement$6(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              const name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$a(node) && !isWhitespaceText(node.data)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      const insertNewBlockAfter = () => {\n        let block;\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          block = createNewBlock$1(newBlockName);\n        } else {\n          block = createNewBlock$1();\n        }\n        if (shouldEndContainer(editor, containerBlock) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock, undefined, { includeZwsp: true })) {\n          block = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(block, parentBlock);\n        }\n        moveToCaretPosition(editor, block);\n        return block;\n      };\n      normalize$2(dom, rng).each(normRng => {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      const shiftKey = !!(evt && evt.shiftKey);\n      const ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$6(container) && container.hasChildNodes() && !collapsedAndCef) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$a(container)) {\n          offset = container.data.length;\n        } else {\n          offset = 0;\n        }\n      }\n      const editableRoot = getEditableRoot(dom, container);\n      if (!editableRoot || isWithinNonEditableList(editor, container)) {\n        return;\n      }\n      if (!shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      let parentBlock = dom.getParent(container, dom.isBlock) || dom.getRoot();\n      containerBlock = isNonNullable(parentBlock === null || parentBlock === void 0 ? void 0 : parentBlock.parentNode) ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      const containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        const liBlock = containerBlock;\n        parentBlock = liBlock;\n        containerBlock = liBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (isElement$6(containerBlock) && isLastEmptyBlockInDetails(editor, shiftKey, parentBlock)) {\n        return insertNewLine(editor, createNewBlock$1, parentBlock);\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName) && isElement$6(containerBlock)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert$4(editor, createNewBlock$1, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (!collapsedAndCef && (parentBlock === editor.getBody() || !canSplitBlock(dom, parentBlock))) {\n        return;\n      }\n      const parentBlockParent = parentBlock.parentNode;\n      let newBlock;\n      if (collapsedAndCef) {\n        newBlock = createNewBlock$1(newBlockName);\n        child.fold(() => {\n          append$1(start, SugarElement.fromDom(newBlock));\n        }, child => {\n          before$3(child, SugarElement.fromDom(newBlock));\n        });\n        editor.selection.setCursorLocation(newBlock, 0);\n      } else if (isCaretContainerBlock$1(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock(false)) {\n        newBlock = insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true) && parentBlockParent) {\n        newBlock = parentBlockParent.insertBefore(createNewBlock$1(), parentBlock);\n        const isNearChildren = hasChildNodes(SugarElement.fromDom(rng.startContainer)) && rng.collapsed;\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') || isNearChildren ? newBlock : parentBlock);\n      } else {\n        const tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        const fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.dispatch('NewBlock', { newBlock });\n    };\n    const fakeEventName$1 = 'insertParagraph';\n    const blockbreak = {\n      insert: insert$3,\n      fakeEventName: fakeEventName$1\n    };\n\n    const hasRightSideContent = (schema, container, parentBlock) => {\n      const walker = new DomTreeWalker(container, parentBlock);\n      let node;\n      const nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || isText$a(node) && node.length > 0) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const moveSelectionToBr = (editor, brElm, extraBr) => {\n      const rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    const insertBrAtCaret = (editor, evt) => {\n      const selection = editor.selection;\n      const dom = editor.dom;\n      const rng = selection.getRng();\n      let brElm;\n      let extraBr = false;\n      normalize$2(dom, rng).each(normRng => {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      let offset = rng.startOffset;\n      let container = rng.startContainer;\n      if (isElement$6(container) && container.hasChildNodes()) {\n        const isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$a(container)) {\n          offset = container.data.length;\n        } else {\n          offset = 0;\n        }\n      }\n      let parentBlock = dom.getParent(container, dom.isBlock);\n      const containerBlock = parentBlock && parentBlock.parentNode ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      const containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      const isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (isText$a(container) && offset >= container.data.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock || dom.getRoot())) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    const insertBrBefore = (editor, inline) => {\n      const br = SugarElement.fromTag('br');\n      before$3(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    const insertBrAfter = (editor, inline) => {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after$4(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      const br = SugarElement.fromTag('br');\n      after$4(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    const isBeforeBr = pos => {\n      return isBr$6(pos.getNode());\n    };\n    const hasBrAfter = (rootNode, startNode) => {\n      if (isBeforeBr(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(pos => {\n          return isBr$6(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    const isAnchorLink = elm => {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    const isInsideAnchor = location => {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    const readInlineAnchorLocation = editor => {\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    const insertBrOutsideAnchor = (editor, location) => {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    const insert$2 = (editor, evt) => {\n      const anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n    const fakeEventName = 'insertLineBreak';\n    const linebreak = {\n      insert: insert$2,\n      fakeEventName\n    };\n\n    const matchesSelector = (editor, selector) => {\n      return getParentBlock$1(editor).filter(parentBlock => {\n        return selector.length > 0 && is$1(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    const shouldInsertBr = editor => {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    const shouldBlockNewLine$1 = editor => {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    const newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    const shouldBlockNewLine = (editor, _shiftKey) => {\n      return shouldBlockNewLine$1(editor);\n    };\n    const inListBlock = requiredState => {\n      return (editor, _shiftKey) => {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    const inBlock = (blockName, requiredState) => (editor, _shiftKey) => {\n      const state = getParentBlockName(editor) === blockName.toUpperCase();\n      return state === requiredState;\n    };\n    const inCefBlock = editor => {\n      const editableRoot = getEditableRoot(editor.dom, editor.selection.getStart());\n      return isNullable(editableRoot);\n    };\n    const inPreBlock = requiredState => inBlock('pre', requiredState);\n    const inSummaryBlock = () => inBlock('summary', true);\n    const shouldPutBrInPre = requiredState => {\n      return (editor, _shiftKey) => {\n        return shouldPutBrInPre$1(editor) === requiredState;\n      };\n    };\n    const inBrContext = (editor, _shiftKey) => {\n      return shouldInsertBr(editor);\n    };\n    const hasShiftKey = (_editor, shiftKey) => {\n      return shiftKey;\n    };\n    const canInsertIntoEditableRoot = editor => {\n      const forcedRootBlock = getForcedRootBlock(editor);\n      const rootEditable = getEditableRoot(editor.dom, editor.selection.getStart());\n      return isNonNullable(rootEditable) && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock);\n    };\n    const isInRootWithEmptyOrCEF = editor => {\n      const rng = editor.selection.getRng();\n      const start = SugarElement.fromDom(rng.startContainer);\n      const child = child$1(start, rng.startOffset);\n      const isCefOpt = child.map(element => isHTMLElement$1(element) && !isEditable$2(element));\n      return rng.collapsed && isCefOpt.getOr(true);\n    };\n    const match = (predicates, action) => {\n      return (editor, shiftKey) => {\n        const isMatch = foldl(predicates, (res, p) => {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    const getAction = (editor, evt) => {\n      return evaluateUntil([\n        match([shouldBlockNewLine], newLineAction.none()),\n        match([\n          inPreBlock(true),\n          inCefBlock\n        ], newLineAction.none()),\n        match([inSummaryBlock()], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false)\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true)\n        ], newLineAction.br()),\n        match([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([inListBlock(true)], newLineAction.block()),\n        match([inBrContext], newLineAction.br()),\n        match([hasShiftKey], newLineAction.br()),\n        match([canInsertIntoEditableRoot], newLineAction.block()),\n        match([isInRootWithEmptyOrCEF], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    const insertBreak = (breakType, editor, evt) => {\n      if (!editor.selection.isCollapsed()) {\n        execEditorDeleteCommand(editor);\n      }\n      if (isNonNullable(evt)) {\n        const event = fireBeforeInputEvent(editor, breakType.fakeEventName);\n        if (event.isDefaultPrevented()) {\n          return;\n        }\n      }\n      breakType.insert(editor, evt);\n      if (isNonNullable(evt)) {\n        fireInputEvent(editor, breakType.fakeEventName);\n      }\n    };\n    const insert$1 = (editor, evt) => {\n      const br = () => insertBreak(linebreak, editor, evt);\n      const block = () => insertBreak(blockbreak, editor, evt);\n      const logicalAction = getAction(editor, evt);\n      switch (getNewlineBehavior(editor)) {\n      case 'linebreak':\n        logicalAction.fold(br, br, noop);\n        break;\n      case 'block':\n        logicalAction.fold(block, block, noop);\n        break;\n      case 'invert':\n        logicalAction.fold(block, br, noop);\n        break;\n      default:\n        logicalAction.fold(br, block, noop);\n        break;\n      }\n    };\n\n    const platform$1 = detect$2();\n    const isIOSSafari = platform$1.os.isiOS() && platform$1.browser.isSafari();\n    const handleEnterKeyEvent = (editor, event) => {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(() => {\n        insert$1(editor, event);\n      });\n    };\n    const isCaretAfterKoreanCharacter = rng => {\n      if (!rng.collapsed) {\n        return false;\n      }\n      const startContainer = rng.startContainer;\n      if (isText$a(startContainer)) {\n        const koreanCharRegex = /^[\\uAC00-\\uD7AF\\u1100-\\u11FF\\u3130-\\u318F\\uA960-\\uA97F\\uD7B0-\\uD7FF]$/;\n        const char = startContainer.data.charAt(rng.startOffset - 1);\n        return koreanCharRegex.test(char);\n      } else {\n        return false;\n      }\n    };\n    const setup$i = editor => {\n      let iOSSafariKeydownBookmark = Optional.none();\n      const iOSSafariKeydownOverride = editor => {\n        iOSSafariKeydownBookmark = Optional.some(editor.selection.getBookmark());\n        editor.undoManager.add();\n      };\n      const iOSSafariKeyupOverride = (editor, event) => {\n        editor.undoManager.undo();\n        iOSSafariKeydownBookmark.fold(noop, b => editor.selection.moveToBookmark(b));\n        handleEnterKeyEvent(editor, event);\n        iOSSafariKeydownBookmark = Optional.none();\n      };\n      editor.on('keydown', event => {\n        if (event.keyCode === VK.ENTER) {\n          if (isIOSSafari && isCaretAfterKoreanCharacter(editor.selection.getRng())) {\n            iOSSafariKeydownOverride(editor);\n          } else {\n            handleEnterKeyEvent(editor, event);\n          }\n        }\n      });\n      editor.on('keyup', event => {\n        if (event.keyCode === VK.ENTER) {\n          iOSSafariKeydownBookmark.each(() => iOSSafariKeyupOverride(editor, event));\n        }\n      });\n    };\n\n    const executeKeydownOverride$2 = (editor, caret, evt) => {\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false)\n        },\n        ...!isMac ? [\n          {\n            keyCode: VK.HOME,\n            action: action(selectToEndPoint, editor, false),\n            ctrlKey: true,\n            shiftKey: true\n          },\n          {\n            keyCode: VK.END,\n            action: action(selectToEndPoint, editor, true),\n            ctrlKey: true,\n            shiftKey: true\n          }\n        ] : [],\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        }\n      ], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$h = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n    };\n\n    const setup$g = editor => {\n      editor.on('input', e => {\n        if (!e.isComposing) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    const platform = detect$2();\n    const executeKeyupAction = (editor, caret, evt) => {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        }\n      ], evt);\n    };\n    const stopImmediatePropagation = e => e.stopImmediatePropagation();\n    const isPageUpDown = evt => evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    const setNodeChangeBlocker = (blocked, editor, block) => {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    const setup$f = (editor, caret) => {\n      if (platform.os.isMacOS()) {\n        return;\n      }\n      const blocked = Cell(false);\n      editor.on('keydown', evt => {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    const setup$e = editor => {\n      editor.on('beforeinput', e => {\n        if (!editor.selection.isEditable() || exists(e.getTargetRanges(), rng => !isEditableRange(editor.dom, rng))) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    const insertTextAtPosition = (text, pos) => {\n      const container = pos.container();\n      const offset = pos.offset();\n      if (isText$a(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(elm => {\n          const textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after$4(elm, textNode);\n          } else {\n            before$3(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    const insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    const insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    const insertSpaceOrNbspAtPosition = (root, pos, schema) => needsToHaveNbsp(root, pos, schema) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n    const locationToCaretPosition = root => location => location.fold(element => prevPosition(root.dom, CaretPosition.before(element)), element => firstPositionIn(element), element => lastPositionIn(element), element => nextPosition(root.dom, CaretPosition.after(element)));\n    const insertInlineBoundarySpaceOrNbsp = (root, pos, schema) => checkPos => needsToHaveNbsp(root, checkPos, schema) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n    const setSelection = editor => pos => {\n      editor.selection.setRng(pos.toRange());\n      editor.nodeChanged();\n    };\n    const isInsideSummary = (domUtils, node) => domUtils.isEditable(domUtils.getParent(node, 'summary'));\n    const insertSpaceOrNbspAtSelection = editor => {\n      const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      const root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        const isInlineTarget$1 = curry(isInlineTarget, editor);\n        const caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).map(checkPos => () => insertInlineBoundarySpaceOrNbsp(root, pos, editor.schema)(checkPos).each(setSelection(editor)));\n      } else {\n        return Optional.none();\n      }\n    };\n    const insertSpaceInSummaryAtSelectionOnFirefox = editor => {\n      const insertSpaceThunk = () => {\n        const root = SugarElement.fromDom(editor.getBody());\n        if (!editor.selection.isCollapsed()) {\n          editor.getDoc().execCommand('Delete');\n        }\n        const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        insertSpaceOrNbspAtPosition(root, pos, editor.schema).each(setSelection(editor));\n      };\n      return someIf(Env.browser.isFirefox() && editor.selection.isEditable() && isInsideSummary(editor.dom, editor.selection.getRng().startContainer), insertSpaceThunk);\n    };\n\n    const executeKeydownOverride$1 = (editor, evt) => {\n      executeWithDelayedAction([\n        {\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        },\n        {\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceInSummaryAtSelectionOnFirefox, editor)\n        }\n      ], evt).each(applyAction => {\n        evt.preventDefault();\n        const event = fireBeforeInputEvent(editor, 'insertText', { data: ' ' });\n        if (!event.isDefaultPrevented()) {\n          applyAction();\n          fireInputEvent(editor, 'insertText', { data: ' ' });\n        }\n      });\n    };\n    const setup$d = editor => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$1(editor, evt);\n        }\n      });\n    };\n\n    const tableTabNavigation = editor => {\n      if (hasTableTabNavigation(editor)) {\n        return [\n          {\n            keyCode: VK.TAB,\n            action: action(handleTab, editor, true)\n          },\n          {\n            keyCode: VK.TAB,\n            shiftKey: true,\n            action: action(handleTab, editor, false)\n          }\n        ];\n      } else {\n        return [];\n      }\n    };\n    const executeKeydownOverride = (editor, evt) => {\n      execute([...tableTabNavigation(editor)], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$c = editor => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride(editor, evt);\n        }\n      });\n    };\n\n    const setup$b = editor => {\n      editor.addShortcut('Meta+P', '', 'mcePrint');\n      setup$k(editor);\n      if (isRtc(editor)) {\n        return Cell(null);\n      } else {\n        const caret = setupSelectedState(editor);\n        setup$e(editor);\n        setup$m(editor);\n        setup$l(editor, caret);\n        setup$j(editor, caret);\n        setup$i(editor);\n        setup$d(editor);\n        setup$g(editor);\n        setup$c(editor);\n        setup$h(editor, caret);\n        setup$f(editor, caret);\n        return caret;\n      }\n    };\n\n    class NodeChange {\n      constructor(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        let lastRng;\n        const self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', e => {\n            const nativeRng = editor.selection.getRng();\n            const fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$4(fakeRng, lastRng)) {\n              editor.dispatch('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', () => {\n          editor.dispatch('SelectionChange');\n        });\n        editor.on('SelectionChange', () => {\n          const startElm = editor.selection.getStart(true);\n          if (!startElm) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', e => {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, () => {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      nodeChanged(args = {}) {\n        const selection = this.editor.selection;\n        let node;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          const root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          const parents = [];\n          this.editor.dom.getParent(node, node => {\n            if (node === root) {\n              return true;\n            } else {\n              parents.push(node);\n              return false;\n            }\n          });\n          this.editor.dispatch('NodeChange', {\n            ...args,\n            element: node,\n            parents\n          });\n        }\n      }\n      isSameElementPath(startElm) {\n        let i;\n        const editor = this.editor;\n        const currentPath = reverse(editor.dom.getParents(startElm, always, editor.getBody()));\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      }\n    }\n\n    const imageId = generate$1('image');\n    const getDragImage = transfer => {\n      const dt = transfer;\n      return Optional.from(dt[imageId]);\n    };\n    const setDragImage = (transfer, imageData) => {\n      const dt = transfer;\n      dt[imageId] = imageData;\n    };\n\n    const eventId = generate$1('event');\n    const getEvent = transfer => {\n      const dt = transfer;\n      return Optional.from(dt[eventId]);\n    };\n    const mkSetEventFn = type => transfer => {\n      const dt = transfer;\n      dt[eventId] = type;\n    };\n    const setEvent = (transfer, type) => mkSetEventFn(type)(transfer);\n    const setDragstartEvent = mkSetEventFn(0);\n    const setDropEvent = mkSetEventFn(2);\n    const setDragendEvent = mkSetEventFn(1);\n    const checkEvent = expectedType => transfer => {\n      const dt = transfer;\n      return Optional.from(dt[eventId]).exists(type => type === expectedType);\n    };\n    const isInDragStartEvent = checkEvent(0);\n\n    const createEmptyFileList = () => Object.freeze({\n      length: 0,\n      item: _ => null\n    });\n\n    const modeId = generate$1('mode');\n    const getMode = transfer => {\n      const dt = transfer;\n      return Optional.from(dt[modeId]);\n    };\n    const mkSetModeFn = mode => transfer => {\n      const dt = transfer;\n      dt[modeId] = mode;\n    };\n    const setMode$1 = (transfer, mode) => mkSetModeFn(mode)(transfer);\n    const setReadWriteMode = mkSetModeFn(0);\n    const setReadOnlyMode = mkSetModeFn(2);\n    const setProtectedMode = mkSetModeFn(1);\n    const checkMode = expectedMode => transfer => {\n      const dt = transfer;\n      return Optional.from(dt[modeId]).exists(mode => mode === expectedMode);\n    };\n    const isInReadWriteMode = checkMode(0);\n    const isInProtectedMode = checkMode(1);\n\n    const normalizeItems = (dataTransfer, itemsImpl) => ({\n      ...itemsImpl,\n      get length() {\n        return itemsImpl.length;\n      },\n      add: (data, type) => {\n        if (isInReadWriteMode(dataTransfer)) {\n          if (isString(data)) {\n            if (!isUndefined(type)) {\n              return itemsImpl.add(data, type);\n            }\n          } else {\n            return itemsImpl.add(data);\n          }\n        }\n        return null;\n      },\n      remove: idx => {\n        if (isInReadWriteMode(dataTransfer)) {\n          itemsImpl.remove(idx);\n        }\n      },\n      clear: () => {\n        if (isInReadWriteMode(dataTransfer)) {\n          itemsImpl.clear();\n        }\n      }\n    });\n\n    const validDropEffects = [\n      'none',\n      'copy',\n      'link',\n      'move'\n    ];\n    const validEffectAlloweds = [\n      'none',\n      'copy',\n      'copyLink',\n      'copyMove',\n      'link',\n      'linkMove',\n      'move',\n      'all',\n      'uninitialized'\n    ];\n    const createDataTransfer = () => {\n      const dataTransferImpl = new window.DataTransfer();\n      let dropEffect = 'move';\n      let effectAllowed = 'all';\n      const dataTransfer = {\n        get dropEffect() {\n          return dropEffect;\n        },\n        set dropEffect(effect) {\n          if (contains$2(validDropEffects, effect)) {\n            dropEffect = effect;\n          }\n        },\n        get effectAllowed() {\n          return effectAllowed;\n        },\n        set effectAllowed(allowed) {\n          if (isInDragStartEvent(dataTransfer) && contains$2(validEffectAlloweds, allowed)) {\n            effectAllowed = allowed;\n          }\n        },\n        get items() {\n          return normalizeItems(dataTransfer, dataTransferImpl.items);\n        },\n        get files() {\n          if (isInProtectedMode(dataTransfer)) {\n            return createEmptyFileList();\n          } else {\n            return dataTransferImpl.files;\n          }\n        },\n        get types() {\n          return dataTransferImpl.types;\n        },\n        setDragImage: (image, x, y) => {\n          if (isInReadWriteMode(dataTransfer)) {\n            setDragImage(dataTransfer, {\n              image,\n              x,\n              y\n            });\n            dataTransferImpl.setDragImage(image, x, y);\n          }\n        },\n        getData: format => {\n          if (isInProtectedMode(dataTransfer)) {\n            return '';\n          } else {\n            return dataTransferImpl.getData(format);\n          }\n        },\n        setData: (format, data) => {\n          if (isInReadWriteMode(dataTransfer)) {\n            dataTransferImpl.setData(format, data);\n          }\n        },\n        clearData: format => {\n          if (isInReadWriteMode(dataTransfer)) {\n            dataTransferImpl.clearData(format);\n          }\n        }\n      };\n      setReadWriteMode(dataTransfer);\n      return dataTransfer;\n    };\n    const cloneDataTransfer = original => {\n      const clone = createDataTransfer();\n      const originalMode = getMode(original);\n      setReadOnlyMode(original);\n      setDragstartEvent(clone);\n      clone.dropEffect = original.dropEffect;\n      clone.effectAllowed = original.effectAllowed;\n      getDragImage(original).each(imageData => clone.setDragImage(imageData.image, imageData.x, imageData.y));\n      each$e(original.types, type => {\n        if (type !== 'Files') {\n          clone.setData(type, original.getData(type));\n        }\n      });\n      each$e(original.files, file => clone.items.add(file));\n      getEvent(original).each(type => {\n        setEvent(clone, type);\n      });\n      originalMode.each(mode => {\n        setMode$1(original, mode);\n        setMode$1(clone, mode);\n      });\n      return clone;\n    };\n\n    const getHtmlData = dataTransfer => {\n      const html = dataTransfer.getData('text/html');\n      return html === '' ? Optional.none() : Optional.some(html);\n    };\n    const setHtmlData = (dataTransfer, html) => dataTransfer.setData('text/html', html);\n\n    const internalMimeType = 'x-tinymce/html';\n    const internalHtmlMime = constant(internalMimeType);\n    const internalMark = '<!-- ' + internalMimeType + ' -->';\n    const mark = html => internalMark + html;\n    const unmark = html => html.replace(internalMark, '');\n    const isMarked = html => html.indexOf(internalMark) !== -1;\n\n    const isPlainText = text => {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    const openContainer = (rootTag, rootAttrs) => {\n      let tag = '<' + rootTag;\n      const attrs = mapToArray(rootAttrs, (value, key) => key + '=\"' + Entities.encodeAllRaw(value) + '\"');\n      if (attrs.length) {\n        tag += ' ' + attrs.join(' ');\n      }\n      return tag + '>';\n    };\n    const toBlockElements = (text, rootTag, rootAttrs) => {\n      const blocks = text.split(/\\n\\n/);\n      const tagOpen = openContainer(rootTag, rootAttrs);\n      const tagClose = '</' + rootTag + '>';\n      const paragraphs = map$3(blocks, p => {\n        return p.split(/\\n/).join('<br />');\n      });\n      const stitch = p => {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : map$3(paragraphs, stitch).join('');\n    };\n\n    const pasteBinDefaultContent = '%MCEPASTEBIN%';\n    const create$6 = (editor, lastRngCell) => {\n      const {dom, selection} = editor;\n      const body = editor.getBody();\n      lastRngCell.set(selection.getRng());\n      const pasteBinElm = dom.add(editor.getBody(), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (Env.browser.isFirefox()) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', e => {\n        e.stopPropagation();\n      });\n      pasteBinElm.focus();\n      selection.select(pasteBinElm, true);\n    };\n    const remove = (editor, lastRngCell) => {\n      const dom = editor.dom;\n      if (getEl(editor)) {\n        let pasteBinClone;\n        const lastRng = lastRngCell.get();\n        while (pasteBinClone = getEl(editor)) {\n          dom.remove(pasteBinClone);\n          dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    const getEl = editor => editor.dom.get('mcepastebin');\n    const isPasteBin = elm => isNonNullable(elm) && elm.id === 'mcepastebin';\n    const getHtml = editor => {\n      const dom = editor.dom;\n      const copyAndRemove = (toElm, fromElm) => {\n        toElm.appendChild(fromElm);\n        dom.remove(fromElm, true);\n      };\n      const [pasteBinElm, ...pasteBinClones] = filter$5(editor.getBody().childNodes, isPasteBin);\n      each$e(pasteBinClones, pasteBinClone => {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      const dirtyWrappers = dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (let i = dirtyWrappers.length - 1; i >= 0; i--) {\n        const cleanWrapper = dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    const isDefaultPasteBinContent = content => content === pasteBinDefaultContent;\n    const PasteBin = editor => {\n      const lastRng = Cell(null);\n      return {\n        create: () => create$6(editor, lastRng),\n        remove: () => remove(editor, lastRng),\n        getEl: () => getEl(editor),\n        getHtml: () => getHtml(editor),\n        getLastRng: lastRng.get\n      };\n    };\n\n    const filter$1 = (content, items) => {\n      Tools.each(items, v => {\n        if (is$4(v, RegExp)) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    const innerText = html => {\n      const schema = Schema();\n      const domParser = DomParser({}, schema);\n      let text = '';\n      const voidElements = schema.getVoidElements();\n      const ignoreElements = Tools.makeMap('script noscript style textarea video audio iframe object', ' ');\n      const blockElements = schema.getBlockElements();\n      const walk = node => {\n        const name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (voidElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!(node.name in schema.getVoidElements())) {\n          let currentNode = node.firstChild;\n          if (currentNode) {\n            do {\n              walk(currentNode);\n            } while (currentNode = currentNode.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter$1(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    const trimHtml = html => {\n      const trimSpaces = (all, s1, s2) => {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter$1(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    const createIdGenerator = prefix => {\n      let count = 0;\n      return () => {\n        return prefix + count++;\n      };\n    };\n    const getImageMimeType = ext => {\n      const lowerExt = ext.toLowerCase();\n      const mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return Tools.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    const preProcess = (editor, html) => {\n      const parser = DomParser({\n        sanitize: shouldSanitizeXss(editor),\n        sandbox_iframes: shouldSandboxIframes(editor)\n      }, editor.schema);\n      parser.addNodeFilter('meta', nodes => {\n        Tools.each(nodes, node => {\n          node.remove();\n        });\n      });\n      const fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return HtmlSerializer({ validate: true }, editor.schema).serialize(fragment);\n    };\n    const processResult = (content, cancelled) => ({\n      content,\n      cancelled\n    });\n    const postProcessFilter = (editor, html, internal) => {\n      const tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      const postProcessArgs = firePastePostProcess(editor, tempBody, internal);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    const filterContent = (editor, content, internal) => {\n      const preProcessArgs = firePastePreProcess(editor, content, internal);\n      const filteredContent = preProcess(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    const process = (editor, html, internal) => {\n      return filterContent(editor, html, internal);\n    };\n\n    const pasteHtml$1 = (editor, html) => {\n      editor.insertContent(html, {\n        merge: shouldPasteMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    const isAbsoluteUrl = url => /^https?:\\/\\/[\\w\\-\\/+=.,!;:&%@^~(){}?#]+$/i.test(url);\n    const isImageUrl = (editor, url) => {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), type => endsWith(url.toLowerCase(), `.${ type.toLowerCase() }`));\n    };\n    const createImage = (editor, url, pasteHtmlFn) => {\n      editor.undoManager.extra(() => {\n        pasteHtmlFn(editor, url);\n      }, () => {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    const createLink = (editor, url, pasteHtmlFn) => {\n      editor.undoManager.extra(() => {\n        pasteHtmlFn(editor, url);\n      }, () => {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    const linkSelection = (editor, html, pasteHtmlFn) => !editor.selection.isCollapsed() && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    const insertImage = (editor, html, pasteHtmlFn) => isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    const smartInsertContent = (editor, html) => {\n      Tools.each([\n        linkSelection,\n        insertImage,\n        pasteHtml$1\n      ], action => {\n        return !action(editor, html, pasteHtml$1);\n      });\n    };\n    const insertContent = (editor, html, pasteAsText) => {\n      if (pasteAsText || !isSmartPasteEnabled(editor)) {\n        pasteHtml$1(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    const uniqueId = createIdGenerator('mceclip');\n    const createPasteDataTransfer = html => {\n      const dataTransfer = createDataTransfer();\n      setHtmlData(dataTransfer, html);\n      setReadOnlyMode(dataTransfer);\n      return dataTransfer;\n    };\n    const doPaste = (editor, content, internal, pasteAsText, shouldSimulateInputEvent) => {\n      const res = process(editor, content, internal);\n      if (!res.cancelled) {\n        const content = res.content;\n        const doPasteAction = () => insertContent(editor, content, pasteAsText);\n        if (shouldSimulateInputEvent) {\n          const args = fireBeforeInputEvent(editor, 'insertFromPaste', { dataTransfer: createPasteDataTransfer(content) });\n          if (!args.isDefaultPrevented()) {\n            doPasteAction();\n            fireInputEvent(editor, 'insertFromPaste');\n          }\n        } else {\n          doPasteAction();\n        }\n      }\n    };\n    const pasteHtml = (editor, html, internalFlag, shouldSimulateInputEvent) => {\n      const internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false, shouldSimulateInputEvent);\n    };\n    const pasteText = (editor, text, shouldSimulateInputEvent) => {\n      const encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      const normalizedText = normalize$4(encodedText, getPasteTabSpaces(editor));\n      const html = toBlockElements(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true, shouldSimulateInputEvent);\n    };\n    const getDataTransferItems = dataTransfer => {\n      const items = {};\n      if (dataTransfer && dataTransfer.types) {\n        for (let i = 0; i < dataTransfer.types.length; i++) {\n          const contentType = dataTransfer.types[i];\n          try {\n            items[contentType] = dataTransfer.getData(contentType);\n          } catch (ex) {\n            items[contentType] = '';\n          }\n        }\n      }\n      return items;\n    };\n    const hasContentType = (clipboardContent, mimeType) => mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    const hasHtmlOrText = content => hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    const extractFilename = (editor, str) => {\n      const m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : undefined;\n    };\n    const createBlobInfo = (editor, blobCache, file, base64) => {\n      const id = uniqueId();\n      const useFileName = shouldReuseFileName(editor) && isNonNullable(file.name);\n      const name = useFileName ? extractFilename(editor, file.name) : id;\n      const filename = useFileName ? file.name : undefined;\n      const blobInfo = blobCache.create(id, file, base64, name, filename);\n      blobCache.add(blobInfo);\n      return blobInfo;\n    };\n    const pasteImage = (editor, imageItem) => {\n      parseDataUri(imageItem.uri).each(({data, type, base64Encoded}) => {\n        const base64 = base64Encoded ? data : btoa(data);\n        const file = imageItem.file;\n        const blobCache = editor.editorUpload.blobCache;\n        const existingBlobInfo = blobCache.getByData(base64, type);\n        const blobInfo = existingBlobInfo !== null && existingBlobInfo !== void 0 ? existingBlobInfo : createBlobInfo(editor, blobCache, file, base64);\n        pasteHtml(editor, `<img src=\"${ blobInfo.blobUri() }\">`, false, true);\n      });\n    };\n    const isClipboardEvent = event => event.type === 'paste';\n    const readFilesAsDataUris = items => Promise.all(map$3(items, file => {\n      return blobToDataUri(file).then(uri => ({\n        file,\n        uri\n      }));\n    }));\n    const isImage = editor => {\n      const allowedExtensions = getAllowedImageFileTypes(editor);\n      return file => startsWith(file.type, 'image/') && exists(allowedExtensions, extension => {\n        return getImageMimeType(extension) === file.type;\n      });\n    };\n    const getImagesFromDataTransfer = (editor, dataTransfer) => {\n      const items = dataTransfer.items ? bind$3(from(dataTransfer.items), item => {\n        return item.kind === 'file' ? [item.getAsFile()] : [];\n      }) : [];\n      const files = dataTransfer.files ? from(dataTransfer.files) : [];\n      return filter$5(items.length > 0 ? items : files, isImage(editor));\n    };\n    const pasteImageData = (editor, e, rng) => {\n      const dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (shouldPasteDataImages(editor) && dataTransfer) {\n        const images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(fileResults => {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each$e(fileResults, result => {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const isBrokenAndroidClipboardEvent = e => {\n      var _a, _b;\n      return Env.os.isAndroid() && ((_b = (_a = e.clipboardData) === null || _a === void 0 ? void 0 : _a.items) === null || _b === void 0 ? void 0 : _b.length) === 0;\n    };\n    const isKeyboardPasteEvent = e => VK.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    const insertClipboardContent = (editor, clipboardContent, html, plainTextMode, shouldSimulateInputEvent) => {\n      let content = trimHtml(html);\n      const isInternal = hasContentType(clipboardContent, internalHtmlMime()) || isMarked(html);\n      const isPlainTextHtml = !isInternal && isPlainText(content);\n      const isAbsoluteUrl$1 = isAbsoluteUrl(content);\n      if (isDefaultPasteBinContent(content) || !content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n        plainTextMode = true;\n      }\n      if (plainTextMode || isAbsoluteUrl$1) {\n        if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n          content = clipboardContent['text/plain'];\n        } else {\n          content = innerText(content);\n        }\n      }\n      if (isDefaultPasteBinContent(content)) {\n        return;\n      }\n      if (plainTextMode) {\n        pasteText(editor, content, shouldSimulateInputEvent);\n      } else {\n        pasteHtml(editor, content, isInternal, shouldSimulateInputEvent);\n      }\n    };\n    const registerEventHandlers = (editor, pasteBin, pasteFormat) => {\n      let keyboardPastePlainTextState;\n      const getLastRng = () => pasteBin.getLastRng() || editor.selection.getRng();\n      editor.on('keydown', e => {\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n        }\n      });\n      editor.on('paste', e => {\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          return;\n        }\n        const plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        keyboardPastePlainTextState = false;\n        const clipboardContent = getDataTransferItems(e.clipboardData);\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          return;\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          insertClipboardContent(editor, clipboardContent, clipboardContent['text/html'], plainTextMode, true);\n        } else if (hasContentType(clipboardContent, 'text/plain') && hasContentType(clipboardContent, 'text/uri-list')) {\n          e.preventDefault();\n          insertClipboardContent(editor, clipboardContent, clipboardContent['text/plain'], plainTextMode, true);\n        } else {\n          pasteBin.create();\n          Delay.setEditorTimeout(editor, () => {\n            const html = pasteBin.getHtml();\n            pasteBin.remove();\n            insertClipboardContent(editor, clipboardContent, html, plainTextMode, false);\n          }, 0);\n        }\n      });\n    };\n    const registerDataImageFilter = editor => {\n      const isWebKitFakeUrl = src => startsWith(src, 'webkit-fake-url');\n      const isDataUri = src => startsWith(src, 'data:');\n      const isPasteInsert = args => {\n        var _a;\n        return ((_a = args.data) === null || _a === void 0 ? void 0 : _a.paste) === true;\n      };\n      editor.parser.addNodeFilter('img', (nodes, name, args) => {\n        if (!shouldPasteDataImages(editor) && isPasteInsert(args)) {\n          for (const node of nodes) {\n            const src = node.attr('src');\n            if (isString(src) && !node.attr('data-mce-object') && src !== Env.transparentSrc) {\n              if (isWebKitFakeUrl(src)) {\n                node.remove();\n              } else if (!shouldAllowHtmlDataUrls(editor) && isDataUri(src)) {\n                node.remove();\n              }\n            }\n          }\n        }\n      });\n    };\n    const registerEventsAndFilters = (editor, pasteBin, pasteFormat) => {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      registerDataImageFilter(editor);\n    };\n\n    const togglePlainTextPaste = (editor, pasteFormat) => {\n      if (pasteFormat.get() === 'text') {\n        pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n    const register$1 = (editor, pasteFormat) => {\n      editor.addCommand('mceTogglePlainTextPaste', () => {\n        togglePlainTextPaste(editor, pasteFormat);\n      });\n      editor.addCommand('mceInsertClipboardContent', (ui, value) => {\n        if (value.html) {\n          pasteHtml(editor, value.html, value.internal, false);\n        }\n        if (value.text) {\n          pasteText(editor, value.text, false);\n        }\n      });\n    };\n\n    const setHtml5Clipboard = (clipboardData, html, text) => {\n      if (clipboardData) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    const setClipboardData = (evt, data, fallback, done) => {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    const fallback = editor => (html, done) => {\n      const {dom, selection} = editor;\n      const outer = dom.create('div', {\n        'contenteditable': 'false',\n        'data-mce-bogus': 'all'\n      });\n      const inner = dom.create('div', { contenteditable: 'true' }, html);\n      dom.setStyles(outer, {\n        position: 'fixed',\n        top: '0',\n        left: '-3000px',\n        width: '1000px',\n        overflow: 'hidden'\n      });\n      outer.appendChild(inner);\n      dom.add(editor.getBody(), outer);\n      const range = selection.getRng();\n      inner.focus();\n      const offscreenRange = dom.createRng();\n      offscreenRange.selectNodeContents(inner);\n      selection.setRng(offscreenRange);\n      Delay.setEditorTimeout(editor, () => {\n        selection.setRng(range);\n        dom.remove(outer);\n        done();\n      }, 0);\n    };\n    const getData = editor => ({\n      html: mark(editor.selection.getContent({ contextual: true })),\n      text: editor.selection.getContent({ format: 'text' })\n    });\n    const isTableSelection = editor => !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    const hasSelectedContent = editor => !editor.selection.isCollapsed() || isTableSelection(editor);\n    const cut = editor => evt => {\n      if (!evt.isDefaultPrevented() && hasSelectedContent(editor) && editor.selection.isEditable()) {\n        setClipboardData(evt, getData(editor), fallback(editor), () => {\n          if (Env.browser.isChromium() || Env.browser.isFirefox()) {\n            const rng = editor.selection.getRng();\n            Delay.setEditorTimeout(editor, () => {\n              editor.selection.setRng(rng);\n              editor.execCommand('Delete');\n            }, 0);\n          } else {\n            editor.execCommand('Delete');\n          }\n        });\n      }\n    };\n    const copy = editor => evt => {\n      if (!evt.isDefaultPrevented() && hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), noop);\n      }\n    };\n    const register = editor => {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    const getCaretRangeFromEvent = (editor, e) => {\n      var _a, _b;\n      return RangeUtils.getCaretRangeFromPoint((_a = e.clientX) !== null && _a !== void 0 ? _a : 0, (_b = e.clientY) !== null && _b !== void 0 ? _b : 0, editor.getDoc());\n    };\n    const isPlainTextFileUrl = content => {\n      const plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    const setFocusedRange = (editor, rng) => {\n      editor.focus();\n      if (rng) {\n        editor.selection.setRng(rng);\n      }\n    };\n    const hasImage = dataTransfer => exists(dataTransfer.files, file => /^image\\//.test(file.type));\n    const needsCustomInternalDrop = (dom, schema, target, dropContent) => {\n      const parentTransparent = dom.getParent(target, node => isTransparentBlock(schema, node));\n      const inSummary = !isNull(dom.getParent(target, 'summary'));\n      if (inSummary) {\n        return true;\n      } else if (parentTransparent && has$2(dropContent, 'text/html')) {\n        const fragment = new DOMParser().parseFromString(dropContent['text/html'], 'text/html').body;\n        return !isNull(fragment.querySelector(parentTransparent.nodeName.toLowerCase()));\n      } else {\n        return false;\n      }\n    };\n    const setupSummaryDeleteByDragFix = editor => {\n      editor.on('input', e => {\n        const hasNoSummary = el => isNull(el.querySelector('summary'));\n        if (e.inputType === 'deleteByDrag') {\n          const brokenDetailElements = filter$5(editor.dom.select('details'), hasNoSummary);\n          each$e(brokenDetailElements, details => {\n            if (isBr$6(details.firstChild)) {\n              details.firstChild.remove();\n            }\n            const summary = editor.dom.create('summary');\n            summary.appendChild(createPaddingBr().dom);\n            details.prepend(summary);\n          });\n        }\n      });\n    };\n    const setup$a = (editor, draggingInternallyState) => {\n      if (shouldPasteBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', e => {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', e => {\n          const dataTransfer = e.dataTransfer;\n          if (dataTransfer && hasImage(dataTransfer)) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', e => {\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        const rng = getCaretRangeFromEvent(editor, e);\n        if (isNullable(rng)) {\n          return;\n        }\n        const dropContent = getDataTransferItems(e.dataTransfer);\n        const internal = hasContentType(dropContent, internalHtmlMime());\n        if ((!hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && pasteImageData(editor, e, rng)) {\n          return;\n        }\n        const internalContent = dropContent[internalHtmlMime()];\n        const content = internalContent || dropContent['text/html'] || dropContent['text/plain'];\n        const needsInternalDrop = needsCustomInternalDrop(editor.dom, editor.schema, rng.startContainer, dropContent);\n        const isInternalDrop = draggingInternallyState.get();\n        if (isInternalDrop && !needsInternalDrop) {\n          return;\n        }\n        if (content) {\n          e.preventDefault();\n          Delay.setEditorTimeout(editor, () => {\n            editor.undoManager.transact(() => {\n              if (internalContent || isInternalDrop && needsInternalDrop) {\n                editor.execCommand('Delete');\n              }\n              setFocusedRange(editor, rng);\n              const trimmedContent = trimHtml(content);\n              if (dropContent['text/html']) {\n                pasteHtml(editor, trimmedContent, internal, true);\n              } else {\n                pasteText(editor, trimmedContent, true);\n              }\n            });\n          });\n        }\n      });\n      editor.on('dragstart', _e => {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', e => {\n        if (shouldPasteDataImages(editor) && !draggingInternallyState.get()) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n      setupSummaryDeleteByDragFix(editor);\n    };\n\n    const setup$9 = editor => {\n      const processEvent = f => e => {\n        f(editor, e);\n      };\n      const preProcess = getPastePreProcess(editor);\n      if (isFunction(preProcess)) {\n        editor.on('PastePreProcess', processEvent(preProcess));\n      }\n      const postProcess = getPastePostProcess(editor);\n      if (isFunction(postProcess)) {\n        editor.on('PastePostProcess', processEvent(postProcess));\n      }\n    };\n\n    const addPreProcessFilter = (editor, filterFunc) => {\n      editor.on('PastePreProcess', e => {\n        e.content = filterFunc(editor, e.content, e.internal);\n      });\n    };\n    const rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n    const rgbToHex = value => Tools.trim(value).replace(rgbRegExp, rgbaToHexString).toLowerCase();\n    const removeWebKitStyles = (editor, content, internal) => {\n      const webKitStylesOption = getPasteWebkitStyles(editor);\n      if (internal || webKitStylesOption === 'all' || !shouldPasteRemoveWebKitStyles(editor)) {\n        return content;\n      }\n      const webKitStyles = webKitStylesOption ? webKitStylesOption.split(/[, ]/) : [];\n      if (webKitStyles && webKitStylesOption !== 'none') {\n        const dom = editor.dom, node = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, (all, before, value, after) => {\n          const inputStyles = dom.parseStyle(dom.decode(value));\n          const outputStyles = {};\n          for (let i = 0; i < webKitStyles.length; i++) {\n            const inputValue = inputStyles[webKitStyles[i]];\n            let compareInput = inputValue;\n            let currentValue = dom.getStyle(node, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              compareInput = rgbToHex(compareInput);\n              currentValue = rgbToHex(currentValue);\n            }\n            if (currentValue !== compareInput) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          const outputStyle = dom.serializeStyle(outputStyles, 'span');\n          if (outputStyle) {\n            return before + ' style=\"' + outputStyle + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, (all, before, value, after) => {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    const setup$8 = editor => {\n      if (Env.browser.isChromium() || Env.browser.isSafari()) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n    };\n\n    const setup$7 = editor => {\n      const draggingInternallyState = Cell(false);\n      const pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n      const pasteBin = PasteBin(editor);\n      setup$8(editor);\n      register$1(editor, pasteFormat);\n      setup$9(editor);\n      editor.on('PreInit', () => {\n        register(editor);\n        setup$a(editor, draggingInternallyState);\n        registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n    };\n\n    const preventSummaryToggle = editor => {\n      editor.on('click', e => {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    const filterDetails = editor => {\n      editor.parser.addNodeFilter('details', elms => {\n        const initialStateOption = getDetailsInitialState(editor);\n        each$e(elms, details => {\n          if (initialStateOption === 'expanded') {\n            details.attr('open', 'open');\n          } else if (initialStateOption === 'collapsed') {\n            details.attr('open', null);\n          }\n        });\n      });\n      editor.serializer.addNodeFilter('details', elms => {\n        const serializedStateOption = getDetailsSerializedState(editor);\n        each$e(elms, details => {\n          if (serializedStateOption === 'expanded') {\n            details.attr('open', 'open');\n          } else if (serializedStateOption === 'collapsed') {\n            details.attr('open', null);\n          }\n        });\n      });\n    };\n    const setup$6 = editor => {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    const isBr = isBr$6;\n    const isText = isText$a;\n    const isContentEditableFalse$2 = elm => isContentEditableFalse$b(elm.dom);\n    const isContentEditableTrue = elm => isContentEditableTrue$3(elm.dom);\n    const isRoot = rootNode => elm => eq(SugarElement.fromDom(rootNode), elm);\n    const getClosestScope = (node, rootNode, schema) => closest$4(SugarElement.fromDom(node), elm => isContentEditableTrue(elm) || schema.isBlock(name(elm)), isRoot(rootNode)).getOr(SugarElement.fromDom(rootNode)).dom;\n    const getClosestCef = (node, rootNode) => closest$4(SugarElement.fromDom(node), isContentEditableFalse$2, isRoot(rootNode));\n    const findEdgeCaretCandidate = (startNode, scope, forward) => {\n      const walker = new DomTreeWalker(startNode, scope);\n      const next = forward ? walker.next.bind(walker) : walker.prev.bind(walker);\n      let result = startNode;\n      for (let current = forward ? startNode : next(); current && !isBr(current); current = next()) {\n        if (isCaretCandidate$3(current)) {\n          result = current;\n        }\n      }\n      return result;\n    };\n    const findClosestBlockRange = (startRng, rootNode, schema) => {\n      const startPos = CaretPosition.fromRangeStart(startRng);\n      const clickNode = startPos.getNode();\n      const scope = getClosestScope(clickNode, rootNode, schema);\n      const startNode = findEdgeCaretCandidate(clickNode, scope, false);\n      const endNode = findEdgeCaretCandidate(clickNode, scope, true);\n      const rng = document.createRange();\n      getClosestCef(startNode, scope).fold(() => {\n        if (isText(startNode)) {\n          rng.setStart(startNode, 0);\n        } else {\n          rng.setStartBefore(startNode);\n        }\n      }, cef => rng.setStartBefore(cef.dom));\n      getClosestCef(endNode, scope).fold(() => {\n        if (isText(endNode)) {\n          rng.setEnd(endNode, endNode.data.length);\n        } else {\n          rng.setEndAfter(endNode);\n        }\n      }, cef => rng.setEndAfter(cef.dom));\n      return rng;\n    };\n    const onTripleClickSelect = editor => {\n      const rng = findClosestBlockRange(editor.selection.getRng(), editor.getBody(), editor.schema);\n      editor.selection.setRng(normalize(rng));\n    };\n    const setup$5 = editor => {\n      editor.on('mousedown', e => {\n        if (e.detail >= 3) {\n          e.preventDefault();\n          onTripleClickSelect(editor);\n        }\n      });\n    };\n\n    var FakeCaretPosition;\n    (function (FakeCaretPosition) {\n      FakeCaretPosition['Before'] = 'before';\n      FakeCaretPosition['After'] = 'after';\n    }(FakeCaretPosition || (FakeCaretPosition = {})));\n    const distanceToRectLeft = (clientRect, clientX) => Math.abs(clientRect.left - clientX);\n    const distanceToRectRight = (clientRect, clientX) => Math.abs(clientRect.right - clientX);\n    const isInsideY = (clientY, clientRect) => clientY >= clientRect.top && clientY <= clientRect.bottom;\n    const collidesY = (r1, r2) => r1.top < r2.bottom && r1.bottom > r2.top;\n    const isOverlapping = (r1, r2) => {\n      const overlap = overlapY(r1, r2) / Math.min(r1.height, r2.height);\n      return collidesY(r1, r2) && overlap > 0.5;\n    };\n    const splitRectsPerAxis = (rects, y) => {\n      const intersectingRects = filter$5(rects, rect => isInsideY(y, rect));\n      return boundingClientRectFromRects(intersectingRects).fold(() => [\n        [],\n        rects\n      ], boundingRect => {\n        const {\n          pass: horizontal,\n          fail: vertical\n        } = partition$2(rects, rect => isOverlapping(rect, boundingRect));\n        return [\n          horizontal,\n          vertical\n        ];\n      });\n    };\n    const clientInfo = (rect, clientX) => {\n      return {\n        node: rect.node,\n        position: distanceToRectLeft(rect, clientX) < distanceToRectRight(rect, clientX) ? FakeCaretPosition.Before : FakeCaretPosition.After\n      };\n    };\n    const horizontalDistance = (rect, x, _y) => x > rect.left && x < rect.right ? 0 : Math.min(Math.abs(rect.left - x), Math.abs(rect.right - x));\n    const closestChildCaretCandidateNodeRect = (children, clientX, clientY, findCloserTextNode) => {\n      const caretCandidateRect = rect => {\n        if (isCaretCandidate$3(rect.node)) {\n          return Optional.some(rect);\n        } else if (isElement$6(rect.node)) {\n          return closestChildCaretCandidateNodeRect(from(rect.node.childNodes), clientX, clientY, false);\n        } else {\n          return Optional.none();\n        }\n      };\n      const tryFindSecondBestTextNode = (closest, sndClosest, distance) => {\n        return caretCandidateRect(sndClosest).filter(rect => {\n          const deltaDistance = Math.abs(distance(closest, clientX, clientY) - distance(rect, clientX, clientY));\n          return deltaDistance < 2 && isText$a(rect.node);\n        });\n      };\n      const findClosestCaretCandidateNodeRect = (rects, distance) => {\n        const sortedRects = sort(rects, (r1, r2) => distance(r1, clientX, clientY) - distance(r2, clientX, clientY));\n        return findMap(sortedRects, caretCandidateRect).map(closest => {\n          if (findCloserTextNode && !isText$a(closest.node) && sortedRects.length > 1) {\n            return tryFindSecondBestTextNode(closest, sortedRects[1], distance).getOr(closest);\n          } else {\n            return closest;\n          }\n        });\n      };\n      const [horizontalRects, verticalRects] = splitRectsPerAxis(getClientRects(children), clientY);\n      const {\n        pass: above,\n        fail: below\n      } = partition$2(verticalRects, rect => rect.top < clientY);\n      return findClosestCaretCandidateNodeRect(horizontalRects, horizontalDistance).orThunk(() => findClosestCaretCandidateNodeRect(below, distanceToRectEdgeFromXY)).orThunk(() => findClosestCaretCandidateNodeRect(above, distanceToRectEdgeFromXY));\n    };\n    const traverseUp = (rootElm, scope, clientX, clientY) => {\n      const helper = (scope, prevScope) => {\n        const isDragGhostContainer = node => isElement$6(node) && node.classList.contains('mce-drag-container');\n        const childNodesWithoutGhost = filter$5(scope.dom.childNodes, not(isDragGhostContainer));\n        return prevScope.fold(() => closestChildCaretCandidateNodeRect(childNodesWithoutGhost, clientX, clientY, true), prevScope => {\n          const uncheckedChildren = filter$5(childNodesWithoutGhost, node => node !== prevScope.dom);\n          return closestChildCaretCandidateNodeRect(uncheckedChildren, clientX, clientY, true);\n        }).orThunk(() => {\n          const parent = eq(scope, rootElm) ? Optional.none() : parentElement(scope);\n          return parent.bind(newScope => helper(newScope, Optional.some(scope)));\n        });\n      };\n      return helper(scope, Optional.none());\n    };\n    const closestCaretCandidateNodeRect = (root, clientX, clientY) => {\n      const rootElm = SugarElement.fromDom(root);\n      const ownerDoc = documentOrOwner(rootElm);\n      const elementAtPoint = SugarElement.fromPoint(ownerDoc, clientX, clientY).filter(elm => contains(rootElm, elm));\n      const element = elementAtPoint.getOr(rootElm);\n      return traverseUp(rootElm, element, clientX, clientY);\n    };\n    const closestFakeCaretCandidate = (root, clientX, clientY) => closestCaretCandidateNodeRect(root, clientX, clientY).filter(rect => isFakeCaretTarget(rect.node)).map(rect => clientInfo(rect, clientX));\n\n    const getAbsolutePosition = elm => {\n      var _a, _b;\n      const clientRect = elm.getBoundingClientRect();\n      const doc = elm.ownerDocument;\n      const docElem = doc.documentElement;\n      const win = doc.defaultView;\n      return {\n        top: clientRect.top + ((_a = win === null || win === void 0 ? void 0 : win.scrollY) !== null && _a !== void 0 ? _a : 0) - docElem.clientTop,\n        left: clientRect.left + ((_b = win === null || win === void 0 ? void 0 : win.scrollX) !== null && _b !== void 0 ? _b : 0) - docElem.clientLeft\n      };\n    };\n    const getBodyPosition = editor => editor.inline ? getAbsolutePosition(editor.getBody()) : {\n      left: 0,\n      top: 0\n    };\n    const getScrollPosition = editor => {\n      const body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    const getBodyScroll = editor => {\n      const body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      const inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      const iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    const getMousePosition = (editor, event) => {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        const iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        const scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    const calculatePosition = (bodyPosition, scrollPosition, mousePosition) => ({\n      pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n      pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n    });\n    const calc = (editor, event) => calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n\n    const getTargetProps = target => ({\n      target,\n      srcElement: target\n    });\n    const makeDndEventFromMouseEvent = (type, mouseEvent, target, dataTransfer) => ({\n      ...mouseEvent,\n      dataTransfer,\n      type,\n      ...getTargetProps(target)\n    });\n    const makeDndEvent = (type, target, dataTransfer) => {\n      const fail = die('Function not supported on simulated event.');\n      const event = {\n        bubbles: true,\n        cancelBubble: false,\n        cancelable: true,\n        composed: false,\n        currentTarget: null,\n        defaultPrevented: false,\n        eventPhase: 0,\n        isTrusted: true,\n        returnValue: false,\n        timeStamp: 0,\n        type,\n        composedPath: fail,\n        initEvent: fail,\n        preventDefault: noop,\n        stopImmediatePropagation: noop,\n        stopPropagation: noop,\n        AT_TARGET: window.Event.AT_TARGET,\n        BUBBLING_PHASE: window.Event.BUBBLING_PHASE,\n        CAPTURING_PHASE: window.Event.CAPTURING_PHASE,\n        NONE: window.Event.NONE,\n        altKey: false,\n        button: 0,\n        buttons: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        metaKey: false,\n        movementX: 0,\n        movementY: 0,\n        offsetX: 0,\n        offsetY: 0,\n        pageX: 0,\n        pageY: 0,\n        relatedTarget: null,\n        screenX: 0,\n        screenY: 0,\n        shiftKey: false,\n        x: 0,\n        y: 0,\n        detail: 0,\n        view: null,\n        which: 0,\n        initUIEvent: fail,\n        initMouseEvent: fail,\n        getModifierState: fail,\n        dataTransfer,\n        ...getTargetProps(target)\n      };\n      return event;\n    };\n    const makeDataTransferCopyForDragEvent = (dataTransfer, eventType) => {\n      const copy = cloneDataTransfer(dataTransfer);\n      if (eventType === 'dragstart') {\n        setDragstartEvent(copy);\n        setReadWriteMode(copy);\n      } else if (eventType === 'drop') {\n        setDropEvent(copy);\n        setReadOnlyMode(copy);\n      } else {\n        setDragendEvent(copy);\n        setProtectedMode(copy);\n      }\n      return copy;\n    };\n    const makeDragEvent = (type, target, dataTransfer, mouseEvent) => {\n      const dataTransferForDispatch = makeDataTransferCopyForDragEvent(dataTransfer, type);\n      return isUndefined(mouseEvent) ? makeDndEvent(type, target, dataTransferForDispatch) : makeDndEventFromMouseEvent(type, mouseEvent, target, dataTransferForDispatch);\n    };\n\n    const scrollPixelsPerInterval = 32;\n    const scrollIntervalValue = 100;\n    const mouseRangeToTriggerScrollInsideEditor = 8;\n    const mouseRangeToTriggerScrollOutsideEditor = 16;\n    const isContentEditableFalse$1 = isContentEditableFalse$b;\n    const isContentEditable = or(isContentEditableFalse$1, isContentEditableTrue$3);\n    const isDraggable = (dom, rootElm, elm) => isContentEditableFalse$1(elm) && elm !== rootElm && dom.isEditable(elm.parentElement);\n    const isValidDropTarget = (editor, targetElement, dragElement) => {\n      if (isNullable(targetElement)) {\n        return false;\n      } else if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      } else {\n        return editor.dom.isEditable(targetElement);\n      }\n    };\n    const createGhost = (editor, elm, width, height) => {\n      const dom = editor.dom;\n      const clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width,\n        height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      const ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width,\n        height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    const appendGhostToBody = (ghostElm, bodyElm) => {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    const scrollEditor = (direction, amount) => win => () => {\n      const current = direction === 'left' ? win.scrollX : win.scrollY;\n      win.scroll({\n        [direction]: current + amount,\n        behavior: 'smooth'\n      });\n    };\n    const scrollLeft = scrollEditor('left', -scrollPixelsPerInterval);\n    const scrollRight = scrollEditor('left', scrollPixelsPerInterval);\n    const scrollUp = scrollEditor('top', -scrollPixelsPerInterval);\n    const scrollDown = scrollEditor('top', scrollPixelsPerInterval);\n    const moveGhost = (ghostElm, position, width, height, maxX, maxY, mouseY, mouseX, contentAreaContainer, win, state, mouseEventOriginatedFromWithinTheEditor) => {\n      let overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n      const clientHeight = contentAreaContainer.clientHeight;\n      const clientWidth = contentAreaContainer.clientWidth;\n      const outerMouseY = mouseY + contentAreaContainer.getBoundingClientRect().top;\n      const outerMouseX = mouseX + contentAreaContainer.getBoundingClientRect().left;\n      state.on(state => {\n        state.intervalId.clear();\n        if (state.dragging && mouseEventOriginatedFromWithinTheEditor) {\n          if (mouseY + mouseRangeToTriggerScrollInsideEditor >= clientHeight) {\n            state.intervalId.set(scrollDown(win));\n          } else if (mouseY - mouseRangeToTriggerScrollInsideEditor <= 0) {\n            state.intervalId.set(scrollUp(win));\n          } else if (mouseX + mouseRangeToTriggerScrollInsideEditor >= clientWidth) {\n            state.intervalId.set(scrollRight(win));\n          } else if (mouseX - mouseRangeToTriggerScrollInsideEditor <= 0) {\n            state.intervalId.set(scrollLeft(win));\n          } else if (outerMouseY + mouseRangeToTriggerScrollOutsideEditor >= window.innerHeight) {\n            state.intervalId.set(scrollDown(window));\n          } else if (outerMouseY - mouseRangeToTriggerScrollOutsideEditor <= 0) {\n            state.intervalId.set(scrollUp(window));\n          } else if (outerMouseX + mouseRangeToTriggerScrollOutsideEditor >= window.innerWidth) {\n            state.intervalId.set(scrollRight(window));\n          } else if (outerMouseX - mouseRangeToTriggerScrollOutsideEditor <= 0) {\n            state.intervalId.set(scrollLeft(window));\n          }\n        }\n      });\n    };\n    const removeElement = elm => {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    const removeElementWithPadding = (dom, elm) => {\n      const parentBlock = dom.getParent(elm.parentNode, dom.isBlock);\n      removeElement(elm);\n      if (parentBlock && parentBlock !== dom.getRoot() && dom.isEmpty(parentBlock)) {\n        fillWithPaddingBr(SugarElement.fromDom(parentBlock));\n      }\n    };\n    const isLeftMouseButtonPressed = e => e.button === 0;\n    const applyRelPos = (state, position) => ({\n      pageX: position.pageX - state.relX,\n      pageY: position.pageY + 5\n    });\n    const start = (state, editor) => e => {\n      if (isLeftMouseButtonPressed(e)) {\n        const ceElm = find$2(editor.dom.getParents(e.target), isContentEditable).getOr(null);\n        if (isNonNullable(ceElm) && isDraggable(editor.dom, editor.getBody(), ceElm)) {\n          const elmPos = editor.dom.getPos(ceElm);\n          const bodyElm = editor.getBody();\n          const docElm = editor.getDoc().documentElement;\n          state.set({\n            element: ceElm,\n            dataTransfer: createDataTransfer(),\n            dragging: false,\n            screenX: e.screenX,\n            screenY: e.screenY,\n            maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n            maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n            relX: e.pageX - elmPos.x,\n            relY: e.pageY - elmPos.y,\n            width: ceElm.offsetWidth,\n            height: ceElm.offsetHeight,\n            ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight),\n            intervalId: repeatable(scrollIntervalValue)\n          });\n        }\n      }\n    };\n    const placeCaretAt = (editor, clientX, clientY) => {\n      editor._selectionOverrides.hideFakeCaret();\n      closestFakeCaretCandidate(editor.getBody(), clientX, clientY).fold(() => editor.selection.placeCaretAt(clientX, clientY), caretInfo => {\n        const range = editor._selectionOverrides.showCaret(1, caretInfo.node, caretInfo.position === FakeCaretPosition.Before, false);\n        if (range) {\n          editor.selection.setRng(range);\n        } else {\n          editor.selection.placeCaretAt(clientX, clientY);\n        }\n      });\n    };\n    const dispatchDragEvent = (editor, type, target, dataTransfer, mouseEvent) => {\n      if (type === 'dragstart') {\n        setHtmlData(dataTransfer, editor.dom.getOuterHTML(target));\n      }\n      const event = makeDragEvent(type, target, dataTransfer, mouseEvent);\n      const args = editor.dispatch(type, event);\n      return args;\n    };\n    const move = (state, editor) => {\n      const throttledPlaceCaretAt = first$1((clientX, clientY) => placeCaretAt(editor, clientX, clientY), 0);\n      editor.on('remove', throttledPlaceCaretAt.cancel);\n      const state_ = state;\n      return e => state.on(state => {\n        const movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n        if (!state.dragging && movement > 10) {\n          const args = dispatchDragEvent(editor, 'dragstart', state.element, state.dataTransfer, e);\n          if (isNonNullable(args.dataTransfer)) {\n            state.dataTransfer = args.dataTransfer;\n          }\n          if (args.isDefaultPrevented()) {\n            return;\n          }\n          state.dragging = true;\n          editor.focus();\n        }\n        if (state.dragging) {\n          const mouseEventOriginatedFromWithinTheEditor = e.currentTarget === editor.getDoc().documentElement;\n          const targetPos = applyRelPos(state, calc(editor, e));\n          appendGhostToBody(state.ghost, editor.getBody());\n          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY, e.clientY, e.clientX, editor.getContentAreaContainer(), editor.getWin(), state_, mouseEventOriginatedFromWithinTheEditor);\n          throttledPlaceCaretAt.throttle(e.clientX, e.clientY);\n        }\n      });\n    };\n    const getRawTarget = selection => {\n      const sel = selection.getSel();\n      if (isNonNullable(sel)) {\n        const rng = sel.getRangeAt(0);\n        const startContainer = rng.startContainer;\n        return isText$a(startContainer) ? startContainer.parentNode : startContainer;\n      } else {\n        return null;\n      }\n    };\n    const drop = (state, editor) => e => {\n      state.on(state => {\n        var _a;\n        state.intervalId.clear();\n        if (state.dragging) {\n          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n            const dropTarget = (_a = editor.getDoc().elementFromPoint(e.clientX, e.clientY)) !== null && _a !== void 0 ? _a : editor.getBody();\n            const args = dispatchDragEvent(editor, 'drop', dropTarget, state.dataTransfer, e);\n            if (!args.isDefaultPrevented()) {\n              editor.undoManager.transact(() => {\n                removeElementWithPadding(editor.dom, state.element);\n                getHtmlData(state.dataTransfer).each(content => editor.insertContent(content));\n                editor._selectionOverrides.hideFakeCaret();\n              });\n            }\n          }\n          dispatchDragEvent(editor, 'dragend', editor.getBody(), state.dataTransfer, e);\n        }\n      });\n      removeDragState(state);\n    };\n    const stopDragging = (state, editor, e) => {\n      state.on(state => {\n        state.intervalId.clear();\n        if (state.dragging) {\n          e.fold(() => dispatchDragEvent(editor, 'dragend', state.element, state.dataTransfer), mouseEvent => dispatchDragEvent(editor, 'dragend', state.element, state.dataTransfer, mouseEvent));\n        }\n      });\n      removeDragState(state);\n    };\n    const stop = (state, editor) => e => stopDragging(state, editor, Optional.some(e));\n    const removeDragState = state => {\n      state.on(state => {\n        state.intervalId.clear();\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    const bindFakeDragEvents = editor => {\n      const state = value$2();\n      const pageDom = DOMUtils.DOM;\n      const rootDocument = document;\n      const dragStartHandler = start(state, editor);\n      const dragHandler = move(state, editor);\n      const dropHandler = drop(state, editor);\n      const dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', () => {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === VK.ESC) {\n          stopDragging(state, editor, Optional.none());\n        }\n      });\n    };\n    const blockUnsupportedFileDrop = editor => {\n      const preventFileDrop = e => {\n        if (!e.isDefaultPrevented()) {\n          const dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains$2(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      const preventFileDropIfUIElement = e => {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      const setup = () => {\n        const pageDom = DOMUtils.DOM;\n        const dom = editor.dom;\n        const doc = document;\n        const editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        const eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each$e(eventNames, name => {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', () => {\n          each$e(eventNames, name => {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', () => {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    const init$2 = editor => {\n      bindFakeDragEvents(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    const setup$4 = editor => {\n      const renderFocusCaret = first$1(() => {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          const rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            const caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', () => {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', () => {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    const setup$3 = editor => {\n      editor.on('init', () => {\n        editor.on('focusin', e => {\n          const target = e.target;\n          if (isMedia$2(target)) {\n            const ceRoot = getContentEditableRoot$1(editor.getBody(), target);\n            const node = isContentEditableFalse$b(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(rng => editor.selection.setRng(rng));\n            }\n          }\n        });\n      });\n    };\n\n    const isContentEditableFalse = isContentEditableFalse$b;\n    const getContentEditableRoot = (editor, node) => getContentEditableRoot$1(editor.getBody(), node);\n    const SelectionOverrides = editor => {\n      const selection = editor.selection, dom = editor.dom;\n      const rootNode = editor.getBody();\n      const fakeCaret = FakeCaret(editor, rootNode, dom.isBlock, () => hasFocus(editor));\n      const realSelectionId = 'sel-' + dom.uniqueId();\n      const elementSelectionAttr = 'data-mce-selected';\n      let selectedElement;\n      const isFakeSelectionElement = node => isNonNullable(node) && dom.hasClass(node, 'mce-offscreen-selection');\n      const isFakeSelectionTargetElement = node => node !== rootNode && (isContentEditableFalse(node) || isMedia$2(node)) && dom.isChildOf(node, rootNode) && dom.isEditable(node.parentNode);\n      const setRange = range => {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      const showCaret = (direction, node, before, scrollIntoView = true) => {\n        const e = editor.dispatch('ShowCaret', {\n          target: node,\n          direction,\n          before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      const showBlockCaretContainer = blockCaretContainer => {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      const registerEvents = () => {\n        editor.on('click', e => {\n          if (!dom.isEditable(e.target)) {\n            e.preventDefault();\n            editor.focus();\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        editor.on('tap', e => {\n          const targetElm = e.target;\n          const contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', e => {\n          const targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (!isXYInContentArea(editor, e.clientX, e.clientY)) {\n            return;\n          }\n          removeElementSelection();\n          hideFakeCaret();\n          const closestContentEditable = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(closestContentEditable)) {\n            e.preventDefault();\n            selectNode(editor, closestContentEditable).each(setElementSelection);\n          } else {\n            closestFakeCaretCandidate(rootNode, e.clientX, e.clientY).each(caretInfo => {\n              e.preventDefault();\n              const range = showCaret(1, caretInfo.node, caretInfo.position === FakeCaretPosition.Before, false);\n              setRange(range);\n              if (isHTMLElement(closestContentEditable)) {\n                closestContentEditable.focus();\n              } else {\n                editor.getBody().focus();\n              }\n            });\n          }\n        });\n        editor.on('keypress', e => {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', e => {\n          let rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', e => {\n          e.range = normalizeVoidElementSelection(e.range);\n          const rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        const isPasteBin = node => isElement$6(node) && node.id === 'mcepastebin';\n        editor.on('AfterSetSelectionRange', e => {\n          const rng = e.range;\n          const parent = rng.startContainer.parentElement;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parent)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parent)) {\n            removeElementSelection();\n          }\n        });\n        init$2(editor);\n        setup$4(editor);\n        setup$3(editor);\n      };\n      const isWithinCaretContainer = node => isCaretContainer$2(node) || startsWithCaretContainer$1(node) || endsWithCaretContainer$1(node);\n      const isRangeInCaretContainer = rng => isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      const normalizeVoidElementSelection = rng => {\n        const voidElements = editor.schema.getVoidElements();\n        const newRng = dom.createRng();\n        const startContainer = rng.startContainer;\n        const startOffset = rng.startOffset;\n        const endContainer = rng.endContainer;\n        const endOffset = rng.endOffset;\n        if (has$2(voidElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has$2(voidElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      const setupOffscreenSelection = (node, targetClone) => {\n        const body = SugarElement.fromDom(editor.getBody());\n        const doc = editor.getDoc();\n        const realSelectionContainer = descendant$1(body, '#' + realSelectionId).getOrThunk(() => {\n          const newContainer = SugarElement.fromHtml('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>', doc);\n          set$3(newContainer, 'id', realSelectionId);\n          append$1(body, newContainer);\n          return newContainer;\n        });\n        const newRange = dom.createRng();\n        empty(realSelectionContainer);\n        append(realSelectionContainer, [\n          SugarElement.fromText(nbsp, doc),\n          SugarElement.fromDom(targetClone),\n          SugarElement.fromText(nbsp, doc)\n        ]);\n        newRange.setStart(realSelectionContainer.dom.firstChild, 1);\n        newRange.setEnd(realSelectionContainer.dom.lastChild, 0);\n        setAll(realSelectionContainer, { top: dom.getPos(node, editor.getBody()).y + 'px' });\n        focus$1(realSelectionContainer);\n        const sel = selection.getSel();\n        if (sel) {\n          sel.removeAllRanges();\n          sel.addRange(newRange);\n        }\n        return newRange;\n      };\n      const selectElement = elm => {\n        const targetClone = elm.cloneNode(true);\n        const e = editor.dispatch('ObjectSelected', {\n          target: elm,\n          targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        const range = setupOffscreenSelection(elm, e.targetClone);\n        const nodeElm = SugarElement.fromDom(elm);\n        each$e(descendants(SugarElement.fromDom(editor.getBody()), `*[${ elementSelectionAttr }]`), elm => {\n          if (!eq(nodeElm, elm)) {\n            remove$a(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      const setElementSelection = (range, forward) => {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            const dir = forward ? 1 : -1;\n            const caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            const beforeNode = caretPosition.getNode(!forward);\n            if (isNonNullable(beforeNode)) {\n              if (isFakeCaretTarget(beforeNode)) {\n                return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n              }\n              if (isCaretContainerInline(beforeNode) && isContentEditableFalse$b(beforeNode.nextSibling)) {\n                const rng = dom.createRng();\n                rng.setStart(beforeNode, 0);\n                rng.setEnd(beforeNode, 0);\n                return rng;\n              }\n            }\n            const afterNode = caretPosition.getNode(forward);\n            if (isNonNullable(afterNode)) {\n              if (isFakeCaretTarget(afterNode)) {\n                return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n              }\n              if (isCaretContainerInline(afterNode) && isContentEditableFalse$b(afterNode.previousSibling)) {\n                const rng = dom.createRng();\n                rng.setStart(afterNode, 1);\n                rng.setEnd(afterNode, 1);\n                return rng;\n              }\n            }\n          }\n          return null;\n        }\n        let startContainer = range.startContainer;\n        let startOffset = range.startOffset;\n        const endOffset = range.endOffset;\n        if (isText$a(startContainer) && startOffset === 0 && isContentEditableFalse(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (!isElement$6(startContainer)) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          const node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      const removeElementSelection = () => {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant$1(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$5);\n        selectedElement = null;\n      };\n      const destroy = () => {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      const hideFakeCaret = () => {\n        fakeCaret.hide();\n      };\n      if (!isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret,\n        showBlockCaretContainer,\n        hideFakeCaret,\n        destroy\n      };\n    };\n\n    const getNormalizedTextOffset = (container, offset) => {\n      let normalizedOffset = offset;\n      for (let node = container.previousSibling; isText$a(node); node = node.previousSibling) {\n        normalizedOffset += node.data.length;\n      }\n      return normalizedOffset;\n    };\n    const generatePath = (dom, root, node, offset, normalized) => {\n      if (isText$a(node) && (offset < 0 || offset > node.data.length)) {\n        return [];\n      }\n      const p = normalized && isText$a(node) ? [getNormalizedTextOffset(node, offset)] : [offset];\n      let current = node;\n      while (current !== root && current.parentNode) {\n        p.push(dom.nodeIndex(current, normalized));\n        current = current.parentNode;\n      }\n      return current === root ? p.reverse() : [];\n    };\n    const generatePathRange = (dom, root, startNode, startOffset, endNode, endOffset, normalized = false) => {\n      const start = generatePath(dom, root, startNode, startOffset, normalized);\n      const end = generatePath(dom, root, endNode, endOffset, normalized);\n      return {\n        start,\n        end\n      };\n    };\n    const resolvePath = (root, path) => {\n      const nodePath = path.slice();\n      const offset = nodePath.pop();\n      if (!isNumber(offset)) {\n        return Optional.none();\n      } else {\n        const resolvedNode = foldl(nodePath, (optNode, index) => optNode.bind(node => Optional.from(node.childNodes[index])), Optional.some(root));\n        return resolvedNode.bind(node => {\n          if (isText$a(node) && (offset < 0 || offset > node.data.length)) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              node,\n              offset\n            });\n          }\n        });\n      }\n    };\n    const resolvePathRange = (root, range) => resolvePath(root, range.start).bind(({\n      node: startNode,\n      offset: startOffset\n    }) => resolvePath(root, range.end).map(({\n      node: endNode,\n      offset: endOffset\n    }) => {\n      const rng = document.createRange();\n      rng.setStart(startNode, startOffset);\n      rng.setEnd(endNode, endOffset);\n      return rng;\n    }));\n    const generatePathRangeFromRange = (dom, root, range, normalized = false) => generatePathRange(dom, root, range.startContainer, range.startOffset, range.endContainer, range.endOffset, normalized);\n\n    const cleanEmptyNodes = (dom, node, isRoot) => {\n      if (node && dom.isEmpty(node) && !isRoot(node)) {\n        const parent = node.parentNode;\n        dom.remove(node, isText$a(node.firstChild) && isWhitespaceText(node.firstChild.data));\n        cleanEmptyNodes(dom, parent, isRoot);\n      }\n    };\n    const deleteRng = (dom, rng, isRoot, clean = true) => {\n      const startParent = rng.startContainer.parentNode;\n      const endParent = rng.endContainer.parentNode;\n      rng.deleteContents();\n      if (clean && !isRoot(rng.startContainer)) {\n        if (isText$a(rng.startContainer) && rng.startContainer.data.length === 0) {\n          dom.remove(rng.startContainer);\n        }\n        if (isText$a(rng.endContainer) && rng.endContainer.data.length === 0) {\n          dom.remove(rng.endContainer);\n        }\n        cleanEmptyNodes(dom, startParent, isRoot);\n        if (startParent !== endParent) {\n          cleanEmptyNodes(dom, endParent, isRoot);\n        }\n      }\n    };\n    const getParentBlock = (editor, rng) => Optional.from(editor.dom.getParent(rng.startContainer, editor.dom.isBlock));\n    const resolveFromDynamicPatterns = (patternSet, block, beforeText) => {\n      const dynamicPatterns = patternSet.dynamicPatternsLookup({\n        text: beforeText,\n        block\n      });\n      return {\n        ...patternSet,\n        blockPatterns: getBlockPatterns(dynamicPatterns).concat(patternSet.blockPatterns),\n        inlinePatterns: getInlinePatterns(dynamicPatterns).concat(patternSet.inlinePatterns)\n      };\n    };\n    const getBeforeText = (dom, block, node, offset) => {\n      const rng = dom.createRng();\n      rng.setStart(block, 0);\n      rng.setEnd(node, offset);\n      return rng.toString();\n    };\n\n    const startsWithSingleSpace = s => /^\\s[^\\s]/.test(s);\n    const stripPattern = (dom, block, pattern) => {\n      const firstTextNode = textAfter(block, 0, block);\n      firstTextNode.each(spot => {\n        const node = spot.container;\n        scanRight(node, pattern.start.length, block).each(end => {\n          const rng = dom.createRng();\n          rng.setStart(node, 0);\n          rng.setEnd(end.container, end.offset);\n          deleteRng(dom, rng, e => e === block);\n        });\n        const text = SugarElement.fromDom(node);\n        const textContent = get$3(text);\n        if (startsWithSingleSpace(textContent)) {\n          set(text, textContent.slice(1));\n        }\n      });\n    };\n    const applyPattern$1 = (editor, match) => {\n      const dom = editor.dom;\n      const pattern = match.pattern;\n      const rng = resolvePathRange(dom.getRoot(), match.range).getOrDie('Unable to resolve path range');\n      const isBlockFormatName = (name, formatter) => {\n        const formatSet = formatter.get(name);\n        return isArray$1(formatSet) && head(formatSet).exists(format => has$2(format, 'block'));\n      };\n      getParentBlock(editor, rng).each(block => {\n        if (pattern.type === 'block-format') {\n          if (isBlockFormatName(pattern.format, editor.formatter)) {\n            editor.undoManager.transact(() => {\n              stripPattern(editor.dom, block, pattern);\n              editor.formatter.apply(pattern.format);\n            });\n          }\n        } else if (pattern.type === 'block-command') {\n          editor.undoManager.transact(() => {\n            stripPattern(editor.dom, block, pattern);\n            editor.execCommand(pattern.cmd, false, pattern.value);\n          });\n        }\n      });\n      return true;\n    };\n    const sortPatterns$1 = patterns => sort(patterns, (a, b) => b.start.length - a.start.length);\n    const findPattern$1 = (patterns, text) => {\n      const sortedPatterns = sortPatterns$1(patterns);\n      const nuText = text.replace(nbsp, ' ');\n      return find$2(sortedPatterns, pattern => text.indexOf(pattern.start) === 0 || nuText.indexOf(pattern.start) === 0);\n    };\n    const findPatterns$1 = (editor, block, patternSet, normalizedMatches) => {\n      var _a;\n      const dom = editor.dom;\n      const forcedRootBlock = getForcedRootBlock(editor);\n      if (!dom.is(block, forcedRootBlock)) {\n        return [];\n      }\n      const blockText = (_a = block.textContent) !== null && _a !== void 0 ? _a : '';\n      return findPattern$1(patternSet.blockPatterns, blockText).map(pattern => {\n        if (Tools.trim(blockText).length === pattern.start.length) {\n          return [];\n        }\n        return [{\n            pattern,\n            range: generatePathRange(dom, dom.getRoot(), block, 0, block, 0, normalizedMatches)\n          }];\n      }).getOr([]);\n    };\n    const applyMatches$1 = (editor, matches) => {\n      if (matches.length === 0) {\n        return;\n      }\n      const bookmark = editor.selection.getBookmark();\n      each$e(matches, match => applyPattern$1(editor, match));\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    const newMarker = (dom, id) => dom.create('span', {\n      'data-mce-type': 'bookmark',\n      id\n    });\n    const rangeFromMarker = (dom, marker) => {\n      const rng = dom.createRng();\n      rng.setStartAfter(marker.start);\n      rng.setEndBefore(marker.end);\n      return rng;\n    };\n    const createMarker = (dom, markerPrefix, pathRange) => {\n      const rng = resolvePathRange(dom.getRoot(), pathRange).getOrDie('Unable to resolve path range');\n      const startNode = rng.startContainer;\n      const endNode = rng.endContainer;\n      const textEnd = rng.endOffset === 0 ? endNode : endNode.splitText(rng.endOffset);\n      const textStart = rng.startOffset === 0 ? startNode : startNode.splitText(rng.startOffset);\n      const startParentNode = textStart.parentNode;\n      const endParentNode = textEnd.parentNode;\n      return {\n        prefix: markerPrefix,\n        end: endParentNode.insertBefore(newMarker(dom, markerPrefix + '-end'), textEnd),\n        start: startParentNode.insertBefore(newMarker(dom, markerPrefix + '-start'), textStart)\n      };\n    };\n    const removeMarker = (dom, marker, isRoot) => {\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-end'), isRoot);\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-start'), isRoot);\n    };\n\n    const isReplacementPattern = pattern => pattern.start.length === 0;\n    const matchesPattern = patternContent => (element, offset) => {\n      const text = element.data;\n      const searchText = text.substring(0, offset);\n      const startEndIndex = searchText.lastIndexOf(patternContent.charAt(patternContent.length - 1));\n      const startIndex = searchText.lastIndexOf(patternContent);\n      if (startIndex !== -1) {\n        return startIndex + patternContent.length;\n      } else if (startEndIndex !== -1) {\n        return startEndIndex + 1;\n      } else {\n        return -1;\n      }\n    };\n    const findPatternStartFromSpot = (dom, pattern, block, spot) => {\n      const startPattern = pattern.start;\n      const startSpot = repeatLeft(dom, spot.container, spot.offset, matchesPattern(startPattern), block);\n      return startSpot.bind(spot => {\n        var _a, _b;\n        const startPatternIndex = (_b = (_a = block.textContent) === null || _a === void 0 ? void 0 : _a.indexOf(startPattern)) !== null && _b !== void 0 ? _b : -1;\n        const isCompleteMatch = startPatternIndex !== -1 && spot.offset >= startPatternIndex + startPattern.length;\n        if (isCompleteMatch) {\n          const rng = dom.createRng();\n          rng.setStart(spot.container, spot.offset - startPattern.length);\n          rng.setEnd(spot.container, spot.offset);\n          return Optional.some(rng);\n        } else {\n          const offset = spot.offset - startPattern.length;\n          return scanLeft(spot.container, offset, block).map(nextSpot => {\n            const rng = dom.createRng();\n            rng.setStart(nextSpot.container, nextSpot.offset);\n            rng.setEnd(spot.container, spot.offset);\n            return rng;\n          }).filter(rng => rng.toString() === startPattern).orThunk(() => findPatternStartFromSpot(dom, pattern, block, point(spot.container, 0)));\n        }\n      });\n    };\n    const findPatternStart = (dom, pattern, node, offset, block, requireGap = false) => {\n      if (pattern.start.length === 0 && !requireGap) {\n        const rng = dom.createRng();\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        return Optional.some(rng);\n      }\n      return textBefore(node, offset, block).bind(spot => {\n        const start = findPatternStartFromSpot(dom, pattern, block, spot);\n        return start.bind(startRange => {\n          var _a;\n          if (requireGap) {\n            if (startRange.endContainer === spot.container && startRange.endOffset === spot.offset) {\n              return Optional.none();\n            } else if (spot.offset === 0 && ((_a = startRange.endContainer.textContent) === null || _a === void 0 ? void 0 : _a.length) === startRange.endOffset) {\n              return Optional.none();\n            }\n          }\n          return Optional.some(startRange);\n        });\n      });\n    };\n    const findPattern = (editor, block, details, normalizedMatches) => {\n      const dom = editor.dom;\n      const root = dom.getRoot();\n      const pattern = details.pattern;\n      const endNode = details.position.container;\n      const endOffset = details.position.offset;\n      return scanLeft(endNode, endOffset - details.pattern.end.length, block).bind(spot => {\n        const endPathRng = generatePathRange(dom, root, spot.container, spot.offset, endNode, endOffset, normalizedMatches);\n        if (isReplacementPattern(pattern)) {\n          return Optional.some({\n            matches: [{\n                pattern,\n                startRng: endPathRng,\n                endRng: endPathRng\n              }],\n            position: spot\n          });\n        } else {\n          const resultsOpt = findPatternsRec(editor, details.remainingPatterns, spot.container, spot.offset, block, normalizedMatches);\n          const results = resultsOpt.getOr({\n            matches: [],\n            position: spot\n          });\n          const pos = results.position;\n          const start = findPatternStart(dom, pattern, pos.container, pos.offset, block, resultsOpt.isNone());\n          return start.map(startRng => {\n            const startPathRng = generatePathRangeFromRange(dom, root, startRng, normalizedMatches);\n            return {\n              matches: results.matches.concat([{\n                  pattern,\n                  startRng: startPathRng,\n                  endRng: endPathRng\n                }]),\n              position: point(startRng.startContainer, startRng.startOffset)\n            };\n          });\n        }\n      });\n    };\n    const findPatternsRec = (editor, patterns, node, offset, block, normalizedMatches) => {\n      const dom = editor.dom;\n      return textBefore(node, offset, dom.getRoot()).bind(endSpot => {\n        const text = getBeforeText(dom, block, node, offset);\n        for (let i = 0; i < patterns.length; i++) {\n          const pattern = patterns[i];\n          if (!endsWith(text, pattern.end)) {\n            continue;\n          }\n          const patternsWithoutCurrent = patterns.slice();\n          patternsWithoutCurrent.splice(i, 1);\n          const result = findPattern(editor, block, {\n            pattern,\n            remainingPatterns: patternsWithoutCurrent,\n            position: endSpot\n          }, normalizedMatches);\n          if (result.isNone() && offset > 0) {\n            return findPatternsRec(editor, patterns, node, offset - 1, block, normalizedMatches);\n          }\n          if (result.isSome()) {\n            return result;\n          }\n        }\n        return Optional.none();\n      });\n    };\n    const applyPattern = (editor, pattern, patternRange) => {\n      editor.selection.setRng(patternRange);\n      if (pattern.type === 'inline-format') {\n        each$e(pattern.format, format => {\n          editor.formatter.apply(format);\n        });\n      } else {\n        editor.execCommand(pattern.cmd, false, pattern.value);\n      }\n    };\n    const applyReplacementPattern = (editor, pattern, marker, isRoot) => {\n      const markerRange = rangeFromMarker(editor.dom, marker);\n      deleteRng(editor.dom, markerRange, isRoot);\n      applyPattern(editor, pattern, markerRange);\n    };\n    const applyPatternWithContent = (editor, pattern, startMarker, endMarker, isRoot) => {\n      const dom = editor.dom;\n      const markerEndRange = rangeFromMarker(dom, endMarker);\n      const markerStartRange = rangeFromMarker(dom, startMarker);\n      deleteRng(dom, markerStartRange, isRoot);\n      deleteRng(dom, markerEndRange, isRoot);\n      const patternMarker = {\n        prefix: startMarker.prefix,\n        start: startMarker.end,\n        end: endMarker.start\n      };\n      const patternRange = rangeFromMarker(dom, patternMarker);\n      applyPattern(editor, pattern, patternRange);\n    };\n    const addMarkers = (dom, matches) => {\n      const markerPrefix = generate$1('mce_textpattern');\n      const matchesWithEnds = foldr(matches, (acc, match) => {\n        const endMarker = createMarker(dom, markerPrefix + `_end${ acc.length }`, match.endRng);\n        return acc.concat([{\n            ...match,\n            endMarker\n          }]);\n      }, []);\n      return foldr(matchesWithEnds, (acc, match) => {\n        const idx = matchesWithEnds.length - acc.length - 1;\n        const startMarker = isReplacementPattern(match.pattern) ? match.endMarker : createMarker(dom, markerPrefix + `_start${ idx }`, match.startRng);\n        return acc.concat([{\n            ...match,\n            startMarker\n          }]);\n      }, []);\n    };\n    const sortPatterns = patterns => sort(patterns, (a, b) => b.end.length - a.end.length);\n    const getBestMatches = (matches, matchesWithSortedPatterns) => {\n      const hasSameMatches = forall(matches, match => exists(matchesWithSortedPatterns, sortedMatch => match.pattern.start === sortedMatch.pattern.start && match.pattern.end === sortedMatch.pattern.end));\n      if (matches.length === matchesWithSortedPatterns.length) {\n        if (hasSameMatches) {\n          return matches;\n        } else {\n          return matchesWithSortedPatterns;\n        }\n      }\n      return matches.length > matchesWithSortedPatterns.length ? matches : matchesWithSortedPatterns;\n    };\n    const findPatterns = (editor, block, node, offset, patternSet, normalizedMatches) => {\n      const matches = findPatternsRec(editor, patternSet.inlinePatterns, node, offset, block, normalizedMatches).fold(() => [], result => result.matches);\n      const matchesWithSortedPatterns = findPatternsRec(editor, sortPatterns(patternSet.inlinePatterns), node, offset, block, normalizedMatches).fold(() => [], result => result.matches);\n      return getBestMatches(matches, matchesWithSortedPatterns);\n    };\n    const applyMatches = (editor, matches) => {\n      if (matches.length === 0) {\n        return;\n      }\n      const dom = editor.dom;\n      const bookmark = editor.selection.getBookmark();\n      const matchesWithMarkers = addMarkers(dom, matches);\n      each$e(matchesWithMarkers, match => {\n        const block = dom.getParent(match.startMarker.start, dom.isBlock);\n        const isRoot = node => node === block;\n        if (isReplacementPattern(match.pattern)) {\n          applyReplacementPattern(editor, match.pattern, match.endMarker, isRoot);\n        } else {\n          applyPatternWithContent(editor, match.pattern, match.startMarker, match.endMarker, isRoot);\n        }\n        removeMarker(dom, match.endMarker, isRoot);\n        removeMarker(dom, match.startMarker, isRoot);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    const handleEnter = (editor, patternSet) => {\n      const rng = editor.selection.getRng();\n      return getParentBlock(editor, rng).map(block => {\n        var _a;\n        const offset = Math.max(0, rng.startOffset);\n        const dynamicPatternSet = resolveFromDynamicPatterns(patternSet, block, (_a = block.textContent) !== null && _a !== void 0 ? _a : '');\n        const inlineMatches = findPatterns(editor, block, rng.startContainer, offset, dynamicPatternSet, true);\n        const blockMatches = findPatterns$1(editor, block, dynamicPatternSet, true);\n        if (blockMatches.length > 0 || inlineMatches.length > 0) {\n          editor.undoManager.add();\n          editor.undoManager.extra(() => {\n            editor.execCommand('mceInsertNewLine');\n          }, () => {\n            insert$5(editor);\n            applyMatches(editor, inlineMatches);\n            applyMatches$1(editor, blockMatches);\n            const range = editor.selection.getRng();\n            const spot = textBefore(range.startContainer, range.startOffset, editor.dom.getRoot());\n            editor.execCommand('mceInsertNewLine');\n            spot.each(s => {\n              const node = s.container;\n              if (node.data.charAt(s.offset - 1) === zeroWidth) {\n                node.deleteData(s.offset - 1, 1);\n                cleanEmptyNodes(editor.dom, node.parentNode, e => e === editor.dom.getRoot());\n              }\n            });\n          });\n          return true;\n        }\n        return false;\n      }).getOr(false);\n    };\n    const handleInlineKey = (editor, patternSet) => {\n      const rng = editor.selection.getRng();\n      getParentBlock(editor, rng).map(block => {\n        const offset = Math.max(0, rng.startOffset - 1);\n        const beforeText = getBeforeText(editor.dom, block, rng.startContainer, offset);\n        const dynamicPatternSet = resolveFromDynamicPatterns(patternSet, block, beforeText);\n        const inlineMatches = findPatterns(editor, block, rng.startContainer, offset, dynamicPatternSet, false);\n        if (inlineMatches.length > 0) {\n          editor.undoManager.transact(() => {\n            applyMatches(editor, inlineMatches);\n          });\n        }\n      });\n    };\n    const checkKeyEvent = (codes, event, predicate) => {\n      for (let i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const checkKeyCode = (codes, event) => checkKeyEvent(codes, event, (code, event) => {\n      return code === event.keyCode && !VK.modifierPressed(event);\n    });\n    const checkCharCode = (chars, event) => checkKeyEvent(chars, event, (chr, event) => {\n      return chr.charCodeAt(0) === event.charCode;\n    });\n\n    const setup$2 = editor => {\n      const charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      const keyCodes = [32];\n      const getPatternSet = () => createPatternSet(getTextPatterns(editor), getTextPatternsLookup(editor));\n      const hasDynamicPatterns = () => hasTextPatternsLookup(editor);\n      editor.on('keydown', e => {\n        if (e.keyCode === 13 && !VK.modifierPressed(e) && editor.selection.isCollapsed()) {\n          const patternSet = getPatternSet();\n          const hasPatterns = patternSet.inlinePatterns.length > 0 || patternSet.blockPatterns.length > 0 || hasDynamicPatterns();\n          if (hasPatterns && handleEnter(editor, patternSet)) {\n            e.preventDefault();\n          }\n        }\n      }, true);\n      const handleInlineTrigger = () => {\n        if (editor.selection.isCollapsed()) {\n          const patternSet = getPatternSet();\n          const hasPatterns = patternSet.inlinePatterns.length > 0 || hasDynamicPatterns();\n          if (hasPatterns) {\n            handleInlineKey(editor, patternSet);\n          }\n        }\n      };\n      editor.on('keyup', e => {\n        if (checkKeyCode(keyCodes, e)) {\n          handleInlineTrigger();\n        }\n      });\n      editor.on('keypress', e => {\n        if (checkCharCode(charCodes, e)) {\n          Delay.setEditorTimeout(editor, handleInlineTrigger);\n        }\n      });\n    };\n\n    const setup$1 = editor => {\n      setup$2(editor);\n    };\n\n    const Quirks = editor => {\n      const each = Tools.each;\n      const BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      const browser = Env.browser;\n      const isGecko = browser.isFirefox();\n      const isWebKit = browser.isChromium() || browser.isSafari();\n      const isiOS = Env.deviceType.isiPhone() || Env.deviceType.isiPad();\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      const setEditorCommandState = (cmd, state) => {\n        try {\n          editor.getDoc().execCommand(cmd, false, String(state));\n        } catch (ex) {\n        }\n      };\n      const isDefaultPrevented = e => {\n        return e.isDefaultPrevented();\n      };\n      const emptyEditorWhenDeleting = () => {\n        const serializeRng = rng => {\n          const body = dom.create('body');\n          const contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        const allContentsSelected = rng => {\n          const selection = serializeRng(rng);\n          const allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          const allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', e => {\n          const keyCode = e.keyCode;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE) && editor.selection.isEditable()) {\n            const isCollapsed = editor.selection.isCollapsed();\n            const body = editor.getBody();\n            if (isCollapsed && !isEmpty$2(SugarElement.fromDom(body))) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      const selectAll = () => {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      const documentElementEditingFocus = () => {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', e => {\n            let rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer$2(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      const removeHrOnBackspace = () => {\n        editor.on('keydown', e => {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              const node = selection.getNode();\n              const previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      const focusBody = () => {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', e => {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              const body = editor.getBody();\n              body.blur();\n              Delay.setEditorTimeout(editor, () => {\n                body.focus();\n              });\n            }\n          });\n        }\n      };\n      const selectControlElements = () => {\n        const visualAidsAnchorClass = getVisualAidsAnchorClass(editor);\n        editor.on('click', e => {\n          const target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.isEditable(target)) {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, visualAidsAnchorClass) && target.childNodes.length === 0 && dom.isEditable(target.parentNode)) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      const removeStylesWhenDeletingAcrossBlockElements = () => {\n        const getAttributeApplyFunction = () => {\n          const template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return () => {\n            const target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, attr => {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        const isSelectionAcrossElements = () => {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', e => {\n          let applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          } else {\n            return true;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', e => {\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            const applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, () => {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      const disableBackspaceIntoATable = () => {\n        editor.on('keydown', e => {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              const previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n          return true;\n        });\n      };\n      const removeBlockQuoteOnBackSpace = () => {\n        editor.on('keydown', e => {\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          let rng = selection.getRng();\n          const container = rng.startContainer;\n          const offset = rng.startOffset;\n          const root = dom.getRoot();\n          let parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.nodeName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', undefined, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      const setGeckoEditingOptions = () => {\n        const setOpts = () => {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly$1(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      const addBrAfterLastLinks = () => {\n        const fixLinks = () => {\n          each(dom.select('a:not([data-mce-block])'), node => {\n            var _a;\n            let parentNode = node.parentNode;\n            const root = dom.getRoot();\n            if ((parentNode === null || parentNode === void 0 ? void 0 : parentNode.lastChild) === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (((_a = parentNode.parentNode) === null || _a === void 0 ? void 0 : _a.lastChild) !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', e => {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      const setDefaultBlockType = () => {\n        editor.on('init', () => {\n          setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n        });\n      };\n      const isAllContentSelected = editor => {\n        const body = editor.getBody();\n        const rng = editor.selection.getRng();\n        return rng.startContainer === rng.endContainer && rng.startContainer === body && rng.startOffset === 0 && rng.endOffset === body.childNodes.length;\n      };\n      const normalizeSelection = () => {\n        editor.on('keyup focusin mouseup', e => {\n          if (!VK.modifierPressed(e) && !isAllContentSelected(editor)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      const showBrokenImageIcon = () => {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      const restoreFocusOnKeyDown = () => {\n        if (!editor.inline) {\n          editor.on('keydown', () => {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      const bodyHeight = () => {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', e => {\n            let rng;\n            if (e.target.nodeName === 'HTML') {\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      const blockCmdArrowNavigation = () => {\n        if (isMac) {\n          editor.on('keydown', e => {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              const selection = editor.selection.getSel();\n              selection.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      const tapLinksAndImages = () => {\n        editor.on('click', e => {\n          let elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      const blockFormSubmitInsideEditor = () => {\n        editor.on('init', () => {\n          editor.dom.bind(editor.getBody(), 'submit', e => {\n            e.preventDefault();\n          });\n        });\n      };\n      const removeAppleInterchangeBrs = () => {\n        parser.addNodeFilter('br', nodes => {\n          let i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      const refreshContentEditable = noop;\n      const isHidden = () => {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        const sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      const setupRtc = () => {\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (isiOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      const dropDragEndEvent = () => {\n        editor.on('drop', event => {\n          var _a;\n          const data = (_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.getData('text/html');\n          if (isString(data) && /^<img[^>]*>$/.test(data)) {\n            editor.dispatch('dragend', new window.DragEvent('dragend', event));\n          }\n        });\n      };\n      const setup = () => {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (isiOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n          dropDragEndEvent();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable,\n        isHidden\n      };\n    };\n\n    const DOM$6 = DOMUtils.DOM;\n    const appendStyle = (editor, text) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const container = getStyleContainer(getRootNode(body));\n      const style = SugarElement.fromTag('style');\n      set$3(style, 'type', 'text/css');\n      append$1(style, SugarElement.fromText(text));\n      append$1(container, style);\n      editor.on('remove', () => {\n        remove$5(style);\n      });\n    };\n    const getRootName = editor => editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    const removeUndefined = obj => filter$4(obj, v => isUndefined(v) === false);\n    const mkParserSettings = editor => {\n      const getOption = editor.options.get;\n      const blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: getOption('allow_conditional_comments'),\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls'),\n        allow_html_in_named_anchor: getOption('allow_html_in_named_anchor'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_unsafe_link_target: getOption('allow_unsafe_link_target'),\n        convert_unsafe_embeds: getOption('convert_unsafe_embeds'),\n        convert_fonts_to_spans: getOption('convert_fonts_to_spans'),\n        fix_list_elements: getOption('fix_list_elements'),\n        font_size_legacy_values: getOption('font_size_legacy_values'),\n        forced_root_block: getOption('forced_root_block'),\n        forced_root_block_attrs: getOption('forced_root_block_attrs'),\n        preserve_cdata: getOption('preserve_cdata'),\n        inline_styles: getOption('inline_styles'),\n        root_name: getRootName(editor),\n        sandbox_iframes: getOption('sandbox_iframes'),\n        sanitize: getOption('xss_sanitization'),\n        validate: true,\n        blob_cache: blobCache,\n        document: editor.getDoc()\n      });\n    };\n    const mkSchemaSettings = editor => {\n      const getOption = editor.options.get;\n      return removeUndefined({\n        custom_elements: getOption('custom_elements'),\n        extended_valid_elements: getOption('extended_valid_elements'),\n        invalid_elements: getOption('invalid_elements'),\n        invalid_styles: getOption('invalid_styles'),\n        schema: getOption('schema'),\n        valid_children: getOption('valid_children'),\n        valid_classes: getOption('valid_classes'),\n        valid_elements: getOption('valid_elements'),\n        valid_styles: getOption('valid_styles'),\n        verify_html: getOption('verify_html'),\n        padd_empty_block_inline_children: getOption('format_empty_lines')\n      });\n    };\n    const mkSerializerSettings = editor => {\n      const getOption = editor.options.get;\n      return {\n        ...mkParserSettings(editor),\n        ...mkSchemaSettings(editor),\n        ...removeUndefined({\n          remove_trailing_brs: getOption('remove_trailing_brs'),\n          pad_empty_with_br: getOption('pad_empty_with_br'),\n          url_converter: getOption('url_converter'),\n          url_converter_scope: getOption('url_converter_scope'),\n          element_format: getOption('element_format'),\n          entities: getOption('entities'),\n          entity_encoding: getOption('entity_encoding'),\n          indent: getOption('indent'),\n          indent_after: getOption('indent_after'),\n          indent_before: getOption('indent_before')\n        })\n      };\n    };\n    const createParser = editor => {\n      const parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', (nodes, name) => {\n        const dom = editor.dom;\n        const internalName = 'data-mce-' + name;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (shouldPreserveCData(editor)) {\n        parser.addNodeFilter('#cdata', nodes => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode((_a = node.value) !== null && _a !== void 0 ? _a : '') + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', nodes => {\n        let i = nodes.length;\n        const nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          const node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1));\n          }\n        }\n      });\n      return parser;\n    };\n    const autoFocus = editor => {\n      const autoFocus = getAutoFocus(editor);\n      if (autoFocus) {\n        Delay.setEditorTimeout(editor, () => {\n          let focusEditor;\n          if (autoFocus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(autoFocus);\n          }\n          if (focusEditor && !focusEditor.destroyed) {\n            focusEditor.focus();\n            focusEditor.selection.scrollIntoView();\n          }\n        }, 100);\n      }\n    };\n    const moveSelectionToFirstCaretPosition = editor => {\n      const root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(pos => {\n          const node = pos.getNode();\n          const caretPos = isTable$2(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    const initEditor = editor => {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      const initInstanceCallback = getInitInstanceCallback(editor);\n      if (isFunction(initInstanceCallback)) {\n        initInstanceCallback.call(editor, editor);\n      }\n      autoFocus(editor);\n    };\n    const getStyleSheetLoader$1 = editor => editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    const makeStylesheetLoadingPromises = (editor, css, framedFonts) => {\n      const {\n        pass: bundledCss,\n        fail: normalCss\n      } = partition$2(css, name => tinymce.Resource.has(toContentSkinResourceName(name)));\n      const bundledPromises = bundledCss.map(url => {\n        const css = tinymce.Resource.get(toContentSkinResourceName(url));\n        if (isString(css)) {\n          return Promise.resolve(getStyleSheetLoader$1(editor).loadRawCss(url, css));\n        }\n        return Promise.resolve();\n      });\n      const promises = [\n        ...bundledPromises,\n        getStyleSheetLoader$1(editor).loadAll(normalCss)\n      ];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([editor.ui.styleSheetLoader.loadAll(framedFonts)]);\n      }\n    };\n    const loadContentCss = editor => {\n      const styleSheetLoader = getStyleSheetLoader$1(editor);\n      const fontCss = getFontCss(editor);\n      const css = editor.contentCSS;\n      const removeCss = () => {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      const loaded = () => {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n        }\n      };\n      if (editor.contentStyles.length > 0) {\n        let contentCssText = '';\n        Tools.each(editor.contentStyles, style => {\n          contentCssText += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText);\n      }\n      const allStylesheets = Promise.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n      const contentStyle = getContentStyle(editor);\n      if (contentStyle) {\n        appendStyle(editor, contentStyle);\n      }\n      return allStylesheets;\n    };\n    const preInit = editor => {\n      const doc = editor.getDoc(), body = editor.getBody();\n      firePreInit(editor);\n      if (!shouldBrowserSpellcheck(editor)) {\n        doc.body.spellcheck = false;\n        DOM$6.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      const directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      const protect = getProtect(editor);\n      if (protect) {\n        editor.on('BeforeSetContent', e => {\n          Tools.each(protect, pattern => {\n            e.content = e.content.replace(pattern, str => {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', () => {\n        editor.addVisual(editor.getBody());\n      });\n      editor.on('compositionstart compositionend', e => {\n        editor.composing = e.type === 'compositionstart';\n      });\n    };\n    const loadInitialContent = editor => {\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n    };\n    const initEditorWithInitialContent = editor => {\n      if (editor.removed !== true) {\n        loadInitialContent(editor);\n        initEditor(editor);\n      }\n    };\n    const startProgress = editor => {\n      let canceled = false;\n      const progressTimeout = setTimeout(() => {\n        if (!canceled) {\n          editor.setProgressState(true);\n        }\n      }, 500);\n      return () => {\n        clearTimeout(progressTimeout);\n        canceled = true;\n        editor.setProgressState(false);\n      };\n    };\n    const contentBodyLoaded = editor => {\n      const targetElm = editor.getElement();\n      let doc = editor.getDoc();\n      if (editor.inline) {\n        DOM$6.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      const body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = isReadOnly$1(editor);\n      editor._editableRoot = hasEditableRoot$1(editor);\n      if (!editor.readonly && editor.hasEditableRoot()) {\n        if (editor.inline && DOM$6.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = 'true';\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(mkSchemaSettings(editor));\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: editor.inline,\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: e => {\n          editor.dispatch('SetAttrib', e);\n        },\n        force_hex_color: shouldForceHexColor(editor)\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$p(editor);\n      setup$6(editor);\n      setup$n(editor);\n      if (!isRtc(editor)) {\n        setup$5(editor);\n        setup$1(editor);\n      }\n      const caret = setup$b(editor);\n      setup$q(editor, caret);\n      setup$o(editor);\n      setup$r(editor);\n      setup$7(editor);\n      const setupRtcThunk = setup$t(editor);\n      preInit(editor);\n      setupRtcThunk.fold(() => {\n        const cancelProgress = startProgress(editor);\n        loadContentCss(editor).then(() => {\n          initEditorWithInitialContent(editor);\n          cancelProgress();\n        });\n      }, setupRtc => {\n        editor.setProgressState(true);\n        loadContentCss(editor).then(() => {\n          setupRtc().then(_rtcMode => {\n            editor.setProgressState(false);\n            initEditorWithInitialContent(editor);\n            bindEvents(editor);\n          }, err => {\n            editor.notificationManager.open({\n              type: 'error',\n              text: String(err)\n            });\n            initEditorWithInitialContent(editor);\n            bindEvents(editor);\n          });\n        });\n      });\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n\n    const DOM$5 = DOMUtils.DOM;\n    const createIframeElement = (id, title, customAttrs, tabindex) => {\n      const iframe = SugarElement.fromTag('iframe');\n      tabindex.each(t => set$3(iframe, 'tabindex', t));\n      setAll$1(iframe, customAttrs);\n      setAll$1(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title\n      });\n      add$2(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    const getIframeHtml = editor => {\n      let iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      const bodyId = getBodyId(editor);\n      const bodyClass = getBodyClass(editor);\n      const translatedAriaText = editor.translate(getIframeAriaText(editor));\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head>' + `<body id=\"${ bodyId }\" class=\"mce-content-body ${ bodyClass }\" data-id=\"${ editor.id }\" aria-label=\"${ translatedAriaText }\">` + '<br>' + '</body></html>';\n      return iframeHTML;\n    };\n    const createIframe = (editor, boxInfo) => {\n      const iframeTitle = editor.translate('Rich Text Area');\n      const tabindex = getOpt(SugarElement.fromDom(editor.getElement()), 'tabindex').bind(toInt);\n      const ifr = createIframeElement(editor.id, iframeTitle, getIframeAttrs(editor), tabindex).dom;\n      ifr.onload = () => {\n        ifr.onload = null;\n        editor.dispatch('load');\n      };\n      editor.contentAreaContainer = boxInfo.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(boxInfo.iframeContainer, ifr);\n    };\n    const setupIframeBody = editor => {\n      const iframe = editor.iframeElement;\n      const ready = () => {\n        editor.contentDocument = iframe.contentDocument;\n        contentBodyLoaded(editor);\n      };\n      if (shouldUseDocumentWrite(editor) || Env.browser.isFirefox()) {\n        const doc = editor.getDoc();\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n        ready();\n      } else {\n        const binder = bind(SugarElement.fromDom(iframe), 'load', () => {\n          binder.unbind();\n          ready();\n        });\n        iframe.srcdoc = editor.iframeHTML;\n      }\n    };\n    const init$1 = (editor, boxInfo) => {\n      createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        boxInfo.editorContainer.style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      editor.getElement().style.visibility = editor.orgVisibility;\n      setupIframeBody(editor);\n    };\n\n    const DOM$4 = DOMUtils.DOM;\n    const initPlugin = (editor, initializedPlugins, plugin) => {\n      const Plugin = PluginManager.get(plugin);\n      const pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          const pluginInstance = Plugin(editor, pluginUrl) || {};\n          editor.plugins[plugin] = pluginInstance;\n          if (isFunction(pluginInstance.init)) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    const trimLegacyPrefix = name => {\n      return name.replace(/^\\-/, '');\n    };\n    const initPlugins = editor => {\n      const initializedPlugins = [];\n      each$e(getPlugins(editor), name => {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    const initIcons = editor => {\n      const iconPackName = Tools.trim(getIconPackName(editor));\n      const currentIcons = editor.ui.registry.getAll().icons;\n      const loadIcons = {\n        ...IconManager.get('default').icons,\n        ...IconManager.get(iconPackName).icons\n      };\n      each$d(loadIcons, (svgData, icon) => {\n        if (!has$2(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    const initTheme = editor => {\n      const theme = getTheme(editor);\n      if (isString(theme)) {\n        const Theme = ThemeManager.get(theme);\n        editor.theme = Theme(editor, ThemeManager.urls[theme]) || {};\n        if (isFunction(editor.theme.init)) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''));\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    const initModel = editor => {\n      const model = getModel(editor);\n      const Model = ModelManager.get(model);\n      editor.model = Model(editor, ModelManager.urls[model]);\n    };\n    const renderFromLoadedTheme = editor => {\n      const render = editor.theme.renderUI;\n      return render ? render() : renderThemeFalse(editor);\n    };\n    const renderFromThemeFunc = editor => {\n      const elm = editor.getElement();\n      const theme = getTheme(editor);\n      const info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    const createThemeFalseResult = (element, iframe) => {\n      return {\n        editorContainer: element,\n        iframeContainer: iframe,\n        api: {}\n      };\n    };\n    const renderThemeFalseIframe = targetElement => {\n      const iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer, iframeContainer);\n    };\n    const renderThemeFalse = editor => {\n      const targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    const renderThemeUi = editor => {\n      const elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    const augmentEditorUiApi = (editor, api) => {\n      const uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        isEnabled: Optional.from(api.isEnabled).getOr(always),\n        setEnabled: state => {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.setEnabled).each(f => f(state));\n          }\n        }\n      };\n      editor.ui = {\n        ...editor.ui,\n        ...uiApiFacade\n      };\n    };\n    const init = async editor => {\n      editor.dispatch('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initModel(editor);\n      initPlugins(editor);\n      const renderInfo = await renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      editor.editorContainer = renderInfo.editorContainer;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        contentBodyLoaded(editor);\n      } else {\n        init$1(editor, {\n          editorContainer: renderInfo.editorContainer,\n          iframeContainer: renderInfo.iframeContainer\n        });\n      }\n    };\n\n    const DOM$3 = DOMUtils.DOM;\n    const hasSkipLoadPrefix = name => name.charAt(0) === '-';\n    const loadLanguage = (scriptLoader, editor) => {\n      const languageCode = getLanguageCode(editor);\n      const languageUrl = getLanguageUrl(editor);\n      if (!I18n.hasCode(languageCode) && languageCode !== 'en') {\n        const url = isNotEmpty(languageUrl) ? languageUrl : `${ editor.editorManager.baseURL }/langs/${ languageCode }.js`;\n        scriptLoader.add(url).catch(() => {\n          languageLoadError(editor, url, languageCode);\n        });\n      }\n    };\n    const loadTheme = (editor, suffix) => {\n      const theme = getTheme(editor);\n      if (isString(theme) && !hasSkipLoadPrefix(theme) && !has$2(ThemeManager.urls, theme)) {\n        const themeUrl = getThemeUrl(editor);\n        const url = themeUrl ? editor.documentBaseURI.toAbsolute(themeUrl) : `themes/${ theme }/theme${ suffix }.js`;\n        ThemeManager.load(theme, url).catch(() => {\n          themeLoadError(editor, url, theme);\n        });\n      }\n    };\n    const loadModel = (editor, suffix) => {\n      const model = getModel(editor);\n      if (model !== 'plugin' && !has$2(ModelManager.urls, model)) {\n        const modelUrl = getModelUrl(editor);\n        const url = isString(modelUrl) ? editor.documentBaseURI.toAbsolute(modelUrl) : `models/${ model }/model${ suffix }.js`;\n        ModelManager.load(model, url).catch(() => {\n          modelLoadError(editor, url, model);\n        });\n      }\n    };\n    const getIconsUrlMetaFromUrl = editor => Optional.from(getIconsUrl(editor)).filter(isNotEmpty).map(url => ({\n      url,\n      name: Optional.none()\n    }));\n    const getIconsUrlMetaFromName = (editor, name, suffix) => Optional.from(name).filter(name => isNotEmpty(name) && !IconManager.has(name)).map(name => ({\n      url: `${ editor.editorManager.baseURL }/icons/${ name }/icons${ suffix }.js`,\n      name: Optional.some(name)\n    }));\n    const loadIcons = (scriptLoader, editor, suffix) => {\n      const defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      const customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(() => getIconsUrlMetaFromName(editor, getIconPackName(editor), ''));\n      each$e(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), urlMeta => {\n        scriptLoader.add(urlMeta.url).catch(() => {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    const loadPlugins = (editor, suffix) => {\n      const loadPlugin = (name, url) => {\n        PluginManager.load(name, url).catch(() => {\n          pluginLoadError(editor, url, name);\n        });\n      };\n      each$d(getExternalPlugins$1(editor), (url, name) => {\n        loadPlugin(name, url);\n        editor.options.set('plugins', getPlugins(editor).concat(name));\n      });\n      each$e(getPlugins(editor), plugin => {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin] && !hasSkipLoadPrefix(plugin)) {\n          loadPlugin(plugin, `plugins/${ plugin }/plugin${ suffix }.js`);\n        }\n      });\n    };\n    const isThemeLoaded = editor => {\n      const theme = getTheme(editor);\n      return !isString(theme) || isNonNullable(ThemeManager.get(theme));\n    };\n    const isModelLoaded = editor => {\n      const model = getModel(editor);\n      return isNonNullable(ModelManager.get(model));\n    };\n    const loadScripts = (editor, suffix) => {\n      const scriptLoader = ScriptLoader.ScriptLoader;\n      const initEditor = () => {\n        if (!editor.removed && isThemeLoaded(editor) && isModelLoaded(editor)) {\n          init(editor);\n        }\n      };\n      loadTheme(editor, suffix);\n      loadModel(editor, suffix);\n      loadLanguage(scriptLoader, editor);\n      loadIcons(scriptLoader, editor, suffix);\n      loadPlugins(editor, suffix);\n      scriptLoader.loadQueue().then(initEditor, initEditor);\n    };\n    const getStyleSheetLoader = (element, editor) => instance.forElement(element, {\n      contentCssCors: hasContentCssCors(editor),\n      referrerPolicy: getReferrerPolicy(editor)\n    });\n    const render = editor => {\n      const id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      const readyHandler = () => {\n        DOM$3.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$3.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      const element = SugarElement.fromDom(editor.getElement());\n      const snapshot = clone$4(element);\n      editor.on('remove', () => {\n        eachr(element.dom.attributes, attr => remove$a(element, attr.name));\n        setAll$1(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader(element, editor);\n      if (!isInline$1(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      const form = editor.getElement().form || DOM$3.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$3.insertAfter(DOM$3.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = e => {\n          editor.dispatch(e.type, e);\n        };\n        DOM$3.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', () => {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = () => {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', e => {\n          if (e.save) {\n            e.content = DOM$3.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', () => {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = () => {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    const setEditableRoot = (editor, state) => {\n      if (editor._editableRoot !== state) {\n        editor._editableRoot = state;\n        if (!editor.readonly) {\n          editor.getBody().contentEditable = String(editor.hasEditableRoot());\n          editor.nodeChanged();\n        }\n        fireEditableRootStateChange(editor, state);\n      }\n    };\n    const hasEditableRoot = editor => editor._editableRoot;\n\n    const sectionResult = (sections, settings) => ({\n      sections: constant(sections),\n      options: constant(settings)\n    });\n    const deviceDetection = detect$2().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const normalizePlugins = plugins => {\n      if (isNullable(plugins)) {\n        return [];\n      } else {\n        const pluginNames = isArray$1(plugins) ? plugins : plugins.split(/[ ,]/);\n        const trimmedPlugins = map$3(pluginNames, trim$4);\n        return filter$5(trimmedPlugins, isNotEmpty);\n      }\n    };\n    const extractSections = (keys, options) => {\n      const result = bifilter(options, (value, key) => {\n        return contains$2(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    const getSection = (sectionResult, name, defaults = {}) => {\n      const sections = sectionResult.sections();\n      const sectionOptions = get$a(sections, name).getOr({});\n      return Tools.extend({}, defaults, sectionOptions);\n    };\n    const hasSection = (sectionResult, name) => {\n      return has$2(sectionResult.sections(), name);\n    };\n    const getSectionConfig = (sectionResult, name) => {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    const getMobileOverrideOptions = (mobileOptions, isPhone) => {\n      const defaultMobileOptions = {\n        table_grid: false,\n        object_resizing: false,\n        resize: false,\n        toolbar_mode: get$a(mobileOptions, 'toolbar_mode').getOr('scrolling'),\n        toolbar_sticky: false\n      };\n      const defaultPhoneOptions = { menubar: false };\n      return {\n        ...defaultMobileOptions,\n        ...isPhone ? defaultPhoneOptions : {}\n      };\n    };\n    const getExternalPlugins = (overrideOptions, options) => {\n      var _a;\n      const userDefinedExternalPlugins = (_a = options.external_plugins) !== null && _a !== void 0 ? _a : {};\n      if (overrideOptions && overrideOptions.external_plugins) {\n        return Tools.extend({}, overrideOptions.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    const combinePlugins = (forcedPlugins, plugins) => [\n      ...normalizePlugins(forcedPlugins),\n      ...normalizePlugins(plugins)\n    ];\n    const getPlatformPlugins = (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) => {\n      if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    const processPlugins = (isMobileDevice, sectionResult, defaultOverrideOptions, options) => {\n      const forcedPlugins = normalizePlugins(defaultOverrideOptions.forced_plugins);\n      const desktopPlugins = normalizePlugins(options.plugins);\n      const mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      const mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      const platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      const combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      return Tools.extend(options, {\n        forced_plugins: forcedPlugins,\n        plugins: combinedPlugins\n      });\n    };\n    const isOnMobile = (isMobileDevice, sectionResult) => {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    const combineOptions = (isMobileDevice, isPhone, defaultOptions, defaultOverrideOptions, options) => {\n      var _a;\n      const deviceOverrideOptions = isMobileDevice ? { mobile: getMobileOverrideOptions((_a = options.mobile) !== null && _a !== void 0 ? _a : {}, isPhone) } : {};\n      const sectionResult = extractSections(['mobile'], deepMerge(deviceOverrideOptions, options));\n      const extendedOptions = Tools.extend(defaultOptions, defaultOverrideOptions, sectionResult.options(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, { external_plugins: getExternalPlugins(defaultOverrideOptions, sectionResult.options()) });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideOptions, extendedOptions);\n    };\n    const normalizeOptions = (defaultOverrideOptions, options) => combineOptions(isPhone || isTablet, isPhone, options, defaultOverrideOptions, options);\n\n    const addVisual = (editor, elm) => addVisual$1(editor, elm);\n\n    const registerExecCommands$3 = editor => {\n      const toggleFormat = (name, value) => {\n        editor.formatter.toggle(name, value);\n        editor.nodeChanged();\n      };\n      const toggleAlign = align => () => {\n        each$e('left,center,right,justify'.split(','), name => {\n          if (align !== name) {\n            editor.formatter.remove('align' + name);\n          }\n        });\n        if (align !== 'none') {\n          toggleFormat('align' + align);\n        }\n      };\n      editor.editorCommands.addCommands({\n        JustifyLeft: toggleAlign('left'),\n        JustifyCenter: toggleAlign('center'),\n        JustifyRight: toggleAlign('right'),\n        JustifyFull: toggleAlign('justify'),\n        JustifyNone: toggleAlign('none')\n      });\n    };\n    const registerQueryStateCommands$1 = editor => {\n      const alignStates = name => () => {\n        const selection = editor.selection;\n        const nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n        return exists(nodes, node => isNonNullable(editor.formatter.matchNode(node, name)));\n      };\n      editor.editorCommands.addCommands({\n        JustifyLeft: alignStates('alignleft'),\n        JustifyCenter: alignStates('aligncenter'),\n        JustifyRight: alignStates('alignright'),\n        JustifyFull: alignStates('alignjustify')\n      }, 'state');\n    };\n    const registerCommands$b = editor => {\n      registerExecCommands$3(editor);\n      registerQueryStateCommands$1(editor);\n    };\n\n    const registerCommands$a = editor => {\n      editor.editorCommands.addCommands({\n        'Cut,Copy,Paste': command => {\n          const doc = editor.getDoc();\n          let failed;\n          try {\n            doc.execCommand(command);\n          } catch (ex) {\n            failed = true;\n          }\n          if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n            failed = true;\n          }\n          if (failed || !doc.queryCommandSupported(command)) {\n            let msg = editor.translate(`Your browser doesn't support direct access to the clipboard. ` + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n            if (Env.os.isMacOS() || Env.os.isiOS()) {\n              msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n            }\n            editor.notificationManager.open({\n              text: msg,\n              type: 'error'\n            });\n          }\n        }\n      });\n    };\n\n    const trimOrPadLeftRight = (dom, rng, html, schema) => {\n      const root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng), schema)) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng), schema)) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    const processValue$1 = value => {\n      if (typeof value !== 'string') {\n        const details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    const trimOrPad = (editor, value) => {\n      const selection = editor.selection;\n      const dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        return trimOrPadLeftRight(dom, selection.getRng(), value, editor.schema);\n      } else {\n        return value;\n      }\n    };\n    const insertAtCaret = (editor, value) => {\n      if (editor.selection.isEditable()) {\n        const {content, details} = processValue$1(value);\n        preProcessSetContent(editor, {\n          ...details,\n          content: trimOrPad(editor, content),\n          format: 'html',\n          set: false,\n          selection: true\n        }).each(args => {\n          const insertedContent = insertContent$1(editor, args.content, details);\n          postProcessSetContent(editor, insertedContent, args);\n          editor.addVisual();\n        });\n      }\n    };\n\n    const registerCommands$9 = editor => {\n      editor.editorCommands.addCommands({\n        mceCleanup: () => {\n          const bm = editor.selection.getBookmark();\n          editor.setContent(editor.getContent());\n          editor.selection.moveToBookmark(bm);\n        },\n        insertImage: (_command, _ui, value) => {\n          insertAtCaret(editor, editor.dom.createHTML('img', { src: value }));\n        },\n        insertHorizontalRule: () => {\n          editor.execCommand('mceInsertContent', false, '<hr>');\n        },\n        insertText: (_command, _ui, value) => {\n          insertAtCaret(editor, editor.dom.encode(value));\n        },\n        insertHTML: (_command, _ui, value) => {\n          insertAtCaret(editor, value);\n        },\n        mceInsertContent: (_command, _ui, value) => {\n          insertAtCaret(editor, value);\n        },\n        mceSetContent: (_command, _ui, value) => {\n          editor.setContent(value);\n        },\n        mceReplaceContent: (_command, _ui, value) => {\n          editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n        },\n        mceNewDocument: () => {\n          editor.setContent(getNewDocumentContent(editor));\n        }\n      });\n    };\n\n    const legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    const isFont = isTag('font');\n    const getSpecifiedFontProp = (propName, rootElm, elm) => {\n      const getProperty = elm => getRaw(elm, propName).orThunk(() => {\n        if (isFont(elm)) {\n          return get$a(legacyPropNames, propName).bind(legacyPropName => getOpt(elm, legacyPropName));\n        } else {\n          return Optional.none();\n        }\n      });\n      const isRoot = elm => eq(SugarElement.fromDom(rootElm), elm);\n      return closest$1(SugarElement.fromDom(elm), elm => getProperty(elm), isRoot);\n    };\n    const normalizeFontFamily = fontFamily => fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    const getComputedFontProp = (propName, elm) => Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    const getFontProp = propName => (rootElm, elm) => Optional.from(elm).map(SugarElement.fromDom).filter(isElement$7).bind(element => getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom))).getOr('');\n    const getFontSize = getFontProp('font-size');\n    const getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    const findFirstCaretElement = editor => firstPositionIn(editor.getBody()).bind(caret => {\n      const container = caret.container();\n      return Optional.from(isText$a(container) ? container.parentNode : container);\n    });\n    const getCaretElement = editor => Optional.from(editor.selection.getRng()).bind(rng => {\n      const root = editor.getBody();\n      const atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n      return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n    });\n    const bindRange = (editor, binder) => getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement$7).bind(binder);\n    const mapRange = (editor, mapper) => bindRange(editor, compose1(Optional.some, mapper));\n\n    const fromFontSizeNumber = (editor, value) => {\n      if (/^[0-9.]+$/.test(value)) {\n        const fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          const fontSizes = getFontStyleValues(editor);\n          const fontClasses = getFontSizeClasses(editor);\n          if (fontClasses.length > 0) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    const normalizeFontNames = font => {\n      const fonts = font.split(/\\s*,\\s*/);\n      return map$3(fonts, font => {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, `'`))) {\n          return `'${ font }'`;\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    const fontNameAction = (editor, value) => {\n      const font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    const fontNameQuery = editor => mapRange(editor, elm => getFontFamily(editor.getBody(), elm.dom)).getOr('');\n    const fontSizeAction = (editor, value) => {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    const fontSizeQuery = editor => mapRange(editor, elm => getFontSize(editor.getBody(), elm.dom)).getOr('');\n\n    const lineHeightQuery = editor => mapRange(editor, elm => {\n      const root = SugarElement.fromDom(editor.getBody());\n      const specifiedStyle = closest$1(elm, elm => getRaw(elm, 'line-height'), curry(eq, root));\n      const computedStyle = () => {\n        const lineHeight = parseFloat(get$7(elm, 'line-height'));\n        const fontSize = parseFloat(get$7(elm, 'font-size'));\n        return String(lineHeight / fontSize);\n      };\n      return specifiedStyle.getOrThunk(computedStyle);\n    }).getOr('');\n    const lineHeightAction = (editor, lineHeight) => {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    const registerExecCommands$2 = editor => {\n      const toggleFormat = (name, value) => {\n        editor.formatter.toggle(name, value);\n        editor.nodeChanged();\n      };\n      editor.editorCommands.addCommands({\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': command => {\n          toggleFormat(command);\n        },\n        'ForeColor,HiliteColor': (command, _ui, value) => {\n          toggleFormat(command, { value });\n        },\n        'BackColor': (_command, _ui, value) => {\n          toggleFormat('hilitecolor', { value });\n        },\n        'FontName': (_command, _ui, value) => {\n          fontNameAction(editor, value);\n        },\n        'FontSize': (_command, _ui, value) => {\n          fontSizeAction(editor, value);\n        },\n        'LineHeight': (_command, _ui, value) => {\n          lineHeightAction(editor, value);\n        },\n        'Lang': (command, _ui, lang) => {\n          var _a;\n          toggleFormat(command, {\n            value: lang.code,\n            customValue: (_a = lang.customCode) !== null && _a !== void 0 ? _a : null\n          });\n        },\n        'RemoveFormat': command => {\n          editor.formatter.remove(command);\n        },\n        'mceBlockQuote': () => {\n          toggleFormat('blockquote');\n        },\n        'FormatBlock': (_command, _ui, value) => {\n          toggleFormat(isString(value) ? value : 'p');\n        },\n        'mceToggleFormat': (_command, _ui, value) => {\n          toggleFormat(value);\n        }\n      });\n    };\n    const registerQueryValueCommands = editor => {\n      const isFormatMatch = name => editor.formatter.match(name);\n      editor.editorCommands.addCommands({\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': command => isFormatMatch(command),\n        'mceBlockQuote': () => isFormatMatch('blockquote')\n      }, 'state');\n      editor.editorCommands.addQueryValueHandler('FontName', () => fontNameQuery(editor));\n      editor.editorCommands.addQueryValueHandler('FontSize', () => fontSizeQuery(editor));\n      editor.editorCommands.addQueryValueHandler('LineHeight', () => lineHeightQuery(editor));\n    };\n    const registerCommands$8 = editor => {\n      registerExecCommands$2(editor);\n      registerQueryValueCommands(editor);\n    };\n\n    const registerCommands$7 = editor => {\n      editor.editorCommands.addCommands({\n        mceAddUndoLevel: () => {\n          editor.undoManager.add();\n        },\n        mceEndUndoLevel: () => {\n          editor.undoManager.add();\n        },\n        Undo: () => {\n          editor.undoManager.undo();\n        },\n        Redo: () => {\n          editor.undoManager.redo();\n        }\n      });\n    };\n\n    const registerCommands$6 = editor => {\n      editor.editorCommands.addCommands({\n        Indent: () => {\n          indent(editor);\n        },\n        Outdent: () => {\n          outdent(editor);\n        }\n      });\n      editor.editorCommands.addCommands({ Outdent: () => canOutdent(editor) }, 'state');\n    };\n\n    const registerCommands$5 = editor => {\n      const applyLinkToSelection = (_command, _ui, value) => {\n        const linkDetails = isString(value) ? { href: value } : value;\n        const anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n        if (isObject(linkDetails) && isString(linkDetails.href)) {\n          linkDetails.href = linkDetails.href.replace(/ /g, '%20');\n          if (!anchor || !linkDetails.href) {\n            editor.formatter.remove('link');\n          }\n          if (linkDetails.href) {\n            editor.formatter.apply('link', linkDetails, anchor);\n          }\n        }\n      };\n      editor.editorCommands.addCommands({\n        unlink: () => {\n          if (editor.selection.isEditable()) {\n            if (editor.selection.isCollapsed()) {\n              const elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n              if (elm) {\n                editor.dom.remove(elm, true);\n              }\n              return;\n            }\n            editor.formatter.remove('link');\n          }\n        },\n        mceInsertLink: applyLinkToSelection,\n        createLink: applyLinkToSelection\n      });\n    };\n\n    const registerExecCommands$1 = editor => {\n      editor.editorCommands.addCommands({\n        'InsertUnorderedList,InsertOrderedList': command => {\n          editor.getDoc().execCommand(command);\n          const listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n          if (listElm) {\n            const listParent = listElm.parentNode;\n            if (listParent && /^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n              const bm = editor.selection.getBookmark();\n              editor.dom.split(listParent, listElm);\n              editor.selection.moveToBookmark(bm);\n            }\n          }\n        }\n      });\n    };\n    const registerQueryStateCommands = editor => {\n      editor.editorCommands.addCommands({\n        'InsertUnorderedList,InsertOrderedList': command => {\n          const list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n          return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n        }\n      }, 'state');\n    };\n    const registerCommands$4 = editor => {\n      registerExecCommands$1(editor);\n      registerQueryStateCommands(editor);\n    };\n\n    const getTopParentBlock = (editor, node, root, container) => {\n      const dom = editor.dom;\n      const selector = node => dom.isBlock(node) && node.parentElement === root;\n      const topParentBlock = selector(node) ? node : dom.getParent(container, selector, root);\n      return Optional.from(topParentBlock).map(SugarElement.fromDom);\n    };\n    const insert = (editor, before) => {\n      const dom = editor.dom;\n      const rng = editor.selection.getRng();\n      const node = before ? editor.selection.getStart() : editor.selection.getEnd();\n      const container = before ? rng.startContainer : rng.endContainer;\n      const root = getEditableRoot(dom, container);\n      if (!root || !root.isContentEditable) {\n        return;\n      }\n      const insertFn = before ? before$3 : after$4;\n      const newBlockName = getForcedRootBlock(editor);\n      getTopParentBlock(editor, node, root, container).each(parentBlock => {\n        const newBlock = createNewBlock(editor, container, parentBlock.dom, root, false, newBlockName);\n        insertFn(parentBlock, SugarElement.fromDom(newBlock));\n        editor.selection.setCursorLocation(newBlock, 0);\n        editor.dispatch('NewBlock', { newBlock });\n        fireInputEvent(editor, 'insertParagraph');\n      });\n    };\n    const insertBefore = editor => insert(editor, true);\n    const insertAfter = editor => insert(editor, false);\n\n    const registerCommands$3 = editor => {\n      editor.editorCommands.addCommands({\n        InsertNewBlockBefore: () => {\n          insertBefore(editor);\n        },\n        InsertNewBlockAfter: () => {\n          insertAfter(editor);\n        }\n      });\n    };\n\n    const registerCommands$2 = editor => {\n      editor.editorCommands.addCommands({\n        insertParagraph: () => {\n          insertBreak(blockbreak, editor);\n        },\n        mceInsertNewLine: (_command, _ui, value) => {\n          insert$1(editor, value);\n        },\n        InsertLineBreak: (_command, _ui, _value) => {\n          insertBreak(linebreak, editor);\n        }\n      });\n    };\n\n    const registerCommands$1 = editor => {\n      editor.editorCommands.addCommands({\n        mceSelectNodeDepth: (_command, _ui, value) => {\n          let counter = 0;\n          editor.dom.getParent(editor.selection.getNode(), node => {\n            if (isElement$6(node) && counter++ === value) {\n              editor.selection.select(node);\n              return false;\n            } else {\n              return true;\n            }\n          }, editor.getBody());\n        },\n        mceSelectNode: (_command, _ui, value) => {\n          editor.selection.select(value);\n        },\n        selectAll: () => {\n          const editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue$3);\n          if (editingHost) {\n            const rng = editor.dom.createRng();\n            rng.selectNodeContents(editingHost);\n            editor.selection.setRng(rng);\n          }\n        }\n      });\n    };\n\n    const registerExecCommands = editor => {\n      editor.editorCommands.addCommands({\n        mceRemoveNode: (_command, _ui, value) => {\n          const node = value !== null && value !== void 0 ? value : editor.selection.getNode();\n          if (node !== editor.getBody()) {\n            const bm = editor.selection.getBookmark();\n            editor.dom.remove(node, true);\n            editor.selection.moveToBookmark(bm);\n          }\n        },\n        mcePrint: () => {\n          editor.getWin().print();\n        },\n        mceFocus: (_command, _ui, value) => {\n          focus(editor, value === true);\n        },\n        mceToggleVisualAid: () => {\n          editor.hasVisual = !editor.hasVisual;\n          editor.addVisual();\n        }\n      });\n    };\n    const registerCommands = editor => {\n      registerCommands$b(editor);\n      registerCommands$a(editor);\n      registerCommands$7(editor);\n      registerCommands$1(editor);\n      registerCommands$9(editor);\n      registerCommands$5(editor);\n      registerCommands$6(editor);\n      registerCommands$3(editor);\n      registerCommands$2(editor);\n      registerCommands$4(editor);\n      registerCommands$8(editor);\n      registerExecCommands(editor);\n    };\n\n    const selectionSafeCommands = ['toggleview'];\n    const isSelectionSafeCommand = command => contains$2(selectionSafeCommands, command.toLowerCase());\n    class EditorCommands {\n      constructor(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n      }\n      execCommand(command, ui = false, value, args) {\n        const editor = this.editor;\n        const lowerCaseCommand = command.toLowerCase();\n        const skipFocus = args === null || args === void 0 ? void 0 : args.skip_focus;\n        if (editor.removed) {\n          return false;\n        }\n        if (lowerCaseCommand !== 'mcefocus') {\n          if (!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(lowerCaseCommand) && !skipFocus) {\n            editor.focus();\n          } else {\n            restore(editor);\n          }\n        }\n        const eventArgs = editor.dispatch('BeforeExecCommand', {\n          command,\n          ui,\n          value\n        });\n        if (eventArgs.isDefaultPrevented()) {\n          return false;\n        }\n        const func = this.commands.exec[lowerCaseCommand];\n        if (isFunction(func)) {\n          func(lowerCaseCommand, ui, value);\n          editor.dispatch('ExecCommand', {\n            command,\n            ui,\n            value\n          });\n          return true;\n        }\n        return false;\n      }\n      queryCommandState(command) {\n        if (!isSelectionSafeCommand(command) && this.editor.quirks.isHidden() || this.editor.removed) {\n          return false;\n        }\n        const lowerCaseCommand = command.toLowerCase();\n        const func = this.commands.state[lowerCaseCommand];\n        if (isFunction(func)) {\n          return func(lowerCaseCommand);\n        }\n        return false;\n      }\n      queryCommandValue(command) {\n        if (!isSelectionSafeCommand(command) && this.editor.quirks.isHidden() || this.editor.removed) {\n          return '';\n        }\n        const lowerCaseCommand = command.toLowerCase();\n        const func = this.commands.value[lowerCaseCommand];\n        if (isFunction(func)) {\n          return func(lowerCaseCommand);\n        }\n        return '';\n      }\n      addCommands(commandList, type = 'exec') {\n        const commands = this.commands;\n        each$d(commandList, (callback, command) => {\n          each$e(command.toLowerCase().split(','), command => {\n            commands[type][command] = callback;\n          });\n        });\n      }\n      addCommand(command, callback, scope) {\n        const lowerCaseCommand = command.toLowerCase();\n        this.commands.exec[lowerCaseCommand] = (_command, ui, value) => callback.call(scope !== null && scope !== void 0 ? scope : this.editor, ui, value);\n      }\n      queryCommandSupported(command) {\n        const lowerCaseCommand = command.toLowerCase();\n        if (this.commands.exec[lowerCaseCommand]) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n      addQueryStateHandler(command, callback, scope) {\n        this.commands.state[command.toLowerCase()] = () => callback.call(scope !== null && scope !== void 0 ? scope : this.editor);\n      }\n      addQueryValueHandler(command, callback, scope) {\n        this.commands.value[command.toLowerCase()] = () => callback.call(scope !== null && scope !== void 0 ? scope : this.editor);\n      }\n    }\n\n    const internalContentEditableAttr = 'data-mce-contenteditable';\n    const toggleClass = (elm, cls, state) => {\n      if (has(elm, cls) && !state) {\n        remove$7(elm, cls);\n      } else if (state) {\n        add$2(elm, cls);\n      }\n    };\n    const setEditorCommandState = (editor, cmd, state) => {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    const setContentEditable = (elm, state) => {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    const switchOffContentEditableTrue = elm => {\n      each$e(descendants(elm, '*[contenteditable=\"true\"]'), elm => {\n        set$3(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    const switchOnContentEditableTrue = elm => {\n      each$e(descendants(elm, `*[${ internalContentEditableAttr }=\"true\"]`), elm => {\n        remove$a(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    const removeFakeSelection = editor => {\n      Optional.from(editor.selection.getNode()).each(elm => {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    const restoreFakeSelection = editor => {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    const toggleReadOnly = (editor, state) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        if (editor.hasEditableRoot()) {\n          setContentEditable(body, true);\n        }\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    const isReadOnly = editor => editor.readonly;\n    const registerFilters = editor => {\n      editor.parser.addAttributeFilter('contenteditable', nodes => {\n        if (isReadOnly(editor)) {\n          each$e(nodes, node => {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, nodes => {\n        if (isReadOnly(editor)) {\n          each$e(nodes, node => {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    const registerReadOnlyContentFilters = editor => {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', () => {\n          registerFilters(editor);\n        });\n      }\n    };\n    const isClickEvent = e => e.type === 'click';\n    const allowedEvents = ['copy'];\n    const isReadOnlyAllowedEvent = e => contains$2(allowedEvents, e.type);\n    const getAnchorHrefOpt = (editor, elm) => {\n      const isRoot = elm => eq(elm, SugarElement.fromDom(editor.getBody()));\n      return closest$3(elm, 'a', isRoot).bind(a => getOpt(a, 'href'));\n    };\n    const processReadonlyEvents = (editor, e) => {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        const elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(href => {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            const targetEl = editor.dom.select(`${ href },[name=\"${ removeLeading(href, '#') }\"]`);\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      } else if (isReadOnlyAllowedEvent(e)) {\n        editor.dispatch(e.type, e);\n      }\n    };\n    const registerReadOnlySelectionBlockers = editor => {\n      editor.on('ShowCaret', e => {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', e => {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    const nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    class EventDispatcher {\n      static isNative(name) {\n        return !!nativeEvents[name.toLowerCase()];\n      }\n      constructor(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      fire(name, args) {\n        return this.dispatch(name, args);\n      }\n      dispatch(name, args) {\n        const lcName = name.toLowerCase();\n        const event = normalize$3(lcName, args !== null && args !== void 0 ? args : {}, this.scope);\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(event);\n        }\n        const handlers = this.bindings[lcName];\n        if (handlers) {\n          for (let i = 0, l = handlers.length; i < l; i++) {\n            const callback = handlers[i];\n            if (callback.removed) {\n              continue;\n            }\n            if (callback.once) {\n              this.off(lcName, callback.func);\n            }\n            if (event.isImmediatePropagationStopped()) {\n              return event;\n            }\n            if (callback.func.call(this.scope, event) === false) {\n              event.preventDefault();\n              return event;\n            }\n          }\n        }\n        return event;\n      }\n      on(name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          const wrappedCallback = {\n            func: callback,\n            removed: false\n          };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          const names = name.toLowerCase().split(' ');\n          let i = names.length;\n          while (i--) {\n            const currentName = names[i];\n            let handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers = [\n                wrappedCallback,\n                ...handlers\n              ];\n            } else {\n              handlers = [\n                ...handlers,\n                wrappedCallback\n              ];\n            }\n            this.bindings[currentName] = handlers;\n          }\n        }\n        return this;\n      }\n      off(name, callback) {\n        if (name) {\n          const names = name.toLowerCase().split(' ');\n          let i = names.length;\n          while (i--) {\n            const currentName = names[i];\n            let handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$d(this.bindings, (_value, bindingName) => {\n                this.toggleEvent(bindingName, false);\n                delete this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                const filteredHandlers = partition$2(handlers, handler => handler.func === callback);\n                handlers = filteredHandlers.fail;\n                this.bindings[currentName] = handlers;\n                each$e(filteredHandlers.pass, handler => {\n                  handler.removed = true;\n                });\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$d(this.bindings, (_value, name) => {\n            this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      }\n      once(name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      }\n      has(name) {\n        name = name.toLowerCase();\n        const binding = this.bindings[name];\n        return !(!binding || binding.length === 0);\n      }\n    }\n\n    const getEventDispatcher = obj => {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: (name, state) => {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    const Observable = {\n      fire(name, args, bubble) {\n        return this.dispatch(name, args, bubble);\n      },\n      dispatch(name, args, bubble) {\n        const self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return normalize$3(name.toLowerCase(), args !== null && args !== void 0 ? args : {}, self);\n        }\n        const dispatcherArgs = getEventDispatcher(self).dispatch(name, args);\n        if (bubble !== false && self.parent) {\n          let parent = self.parent();\n          while (parent && !dispatcherArgs.isPropagationStopped()) {\n            parent.dispatch(name, dispatcherArgs, false);\n            parent = parent.parent ? parent.parent() : undefined;\n          }\n        }\n        return dispatcherArgs;\n      },\n      on(name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off(name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once(name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners(name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    const DOM$2 = DOMUtils.DOM;\n    let customEventRootDelegates;\n    const getEventTarget = (editor, eventName) => {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      const eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$2.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    const isListening = editor => !editor.hidden && !isReadOnly(editor);\n    const fireEvent = (editor, eventName, e) => {\n      if (isListening(editor)) {\n        editor.dispatch(eventName, e);\n      } else if (isReadOnly(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    const bindEventDelegate = (editor, eventName) => {\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      const eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', () => {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$d(customEventRootDelegates, (_value, name) => {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        const delegate = e => {\n          const target = e.target;\n          const editors = editor.editorManager.get();\n          let i = editors.length;\n          while (i--) {\n            const body = editors[i].getBody();\n            if (body === target || DOM$2.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$2.bind(eventRootElm, eventName, delegate);\n      } else {\n        const delegate = e => {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$2.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    const EditorObservable = {\n      ...Observable,\n      bindPendingEventDelegates() {\n        const self = this;\n        Tools.each(self._pendingNativeEvents, name => {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent(name, state) {\n        const self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (self.removed) {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized && self.delegates) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents() {\n        const self = this;\n        const body = self.getBody();\n        const dom = self.dom;\n        if (self.delegates) {\n          each$d(self.delegates, (value, name) => {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    };\n\n    const stringListProcessor = value => {\n      if (isString(value)) {\n        return {\n          value: value.split(/[ ,]/),\n          valid: true\n        };\n      } else if (isArrayOf(value, isString)) {\n        return {\n          value,\n          valid: true\n        };\n      } else {\n        return {\n          valid: false,\n          message: `The value must be a string[] or a comma/space separated string.`\n        };\n      }\n    };\n    const getBuiltInProcessor = type => {\n      const validator = (() => {\n        switch (type) {\n        case 'array':\n          return isArray$1;\n        case 'boolean':\n          return isBoolean;\n        case 'function':\n          return isFunction;\n        case 'number':\n          return isNumber;\n        case 'object':\n          return isObject;\n        case 'string':\n          return isString;\n        case 'string[]':\n          return stringListProcessor;\n        case 'object[]':\n          return val => isArrayOf(val, isObject);\n        case 'regexp':\n          return val => is$4(val, RegExp);\n        default:\n          return always;\n        }\n      })();\n      return value => processValue(value, validator, `The value must be a ${ type }.`);\n    };\n    const isBuiltInSpec = spec => isString(spec.processor);\n    const getErrorMessage = (message, result) => {\n      const additionalText = isEmpty$3(result.message) ? '' : `. ${ result.message }`;\n      return message + additionalText;\n    };\n    const isValidResult = result => result.valid;\n    const processValue = (value, processor, message = '') => {\n      const result = processor(value);\n      if (isBoolean(result)) {\n        return result ? {\n          value: value,\n          valid: true\n        } : {\n          valid: false,\n          message\n        };\n      } else {\n        return result;\n      }\n    };\n    const processDefaultValue = (name, defaultValue, processor) => {\n      if (!isUndefined(defaultValue)) {\n        const result = processValue(defaultValue, processor);\n        if (isValidResult(result)) {\n          return result.value;\n        } else {\n          console.error(getErrorMessage(`Invalid default value passed for the \"${ name }\" option`, result));\n        }\n      }\n      return undefined;\n    };\n    const create$5 = (editor, initialOptions) => {\n      const registry = {};\n      const values = {};\n      const setValue = (name, value, processor) => {\n        const result = processValue(value, processor);\n        if (isValidResult(result)) {\n          values[name] = result.value;\n          return true;\n        } else {\n          console.warn(getErrorMessage(`Invalid value passed for the ${ name } option`, result));\n          return false;\n        }\n      };\n      const register = (name, spec) => {\n        const processor = isBuiltInSpec(spec) ? getBuiltInProcessor(spec.processor) : spec.processor;\n        const defaultValue = processDefaultValue(name, spec.default, processor);\n        registry[name] = {\n          ...spec,\n          default: defaultValue,\n          processor\n        };\n        const initValue = get$a(values, name).orThunk(() => get$a(initialOptions, name));\n        initValue.each(value => setValue(name, value, processor));\n      };\n      const isRegistered = name => has$2(registry, name);\n      const get = name => get$a(values, name).orThunk(() => get$a(registry, name).map(spec => spec.default)).getOrUndefined();\n      const set = (name, value) => {\n        if (!isRegistered(name)) {\n          console.warn(`\"${ name }\" is not a registered option. Ensure the option has been registered before setting a value.`);\n          return false;\n        } else {\n          const spec = registry[name];\n          if (spec.immutable) {\n            console.error(`\"${ name }\" is an immutable option and cannot be updated`);\n            return false;\n          } else {\n            return setValue(name, value, spec.processor);\n          }\n        }\n      };\n      const unset = name => {\n        const registered = isRegistered(name);\n        if (registered) {\n          delete values[name];\n        }\n        return registered;\n      };\n      const isSet = name => has$2(values, name);\n      return {\n        register,\n        isRegistered,\n        get,\n        set,\n        unset,\n        isSet\n      };\n    };\n\n    const defaultModes = [\n      'design',\n      'readonly'\n    ];\n    const switchToMode = (editor, activeMode, availableModes, mode) => {\n      const oldMode = availableModes[activeMode.get()];\n      const newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error(`problem while activating editor mode ${ mode }:`, e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    const setMode = (editor, availableModes, activeMode, mode) => {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has$2(availableModes, mode)) {\n        throw new Error(`Editor mode '${ mode }' is invalid`);\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', () => switchToMode(editor, activeMode, availableModes, mode));\n      }\n    };\n    const registerMode = (availableModes, mode, api) => {\n      if (contains$2(defaultModes, mode)) {\n        throw new Error(`Cannot override default mode ${ mode }`);\n      }\n      return {\n        ...availableModes,\n        [mode]: {\n          ...api,\n          deactivate: () => {\n            try {\n              api.deactivate();\n            } catch (e) {\n              console.error(`problem while deactivating editor mode ${ mode }:`, e);\n            }\n          }\n        }\n      };\n    };\n\n    const create$4 = editor => {\n      const activeMode = Cell('design');\n      const availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: () => isReadOnly(editor),\n        set: mode => setMode(editor, availableModes.get(), activeMode, mode),\n        get: () => activeMode.get(),\n        register: (mode, api) => {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    const each$2 = Tools.each, explode = Tools.explode;\n    const keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    const modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    const isModifier = key => key in modifierNames;\n    const parseShortcut = pattern => {\n      const shortcut = {};\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      each$2(explode(pattern.toLowerCase(), '+'), value => {\n        if (isModifier(value)) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      const id = [shortcut.keyCode];\n      let key;\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (isMac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (isMac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    class Shortcuts {\n      constructor(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        const self = this;\n        editor.on('keyup keypress keydown', e => {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$2(self.shortcuts, shortcut => {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      add(pattern, desc, cmdFunc, scope) {\n        const self = this;\n        const func = self.normalizeCommandFunc(cmdFunc);\n        each$2(explode(Tools.trim(pattern)), pattern => {\n          const shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      }\n      remove(pattern) {\n        const shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      }\n      normalizeCommandFunc(cmdFunc) {\n        const self = this;\n        const cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return () => {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return () => {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      }\n      createShortcut(pattern, desc, cmdFunc, scope) {\n        const shortcuts = Tools.map(explode(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      }\n      hasModifier(e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      }\n      isFunctionKey(e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      }\n      matchShortcut(e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      }\n      executeShortcutAction(shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      }\n    }\n\n    const create$3 = () => {\n      const buttons = {};\n      const menuItems = {};\n      const popups = {};\n      const icons = {};\n      const contextMenus = {};\n      const contextToolbars = {};\n      const sidebars = {};\n      const views = {};\n      const add = (collection, type) => (name, spec) => {\n        collection[name.toLowerCase()] = {\n          ...spec,\n          type\n        };\n      };\n      const addIcon = (name, svgData) => icons[name.toLowerCase()] = svgData;\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addView: add(views, 'views'),\n        addIcon,\n        getAll: () => ({\n          buttons,\n          menuItems,\n          icons,\n          popups,\n          contextMenus,\n          contextToolbars,\n          sidebars,\n          views\n        })\n      };\n    };\n\n    const registry = () => {\n      const bridge = create$3();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        addView: bridge.addView,\n        getAll: bridge.getAll\n      };\n    };\n\n    const DOM$1 = DOMUtils.DOM;\n    const extend = Tools.extend, each$1 = Tools.each;\n    class Editor {\n      constructor(id, options, editorManager) {\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.composing = false;\n        this.destroyed = false;\n        this.hasHiddenInput = false;\n        this.iframeElement = null;\n        this.initialized = false;\n        this.readonly = false;\n        this.removed = false;\n        this.startContent = '';\n        this._pendingNativeEvents = [];\n        this._skinLoaded = false;\n        this._editableRoot = true;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend(this, EditorObservable);\n        const self = this;\n        this.id = id;\n        this.hidden = false;\n        const normalizedOptions = normalizeOptions(editorManager.defaultOptions, options);\n        this.options = create$5(self, normalizedOptions);\n        register$7(self);\n        const getOption = this.options.get;\n        if (getOption('deprecation_warnings')) {\n          logWarnings(options, normalizedOptions);\n        }\n        const suffix = getOption('suffix');\n        if (suffix) {\n          editorManager.suffix = suffix;\n        }\n        this.suffix = editorManager.suffix;\n        const baseUrl = getOption('base_url');\n        if (baseUrl) {\n          editorManager._setBaseUrl(baseUrl);\n        }\n        this.baseUri = editorManager.baseURI;\n        const referrerPolicy = getReferrerPolicy(self);\n        if (referrerPolicy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(referrerPolicy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(referrerPolicy);\n        }\n        const contentCssCors = hasContentCssCors(self);\n        if (isNonNullable(contentCssCors)) {\n          DOMUtils.DOM.styleSheetLoader._setContentCssCors(contentCssCors);\n        }\n        AddOnManager.languageLoad = getOption('language_load');\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(getDocumentBaseUrl(self), { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = isInline$1(self);\n        this.hasVisual = isVisualAidsEnabled(self);\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        registerCommands(this);\n        const cacheSuffix = getOption('cache_suffix');\n        if (cacheSuffix) {\n          Env.cacheSuffix = cacheSuffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          setEnabled: noop,\n          isEnabled: always\n        };\n        this.mode = create$4(self);\n        editorManager.dispatch('SetupEditor', { editor: this });\n        const setupCallback = getSetupCallback(self);\n        if (isFunction(setupCallback)) {\n          setupCallback.call(self, self);\n        }\n      }\n      render() {\n        render(this);\n      }\n      focus(skipFocus) {\n        this.execCommand('mceFocus', false, skipFocus);\n      }\n      hasFocus() {\n        return hasFocus(this);\n      }\n      translate(text) {\n        return I18n.translate(text);\n      }\n      getParam(name, defaultVal, type) {\n        const options = this.options;\n        if (!options.isRegistered(name)) {\n          if (isNonNullable(type)) {\n            options.register(name, {\n              processor: type,\n              default: defaultVal\n            });\n          } else {\n            options.register(name, {\n              processor: always,\n              default: defaultVal\n            });\n          }\n        }\n        return !options.isSet(name) && !isUndefined(defaultVal) ? defaultVal : options.get(name);\n      }\n      hasPlugin(name, loaded) {\n        const hasPlugin = contains$2(getPlugins(this), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      }\n      nodeChanged(args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      }\n      addCommand(name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      }\n      addQueryStateHandler(name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      }\n      addQueryValueHandler(name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      }\n      addShortcut(pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      }\n      execCommand(cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      }\n      queryCommandState(cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      }\n      queryCommandValue(cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      }\n      queryCommandSupported(cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      }\n      show() {\n        const self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$1.show(self.getContainer());\n            DOM$1.hide(self.id);\n          }\n          self.load();\n          self.dispatch('show');\n        }\n      }\n      hide() {\n        const self = this;\n        if (!self.hidden) {\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$1.hide(self.getContainer());\n            DOM$1.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.dispatch('hide');\n        }\n      }\n      isHidden() {\n        return this.hidden;\n      }\n      setProgressState(state, time) {\n        this.dispatch('ProgressState', {\n          state,\n          time\n        });\n      }\n      load(args = {}) {\n        const self = this;\n        const elm = self.getElement();\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          const loadArgs = {\n            ...args,\n            load: true\n          };\n          const value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          const html = self.setContent(value, loadArgs);\n          if (!loadArgs.no_events) {\n            self.dispatch('LoadContent', {\n              ...loadArgs,\n              element: elm\n            });\n          }\n          return html;\n        } else {\n          return '';\n        }\n      }\n      save(args = {}) {\n        const self = this;\n        let elm = self.getElement();\n        if (!elm || !self.initialized || self.removed) {\n          return '';\n        }\n        const getArgs = {\n          ...args,\n          save: true,\n          element: elm\n        };\n        let html = self.getContent(getArgs);\n        const saveArgs = {\n          ...getArgs,\n          content: html\n        };\n        if (!saveArgs.no_events) {\n          self.dispatch('SaveContent', saveArgs);\n        }\n        if (saveArgs.format === 'raw') {\n          self.dispatch('RawSaveContent', saveArgs);\n        }\n        html = saveArgs.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          const form = DOM$1.getParent(self.id, 'form');\n          if (form) {\n            each$1(form.elements, elm => {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              } else {\n                return true;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        saveArgs.element = getArgs.element = elm = null;\n        if (saveArgs.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      }\n      setContent(content, args) {\n        return setContent(this, content, args);\n      }\n      getContent(args) {\n        return getContent(this, args);\n      }\n      insertContent(content, args) {\n        if (args) {\n          content = extend({ content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      }\n      resetContent(initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      }\n      isDirty() {\n        return !this.isNotDirty;\n      }\n      setDirty(state) {\n        const oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.dispatch('dirty');\n        }\n      }\n      getContainer() {\n        const self = this;\n        if (!self.container) {\n          self.container = self.editorContainer || DOM$1.get(self.id + '_parent');\n        }\n        return self.container;\n      }\n      getContentAreaContainer() {\n        return this.contentAreaContainer;\n      }\n      getElement() {\n        if (!this.targetElm) {\n          this.targetElm = DOM$1.get(this.id);\n        }\n        return this.targetElm;\n      }\n      getWin() {\n        const self = this;\n        if (!self.contentWindow) {\n          const elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      }\n      getDoc() {\n        const self = this;\n        if (!self.contentDocument) {\n          const win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      }\n      getBody() {\n        var _a, _b;\n        const doc = this.getDoc();\n        return (_b = (_a = this.bodyElement) !== null && _a !== void 0 ? _a : doc === null || doc === void 0 ? void 0 : doc.body) !== null && _b !== void 0 ? _b : null;\n      }\n      convertURL(url, name, elm) {\n        const self = this, getOption = self.options.get;\n        const urlConverterCallback = getUrlConverterCallback(self);\n        if (isFunction(urlConverterCallback)) {\n          return urlConverterCallback.call(self, url, elm, true, name);\n        }\n        if (!getOption('convert_urls') || elm === 'link' || isObject(elm) && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        const urlObject = new URI(url);\n        if (urlObject.protocol !== 'http' && urlObject.protocol !== 'https' && urlObject.protocol !== '') {\n          return url;\n        }\n        if (getOption('relative_urls')) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, getOption('remove_script_host'));\n        return url;\n      }\n      addVisual(elm) {\n        addVisual(this, elm);\n      }\n      setEditableRoot(state) {\n        setEditableRoot(this, state);\n      }\n      hasEditableRoot() {\n        return hasEditableRoot(this);\n      }\n      remove() {\n        remove$1(this);\n      }\n      destroy(automatic) {\n        destroy(this, automatic);\n      }\n      uploadImages() {\n        return this.editorUpload.uploadImages();\n      }\n      _scanForImages() {\n        return this.editorUpload.scanForImages();\n      }\n    }\n\n    const DOM = DOMUtils.DOM;\n    const each = Tools.each;\n    let boundGlobalEvents = false;\n    let beforeUnloadDelegate;\n    let editors = [];\n    const globalEventDelegate = e => {\n      const type = e.type;\n      each(EditorManager.get(), editor => {\n        switch (type) {\n        case 'scroll':\n          editor.dispatch('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.dispatch('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    const toggleGlobalEvents = state => {\n      if (state !== boundGlobalEvents) {\n        const DOM = DOMUtils.DOM;\n        if (state) {\n          DOM.bind(window, 'resize', globalEventDelegate);\n          DOM.bind(window, 'scroll', globalEventDelegate);\n        } else {\n          DOM.unbind(window, 'resize', globalEventDelegate);\n          DOM.unbind(window, 'scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    const removeEditorFromList = targetEditor => {\n      const oldEditors = editors;\n      editors = filter$5(editors, editor => {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    const purgeDestroyedEditor = editor => {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n      }\n    };\n    const isQuirksMode = document.compatMode !== 'CSS1Compat';\n    const EditorManager = {\n      ...Observable,\n      baseURI: null,\n      baseURL: null,\n      defaultOptions: {},\n      documentBaseURL: null,\n      suffix: null,\n      majorVersion: '6',\n      minorVersion: '8.3',\n      releaseDate: '2024-02-08',\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      setup() {\n        const self = this;\n        let baseURL = '';\n        let suffix = '';\n        let documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        const preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          const scripts = document.getElementsByTagName('script');\n          for (let i = 0; i < scripts.length; i++) {\n            const src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            const srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            const src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$w(self);\n      },\n      overrideDefaults(defaultOptions) {\n        const baseUrl = defaultOptions.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        const suffix = defaultOptions.suffix;\n        if (suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultOptions = defaultOptions;\n        const pluginBaseUrls = defaultOptions.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$d(pluginBaseUrls, (pluginBaseUrl, pluginName) => {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init(options) {\n        const self = this;\n        let result;\n        const invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        const isInvalidInlineTarget = (options, elm) => options.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        const createId = elm => {\n          let id = elm.id;\n          if (!id) {\n            id = get$a(elm, 'name').filter(name => !DOM.get(name)).getOrThunk(DOM.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        const execCallback = name => {\n          const callback = options[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        const findTargets = options => {\n          if (Env.browser.isIE() || Env.browser.isEdge()) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          } else if (isString(options.selector)) {\n            return DOM.select(options.selector);\n          } else if (isNonNullable(options.target)) {\n            return [options.target];\n          } else {\n            return [];\n          }\n        };\n        let provideResults = editors => {\n          result = editors;\n        };\n        const initEditors = () => {\n          let initCount = 0;\n          const editors = [];\n          let targets;\n          const createEditor = (id, options, targetElm) => {\n            const editor = new Editor(id, options, self);\n            editors.push(editor);\n            editor.on('init', () => {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = unique$1(findTargets(options));\n          Tools.each(targets, elm => {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, elm => {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each(targets, elm => {\n              if (isInvalidInlineTarget(options, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), options, elm);\n              }\n            });\n          }\n        };\n        DOM.bind(window, 'ready', initEditors);\n        return new Promise(resolve => {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = editors => {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get(id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString(id)) {\n          return find$2(editors, editor => {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add(editor) {\n        const self = this;\n        const existingEditor = self.get(editor.id);\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (existingEditor === null) {\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.dispatch('AddEditor', { editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = e => {\n            const event = self.dispatch('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor(id, options) {\n        return this.add(new Editor(id, options, this));\n      },\n      remove(selector) {\n        const self = this;\n        let editor;\n        if (!selector) {\n          for (let i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString(selector)) {\n          each(DOM.select(selector), elm => {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.dispatch('RemoveEditor', { editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand(cmd, ui, value) {\n        var _a;\n        const self = this;\n        const editorId = isObject(value) ? (_a = value.id) !== null && _a !== void 0 ? _a : value.index : value;\n        switch (cmd) {\n        case 'mceAddEditor': {\n            if (!self.get(editorId)) {\n              const editorOptions = value.options;\n              new Editor(editorId, editorOptions, self).render();\n            }\n            return true;\n          }\n        case 'mceRemoveEditor': {\n            const editor = self.get(editorId);\n            if (editor) {\n              editor.remove();\n            }\n            return true;\n          }\n        case 'mceToggleEditor': {\n            const editor = self.get(editorId);\n            if (!editor) {\n              self.execCommand('mceAddEditor', false, value);\n              return true;\n            }\n            if (editor.isHidden()) {\n              editor.show();\n            } else {\n              editor.hide();\n            }\n            return true;\n          }\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: () => {\n        each(editors, editor => {\n          editor.save();\n        });\n      },\n      addI18n: (code, items) => {\n        I18n.add(code, items);\n      },\n      translate: text => {\n        return I18n.translate(text);\n      },\n      setActive(editor) {\n        const activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.dispatch('deactivate', { relatedTarget: editor });\n          }\n          editor.dispatch('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl(baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    };\n    EditorManager.setup();\n\n    const setup = () => {\n      const dataValue = value$2();\n      const FakeClipboardItem = items => ({\n        items,\n        types: keys(items),\n        getType: type => get$a(items, type).getOrUndefined()\n      });\n      const write = data => {\n        dataValue.set(data);\n      };\n      const read = () => dataValue.get().getOrUndefined();\n      const clear = dataValue.clear;\n      return {\n        FakeClipboardItem,\n        write,\n        read,\n        clear\n      };\n    };\n    const FakeClipboard = setup();\n\n    const min = Math.min, max = Math.max, round = Math.round;\n    const relativePosition = (rect, targetRect, rel) => {\n      let x = targetRect.x;\n      let y = targetRect.y;\n      const w = rect.w;\n      const h = rect.h;\n      const targetW = targetRect.w;\n      const targetH = targetRect.h;\n      const relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round(w / 2);\n      }\n      return create$2(x, y, w, h);\n    };\n    const findBestRelativePosition = (rect, targetRect, constrainRect, rels) => {\n      for (let i = 0; i < rels.length; i++) {\n        const pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    const inflate = (rect, w, h) => {\n      return create$2(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    const intersect = (rect, cropRect) => {\n      const x1 = max(rect.x, cropRect.x);\n      const y1 = max(rect.y, cropRect.y);\n      const x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n      const y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    const clamp = (rect, clampRect, fixedSize) => {\n      let x1 = rect.x;\n      let y1 = rect.y;\n      let x2 = rect.x + rect.w;\n      let y2 = rect.y + rect.h;\n      const cx2 = clampRect.x + clampRect.w;\n      const cy2 = clampRect.y + clampRect.h;\n      const underflowX1 = max(0, clampRect.x - x1);\n      const underflowY1 = max(0, clampRect.y - y1);\n      const overflowX2 = max(0, x2 - cx2);\n      const overflowY2 = max(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    const create$2 = (x, y, w, h) => {\n      return {\n        x,\n        y,\n        w,\n        h\n      };\n    };\n    const fromClientRect = clientRect => {\n      return create$2(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    const Rect = {\n      inflate,\n      relativePosition,\n      findBestRelativePosition,\n      intersect,\n      clamp,\n      create: create$2,\n      fromClientRect\n    };\n\n    const awaiter = (resolveCb, rejectCb, timeout = 1000) => {\n      let done = false;\n      let timer = null;\n      const complete = completer => (...args) => {\n        if (!done) {\n          done = true;\n          if (timer !== null) {\n            clearTimeout(timer);\n            timer = null;\n          }\n          completer.apply(null, args);\n        }\n      };\n      const resolve = complete(resolveCb);\n      const reject = complete(rejectCb);\n      const start = (...args) => {\n        if (!done && timer === null) {\n          timer = setTimeout(() => reject.apply(null, args), timeout);\n        }\n      };\n      return {\n        start,\n        resolve,\n        reject\n      };\n    };\n    const create$1 = () => {\n      const tasks = {};\n      const resultFns = {};\n      const resources = {};\n      const load = (id, url) => {\n        const loadErrMsg = `Script at URL \"${ url }\" failed to load`;\n        const runErrMsg = `Script at URL \"${ url }\" did not call \\`tinymce.Resource.add('${ id }', data)\\` within 1 second`;\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          const task = new Promise((resolve, reject) => {\n            const waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url).then(() => waiter.start(runErrMsg), () => waiter.reject(loadErrMsg));\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      const add = (id, data) => {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = Promise.resolve(data);\n        resources[id] = data;\n      };\n      const has = id => {\n        return id in resources;\n      };\n      const unload = id => {\n        delete tasks[id];\n      };\n      const get = id => resources[id];\n      return {\n        load,\n        add,\n        has,\n        get,\n        unload\n      };\n    };\n    const Resource = create$1();\n\n    const create = () => (() => {\n      let data = {};\n      let keys = [];\n      const storage = {\n        getItem: key => {\n          const item = data[key];\n          return item ? item : null;\n        },\n        setItem: (key, value) => {\n          keys.push(key);\n          data[key] = String(value);\n        },\n        key: index => {\n          return keys[index];\n        },\n        removeItem: key => {\n          keys = keys.filter(k => k === key);\n          delete data[key];\n        },\n        clear: () => {\n          keys = [];\n          data = {};\n        },\n        length: 0\n      };\n      Object.defineProperty(storage, 'length', {\n        get: () => keys.length,\n        configurable: false,\n        enumerable: false\n      });\n      return storage;\n    })();\n\n    let localStorage;\n    try {\n      const test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create();\n    }\n    var LocalStorage = localStorage;\n\n    const publicApi = {\n      geom: { Rect },\n      util: {\n        Delay,\n        Tools,\n        VK,\n        URI,\n        EventDispatcher,\n        Observable,\n        I18n,\n        LocalStorage,\n        ImageUploader\n      },\n      dom: {\n        EventUtils,\n        TreeWalker: DomTreeWalker,\n        TextSeeker,\n        DOMUtils,\n        ScriptLoader,\n        RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader,\n        ControlSelection,\n        BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles,\n        Entities,\n        Node: AstNode,\n        Schema,\n        DomParser,\n        Writer,\n        Serializer: HtmlSerializer\n      },\n      Env,\n      AddOnManager,\n      Annotator,\n      Formatter,\n      UndoManager,\n      EditorCommands,\n      WindowManager,\n      NotificationManager,\n      EditorObservable,\n      Shortcuts,\n      Editor,\n      FocusManager,\n      EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager,\n      ThemeManager,\n      ModelManager,\n      IconManager,\n      Resource,\n      FakeClipboard,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      walk: Tools.walk,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix\n    };\n    const tinymce$1 = Tools.extend(EditorManager, publicApi);\n\n    const exportToModuleLoaders = tinymce => {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    const exportToWindowGlobal = tinymce => {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce$1);\n    exportToModuleLoaders(tinymce$1);\n\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}