{"ast":null,"code":"import axios from 'axios';\nimport { useStore } from '../../../store';\nexport default {\n  name: 'AppProfileSetting',\n  data() {\n    const store = useStore();\n    return {\n      store,\n      user: [],\n      countries: []\n    };\n  },\n  computed: {\n    userName() {\n      return this.store.user;\n    },\n    userBadge() {\n      return this.store.badge;\n    },\n    avatar() {\n      return this.store.imageUser;\n    },\n    userId() {\n      return this.store.user_id;\n    },\n    coverImage() {\n      return this.store.coverImage;\n    }\n  },\n  mounted() {\n    this.getUserInfo();\n  },\n  created() {\n    axios.get('https://restcountries.com/v3.1/all').then(response => {\n      this.countries = response.data.sort((a, b) => a.name.common.localeCompare(b.name.common));\n    }).catch(error => console.error('Error:', error));\n  },\n  methods: {\n    uploadsImageCover() {\n      document.getElementById('fileinput').click();\n    },\n    uploadsImageProfile() {\n      document.getElementById('fileinputProfil').click();\n    },\n    async changeImage(type) {\n      const file = document.getElementById(`fileinput${type}`).files[0];\n      if (file.length === 0) {\n        console.log(\"No file selected\");\n        return;\n      }\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      const formData = new FormData();\n      formData.append('image', file);\n      formData.append('type', type);\n      formData.append('id', this.userId);\n      const response = await axios.post(`http://localhost:8000/api/uploadImage`, formData);\n      if (type == 'Profil') {\n        reader.onload = e => {\n          this.store.imageUser = e.target.result;\n        };\n        this.store.setImageUser(response.data.image);\n      } else {\n        reader.onload = e => {\n          this.store.coverImage = e.target.result;\n        };\n        this.store.setCoverImage(response.data.image);\n      }\n    },\n    async getUserInfo() {\n      let response = await axios.get(`http://localhost:8000/api/getUserInfo/${this.userId}`);\n      this.user = response.data.user;\n    },\n    async submitForm() {\n      con;\n      // let response = await axios.post(`http://localhost:8000/api/updateUserInfo/${this.userId}`, this.user);\n      // if(response.data.success){\n      //     alert('Your information has been updated');\n      // }\n    }\n  }\n};","map":{"version":3,"names":["axios","useStore","name","data","store","user","countries","computed","userName","userBadge","badge","avatar","imageUser","userId","user_id","coverImage","mounted","getUserInfo","created","get","then","response","sort","a","b","common","localeCompare","catch","error","console","methods","uploadsImageCover","document","getElementById","click","uploadsImageProfile","changeImage","type","file","files","length","log","reader","FileReader","readAsDataURL","formData","FormData","append","post","onload","e","target","result","setImageUser","image","setCoverImage","submitForm","con"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\User\\componrntsProfile\\AppProfileSetting.vue"],"sourcesContent":["<template>\r\n    <div class=\"sectionBadge pe-4\">\r\n        <div class=\"bg-white shadow\">\r\n            <section class=\"cover\" :style=\"{ backgroundImage: `url(${coverImage})`, backgroundSize: 'cover' }\">\r\n                <div class=\"coverInfo row p-3\">\r\n                    <div class=\"profile col-2 d-flex flex-column justify-content-end\">\r\n                        <input type=\"file\" @change=\"changeImage('Profil')\" class=\"d-none\" id=\"fileinputProfil\">\r\n                        <img @click=\"uploadsImageProfile\" class=\"cursor-point imageProfil\" :src=\"avatar\" alt=\"image\" height=\"140px\" width=\"140px\">\r\n                    </div>\r\n                    <div class=\"infoProfile col pt-4 pe-4\">\r\n                        <input type=\"file\" class=\"d-none\" @change=\"changeImage('Cover')\" id=\"fileinputCover\">\r\n                        <div @click=\"uploadsImageCover\" class=\"fw-bold h1 text-white text-end cursor-point\">Tap Upload Your <br>\r\n                            Cover Photo</div>\r\n                        <div class=\"containName infoProfileHiden  m-1 rounded-1 d-flex justify-content-between align-items-center\">\r\n                            <btn class=\"btn btn-dark p-1 h4 mt-2 fw-bold mx-3\">{{userName}}</btn>\r\n                            <div class=\"buttons d-flex gap-4 \">\r\n                                <router-link to='/user/settings'> <button class=\"btn btn-dark m-1\">Edit</button></router-link>\r\n                                <button :class=\"userBadge\" class=\"m-1\">{{userBadge}}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section> \r\n            <div class=\"border-bottom container-mf pt-4 pb-4 d-flex justify-content-between align-items-center\">\r\n                <span class=\"fw-bold text-secondary\">Home / <span class=\"text-secondary-500\"> RabieImghi</span></span>  \r\n                <router-link to=\"/user/myQuestion\" >\r\n                    <button class=\"btn btn-light shadow fw-bold text-secondary\">Show All Your Question</button>\r\n                </router-link> \r\n            </div> \r\n            \r\n            <section class=\"container-mf mt-4 pt-2\">\r\n                <form class=\"mt-4\">\r\n                    <div class=\"d-flex align-items-center gap-2\">\r\n                        <img src=\"../../../assets/img/information.png\" class=\"imageprofilesetting2\" width=\"50px\" alt=\"info\">\r\n                        <div class=\"fw-bold text-secondary h3 pt-2\">Basic Information</div>\r\n                    </div>\r\n                    <hr>\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">Nickname <span class=\"text-danger\">*</span></label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.name\" placeholder=\"RabieImghi\">\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">First Name <span class=\"text-danger\">*</span></label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.firstName\" placeholder=\"Rabe\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row pt-4\">\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">Last Name <span class=\"text-danger\">*</span></label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.lastName\" placeholder=\"Ait Imghi\">\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">Country <span class=\"text-warning\">(optionel)</span></label>\r\n                            <select name=\"country\" id=\"\" class=\"form-control\">\r\n                                <option v-for=\"country in countries\" :key=\"country.common\" :value=\"country.name.common\">\r\n                                    {{ country.name.common }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row pt-4\">\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">Phone <span class=\"text-warning\">(optionel)</span></label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.phone\" placeholder=\"+21260000-0000\">\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">E-Mail </label>\r\n                            <input type=\"text\" class=\"form-control\"  readonly :value=\"user.email\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"d-flex align-items-center gap-2 pt-4\">\r\n                        <img src=\"../../../assets/img/webpage.png\" class=\"imageprofilesetting\" width=\"40px\" alt=\"info\">\r\n                        <div class=\"fw-bold text-secondary h3 pt-2\">Social Profiles </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-primary\">Facebook (url) </label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.facebook\" placeholder=\"https://example.com\">\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-dark\">Github (url)</label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.Github\" placeholder=\"https://example.com\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row pt-4\">\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-success\">whatsapp (Num)</label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.whatsapp\" placeholder=\"+21260000-0000\">\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-danger\">Email (Email)</label>\r\n                            <input type=\"email\" class=\"form-control\" :value=\"user.emailSosial\" placeholder=\"example@gmail.com\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row pt-4\">\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-primary \">LinkedIn (url)</label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.linkedin\" placeholder=\"https://example.com\">\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <label class=\"fw-bold h6 text-secondary\">Web Site (url)</label>\r\n                            <input type=\"text\" class=\"form-control\" :value=\"user.WebSite\" placeholder=\"www.example.com\">\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"btn btn-primary w-100 mt-3\" @click=\"submitForm\">Save Your Info</button>\r\n                </form>\r\n            </section>\r\n            <footer class=\"text-center text-secondary border-top mt-4 fw-bold pt-3\">\r\n                © Copyright AskMe. All Rights Reserved <br>\r\n                Designed by Rabie Ait Imghi\r\n            </footer>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import axios from 'axios';\r\n    import { useStore } from '../../../store';\r\n    export default{\r\n        name: 'AppProfileSetting',\r\n        data() {\r\n            const store = useStore();\r\n            return {\r\n                store,\r\n                user: [],\r\n                countries: [],\r\n            };\r\n        },\r\n        computed: {\r\n            userName(){\r\n                return this.store.user;\r\n            },\r\n            userBadge(){\r\n                return this.store.badge;\r\n            },\r\n            avatar(){\r\n                return this.store.imageUser;\r\n            },\r\n            userId(){\r\n                return this.store.user_id;\r\n            },\r\n            coverImage(){\r\n                return this.store.coverImage;\r\n            },\r\n        },\r\n        mounted(){\r\n            this.getUserInfo();\r\n        },\r\n        created() {\r\n            axios.get('https://restcountries.com/v3.1/all')\r\n            .then(response => {\r\n                this.countries = response.data.sort((a, b) => a.name.common.localeCompare(b.name.common));\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n        },\r\n        methods:{\r\n            uploadsImageCover(){\r\n                document.getElementById('fileinput').click();\r\n            },\r\n            uploadsImageProfile(){\r\n                document.getElementById('fileinputProfil').click();\r\n            },\r\n            async changeImage(type){\r\n                const file = document.getElementById(`fileinput${type}`).files[0];\r\n                if (file.length === 0) {\r\n                    console.log(\"No file selected\");\r\n                    return;\r\n                }\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                const formData = new FormData();\r\n                formData.append('image', file);\r\n                formData.append('type', type);\r\n                formData.append('id', this.userId);\r\n                const response = await axios.post(`http://localhost:8000/api/uploadImage`, formData);\r\n                if(type ==  'Profil'){\r\n                    reader.onload = (e) => {\r\n                        this.store.imageUser = e.target.result;\r\n                    };\r\n                  this.store.setImageUser(response.data.image);   \r\n                }else{\r\n                    reader.onload = (e) => {\r\n                        this.store.coverImage = e.target.result;\r\n                    };\r\n                    this.store.setCoverImage(response.data.image); \r\n                } \r\n            },\r\n            async getUserInfo(){\r\n                let response = await axios.get(`http://localhost:8000/api/getUserInfo/${this.userId}`);\r\n                this.user = response.data.user;\r\n            },\r\n            async submitForm(){\r\n                con\r\n                // let response = await axios.post(`http://localhost:8000/api/updateUserInfo/${this.userId}`, this.user);\r\n                // if(response.data.success){\r\n                //     alert('Your information has been updated');\r\n                // }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .row{\r\n        width: 100%;\r\n        margin: 0 !important;\r\n    }\r\n    .coverInfo{\r\n        background: rgba(0, 0, 0, 0.476);\r\n    }\r\n    .containName{\r\n        background: rgba(255, 255, 255, 0.341);\r\n    }\r\n    .imageProfil{\r\n        border: 6px solid white;\r\n        border-radius: 50%;\r\n    }\r\n    .statique{\r\n        width: 180px;\r\n    }\r\n   .linksosial{\r\n    width: 340px;\r\n   }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}