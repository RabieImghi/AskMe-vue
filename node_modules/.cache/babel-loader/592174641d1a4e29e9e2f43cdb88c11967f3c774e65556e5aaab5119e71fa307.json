{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");/**\n * TinyMCE version 6.8.3 (2024-02-08)\n */(function(){'use strict';const getPrototypeOf$2=Object.getPrototypeOf;const hasProto=(v,constructor,predicate)=>{var _a;if(predicate(v,constructor.prototype)){return true;}else{return((_a=v.constructor)===null||_a===void 0?void 0:_a.name)===constructor.name;}};const typeOf=x=>{const t=typeof x;if(x===null){return'null';}else if(t==='object'&&Array.isArray(x)){return'array';}else if(t==='object'&&hasProto(x,String,(o,proto)=>proto.isPrototypeOf(o))){return'string';}else{return t;}};const isType$1=type=>value=>typeOf(value)===type;const isSimpleType=type=>value=>typeof value===type;const eq$1=t=>a=>t===a;const is$2=(value,constructor)=>isObject(value)&&hasProto(value,constructor,(o,proto)=>getPrototypeOf$2(o)===proto);const isString=isType$1('string');const isObject=isType$1('object');const isPlainObject=value=>is$2(value,Object);const isArray=isType$1('array');const isNull=eq$1(null);const isBoolean=isSimpleType('boolean');const isUndefined=eq$1(undefined);const isNullable=a=>a===null||a===undefined;const isNonNullable=a=>!isNullable(a);const isFunction=isSimpleType('function');const isNumber=isSimpleType('number');const isArrayOf=(value,pred)=>{if(isArray(value)){for(let i=0,len=value.length;i<len;++i){if(!pred(value[i])){return false;}}return true;}return false;};const noop=()=>{};const noarg=f=>()=>f();const compose=(fa,fb)=>{return(...args)=>{return fa(fb.apply(null,args));};};const compose1=(fbc,fab)=>a=>fbc(fab(a));const constant$1=value=>{return()=>{return value;};};const identity=x=>{return x;};const tripleEquals=(a,b)=>{return a===b;};function curry(fn,...initialArgs){return(...restArgs)=>{const all=initialArgs.concat(restArgs);return fn.apply(null,all);};}const not=f=>t=>!f(t);const die=msg=>{return()=>{throw new Error(msg);};};const apply$1=f=>{return f();};const never=constant$1(false);const always=constant$1(true);class Optional{constructor(tag,value){this.tag=tag;this.value=value;}static some(value){return new Optional(true,value);}static none(){return Optional.singletonNone;}fold(onNone,onSome){if(this.tag){return onSome(this.value);}else{return onNone();}}isSome(){return this.tag;}isNone(){return!this.tag;}map(mapper){if(this.tag){return Optional.some(mapper(this.value));}else{return Optional.none();}}bind(binder){if(this.tag){return binder(this.value);}else{return Optional.none();}}exists(predicate){return this.tag&&predicate(this.value);}forall(predicate){return!this.tag||predicate(this.value);}filter(predicate){if(!this.tag||predicate(this.value)){return this;}else{return Optional.none();}}getOr(replacement){return this.tag?this.value:replacement;}or(replacement){return this.tag?this:replacement;}getOrThunk(thunk){return this.tag?this.value:thunk();}orThunk(thunk){return this.tag?this:thunk();}getOrDie(message){if(!this.tag){throw new Error(message!==null&&message!==void 0?message:'Called getOrDie on None');}else{return this.value;}}static from(value){return isNonNullable(value)?Optional.some(value):Optional.none();}getOrNull(){return this.tag?this.value:null;}getOrUndefined(){return this.value;}each(worker){if(this.tag){worker(this.value);}}toArray(){return this.tag?[this.value]:[];}toString(){return this.tag?`some(${this.value})`:'none()';}}Optional.singletonNone=new Optional(false);const nativeSlice=Array.prototype.slice;const nativeIndexOf=Array.prototype.indexOf;const nativePush=Array.prototype.push;const rawIndexOf=(ts,t)=>nativeIndexOf.call(ts,t);const indexOf=(xs,x)=>{const r=rawIndexOf(xs,x);return r===-1?Optional.none():Optional.some(r);};const contains$2=(xs,x)=>rawIndexOf(xs,x)>-1;const exists=(xs,pred)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return true;}}return false;};const range$2=(num,f)=>{const r=[];for(let i=0;i<num;i++){r.push(f(i));}return r;};const chunk$1=(array,size)=>{const r=[];for(let i=0;i<array.length;i+=size){const s=nativeSlice.call(array,i,i+size);r.push(s);}return r;};const map$2=(xs,f)=>{const len=xs.length;const r=new Array(len);for(let i=0;i<len;i++){const x=xs[i];r[i]=f(x,i);}return r;};const each$1=(xs,f)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];f(x,i);}};const eachr=(xs,f)=>{for(let i=xs.length-1;i>=0;i--){const x=xs[i];f(x,i);}};const partition$3=(xs,pred)=>{const pass=[];const fail=[];for(let i=0,len=xs.length;i<len;i++){const x=xs[i];const arr=pred(x,i)?pass:fail;arr.push(x);}return{pass,fail};};const filter$2=(xs,pred)=>{const r=[];for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){r.push(x);}}return r;};const foldr=(xs,f,acc)=>{eachr(xs,(x,i)=>{acc=f(acc,x,i);});return acc;};const foldl=(xs,f,acc)=>{each$1(xs,(x,i)=>{acc=f(acc,x,i);});return acc;};const findUntil=(xs,pred,until)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return Optional.some(x);}else if(until(x,i)){break;}}return Optional.none();};const find$5=(xs,pred)=>{return findUntil(xs,pred,never);};const findIndex$1=(xs,pred)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return Optional.some(i);}}return Optional.none();};const flatten=xs=>{const r=[];for(let i=0,len=xs.length;i<len;++i){if(!isArray(xs[i])){throw new Error('Arr.flatten item '+i+' was not an array, input: '+xs);}nativePush.apply(r,xs[i]);}return r;};const bind$3=(xs,f)=>flatten(map$2(xs,f));const forall=(xs,pred)=>{for(let i=0,len=xs.length;i<len;++i){const x=xs[i];if(pred(x,i)!==true){return false;}}return true;};const reverse=xs=>{const r=nativeSlice.call(xs,0);r.reverse();return r;};const difference=(a1,a2)=>filter$2(a1,x=>!contains$2(a2,x));const mapToObject=(xs,f)=>{const r={};for(let i=0,len=xs.length;i<len;i++){const x=xs[i];r[String(x)]=f(x,i);}return r;};const pure$2=x=>[x];const sort=(xs,comparator)=>{const copy=nativeSlice.call(xs,0);copy.sort(comparator);return copy;};const get$h=(xs,i)=>i>=0&&i<xs.length?Optional.some(xs[i]):Optional.none();const head=xs=>get$h(xs,0);const last$1=xs=>get$h(xs,xs.length-1);const from=isFunction(Array.from)?Array.from:x=>nativeSlice.call(x);const findMap=(arr,f)=>{for(let i=0;i<arr.length;i++){const r=f(arr[i],i);if(r.isSome()){return r;}}return Optional.none();};const keys=Object.keys;const hasOwnProperty=Object.hasOwnProperty;const each=(obj,f)=>{const props=keys(obj);for(let k=0,len=props.length;k<len;k++){const i=props[k];const x=obj[i];f(x,i);}};const map$1=(obj,f)=>{return tupleMap(obj,(x,i)=>({k:i,v:f(x,i)}));};const tupleMap=(obj,f)=>{const r={};each(obj,(x,i)=>{const tuple=f(x,i);r[tuple.k]=tuple.v;});return r;};const objAcc=r=>(x,i)=>{r[i]=x;};const internalFilter=(obj,pred,onTrue,onFalse)=>{each(obj,(x,i)=>{(pred(x,i)?onTrue:onFalse)(x,i);});};const bifilter=(obj,pred)=>{const t={};const f={};internalFilter(obj,pred,objAcc(t),objAcc(f));return{t,f};};const filter$1=(obj,pred)=>{const t={};internalFilter(obj,pred,objAcc(t),noop);return t;};const mapToArray=(obj,f)=>{const r=[];each(obj,(value,name)=>{r.push(f(value,name));});return r;};const find$4=(obj,pred)=>{const props=keys(obj);for(let k=0,len=props.length;k<len;k++){const i=props[k];const x=obj[i];if(pred(x,i,obj)){return Optional.some(x);}}return Optional.none();};const values=obj=>{return mapToArray(obj,identity);};const get$g=(obj,key)=>{return has$2(obj,key)?Optional.from(obj[key]):Optional.none();};const has$2=(obj,key)=>hasOwnProperty.call(obj,key);const hasNonNullableKey=(obj,key)=>has$2(obj,key)&&obj[key]!==undefined&&obj[key]!==null;const is$1=(lhs,rhs,comparator=tripleEquals)=>lhs.exists(left=>comparator(left,rhs));const equals=(lhs,rhs,comparator=tripleEquals)=>lift2(lhs,rhs,comparator).getOr(lhs.isNone()&&rhs.isNone());const cat=arr=>{const r=[];const push=x=>{r.push(x);};for(let i=0;i<arr.length;i++){arr[i].each(push);}return r;};const sequence=arr=>{const r=[];for(let i=0;i<arr.length;i++){const x=arr[i];if(x.isSome()){r.push(x.getOrDie());}else{return Optional.none();}}return Optional.some(r);};const lift2=(oa,ob,f)=>oa.isSome()&&ob.isSome()?Optional.some(f(oa.getOrDie(),ob.getOrDie())):Optional.none();const lift3=(oa,ob,oc,f)=>oa.isSome()&&ob.isSome()&&oc.isSome()?Optional.some(f(oa.getOrDie(),ob.getOrDie(),oc.getOrDie())):Optional.none();const mapFrom=(a,f)=>a!==undefined&&a!==null?Optional.some(f(a)):Optional.none();const someIf=(b,a)=>b?Optional.some(a):Optional.none();const addToEnd=(str,suffix)=>{return str+suffix;};const removeFromStart=(str,numChars)=>{return str.substring(numChars);};const checkRange=(str,substr,start)=>substr===''||str.length>=substr.length&&str.substr(start,start+substr.length)===substr;const removeLeading=(str,prefix)=>{return startsWith(str,prefix)?removeFromStart(str,prefix.length):str;};const ensureTrailing=(str,suffix)=>{return endsWith(str,suffix)?str:addToEnd(str,suffix);};const contains$1=(str,substr,start=0,end)=>{const idx=str.indexOf(substr,start);if(idx!==-1){return isUndefined(end)?true:idx+substr.length<=end;}else{return false;}};const startsWith=(str,prefix)=>{return checkRange(str,prefix,0);};const endsWith=(str,suffix)=>{return checkRange(str,suffix,str.length-suffix.length);};const blank=r=>s=>s.replace(r,'');const trim$1=blank(/^\\s+|\\s+$/g);const isNotEmpty=s=>s.length>0;const isEmpty=s=>!isNotEmpty(s);const isSupported$1=dom=>dom.style!==undefined&&isFunction(dom.style.getPropertyValue);const fromHtml$2=(html,scope)=>{const doc=scope||document;const div=doc.createElement('div');div.innerHTML=html;if(!div.hasChildNodes()||div.childNodes.length>1){const message='HTML does not have a single root node';console.error(message,html);throw new Error(message);}return fromDom(div.childNodes[0]);};const fromTag=(tag,scope)=>{const doc=scope||document;const node=doc.createElement(tag);return fromDom(node);};const fromText=(text,scope)=>{const doc=scope||document;const node=doc.createTextNode(text);return fromDom(node);};const fromDom=node=>{if(node===null||node===undefined){throw new Error('Node cannot be null or undefined');}return{dom:node};};const fromPoint=(docElm,x,y)=>Optional.from(docElm.dom.elementFromPoint(x,y)).map(fromDom);const SugarElement={fromHtml:fromHtml$2,fromTag,fromText,fromDom,fromPoint};const Global=typeof window!=='undefined'?window:Function('return this;')();const path$1=(parts,scope)=>{let o=scope!==undefined&&scope!==null?scope:Global;for(let i=0;i<parts.length&&o!==undefined&&o!==null;++i){o=o[parts[i]];}return o;};const resolve=(p,scope)=>{const parts=p.split('.');return path$1(parts,scope);};const unsafe=(name,scope)=>{return resolve(name,scope);};const getOrDie$1=(name,scope)=>{const actual=unsafe(name,scope);if(actual===undefined||actual===null){throw new Error(name+' not available on this browser');}return actual;};const getPrototypeOf$1=Object.getPrototypeOf;const sandHTMLElement=scope=>{return getOrDie$1('HTMLElement',scope);};const isPrototypeOf=x=>{const scope=resolve('ownerDocument.defaultView',x);return isObject(x)&&(sandHTMLElement(scope).prototype.isPrototypeOf(x)||/^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));};const DOCUMENT=9;const DOCUMENT_FRAGMENT=11;const ELEMENT=1;const TEXT=3;const name$3=element=>{const r=element.dom.nodeName;return r.toLowerCase();};const type$1=element=>element.dom.nodeType;const isType=t=>element=>type$1(element)===t;const isHTMLElement=element=>isElement$1(element)&&isPrototypeOf(element.dom);const isElement$1=isType(ELEMENT);const isText=isType(TEXT);const isDocument=isType(DOCUMENT);const isDocumentFragment=isType(DOCUMENT_FRAGMENT);const isTag=tag=>e=>isElement$1(e)&&name$3(e)===tag;const is=(element,selector)=>{const dom=element.dom;if(dom.nodeType!==ELEMENT){return false;}else{const elem=dom;if(elem.matches!==undefined){return elem.matches(selector);}else if(elem.msMatchesSelector!==undefined){return elem.msMatchesSelector(selector);}else if(elem.webkitMatchesSelector!==undefined){return elem.webkitMatchesSelector(selector);}else if(elem.mozMatchesSelector!==undefined){return elem.mozMatchesSelector(selector);}else{throw new Error('Browser lacks native selectors');}}};const bypassSelector=dom=>dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT&&dom.nodeType!==DOCUMENT_FRAGMENT||dom.childElementCount===0;const all$3=(selector,scope)=>{const base=scope===undefined?document:scope.dom;return bypassSelector(base)?[]:map$2(base.querySelectorAll(selector),SugarElement.fromDom);};const one=(selector,scope)=>{const base=scope===undefined?document:scope.dom;return bypassSelector(base)?Optional.none():Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);};const eq=(e1,e2)=>e1.dom===e2.dom;const contains=(e1,e2)=>{const d1=e1.dom;const d2=e2.dom;return d1===d2?false:d1.contains(d2);};const owner$4=element=>SugarElement.fromDom(element.dom.ownerDocument);const documentOrOwner=dos=>isDocument(dos)?dos:owner$4(dos);const documentElement=element=>SugarElement.fromDom(documentOrOwner(element).dom.documentElement);const defaultView=element=>SugarElement.fromDom(documentOrOwner(element).dom.defaultView);const parent=element=>Optional.from(element.dom.parentNode).map(SugarElement.fromDom);const parentNode=element=>parent(element);const parentElement=element=>Optional.from(element.dom.parentElement).map(SugarElement.fromDom);const parents=(element,isRoot)=>{const stop=isFunction(isRoot)?isRoot:never;let dom=element.dom;const ret=[];while(dom.parentNode!==null&&dom.parentNode!==undefined){const rawParent=dom.parentNode;const p=SugarElement.fromDom(rawParent);ret.push(p);if(stop(p)===true){break;}else{dom=rawParent;}}return ret;};const offsetParent=element=>Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);const nextSibling=element=>Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);const children=element=>map$2(element.dom.childNodes,SugarElement.fromDom);const child$2=(element,index)=>{const cs=element.dom.childNodes;return Optional.from(cs[index]).map(SugarElement.fromDom);};const firstChild=element=>child$2(element,0);const spot=(element,offset)=>({element,offset});const leaf=(element,offset)=>{const cs=children(element);return cs.length>0&&offset<cs.length?spot(cs[offset],0):spot(element,offset);};const isShadowRoot=dos=>isDocumentFragment(dos)&&isNonNullable(dos.dom.host);const supported=isFunction(Element.prototype.attachShadow)&&isFunction(Node.prototype.getRootNode);const isSupported=constant$1(supported);const getRootNode=supported?e=>SugarElement.fromDom(e.dom.getRootNode()):documentOrOwner;const getContentContainer=dos=>isShadowRoot(dos)?dos:SugarElement.fromDom(documentOrOwner(dos).dom.body);const isInShadowRoot=e=>getShadowRoot(e).isSome();const getShadowRoot=e=>{const r=getRootNode(e);return isShadowRoot(r)?Optional.some(r):Optional.none();};const getShadowHost=e=>SugarElement.fromDom(e.dom.host);const getOriginalEventTarget=event=>{if(isSupported()&&isNonNullable(event.target)){const el=SugarElement.fromDom(event.target);if(isElement$1(el)&&isOpenShadowHost(el)){if(event.composed&&event.composedPath){const composedPath=event.composedPath();if(composedPath){return head(composedPath);}}}}return Optional.from(event.target);};const isOpenShadowHost=element=>isNonNullable(element.dom.shadowRoot);const inBody=element=>{const dom=isText(element)?element.dom.parentNode:element.dom;if(dom===undefined||dom===null||dom.ownerDocument===null){return false;}const doc=dom.ownerDocument;return getShadowRoot(SugarElement.fromDom(dom)).fold(()=>doc.body.contains(dom),compose1(inBody,getShadowHost));};const body=()=>getBody(SugarElement.fromDom(document));const getBody=doc=>{const b=doc.dom.body;if(b===null||b===undefined){throw new Error('Body is not available yet');}return SugarElement.fromDom(b);};const rawSet=(dom,key,value)=>{if(isString(value)||isBoolean(value)||isNumber(value)){dom.setAttribute(key,value+'');}else{console.error('Invalid call to Attribute.set. Key ',key,':: Value ',value,':: Element ',dom);throw new Error('Attribute value was not simple');}};const set$9=(element,key,value)=>{rawSet(element.dom,key,value);};const setAll$1=(element,attrs)=>{const dom=element.dom;each(attrs,(v,k)=>{rawSet(dom,k,v);});};const get$f=(element,key)=>{const v=element.dom.getAttribute(key);return v===null?undefined:v;};const getOpt=(element,key)=>Optional.from(get$f(element,key));const has$1=(element,key)=>{const dom=element.dom;return dom&&dom.hasAttribute?dom.hasAttribute(key):false;};const remove$7=(element,key)=>{element.dom.removeAttribute(key);};const clone$2=element=>foldl(element.dom.attributes,(acc,attr)=>{acc[attr.name]=attr.value;return acc;},{});const internalSet=(dom,property,value)=>{if(!isString(value)){console.error('Invalid call to CSS.set. Property ',property,':: Value ',value,':: Element ',dom);throw new Error('CSS value must be a string: '+value);}if(isSupported$1(dom)){dom.style.setProperty(property,value);}};const internalRemove=(dom,property)=>{if(isSupported$1(dom)){dom.style.removeProperty(property);}};const set$8=(element,property,value)=>{const dom=element.dom;internalSet(dom,property,value);};const setAll=(element,css)=>{const dom=element.dom;each(css,(v,k)=>{internalSet(dom,k,v);});};const setOptions=(element,css)=>{const dom=element.dom;each(css,(v,k)=>{v.fold(()=>{internalRemove(dom,k);},value=>{internalSet(dom,k,value);});});};const get$e=(element,property)=>{const dom=element.dom;const styles=window.getComputedStyle(dom);const r=styles.getPropertyValue(property);return r===''&&!inBody(element)?getUnsafeProperty(dom,property):r;};const getUnsafeProperty=(dom,property)=>isSupported$1(dom)?dom.style.getPropertyValue(property):'';const getRaw=(element,property)=>{const dom=element.dom;const raw=getUnsafeProperty(dom,property);return Optional.from(raw).filter(r=>r.length>0);};const getAllRaw=element=>{const css={};const dom=element.dom;if(isSupported$1(dom)){for(let i=0;i<dom.style.length;i++){const ruleName=dom.style.item(i);css[ruleName]=dom.style[ruleName];}}return css;};const isValidValue$1=(tag,property,value)=>{const element=SugarElement.fromTag(tag);set$8(element,property,value);const style=getRaw(element,property);return style.isSome();};const remove$6=(element,property)=>{const dom=element.dom;internalRemove(dom,property);if(is$1(getOpt(element,'style').map(trim$1),'')){remove$7(element,'style');}};const reflow=e=>e.dom.offsetWidth;const Dimension=(name,getOffset)=>{const set=(element,h)=>{if(!isNumber(h)&&!h.match(/^[0-9]+$/)){throw new Error(name+'.set accepts only positive integer values. Value was '+h);}const dom=element.dom;if(isSupported$1(dom)){dom.style[name]=h+'px';}};const get=element=>{const r=getOffset(element);if(r<=0||r===null){const css=get$e(element,name);return parseFloat(css)||0;}return r;};const getOuter=get;const aggregate=(element,properties)=>foldl(properties,(acc,property)=>{const val=get$e(element,property);const value=val===undefined?0:parseInt(val,10);return isNaN(value)?acc:acc+value;},0);const max=(element,value,properties)=>{const cumulativeInclusions=aggregate(element,properties);const absoluteMax=value>cumulativeInclusions?value-cumulativeInclusions:0;return absoluteMax;};return{set,get,getOuter,aggregate,max};};const api$2=Dimension('height',element=>{const dom=element.dom;return inBody(element)?dom.getBoundingClientRect().height:dom.offsetHeight;});const get$d=element=>api$2.get(element);const getOuter$2=element=>api$2.getOuter(element);const setMax$1=(element,value)=>{const inclusions=['margin-top','border-top-width','padding-top','padding-bottom','border-bottom-width','margin-bottom'];const absMax=api$2.max(element,value,inclusions);set$8(element,'max-height',absMax+'px');};const r$1=(left,top)=>{const translate=(x,y)=>r$1(left+x,top+y);return{left,top,translate};};const SugarPosition=r$1;const boxPosition=dom=>{const box=dom.getBoundingClientRect();return SugarPosition(box.left,box.top);};const firstDefinedOrZero=(a,b)=>{if(a!==undefined){return a;}else{return b!==undefined?b:0;}};const absolute$3=element=>{const doc=element.dom.ownerDocument;const body=doc.body;const win=doc.defaultView;const html=doc.documentElement;if(body===element.dom){return SugarPosition(body.offsetLeft,body.offsetTop);}const scrollTop=firstDefinedOrZero(win===null||win===void 0?void 0:win.pageYOffset,html.scrollTop);const scrollLeft=firstDefinedOrZero(win===null||win===void 0?void 0:win.pageXOffset,html.scrollLeft);const clientTop=firstDefinedOrZero(html.clientTop,body.clientTop);const clientLeft=firstDefinedOrZero(html.clientLeft,body.clientLeft);return viewport$1(element).translate(scrollLeft-clientLeft,scrollTop-clientTop);};const viewport$1=element=>{const dom=element.dom;const doc=dom.ownerDocument;const body=doc.body;if(body===dom){return SugarPosition(body.offsetLeft,body.offsetTop);}if(!inBody(element)){return SugarPosition(0,0);}return boxPosition(dom);};const api$1=Dimension('width',element=>element.dom.offsetWidth);const set$7=(element,h)=>api$1.set(element,h);const get$c=element=>api$1.get(element);const getOuter$1=element=>api$1.getOuter(element);const setMax=(element,value)=>{const inclusions=['margin-left','border-left-width','padding-left','padding-right','border-right-width','margin-right'];const absMax=api$1.max(element,value,inclusions);set$8(element,'max-width',absMax+'px');};const cached=f=>{let called=false;let r;return(...args)=>{if(!called){called=true;r=f.apply(null,args);}return r;};};const DeviceType=(os,browser,userAgent,mediaMatch)=>{const isiPad=os.isiOS()&&/ipad/i.test(userAgent)===true;const isiPhone=os.isiOS()&&!isiPad;const isMobile=os.isiOS()||os.isAndroid();const isTouch=isMobile||mediaMatch('(pointer:coarse)');const isTablet=isiPad||!isiPhone&&isMobile&&mediaMatch('(min-device-width:768px)');const isPhone=isiPhone||isMobile&&!isTablet;const iOSwebview=browser.isSafari()&&os.isiOS()&&/safari/i.test(userAgent)===false;const isDesktop=!isPhone&&!isTablet&&!iOSwebview;return{isiPad:constant$1(isiPad),isiPhone:constant$1(isiPhone),isTablet:constant$1(isTablet),isPhone:constant$1(isPhone),isTouch:constant$1(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:constant$1(iOSwebview),isDesktop:constant$1(isDesktop)};};const firstMatch=(regexes,s)=>{for(let i=0;i<regexes.length;i++){const x=regexes[i];if(x.test(s)){return x;}}return undefined;};const find$3=(regexes,agent)=>{const r=firstMatch(regexes,agent);if(!r){return{major:0,minor:0};}const group=i=>{return Number(agent.replace(r,'$'+i));};return nu$d(group(1),group(2));};const detect$5=(versionRegexes,agent)=>{const cleanedAgent=String(agent).toLowerCase();if(versionRegexes.length===0){return unknown$3();}return find$3(versionRegexes,cleanedAgent);};const unknown$3=()=>{return nu$d(0,0);};const nu$d=(major,minor)=>{return{major,minor};};const Version={nu:nu$d,detect:detect$5,unknown:unknown$3};const detectBrowser$1=(browsers,userAgentData)=>{return findMap(userAgentData.brands,uaBrand=>{const lcBrand=uaBrand.brand.toLowerCase();return find$5(browsers,browser=>{var _a;return lcBrand===((_a=browser.brand)===null||_a===void 0?void 0:_a.toLowerCase());}).map(info=>({current:info.name,version:Version.nu(parseInt(uaBrand.version,10),0)}));});};const detect$4=(candidates,userAgent)=>{const agent=String(userAgent).toLowerCase();return find$5(candidates,candidate=>{return candidate.search(agent);});};const detectBrowser=(browsers,userAgent)=>{return detect$4(browsers,userAgent).map(browser=>{const version=Version.detect(browser.versionRegexes,userAgent);return{current:browser.name,version};});};const detectOs=(oses,userAgent)=>{return detect$4(oses,userAgent).map(os=>{const version=Version.detect(os.versionRegexes,userAgent);return{current:os.name,version};});};const normalVersionRegex=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;const checkContains=target=>{return uastring=>{return contains$1(uastring,target);};};const browsers=[{name:'Edge',versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:uastring=>{return contains$1(uastring,'edge/')&&contains$1(uastring,'chrome')&&contains$1(uastring,'safari')&&contains$1(uastring,'applewebkit');}},{name:'Chromium',brand:'Chromium',versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,normalVersionRegex],search:uastring=>{return contains$1(uastring,'chrome')&&!contains$1(uastring,'chromeframe');}},{name:'IE',versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:uastring=>{return contains$1(uastring,'msie')||contains$1(uastring,'trident');}},{name:'Opera',versionRegexes:[normalVersionRegex,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:checkContains('opera')},{name:'Firefox',versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:checkContains('firefox')},{name:'Safari',versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:uastring=>{return(contains$1(uastring,'safari')||contains$1(uastring,'mobile/'))&&contains$1(uastring,'applewebkit');}}];const oses=[{name:'Windows',search:checkContains('win'),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'iOS',search:uastring=>{return contains$1(uastring,'iphone')||contains$1(uastring,'ipad');},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:'Android',search:checkContains('android'),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'macOS',search:checkContains('mac os x'),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:'Linux',search:checkContains('linux'),versionRegexes:[]},{name:'Solaris',search:checkContains('sunos'),versionRegexes:[]},{name:'FreeBSD',search:checkContains('freebsd'),versionRegexes:[]},{name:'ChromeOS',search:checkContains('cros'),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}];const PlatformInfo={browsers:constant$1(browsers),oses:constant$1(oses)};const edge='Edge';const chromium='Chromium';const ie='IE';const opera='Opera';const firefox='Firefox';const safari='Safari';const unknown$2=()=>{return nu$c({current:undefined,version:Version.unknown()});};const nu$c=info=>{const current=info.current;const version=info.version;const isBrowser=name=>()=>current===name;return{current,version,isEdge:isBrowser(edge),isChromium:isBrowser(chromium),isIE:isBrowser(ie),isOpera:isBrowser(opera),isFirefox:isBrowser(firefox),isSafari:isBrowser(safari)};};const Browser={unknown:unknown$2,nu:nu$c,edge:constant$1(edge),chromium:constant$1(chromium),ie:constant$1(ie),opera:constant$1(opera),firefox:constant$1(firefox),safari:constant$1(safari)};const windows='Windows';const ios='iOS';const android='Android';const linux='Linux';const macos='macOS';const solaris='Solaris';const freebsd='FreeBSD';const chromeos='ChromeOS';const unknown$1=()=>{return nu$b({current:undefined,version:Version.unknown()});};const nu$b=info=>{const current=info.current;const version=info.version;const isOS=name=>()=>current===name;return{current,version,isWindows:isOS(windows),isiOS:isOS(ios),isAndroid:isOS(android),isMacOS:isOS(macos),isLinux:isOS(linux),isSolaris:isOS(solaris),isFreeBSD:isOS(freebsd),isChromeOS:isOS(chromeos)};};const OperatingSystem={unknown:unknown$1,nu:nu$b,windows:constant$1(windows),ios:constant$1(ios),android:constant$1(android),linux:constant$1(linux),macos:constant$1(macos),solaris:constant$1(solaris),freebsd:constant$1(freebsd),chromeos:constant$1(chromeos)};const detect$3=(userAgent,userAgentDataOpt,mediaMatch)=>{const browsers=PlatformInfo.browsers();const oses=PlatformInfo.oses();const browser=userAgentDataOpt.bind(userAgentData=>detectBrowser$1(browsers,userAgentData)).orThunk(()=>detectBrowser(browsers,userAgent)).fold(Browser.unknown,Browser.nu);const os=detectOs(oses,userAgent).fold(OperatingSystem.unknown,OperatingSystem.nu);const deviceType=DeviceType(os,browser,userAgent,mediaMatch);return{browser,os,deviceType};};const PlatformDetection={detect:detect$3};const mediaMatch=query=>window.matchMedia(query).matches;let platform=cached(()=>PlatformDetection.detect(navigator.userAgent,Optional.from(navigator.userAgentData),mediaMatch));const detect$2=()=>platform();const mkEvent=(target,x,y,stop,prevent,kill,raw)=>({target,x,y,stop,prevent,kill,raw});const fromRawEvent$1=rawEvent=>{const target=SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));const stop=()=>rawEvent.stopPropagation();const prevent=()=>rawEvent.preventDefault();const kill=compose(prevent,stop);return mkEvent(target,rawEvent.clientX,rawEvent.clientY,stop,prevent,kill,rawEvent);};const handle=(filter,handler)=>rawEvent=>{if(filter(rawEvent)){handler(fromRawEvent$1(rawEvent));}};const binder=(element,event,filter,handler,useCapture)=>{const wrapped=handle(filter,handler);element.dom.addEventListener(event,wrapped,useCapture);return{unbind:curry(unbind,element,event,wrapped,useCapture)};};const bind$2=(element,event,filter,handler)=>binder(element,event,filter,handler,false);const capture$1=(element,event,filter,handler)=>binder(element,event,filter,handler,true);const unbind=(element,event,handler,useCapture)=>{element.dom.removeEventListener(event,handler,useCapture);};const before$1=(marker,element)=>{const parent$1=parent(marker);parent$1.each(v=>{v.dom.insertBefore(element.dom,marker.dom);});};const after$2=(marker,element)=>{const sibling=nextSibling(marker);sibling.fold(()=>{const parent$1=parent(marker);parent$1.each(v=>{append$2(v,element);});},v=>{before$1(v,element);});};const prepend$1=(parent,element)=>{const firstChild$1=firstChild(parent);firstChild$1.fold(()=>{append$2(parent,element);},v=>{parent.dom.insertBefore(element.dom,v.dom);});};const append$2=(parent,element)=>{parent.dom.appendChild(element.dom);};const appendAt=(parent,element,index)=>{child$2(parent,index).fold(()=>{append$2(parent,element);},v=>{before$1(v,element);});};const append$1=(parent,elements)=>{each$1(elements,x=>{append$2(parent,x);});};const empty=element=>{element.dom.textContent='';each$1(children(element),rogue=>{remove$5(rogue);});};const remove$5=element=>{const dom=element.dom;if(dom.parentNode!==null){dom.parentNode.removeChild(dom);}};const get$b=_DOC=>{const doc=_DOC!==undefined?_DOC.dom:document;const x=doc.body.scrollLeft||doc.documentElement.scrollLeft;const y=doc.body.scrollTop||doc.documentElement.scrollTop;return SugarPosition(x,y);};const to=(x,y,_DOC)=>{const doc=_DOC!==undefined?_DOC.dom:document;const win=doc.defaultView;if(win){win.scrollTo(x,y);}};const get$a=_win=>{const win=_win===undefined?window:_win;if(detect$2().browser.isFirefox()){return Optional.none();}else{return Optional.from(win.visualViewport);}};const bounds$1=(x,y,width,height)=>({x,y,width,height,right:x+width,bottom:y+height});const getBounds$3=_win=>{const win=_win===undefined?window:_win;const doc=win.document;const scroll=get$b(SugarElement.fromDom(doc));return get$a(win).fold(()=>{const html=win.document.documentElement;const width=html.clientWidth;const height=html.clientHeight;return bounds$1(scroll.left,scroll.top,width,height);},visualViewport=>bounds$1(Math.max(visualViewport.pageLeft,scroll.left),Math.max(visualViewport.pageTop,scroll.top),visualViewport.width,visualViewport.height));};const getDocument=()=>SugarElement.fromDom(document);const walkUp=(navigation,doc)=>{const frame=navigation.view(doc);return frame.fold(constant$1([]),f=>{const parent=navigation.owner(f);const rest=walkUp(navigation,parent);return[f].concat(rest);});};const pathTo=(element,navigation)=>{const d=navigation.owner(element);const paths=walkUp(navigation,d);return Optional.some(paths);};const view=doc=>{var _a;const element=doc.dom===document?Optional.none():Optional.from((_a=doc.dom.defaultView)===null||_a===void 0?void 0:_a.frameElement);return element.map(SugarElement.fromDom);};const owner$3=element=>owner$4(element);var Navigation=/*#__PURE__*/Object.freeze({__proto__:null,view:view,owner:owner$3});const find$2=element=>{const doc=getDocument();const scroll=get$b(doc);const path=pathTo(element,Navigation);return path.fold(curry(absolute$3,element),frames=>{const offset=viewport$1(element);const r=foldr(frames,(b,a)=>{const loc=viewport$1(a);return{left:b.left+loc.left,top:b.top+loc.top};},{left:0,top:0});return SugarPosition(r.left+offset.left+scroll.left,r.top+offset.top+scroll.top);});};const pointed=(point,width,height)=>({point,width,height});const rect=(x,y,width,height)=>({x,y,width,height});const bounds=(x,y,width,height)=>({x,y,width,height,right:x+width,bottom:y+height});const box$1=element=>{const xy=absolute$3(element);const w=getOuter$1(element);const h=getOuter$2(element);return bounds(xy.left,xy.top,w,h);};const absolute$2=element=>{const position=find$2(element);const width=getOuter$1(element);const height=getOuter$2(element);return bounds(position.left,position.top,width,height);};const constrain=(original,constraint)=>{const left=Math.max(original.x,constraint.x);const top=Math.max(original.y,constraint.y);const right=Math.min(original.right,constraint.right);const bottom=Math.min(original.bottom,constraint.bottom);const width=right-left;const height=bottom-top;return bounds(left,top,width,height);};const constrainByMany=(original,constraints)=>{return foldl(constraints,(acc,c)=>constrain(acc,c),original);};const win=()=>getBounds$3(window);var global$a=tinymce.util.Tools.resolve('tinymce.ThemeManager');const value$4=value=>{const applyHelper=fn=>fn(value);const constHelper=constant$1(value);const outputHelper=()=>output;const output={tag:true,inner:value,fold:(_onError,onValue)=>onValue(value),isValue:always,isError:never,map:mapper=>Result.value(mapper(value)),mapError:outputHelper,bind:applyHelper,exists:applyHelper,forall:applyHelper,getOr:constHelper,or:outputHelper,getOrThunk:constHelper,orThunk:outputHelper,getOrDie:constHelper,each:fn=>{fn(value);},toOptional:()=>Optional.some(value)};return output;};const error$1=error=>{const outputHelper=()=>output;const output={tag:false,inner:error,fold:(onError,_onValue)=>onError(error),isValue:never,isError:always,map:outputHelper,mapError:mapper=>Result.error(mapper(error)),bind:outputHelper,exists:never,forall:always,getOr:identity,or:identity,getOrThunk:apply$1,orThunk:apply$1,getOrDie:die(String(error)),each:noop,toOptional:Optional.none};return output;};const fromOption=(optional,err)=>optional.fold(()=>error$1(err),value$4);const Result={value:value$4,error:error$1,fromOption};var SimpleResultType;(function(SimpleResultType){SimpleResultType[SimpleResultType['Error']=0]='Error';SimpleResultType[SimpleResultType['Value']=1]='Value';})(SimpleResultType||(SimpleResultType={}));const fold$1=(res,onError,onValue)=>res.stype===SimpleResultType.Error?onError(res.serror):onValue(res.svalue);const partition$2=results=>{const values=[];const errors=[];each$1(results,obj=>{fold$1(obj,err=>errors.push(err),val=>values.push(val));});return{values,errors};};const mapError=(res,f)=>{if(res.stype===SimpleResultType.Error){return{stype:SimpleResultType.Error,serror:f(res.serror)};}else{return res;}};const map=(res,f)=>{if(res.stype===SimpleResultType.Value){return{stype:SimpleResultType.Value,svalue:f(res.svalue)};}else{return res;}};const bind$1=(res,f)=>{if(res.stype===SimpleResultType.Value){return f(res.svalue);}else{return res;}};const bindError=(res,f)=>{if(res.stype===SimpleResultType.Error){return f(res.serror);}else{return res;}};const svalue=v=>({stype:SimpleResultType.Value,svalue:v});const serror=e=>({stype:SimpleResultType.Error,serror:e});const toResult$1=res=>fold$1(res,Result.error,Result.value);const fromResult$1=res=>res.fold(serror,svalue);const SimpleResult={fromResult:fromResult$1,toResult:toResult$1,svalue,partition:partition$2,serror,bind:bind$1,bindError,map,mapError,fold:fold$1};const field$2=(key,newKey,presence,prop)=>({tag:'field',key,newKey,presence,prop});const customField$1=(newKey,instantiator)=>({tag:'custom',newKey,instantiator});const fold=(value,ifField,ifCustom)=>{switch(value.tag){case'field':return ifField(value.key,value.newKey,value.presence,value.prop);case'custom':return ifCustom(value.newKey,value.instantiator);}};const shallow$1=(old,nu)=>{return nu;};const deep$1=(old,nu)=>{const bothObjects=isPlainObject(old)&&isPlainObject(nu);return bothObjects?deepMerge(old,nu):nu;};const baseMerge=merger=>{return(...objects)=>{if(objects.length===0){throw new Error(`Can't merge zero objects`);}const ret={};for(let j=0;j<objects.length;j++){const curObject=objects[j];for(const key in curObject){if(has$2(curObject,key)){ret[key]=merger(ret[key],curObject[key]);}}}return ret;};};const deepMerge=baseMerge(deep$1);const merge$1=baseMerge(shallow$1);const required$2=()=>({tag:'required',process:{}});const defaultedThunk=fallbackThunk=>({tag:'defaultedThunk',process:fallbackThunk});const defaulted$1=fallback=>defaultedThunk(constant$1(fallback));const asOption=()=>({tag:'option',process:{}});const mergeWithThunk=baseThunk=>({tag:'mergeWithThunk',process:baseThunk});const mergeWith=base=>mergeWithThunk(constant$1(base));const mergeValues$1=(values,base)=>values.length>0?SimpleResult.svalue(deepMerge(base,merge$1.apply(undefined,values))):SimpleResult.svalue(base);const mergeErrors$1=errors=>compose(SimpleResult.serror,flatten)(errors);const consolidateObj=(objects,base)=>{const partition=SimpleResult.partition(objects);return partition.errors.length>0?mergeErrors$1(partition.errors):mergeValues$1(partition.values,base);};const consolidateArr=objects=>{const partitions=SimpleResult.partition(objects);return partitions.errors.length>0?mergeErrors$1(partitions.errors):SimpleResult.svalue(partitions.values);};const ResultCombine={consolidateObj,consolidateArr};const formatObj=input=>{return isObject(input)&&keys(input).length>100?' removed due to size':JSON.stringify(input,null,2);};const formatErrors=errors=>{const es=errors.length>10?errors.slice(0,10).concat([{path:[],getErrorInfo:constant$1('... (only showing first ten failures)')}]):errors;return map$2(es,e=>{return'Failed path: ('+e.path.join(' > ')+')\\n'+e.getErrorInfo();});};const nu$a=(path,getErrorInfo)=>{return SimpleResult.serror([{path,getErrorInfo}]);};const missingRequired=(path,key,obj)=>nu$a(path,()=>'Could not find valid *required* value for \"'+key+'\" in '+formatObj(obj));const missingKey=(path,key)=>nu$a(path,()=>'Choice schema did not contain choice key: \"'+key+'\"');const missingBranch=(path,branches,branch)=>nu$a(path,()=>'The chosen schema: \"'+branch+'\" did not exist in branches: '+formatObj(branches));const unsupportedFields=(path,unsupported)=>nu$a(path,()=>'There are unsupported fields: ['+unsupported.join(', ')+'] specified');const custom=(path,err)=>nu$a(path,constant$1(err));const value$3=validator=>{const extract=(path,val)=>{return SimpleResult.bindError(validator(val),err=>custom(path,err));};const toString=constant$1('val');return{extract,toString};};const anyValue$1=value$3(SimpleResult.svalue);const requiredAccess=(path,obj,key,bundle)=>get$g(obj,key).fold(()=>missingRequired(path,key,obj),bundle);const fallbackAccess=(obj,key,fallback,bundle)=>{const v=get$g(obj,key).getOrThunk(()=>fallback(obj));return bundle(v);};const optionAccess=(obj,key,bundle)=>bundle(get$g(obj,key));const optionDefaultedAccess=(obj,key,fallback,bundle)=>{const opt=get$g(obj,key).map(val=>val===true?fallback(obj):val);return bundle(opt);};const extractField=(field,path,obj,key,prop)=>{const bundle=av=>prop.extract(path.concat([key]),av);const bundleAsOption=optValue=>optValue.fold(()=>SimpleResult.svalue(Optional.none()),ov=>{const result=prop.extract(path.concat([key]),ov);return SimpleResult.map(result,Optional.some);});switch(field.tag){case'required':return requiredAccess(path,obj,key,bundle);case'defaultedThunk':return fallbackAccess(obj,key,field.process,bundle);case'option':return optionAccess(obj,key,bundleAsOption);case'defaultedOptionThunk':return optionDefaultedAccess(obj,key,field.process,bundleAsOption);case'mergeWithThunk':{return fallbackAccess(obj,key,constant$1({}),v=>{const result=deepMerge(field.process(obj),v);return bundle(result);});}}};const extractFields=(path,obj,fields)=>{const success={};const errors=[];for(const field of fields){fold(field,(key,newKey,presence,prop)=>{const result=extractField(presence,path,obj,key,prop);SimpleResult.fold(result,err=>{errors.push(...err);},res=>{success[newKey]=res;});},(newKey,instantiator)=>{success[newKey]=instantiator(obj);});}return errors.length>0?SimpleResult.serror(errors):SimpleResult.svalue(success);};const valueThunk=getDelegate=>{const extract=(path,val)=>getDelegate().extract(path,val);const toString=()=>getDelegate().toString();return{extract,toString};};const getSetKeys=obj=>keys(filter$1(obj,isNonNullable));const objOfOnly=fields=>{const delegate=objOf(fields);const fieldNames=foldr(fields,(acc,value)=>{return fold(value,key=>deepMerge(acc,{[key]:true}),constant$1(acc));},{});const extract=(path,o)=>{const keys=isBoolean(o)?[]:getSetKeys(o);const extra=filter$2(keys,k=>!hasNonNullableKey(fieldNames,k));return extra.length===0?delegate.extract(path,o):unsupportedFields(path,extra);};return{extract,toString:delegate.toString};};const objOf=values=>{const extract=(path,o)=>extractFields(path,o,values);const toString=()=>{const fieldStrings=map$2(values,value=>fold(value,(key,_okey,_presence,prop)=>key+' -> '+prop.toString(),(newKey,_instantiator)=>'state('+newKey+')'));return'obj{\\n'+fieldStrings.join('\\n')+'}';};return{extract,toString};};const arrOf=prop=>{const extract=(path,array)=>{const results=map$2(array,(a,i)=>prop.extract(path.concat(['['+i+']']),a));return ResultCombine.consolidateArr(results);};const toString=()=>'array('+prop.toString()+')';return{extract,toString};};const oneOf=(props,rawF)=>{const f=rawF!==undefined?rawF:identity;const extract=(path,val)=>{const errors=[];for(const prop of props){const res=prop.extract(path,val);if(res.stype===SimpleResultType.Value){return{stype:SimpleResultType.Value,svalue:f(res.svalue)};}errors.push(res);}return ResultCombine.consolidateArr(errors);};const toString=()=>'oneOf('+map$2(props,prop=>prop.toString()).join(', ')+')';return{extract,toString};};const setOf$1=(validator,prop)=>{const validateKeys=(path,keys)=>arrOf(value$3(validator)).extract(path,keys);const extract=(path,o)=>{const keys$1=keys(o);const validatedKeys=validateKeys(path,keys$1);return SimpleResult.bind(validatedKeys,validKeys=>{const schema=map$2(validKeys,vk=>{return field$2(vk,vk,required$2(),prop);});return objOf(schema).extract(path,o);});};const toString=()=>'setOf('+prop.toString()+')';return{extract,toString};};const thunk=(_desc,processor)=>{const getP=cached(processor);const extract=(path,val)=>getP().extract(path,val);const toString=()=>getP().toString();return{extract,toString};};const arrOfObj=compose(arrOf,objOf);const anyValue=constant$1(anyValue$1);const typedValue=(validator,expectedType)=>value$3(a=>{const actualType=typeof a;return validator(a)?SimpleResult.svalue(a):SimpleResult.serror(`Expected type: ${expectedType} but got: ${actualType}`);});const number=typedValue(isNumber,'number');const string=typedValue(isString,'string');const boolean=typedValue(isBoolean,'boolean');const functionProcessor=typedValue(isFunction,'function');const isPostMessageable=val=>{if(Object(val)!==val){return true;}switch({}.toString.call(val).slice(8,-1)){case'Boolean':case'Number':case'String':case'Date':case'RegExp':case'Blob':case'FileList':case'ImageData':case'ImageBitmap':case'ArrayBuffer':return true;case'Array':case'Object':return Object.keys(val).every(prop=>isPostMessageable(val[prop]));default:return false;}};const postMessageable=value$3(a=>{if(isPostMessageable(a)){return SimpleResult.svalue(a);}else{return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');}});const chooseFrom=(path,input,branches,ch)=>{const fields=get$g(branches,ch);return fields.fold(()=>missingBranch(path,branches,ch),vp=>vp.extract(path.concat(['branch: '+ch]),input));};const choose$2=(key,branches)=>{const extract=(path,input)=>{const choice=get$g(input,key);return choice.fold(()=>missingKey(path,key),chosen=>chooseFrom(path,input,branches,chosen));};const toString=()=>'chooseOn('+key+'). Possible values: '+keys(branches);return{extract,toString};};const arrOfVal=()=>arrOf(anyValue$1);const valueOf=validator=>value$3(v=>validator(v).fold(SimpleResult.serror,SimpleResult.svalue));const setOf=(validator,prop)=>setOf$1(v=>SimpleResult.fromResult(validator(v)),prop);const extractValue=(label,prop,obj)=>{const res=prop.extract([label],obj);return SimpleResult.mapError(res,errs=>({input:obj,errors:errs}));};const asRaw=(label,prop,obj)=>SimpleResult.toResult(extractValue(label,prop,obj));const getOrDie=extraction=>{return extraction.fold(errInfo=>{throw new Error(formatError(errInfo));},identity);};const asRawOrDie$1=(label,prop,obj)=>getOrDie(asRaw(label,prop,obj));const formatError=errInfo=>{return'Errors: \\n'+formatErrors(errInfo.errors).join('\\n')+'\\n\\nInput object: '+formatObj(errInfo.input);};const choose$1=(key,branches)=>choose$2(key,map$1(branches,objOf));const thunkOf=(desc,schema)=>thunk(desc,schema);const field$1=field$2;const customField=customField$1;const validateEnum=values=>valueOf(value=>contains$2(values,value)?Result.value(value):Result.error(`Unsupported value: \"${value}\", choose one of \"${values.join(', ')}\".`));const required$1=key=>field$1(key,key,required$2(),anyValue());const requiredOf=(key,schema)=>field$1(key,key,required$2(),schema);const requiredNumber=key=>requiredOf(key,number);const requiredString=key=>requiredOf(key,string);const requiredStringEnum=(key,values)=>field$1(key,key,required$2(),validateEnum(values));const requiredBoolean=key=>requiredOf(key,boolean);const requiredFunction=key=>requiredOf(key,functionProcessor);const forbid=(key,message)=>field$1(key,key,asOption(),value$3(_v=>SimpleResult.serror('The field: '+key+' is forbidden. '+message)));const requiredObjOf=(key,objSchema)=>field$1(key,key,required$2(),objOf(objSchema));const requiredArrayOfObj=(key,objFields)=>field$1(key,key,required$2(),arrOfObj(objFields));const requiredArrayOf=(key,schema)=>field$1(key,key,required$2(),arrOf(schema));const option$3=key=>field$1(key,key,asOption(),anyValue());const optionOf=(key,schema)=>field$1(key,key,asOption(),schema);const optionNumber=key=>optionOf(key,number);const optionString=key=>optionOf(key,string);const optionStringEnum=(key,values)=>optionOf(key,validateEnum(values));const optionFunction=key=>optionOf(key,functionProcessor);const optionArrayOf=(key,schema)=>optionOf(key,arrOf(schema));const optionObjOf=(key,objSchema)=>optionOf(key,objOf(objSchema));const optionObjOfOnly=(key,objSchema)=>optionOf(key,objOfOnly(objSchema));const defaulted=(key,fallback)=>field$1(key,key,defaulted$1(fallback),anyValue());const defaultedOf=(key,fallback,schema)=>field$1(key,key,defaulted$1(fallback),schema);const defaultedNumber=(key,fallback)=>defaultedOf(key,fallback,number);const defaultedString=(key,fallback)=>defaultedOf(key,fallback,string);const defaultedStringEnum=(key,fallback,values)=>defaultedOf(key,fallback,validateEnum(values));const defaultedBoolean=(key,fallback)=>defaultedOf(key,fallback,boolean);const defaultedFunction=(key,fallback)=>defaultedOf(key,fallback,functionProcessor);const defaultedPostMsg=(key,fallback)=>defaultedOf(key,fallback,postMessageable);const defaultedArrayOf=(key,fallback,schema)=>defaultedOf(key,fallback,arrOf(schema));const defaultedObjOf=(key,fallback,objSchema)=>defaultedOf(key,fallback,objOf(objSchema));const Cell=initial=>{let value=initial;const get=()=>{return value;};const set=v=>{value=v;};return{get,set};};const generate$7=cases=>{if(!isArray(cases)){throw new Error('cases must be an array');}if(cases.length===0){throw new Error('there must be at least one case');}const constructors=[];const adt={};each$1(cases,(acase,count)=>{const keys$1=keys(acase);if(keys$1.length!==1){throw new Error('one and only one name per case');}const key=keys$1[0];const value=acase[key];if(adt[key]!==undefined){throw new Error('duplicate key detected:'+key);}else if(key==='cata'){throw new Error('cannot have a case named cata (sorry)');}else if(!isArray(value)){throw new Error('case arguments must be an array');}constructors.push(key);adt[key]=(...args)=>{const argLength=args.length;if(argLength!==value.length){throw new Error('Wrong number of arguments to case '+key+'. Expected '+value.length+' ('+value+'), got '+argLength);}const match=branches=>{const branchKeys=keys(branches);if(constructors.length!==branchKeys.length){throw new Error('Wrong number of arguments to match. Expected: '+constructors.join(',')+'\\nActual: '+branchKeys.join(','));}const allReqd=forall(constructors,reqKey=>{return contains$2(branchKeys,reqKey);});if(!allReqd){throw new Error('Not all branches were specified when using match. Specified: '+branchKeys.join(', ')+'\\nRequired: '+constructors.join(', '));}return branches[key].apply(null,args);};return{fold:(...foldArgs)=>{if(foldArgs.length!==cases.length){throw new Error('Wrong number of arguments to fold. Expected '+cases.length+', got '+foldArgs.length);}const target=foldArgs[count];return target.apply(null,args);},match,log:label=>{console.log(label,{constructors,constructor:key,params:args});}};};});return adt;};const Adt={generate:generate$7};Adt.generate([{bothErrors:['error1','error2']},{firstError:['error1','value2']},{secondError:['value1','error2']},{bothValues:['value1','value2']}]);const partition$1=results=>{const errors=[];const values=[];each$1(results,result=>{result.fold(err=>{errors.push(err);},value=>{values.push(value);});});return{errors,values};};const exclude$1=(obj,fields)=>{const r={};each(obj,(v,k)=>{if(!contains$2(fields,k)){r[k]=v;}});return r;};const wrap$2=(key,value)=>({[key]:value});const wrapAll$1=keyvalues=>{const r={};each$1(keyvalues,kv=>{r[kv.key]=kv.value;});return r;};const exclude=(obj,fields)=>exclude$1(obj,fields);const wrap$1=(key,value)=>wrap$2(key,value);const wrapAll=keyvalues=>wrapAll$1(keyvalues);const mergeValues=(values,base)=>{return values.length===0?Result.value(base):Result.value(deepMerge(base,merge$1.apply(undefined,values)));};const mergeErrors=errors=>Result.error(flatten(errors));const consolidate=(objs,base)=>{const partitions=partition$1(objs);return partitions.errors.length>0?mergeErrors(partitions.errors):mergeValues(partitions.values,base);};const ensureIsRoot=isRoot=>isFunction(isRoot)?isRoot:never;const ancestor$2=(scope,transform,isRoot)=>{let element=scope.dom;const stop=ensureIsRoot(isRoot);while(element.parentNode){element=element.parentNode;const el=SugarElement.fromDom(element);const transformed=transform(el);if(transformed.isSome()){return transformed;}else if(stop(el)){break;}}return Optional.none();};const closest$4=(scope,transform,isRoot)=>{const current=transform(scope);const stop=ensureIsRoot(isRoot);return current.orThunk(()=>stop(scope)?Optional.none():ancestor$2(scope,transform,stop));};const isSource=(component,simulatedEvent)=>eq(component.element,simulatedEvent.event.target);const defaultEventHandler={can:always,abort:never,run:noop};const nu$9=parts=>{if(!hasNonNullableKey(parts,'can')&&!hasNonNullableKey(parts,'abort')&&!hasNonNullableKey(parts,'run')){throw new Error('EventHandler defined by: '+JSON.stringify(parts,null,2)+' does not have can, abort, or run!');}return{...defaultEventHandler,...parts};};const all$2=(handlers,f)=>(...args)=>foldl(handlers,(acc,handler)=>acc&&f(handler).apply(undefined,args),true);const any=(handlers,f)=>(...args)=>foldl(handlers,(acc,handler)=>acc||f(handler).apply(undefined,args),false);const read$2=handler=>isFunction(handler)?{can:always,abort:never,run:handler}:handler;const fuse$1=handlers=>{const can=all$2(handlers,handler=>handler.can);const abort=any(handlers,handler=>handler.abort);const run=(...args)=>{each$1(handlers,handler=>{handler.run.apply(undefined,args);});};return{can,abort,run};};const constant=constant$1;const touchstart=constant('touchstart');const touchmove=constant('touchmove');const touchend=constant('touchend');const touchcancel=constant('touchcancel');const mousedown=constant('mousedown');const mousemove=constant('mousemove');const mouseout=constant('mouseout');const mouseup=constant('mouseup');const mouseover=constant('mouseover');const focusin=constant('focusin');const focusout=constant('focusout');const keydown=constant('keydown');const keyup=constant('keyup');const input=constant('input');const change=constant('change');const click=constant('click');const transitioncancel=constant('transitioncancel');const transitionend=constant('transitionend');const transitionstart=constant('transitionstart');const selectstart=constant('selectstart');const prefixName=name=>constant$1('alloy.'+name);const alloy={tap:prefixName('tap')};const focus$4=prefixName('focus');const postBlur=prefixName('blur.post');const postPaste=prefixName('paste.post');const receive=prefixName('receive');const execute$5=prefixName('execute');const focusItem=prefixName('focus.item');const tap=alloy.tap;const longpress=prefixName('longpress');const sandboxClose=prefixName('sandbox.close');const typeaheadCancel=prefixName('typeahead.cancel');const systemInit=prefixName('system.init');const documentTouchmove=prefixName('system.touchmove');const documentTouchend=prefixName('system.touchend');const windowScroll=prefixName('system.scroll');const windowResize=prefixName('system.resize');const attachedToDom=prefixName('system.attached');const detachedFromDom=prefixName('system.detached');const dismissRequested=prefixName('system.dismissRequested');const repositionRequested=prefixName('system.repositionRequested');const focusShifted=prefixName('focusmanager.shifted');const slotVisibility=prefixName('slotcontainer.visibility');const externalElementScroll=prefixName('system.external.element.scroll');const changeTab=prefixName('change.tab');const dismissTab=prefixName('dismiss.tab');const highlight$1=prefixName('highlight');const dehighlight$1=prefixName('dehighlight');const emit=(component,event)=>{dispatchWith(component,component.element,event,{});};const emitWith=(component,event,properties)=>{dispatchWith(component,component.element,event,properties);};const emitExecute=component=>{emit(component,execute$5());};const dispatch=(component,target,event)=>{dispatchWith(component,target,event,{});};const dispatchWith=(component,target,event,properties)=>{const data={target,...properties};component.getSystem().triggerEvent(event,target,data);};const retargetAndDispatchWith=(component,target,eventName,properties)=>{const data={...properties,target};component.getSystem().triggerEvent(eventName,target,data);};const dispatchEvent=(component,target,event,simulatedEvent)=>{component.getSystem().triggerEvent(event,target,simulatedEvent.event);};const derive$2=configs=>wrapAll(configs);const abort=(name,predicate)=>{return{key:name,value:nu$9({abort:predicate})};};const can=(name,predicate)=>{return{key:name,value:nu$9({can:predicate})};};const preventDefault=name=>{return{key:name,value:nu$9({run:(component,simulatedEvent)=>{simulatedEvent.event.prevent();}})};};const run$1=(name,handler)=>{return{key:name,value:nu$9({run:handler})};};const runActionExtra=(name,action,extra)=>{return{key:name,value:nu$9({run:(component,simulatedEvent)=>{action.apply(undefined,[component,simulatedEvent].concat(extra));}})};};const runOnName=name=>{return handler=>run$1(name,handler);};const runOnSourceName=name=>{return handler=>({key:name,value:nu$9({run:(component,simulatedEvent)=>{if(isSource(component,simulatedEvent)){handler(component,simulatedEvent);}}})});};const redirectToUid=(name,uid)=>{return run$1(name,(component,simulatedEvent)=>{component.getSystem().getByUid(uid).each(redirectee=>{dispatchEvent(redirectee,redirectee.element,name,simulatedEvent);});});};const redirectToPart=(name,detail,partName)=>{const uid=detail.partUids[partName];return redirectToUid(name,uid);};const runWithTarget=(name,f)=>{return run$1(name,(component,simulatedEvent)=>{const ev=simulatedEvent.event;const target=component.getSystem().getByDom(ev.target).getOrThunk(()=>{const closest=closest$4(ev.target,el=>component.getSystem().getByDom(el).toOptional(),never);return closest.getOr(component);});f(component,target,simulatedEvent);});};const cutter=name=>{return run$1(name,(component,simulatedEvent)=>{simulatedEvent.cut();});};const stopper=name=>{return run$1(name,(component,simulatedEvent)=>{simulatedEvent.stop();});};const runOnSource=(name,f)=>{return runOnSourceName(name)(f);};const runOnAttached=runOnSourceName(attachedToDom());const runOnDetached=runOnSourceName(detachedFromDom());const runOnInit=runOnSourceName(systemInit());const runOnExecute$1=runOnName(execute$5());const fromHtml$1=(html,scope)=>{const doc=scope||document;const div=doc.createElement('div');div.innerHTML=html;return children(SugarElement.fromDom(div));};const get$9=element=>element.dom.innerHTML;const set$6=(element,content)=>{const owner=owner$4(element);const docDom=owner.dom;const fragment=SugarElement.fromDom(docDom.createDocumentFragment());const contentElements=fromHtml$1(content,docDom);append$1(fragment,contentElements);empty(element);append$2(element,fragment);};const getOuter=element=>{const container=SugarElement.fromTag('div');const clone=SugarElement.fromDom(element.dom.cloneNode(true));append$2(container,clone);return get$9(container);};const clone$1=(original,isDeep)=>SugarElement.fromDom(original.dom.cloneNode(isDeep));const shallow=original=>clone$1(original,false);const deep=original=>clone$1(original,true);const getHtml=element=>{if(isShadowRoot(element)){return'#shadow-root';}else{const clone=shallow(element);return getOuter(clone);}};const element=elem=>getHtml(elem);const isRecursive=(component,originator,target)=>eq(originator,component.element)&&!eq(originator,target);const events$i=derive$2([can(focus$4(),(component,simulatedEvent)=>{const event=simulatedEvent.event;const originator=event.originator;const target=event.target;if(isRecursive(component,originator,target)){console.warn(focus$4()+' did not get interpreted by the desired target. '+'\\nOriginator: '+element(originator)+'\\nTarget: '+element(target)+'\\nCheck the '+focus$4()+' event handlers');return false;}else{return true;}})]);var DefaultEvents=/*#__PURE__*/Object.freeze({__proto__:null,events:events$i});let unique=0;const generate$6=prefix=>{const date=new Date();const time=date.getTime();const random=Math.floor(Math.random()*1000000000);unique++;return prefix+'_'+random+unique+String(time);};const prefix$1=constant$1('alloy-id-');const idAttr$1=constant$1('data-alloy-id');const prefix=prefix$1();const idAttr=idAttr$1();const write=(label,elem)=>{const id=generate$6(prefix+label);writeOnly(elem,id);return id;};const writeOnly=(elem,uid)=>{Object.defineProperty(elem.dom,idAttr,{value:uid,writable:true});};const read$1=elem=>{const id=isElement$1(elem)?elem.dom[idAttr]:null;return Optional.from(id);};const generate$5=prefix=>generate$6(prefix);const make$8=identity;const NoContextApi=getComp=>{const getMessage=event=>`The component must be in a context to execute: ${event}`+(getComp?'\\n'+element(getComp().element)+' is not in context.':'');const fail=event=>()=>{throw new Error(getMessage(event));};const warn=event=>()=>{console.warn(getMessage(event));};return{debugInfo:constant$1('fake'),triggerEvent:warn('triggerEvent'),triggerFocus:warn('triggerFocus'),triggerEscape:warn('triggerEscape'),broadcast:warn('broadcast'),broadcastOn:warn('broadcastOn'),broadcastEvent:warn('broadcastEvent'),build:fail('build'),buildOrPatch:fail('buildOrPatch'),addToWorld:fail('addToWorld'),removeFromWorld:fail('removeFromWorld'),addToGui:fail('addToGui'),removeFromGui:fail('removeFromGui'),getByUid:fail('getByUid'),getByDom:fail('getByDom'),isConnected:never};};const singleton$1=NoContextApi();const markAsBehaviourApi=(f,apiName,apiFunction)=>{const delegate=apiFunction.toString();const endIndex=delegate.indexOf(')')+1;const openBracketIndex=delegate.indexOf('(');const parameters=delegate.substring(openBracketIndex+1,endIndex-1).split(/,\\s*/);f.toFunctionAnnotation=()=>({name:apiName,parameters:cleanParameters(parameters.slice(0,1).concat(parameters.slice(3)))});return f;};const cleanParameters=parameters=>map$2(parameters,p=>endsWith(p,'/*')?p.substring(0,p.length-'/*'.length):p);const markAsExtraApi=(f,extraName)=>{const delegate=f.toString();const endIndex=delegate.indexOf(')')+1;const openBracketIndex=delegate.indexOf('(');const parameters=delegate.substring(openBracketIndex+1,endIndex-1).split(/,\\s*/);f.toFunctionAnnotation=()=>({name:extraName,parameters:cleanParameters(parameters)});return f;};const markAsSketchApi=(f,apiFunction)=>{const delegate=apiFunction.toString();const endIndex=delegate.indexOf(')')+1;const openBracketIndex=delegate.indexOf('(');const parameters=delegate.substring(openBracketIndex+1,endIndex-1).split(/,\\s*/);f.toFunctionAnnotation=()=>({name:'OVERRIDE',parameters:cleanParameters(parameters.slice(1))});return f;};const premadeTag=generate$6('alloy-premade');const premade$1=comp=>{Object.defineProperty(comp.element.dom,premadeTag,{value:comp.uid,writable:true});return wrap$1(premadeTag,comp);};const isPremade=element=>has$2(element.dom,premadeTag);const getPremade=spec=>get$g(spec,premadeTag);const makeApi=f=>markAsSketchApi((component,...rest)=>f(component.getApis(),component,...rest),f);const NoState={init:()=>nu$8({readState:constant$1('No State required')})};const nu$8=spec=>spec;const generateFrom$1=(spec,all)=>{const schema=map$2(all,a=>optionObjOf(a.name(),[required$1('config'),defaulted('state',NoState)]));const validated=asRaw('component.behaviours',objOf(schema),spec.behaviours).fold(errInfo=>{throw new Error(formatError(errInfo)+'\\nComplete spec:\\n'+JSON.stringify(spec,null,2));},identity);return{list:all,data:map$1(validated,optBlobThunk=>{const output=optBlobThunk.map(blob=>({config:blob.config,state:blob.state.init(blob.config)}));return constant$1(output);})};};const getBehaviours$3=bData=>bData.list;const getData$2=bData=>bData.data;const byInnerKey=(data,tuple)=>{const r={};each(data,(detail,key)=>{each(detail,(value,indexKey)=>{const chain=get$g(r,indexKey).getOr([]);r[indexKey]=chain.concat([tuple(key,value)]);});});return r;};const nu$7=s=>({classes:isUndefined(s.classes)?[]:s.classes,attributes:isUndefined(s.attributes)?{}:s.attributes,styles:isUndefined(s.styles)?{}:s.styles});const merge=(defnA,mod)=>({...defnA,attributes:{...defnA.attributes,...mod.attributes},styles:{...defnA.styles,...mod.styles},classes:defnA.classes.concat(mod.classes)});const combine$2=(info,baseMod,behaviours,base)=>{const modsByBehaviour={...baseMod};each$1(behaviours,behaviour=>{modsByBehaviour[behaviour.name()]=behaviour.exhibit(info,base);});const byAspect=byInnerKey(modsByBehaviour,(name,modification)=>({name,modification}));const combineObjects=objects=>foldr(objects,(b,a)=>({...a.modification,...b}),{});const combinedClasses=foldr(byAspect.classes,(b,a)=>a.modification.concat(b),[]);const combinedAttributes=combineObjects(byAspect.attributes);const combinedStyles=combineObjects(byAspect.styles);return nu$7({classes:combinedClasses,attributes:combinedAttributes,styles:combinedStyles});};const sortKeys=(label,keyName,array,order)=>{try{const sorted=sort(array,(a,b)=>{const aKey=a[keyName];const bKey=b[keyName];const aIndex=order.indexOf(aKey);const bIndex=order.indexOf(bKey);if(aIndex===-1){throw new Error('The ordering for '+label+' does not have an entry for '+aKey+'.\\nOrder specified: '+JSON.stringify(order,null,2));}if(bIndex===-1){throw new Error('The ordering for '+label+' does not have an entry for '+bKey+'.\\nOrder specified: '+JSON.stringify(order,null,2));}if(aIndex<bIndex){return-1;}else if(bIndex<aIndex){return 1;}else{return 0;}});return Result.value(sorted);}catch(err){return Result.error([err]);}};const uncurried=(handler,purpose)=>({handler,purpose});const curried=(handler,purpose)=>({cHandler:handler,purpose});const curryArgs=(descHandler,extraArgs)=>curried(curry.apply(undefined,[descHandler.handler].concat(extraArgs)),descHandler.purpose);const getCurried=descHandler=>descHandler.cHandler;const behaviourTuple=(name,handler)=>({name,handler});const nameToHandlers=(behaviours,info)=>{const r={};each$1(behaviours,behaviour=>{r[behaviour.name()]=behaviour.handlers(info);});return r;};const groupByEvents=(info,behaviours,base)=>{const behaviourEvents={...base,...nameToHandlers(behaviours,info)};return byInnerKey(behaviourEvents,behaviourTuple);};const combine$1=(info,eventOrder,behaviours,base)=>{const byEventName=groupByEvents(info,behaviours,base);return combineGroups(byEventName,eventOrder);};const assemble=rawHandler=>{const handler=read$2(rawHandler);return(component,simulatedEvent,...rest)=>{const args=[component,simulatedEvent].concat(rest);if(handler.abort.apply(undefined,args)){simulatedEvent.stop();}else if(handler.can.apply(undefined,args)){handler.run.apply(undefined,args);}};};const missingOrderError=(eventName,tuples)=>Result.error(['The event ('+eventName+') has more than one behaviour that listens to it.\\nWhen this occurs, you must '+'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that '+'can trigger it are: '+JSON.stringify(map$2(tuples,c=>c.name),null,2)]);const fuse=(tuples,eventOrder,eventName)=>{const order=eventOrder[eventName];if(!order){return missingOrderError(eventName,tuples);}else{return sortKeys('Event: '+eventName,'name',tuples,order).map(sortedTuples=>{const handlers=map$2(sortedTuples,tuple=>tuple.handler);return fuse$1(handlers);});}};const combineGroups=(byEventName,eventOrder)=>{const r=mapToArray(byEventName,(tuples,eventName)=>{const combined=tuples.length===1?Result.value(tuples[0].handler):fuse(tuples,eventOrder,eventName);return combined.map(handler=>{const assembled=assemble(handler);const purpose=tuples.length>1?filter$2(eventOrder[eventName],o=>exists(tuples,t=>t.name===o)).join(' > '):tuples[0].name;return wrap$1(eventName,uncurried(assembled,purpose));});});return consolidate(r,{});};const baseBehaviour='alloy.base.behaviour';const schema$z=objOf([field$1('dom','dom',required$2(),objOf([required$1('tag'),defaulted('styles',{}),defaulted('classes',[]),defaulted('attributes',{}),option$3('value'),option$3('innerHtml')])),required$1('components'),required$1('uid'),defaulted('events',{}),defaulted('apis',{}),field$1('eventOrder','eventOrder',mergeWith({[execute$5()]:['disabling',baseBehaviour,'toggling','typeaheadevents'],[focus$4()]:[baseBehaviour,'focusing','keying'],[systemInit()]:[baseBehaviour,'disabling','toggling','representing'],[input()]:[baseBehaviour,'representing','streaming','invalidating'],[detachedFromDom()]:[baseBehaviour,'representing','item-events','tooltipping'],[mousedown()]:['focusing',baseBehaviour,'item-type-events'],[touchstart()]:['focusing',baseBehaviour,'item-type-events'],[mouseover()]:['item-type-events','tooltipping'],[receive()]:['receiving','reflecting','tooltipping']}),anyValue()),option$3('domModification')]);const toInfo=spec=>asRaw('custom.definition',schema$z,spec);const toDefinition=detail=>({...detail.dom,uid:detail.uid,domChildren:map$2(detail.components,comp=>comp.element)});const toModification=detail=>detail.domModification.fold(()=>nu$7({}),nu$7);const toEvents=info=>info.events;const read=(element,attr)=>{const value=get$f(element,attr);return value===undefined||value===''?[]:value.split(' ');};const add$4=(element,attr,id)=>{const old=read(element,attr);const nu=old.concat([id]);set$9(element,attr,nu.join(' '));return true;};const remove$4=(element,attr,id)=>{const nu=filter$2(read(element,attr),v=>v!==id);if(nu.length>0){set$9(element,attr,nu.join(' '));}else{remove$7(element,attr);}return false;};const supports=element=>element.dom.classList!==undefined;const get$8=element=>read(element,'class');const add$3=(element,clazz)=>add$4(element,'class',clazz);const remove$3=(element,clazz)=>remove$4(element,'class',clazz);const toggle$5=(element,clazz)=>{if(contains$2(get$8(element),clazz)){return remove$3(element,clazz);}else{return add$3(element,clazz);}};const add$2=(element,clazz)=>{if(supports(element)){element.dom.classList.add(clazz);}else{add$3(element,clazz);}};const cleanClass=element=>{const classList=supports(element)?element.dom.classList:get$8(element);if(classList.length===0){remove$7(element,'class');}};const remove$2=(element,clazz)=>{if(supports(element)){const classList=element.dom.classList;classList.remove(clazz);}else{remove$3(element,clazz);}cleanClass(element);};const toggle$4=(element,clazz)=>{const result=supports(element)?element.dom.classList.toggle(clazz):toggle$5(element,clazz);cleanClass(element);return result;};const has=(element,clazz)=>supports(element)&&element.dom.classList.contains(clazz);const add$1=(element,classes)=>{each$1(classes,x=>{add$2(element,x);});};const remove$1=(element,classes)=>{each$1(classes,x=>{remove$2(element,x);});};const toggle$3=(element,classes)=>{each$1(classes,x=>{toggle$4(element,x);});};const hasAll=(element,classes)=>forall(classes,clazz=>has(element,clazz));const getNative=element=>{const classList=element.dom.classList;const r=new Array(classList.length);for(let i=0;i<classList.length;i++){const item=classList.item(i);if(item!==null){r[i]=item;}}return r;};const get$7=element=>supports(element)?getNative(element):get$8(element);const get$6=element=>element.dom.value;const set$5=(element,value)=>{if(value===undefined){throw new Error('Value.set was undefined');}element.dom.value=value;};const determineObsoleted=(parent,index,oldObsoleted)=>{const newObsoleted=child$2(parent,index);return newObsoleted.map(newObs=>{const elemChanged=oldObsoleted.exists(o=>!eq(o,newObs));if(elemChanged){const oldTag=oldObsoleted.map(name$3).getOr('span');const marker=SugarElement.fromTag(oldTag);before$1(newObs,marker);return marker;}else{return newObs;}});};const ensureInDom=(parent,child,obsoleted)=>{obsoleted.fold(()=>append$2(parent,child),obs=>{if(!eq(obs,child)){before$1(obs,child);remove$5(obs);}});};const patchChildrenWith=(parent,nu,f)=>{const builtChildren=map$2(nu,f);const currentChildren=children(parent);each$1(currentChildren.slice(builtChildren.length),remove$5);return builtChildren;};const patchSpecChild=(parent,index,spec,build)=>{const oldObsoleted=child$2(parent,index);const childComp=build(spec,oldObsoleted);const obsoleted=determineObsoleted(parent,index,oldObsoleted);ensureInDom(parent,childComp.element,obsoleted);return childComp;};const patchSpecChildren=(parent,specs,build)=>patchChildrenWith(parent,specs,(spec,index)=>patchSpecChild(parent,index,spec,build));const patchDomChildren=(parent,nodes)=>patchChildrenWith(parent,nodes,(node,index)=>{const optObsoleted=child$2(parent,index);ensureInDom(parent,node,optObsoleted);return node;});const diffKeyValueSet=(newObj,oldObj)=>{const newKeys=keys(newObj);const oldKeys=keys(oldObj);const toRemove=difference(oldKeys,newKeys);const toSet=bifilter(newObj,(v,k)=>{return!has$2(oldObj,k)||v!==oldObj[k];}).t;return{toRemove,toSet};};const reconcileToDom=(definition,obsoleted)=>{const{class:clazz,style,...existingAttributes}=clone$2(obsoleted);const{toSet:attrsToSet,toRemove:attrsToRemove}=diffKeyValueSet(definition.attributes,existingAttributes);const updateAttrs=()=>{each$1(attrsToRemove,a=>remove$7(obsoleted,a));setAll$1(obsoleted,attrsToSet);};const existingStyles=getAllRaw(obsoleted);const{toSet:stylesToSet,toRemove:stylesToRemove}=diffKeyValueSet(definition.styles,existingStyles);const updateStyles=()=>{each$1(stylesToRemove,s=>remove$6(obsoleted,s));setAll(obsoleted,stylesToSet);};const existingClasses=get$7(obsoleted);const classesToRemove=difference(existingClasses,definition.classes);const classesToAdd=difference(definition.classes,existingClasses);const updateClasses=()=>{add$1(obsoleted,classesToAdd);remove$1(obsoleted,classesToRemove);};const updateHtml=html=>{set$6(obsoleted,html);};const updateChildren=()=>{const children=definition.domChildren;patchDomChildren(obsoleted,children);};const updateValue=()=>{const valueElement=obsoleted;const value=definition.value.getOrUndefined();if(value!==get$6(valueElement)){set$5(valueElement,value!==null&&value!==void 0?value:'');}};updateAttrs();updateClasses();updateStyles();definition.innerHtml.fold(updateChildren,updateHtml);updateValue();return obsoleted;};const introduceToDom=definition=>{const subject=SugarElement.fromTag(definition.tag);setAll$1(subject,definition.attributes);add$1(subject,definition.classes);setAll(subject,definition.styles);definition.innerHtml.each(html=>set$6(subject,html));const children=definition.domChildren;append$1(subject,children);definition.value.each(value=>{set$5(subject,value);});return subject;};const attemptPatch=(definition,obsoleted)=>{try{const e=reconcileToDom(definition,obsoleted);return Optional.some(e);}catch(err){return Optional.none();}};const hasMixedChildren=definition=>definition.innerHtml.isSome()&&definition.domChildren.length>0;const renderToDom=(definition,optObsoleted)=>{const canBePatched=candidate=>name$3(candidate)===definition.tag&&!hasMixedChildren(definition)&&!isPremade(candidate);const elem=optObsoleted.filter(canBePatched).bind(obsoleted=>attemptPatch(definition,obsoleted)).getOrThunk(()=>introduceToDom(definition));writeOnly(elem,definition.uid);return elem;};const getBehaviours$2=spec=>{const behaviours=get$g(spec,'behaviours').getOr({});return bind$3(keys(behaviours),name=>{const behaviour=behaviours[name];return isNonNullable(behaviour)?[behaviour.me]:[];});};const generateFrom=(spec,all)=>generateFrom$1(spec,all);const generate$4=spec=>{const all=getBehaviours$2(spec);return generateFrom(spec,all);};const getDomDefinition=(info,bList,bData)=>{const definition=toDefinition(info);const infoModification=toModification(info);const baseModification={'alloy.base.modification':infoModification};const modification=bList.length>0?combine$2(bData,baseModification,bList,definition):infoModification;return merge(definition,modification);};const getEvents=(info,bList,bData)=>{const baseEvents={'alloy.base.behaviour':toEvents(info)};return combine$1(bData,info.eventOrder,bList,baseEvents).getOrDie();};const build$2=(spec,obsoleted)=>{const getMe=()=>me;const systemApi=Cell(singleton$1);const info=getOrDie(toInfo(spec));const bBlob=generate$4(spec);const bList=getBehaviours$3(bBlob);const bData=getData$2(bBlob);const modDefinition=getDomDefinition(info,bList,bData);const item=renderToDom(modDefinition,obsoleted);const events=getEvents(info,bList,bData);const subcomponents=Cell(info.components);const connect=newApi=>{systemApi.set(newApi);};const disconnect=()=>{systemApi.set(NoContextApi(getMe));};const syncComponents=()=>{const children$1=children(item);const subs=bind$3(children$1,child=>systemApi.get().getByDom(child).fold(()=>[],pure$2));subcomponents.set(subs);};const config=behaviour=>{const b=bData;const f=isFunction(b[behaviour.name()])?b[behaviour.name()]:()=>{throw new Error('Could not find '+behaviour.name()+' in '+JSON.stringify(spec,null,2));};return f();};const hasConfigured=behaviour=>isFunction(bData[behaviour.name()]);const getApis=()=>info.apis;const readState=behaviourName=>bData[behaviourName]().map(b=>b.state.readState()).getOr('not enabled');const me={uid:spec.uid,getSystem:systemApi.get,config,hasConfigured,spec,readState,getApis,connect,disconnect,element:item,syncComponents,components:subcomponents.get,events};return me;};const buildSubcomponents=(spec,obsoleted)=>{const components=get$g(spec,'components').getOr([]);return obsoleted.fold(()=>map$2(components,build$1),obs=>map$2(components,(c,i)=>{return buildOrPatch(c,child$2(obs,i));}));};const buildFromSpec=(userSpec,obsoleted)=>{const{events:specEvents,...spec}=make$8(userSpec);const components=buildSubcomponents(spec,obsoleted);const completeSpec={...spec,events:{...DefaultEvents,...specEvents},components};return Result.value(build$2(completeSpec,obsoleted));};const text$2=textContent=>{const element=SugarElement.fromText(textContent);return external$1({element});};const external$1=spec=>{const extSpec=asRawOrDie$1('external.component',objOfOnly([required$1('element'),option$3('uid')]),spec);const systemApi=Cell(NoContextApi());const connect=newApi=>{systemApi.set(newApi);};const disconnect=()=>{systemApi.set(NoContextApi(()=>me));};const uid=extSpec.uid.getOrThunk(()=>generate$5('external'));writeOnly(extSpec.element,uid);const me={uid,getSystem:systemApi.get,config:Optional.none,hasConfigured:never,connect,disconnect,getApis:()=>({}),element:extSpec.element,spec,readState:constant$1('No state'),syncComponents:noop,components:constant$1([]),events:{}};return premade$1(me);};const uids=generate$5;const isSketchSpec$1=spec=>has$2(spec,'uid');const buildOrPatch=(spec,obsoleted)=>getPremade(spec).getOrThunk(()=>{const userSpecWithUid=isSketchSpec$1(spec)?spec:{uid:uids(''),...spec};return buildFromSpec(userSpecWithUid,obsoleted).getOrDie();});const build$1=spec=>buildOrPatch(spec,Optional.none());const premade=premade$1;var ClosestOrAncestor=(is,ancestor,scope,a,isRoot)=>{if(is(scope,a)){return Optional.some(scope);}else if(isFunction(isRoot)&&isRoot(scope)){return Optional.none();}else{return ancestor(scope,a,isRoot);}};const ancestor$1=(scope,predicate,isRoot)=>{let element=scope.dom;const stop=isFunction(isRoot)?isRoot:never;while(element.parentNode){element=element.parentNode;const el=SugarElement.fromDom(element);if(predicate(el)){return Optional.some(el);}else if(stop(el)){break;}}return Optional.none();};const closest$3=(scope,predicate,isRoot)=>{const is=(s,test)=>test(s);return ClosestOrAncestor(is,ancestor$1,scope,predicate,isRoot);};const child$1=(scope,predicate)=>{const pred=node=>predicate(SugarElement.fromDom(node));const result=find$5(scope.dom.childNodes,pred);return result.map(SugarElement.fromDom);};const descendant$1=(scope,predicate)=>{const descend=node=>{for(let i=0;i<node.childNodes.length;i++){const child=SugarElement.fromDom(node.childNodes[i]);if(predicate(child)){return Optional.some(child);}const res=descend(node.childNodes[i]);if(res.isSome()){return res;}}return Optional.none();};return descend(scope.dom);};const closest$2=(scope,predicate,isRoot)=>closest$3(scope,predicate,isRoot).isSome();const ancestor=(scope,selector,isRoot)=>ancestor$1(scope,e=>is(e,selector),isRoot);const child=(scope,selector)=>child$1(scope,e=>is(e,selector));const descendant=(scope,selector)=>one(selector,scope);const closest$1=(scope,selector,isRoot)=>{const is$1=(element,selector)=>is(element,selector);return ClosestOrAncestor(is$1,ancestor,scope,selector,isRoot);};const attribute='aria-controls';const find$1=queryElem=>{const dependent=closest$3(queryElem,elem=>{if(!isElement$1(elem)){return false;}const id=get$f(elem,'id');return id!==undefined&&id.indexOf(attribute)>-1;});return dependent.bind(dep=>{const id=get$f(dep,'id');const dos=getRootNode(dep);return descendant(dos,`[${attribute}=\"${id}\"]`);});};const manager=()=>{const ariaId=generate$6(attribute);const link=elem=>{set$9(elem,attribute,ariaId);};const unlink=elem=>{remove$7(elem,attribute);};return{id:ariaId,link,unlink};};const isAriaPartOf=(component,queryElem)=>find$1(queryElem).exists(owner=>isPartOf$1(component,owner));const isPartOf$1=(component,queryElem)=>closest$2(queryElem,el=>eq(el,component.element),never)||isAriaPartOf(component,queryElem);const unknown='unknown';var EventConfiguration;(function(EventConfiguration){EventConfiguration[EventConfiguration['STOP']=0]='STOP';EventConfiguration[EventConfiguration['NORMAL']=1]='NORMAL';EventConfiguration[EventConfiguration['LOGGING']=2]='LOGGING';})(EventConfiguration||(EventConfiguration={}));const eventConfig=Cell({});const makeEventLogger=(eventName,initialTarget)=>{const sequence=[];const startTime=new Date().getTime();return{logEventCut:(_name,target,purpose)=>{sequence.push({outcome:'cut',target,purpose});},logEventStopped:(_name,target,purpose)=>{sequence.push({outcome:'stopped',target,purpose});},logNoParent:(_name,target,purpose)=>{sequence.push({outcome:'no-parent',target,purpose});},logEventNoHandlers:(_name,target)=>{sequence.push({outcome:'no-handlers-left',target});},logEventResponse:(_name,target,purpose)=>{sequence.push({outcome:'response',purpose,target});},write:()=>{const finishTime=new Date().getTime();if(contains$2(['mousemove','mouseover','mouseout',systemInit()],eventName)){return;}console.log(eventName,{event:eventName,time:finishTime-startTime,target:initialTarget.dom,sequence:map$2(sequence,s=>{if(!contains$2(['cut','stopped','response'],s.outcome)){return s.outcome;}else{return'{'+s.purpose+'} '+s.outcome+' at ('+element(s.target)+')';}})});}};};const processEvent=(eventName,initialTarget,f)=>{const status=get$g(eventConfig.get(),eventName).orThunk(()=>{const patterns=keys(eventConfig.get());return findMap(patterns,p=>eventName.indexOf(p)>-1?Optional.some(eventConfig.get()[p]):Optional.none());}).getOr(EventConfiguration.NORMAL);switch(status){case EventConfiguration.NORMAL:return f(noLogger());case EventConfiguration.LOGGING:{const logger=makeEventLogger(eventName,initialTarget);const output=f(logger);logger.write();return output;}case EventConfiguration.STOP:return true;}};const path=['alloy/data/Fields','alloy/debugging/Debugging'];const getTrace=()=>{const err=new Error();if(err.stack!==undefined){const lines=err.stack.split('\\n');return find$5(lines,line=>line.indexOf('alloy')>0&&!exists(path,p=>line.indexOf(p)>-1)).getOr(unknown);}else{return unknown;}};const ignoreEvent={logEventCut:noop,logEventStopped:noop,logNoParent:noop,logEventNoHandlers:noop,logEventResponse:noop,write:noop};const monitorEvent=(eventName,initialTarget,f)=>processEvent(eventName,initialTarget,f);const noLogger=constant$1(ignoreEvent);const menuFields=constant$1([required$1('menu'),required$1('selectedMenu')]);const itemFields=constant$1([required$1('item'),required$1('selectedItem')]);constant$1(objOf(itemFields().concat(menuFields())));const itemSchema$3=constant$1(objOf(itemFields()));const _initSize=requiredObjOf('initSize',[required$1('numColumns'),required$1('numRows')]);const itemMarkers=()=>requiredOf('markers',itemSchema$3());const tieredMenuMarkers=()=>requiredObjOf('markers',[required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));const markers$1=required=>requiredObjOf('markers',map$2(required,required$1));const onPresenceHandler=(label,fieldName,presence)=>{getTrace();return field$1(fieldName,fieldName,presence,valueOf(f=>Result.value((...args)=>{return f.apply(undefined,args);})));};const onHandler=fieldName=>onPresenceHandler('onHandler',fieldName,defaulted$1(noop));const onKeyboardHandler=fieldName=>onPresenceHandler('onKeyboardHandler',fieldName,defaulted$1(Optional.none));const onStrictHandler=fieldName=>onPresenceHandler('onHandler',fieldName,required$2());const onStrictKeyboardHandler=fieldName=>onPresenceHandler('onKeyboardHandler',fieldName,required$2());const output$1=(name,value)=>customField(name,constant$1(value));const snapshot=name=>customField(name,identity);const initSize=constant$1(_initSize);const nu$6=(x,y,bubble,direction,placement,boundsRestriction,labelPrefix,alwaysFit=false)=>({x,y,bubble,direction,placement,restriction:boundsRestriction,label:`${labelPrefix}-${placement}`,alwaysFit});const adt$a=Adt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);const cata$2=(subject,southeast,southwest,northeast,northwest,south,north,east,west)=>subject.fold(southeast,southwest,northeast,northwest,south,north,east,west);const cataVertical=(subject,south,middle,north)=>subject.fold(south,south,north,north,south,north,middle,middle);const cataHorizontal=(subject,east,middle,west)=>subject.fold(east,west,east,west,middle,middle,east,west);const southeast$3=adt$a.southeast;const southwest$3=adt$a.southwest;const northeast$3=adt$a.northeast;const northwest$3=adt$a.northwest;const south$3=adt$a.south;const north$3=adt$a.north;const east$3=adt$a.east;const west$3=adt$a.west;const cycleBy=(value,delta,min,max)=>{const r=value+delta;if(r>max){return min;}else if(r<min){return max;}else{return r;}};const clamp=(value,min,max)=>Math.min(Math.max(value,min),max);const getRestriction=(anchor,restriction)=>{switch(restriction){case 1:return anchor.x;case 0:return anchor.x+anchor.width;case 2:return anchor.y;case 3:return anchor.y+anchor.height;}};const boundsRestriction=(anchor,restrictions)=>mapToObject(['left','right','top','bottom'],dir=>get$g(restrictions,dir).map(restriction=>getRestriction(anchor,restriction)));const adjustBounds=(bounds$1,restriction,bubbleOffset)=>{const applyRestriction=(dir,current)=>restriction[dir].map(pos=>{const isVerticalAxis=dir==='top'||dir==='bottom';const offset=isVerticalAxis?bubbleOffset.top:bubbleOffset.left;const comparator=dir==='left'||dir==='top'?Math.max:Math.min;const newPos=comparator(pos,current)+offset;return isVerticalAxis?clamp(newPos,bounds$1.y,bounds$1.bottom):clamp(newPos,bounds$1.x,bounds$1.right);}).getOr(current);const adjustedLeft=applyRestriction('left',bounds$1.x);const adjustedTop=applyRestriction('top',bounds$1.y);const adjustedRight=applyRestriction('right',bounds$1.right);const adjustedBottom=applyRestriction('bottom',bounds$1.bottom);return bounds(adjustedLeft,adjustedTop,adjustedRight-adjustedLeft,adjustedBottom-adjustedTop);};const labelPrefix$2='layout';const eastX$1=anchor=>anchor.x;const middleX$1=(anchor,element)=>anchor.x+anchor.width/2-element.width/2;const westX$1=(anchor,element)=>anchor.x+anchor.width-element.width;const northY$2=(anchor,element)=>anchor.y-element.height;const southY$2=anchor=>anchor.y+anchor.height;const centreY$1=(anchor,element)=>anchor.y+anchor.height/2-element.height/2;const eastEdgeX$1=anchor=>anchor.x+anchor.width;const westEdgeX$1=(anchor,element)=>anchor.x-element.width;const southeast$2=(anchor,element,bubbles)=>nu$6(eastX$1(anchor),southY$2(anchor),bubbles.southeast(),southeast$3(),'southeast',boundsRestriction(anchor,{left:1,top:3}),labelPrefix$2);const southwest$2=(anchor,element,bubbles)=>nu$6(westX$1(anchor,element),southY$2(anchor),bubbles.southwest(),southwest$3(),'southwest',boundsRestriction(anchor,{right:0,top:3}),labelPrefix$2);const northeast$2=(anchor,element,bubbles)=>nu$6(eastX$1(anchor),northY$2(anchor,element),bubbles.northeast(),northeast$3(),'northeast',boundsRestriction(anchor,{left:1,bottom:2}),labelPrefix$2);const northwest$2=(anchor,element,bubbles)=>nu$6(westX$1(anchor,element),northY$2(anchor,element),bubbles.northwest(),northwest$3(),'northwest',boundsRestriction(anchor,{right:0,bottom:2}),labelPrefix$2);const north$2=(anchor,element,bubbles)=>nu$6(middleX$1(anchor,element),northY$2(anchor,element),bubbles.north(),north$3(),'north',boundsRestriction(anchor,{bottom:2}),labelPrefix$2);const south$2=(anchor,element,bubbles)=>nu$6(middleX$1(anchor,element),southY$2(anchor),bubbles.south(),south$3(),'south',boundsRestriction(anchor,{top:3}),labelPrefix$2);const east$2=(anchor,element,bubbles)=>nu$6(eastEdgeX$1(anchor),centreY$1(anchor,element),bubbles.east(),east$3(),'east',boundsRestriction(anchor,{left:0}),labelPrefix$2);const west$2=(anchor,element,bubbles)=>nu$6(westEdgeX$1(anchor,element),centreY$1(anchor,element),bubbles.west(),west$3(),'west',boundsRestriction(anchor,{right:1}),labelPrefix$2);const all$1=()=>[southeast$2,southwest$2,northeast$2,northwest$2,south$2,north$2,east$2,west$2];const allRtl$1=()=>[southwest$2,southeast$2,northwest$2,northeast$2,south$2,north$2,east$2,west$2];const aboveOrBelow=()=>[northeast$2,northwest$2,southeast$2,southwest$2,north$2,south$2];const aboveOrBelowRtl=()=>[northwest$2,northeast$2,southwest$2,southeast$2,north$2,south$2];const belowOrAbove=()=>[southeast$2,southwest$2,northeast$2,northwest$2,south$2,north$2];const belowOrAboveRtl=()=>[southwest$2,southeast$2,northwest$2,northeast$2,south$2,north$2];const chooseChannels=(channels,message)=>message.universal?channels:filter$2(channels,ch=>contains$2(message.channels,ch));const events$h=receiveConfig=>derive$2([run$1(receive(),(component,message)=>{const channelMap=receiveConfig.channels;const channels=keys(channelMap);const receivingData=message;const targetChannels=chooseChannels(channels,receivingData);each$1(targetChannels,ch=>{const channelInfo=channelMap[ch];const channelSchema=channelInfo.schema;const data=asRawOrDie$1('channel['+ch+'] data\\nReceiver: '+element(component.element),channelSchema,receivingData.data);channelInfo.onReceive(component,data);});})]);var ActiveReceiving=/*#__PURE__*/Object.freeze({__proto__:null,events:events$h});var ReceivingSchema=[requiredOf('channels',setOf(Result.value,objOfOnly([onStrictHandler('onReceive'),defaulted('schema',anyValue())])))];const executeEvent=(bConfig,bState,executor)=>runOnExecute$1(component=>{executor(component,bConfig,bState);});const loadEvent=(bConfig,bState,f)=>runOnInit((component,_simulatedEvent)=>{f(component,bConfig,bState);});const create$5=(schema,name,active,apis,extra,state)=>{const configSchema=objOfOnly(schema);const schemaSchema=optionObjOf(name,[optionObjOfOnly('config',schema)]);return doCreate(configSchema,schemaSchema,name,active,apis,extra,state);};const createModes$1=(modes,name,active,apis,extra,state)=>{const configSchema=modes;const schemaSchema=optionObjOf(name,[optionOf('config',modes)]);return doCreate(configSchema,schemaSchema,name,active,apis,extra,state);};const wrapApi=(bName,apiFunction,apiName)=>{const f=(component,...rest)=>{const args=[component].concat(rest);return component.config({name:constant$1(bName)}).fold(()=>{throw new Error('We could not find any behaviour configuration for: '+bName+'. Using API: '+apiName);},info=>{const rest=Array.prototype.slice.call(args,1);return apiFunction.apply(undefined,[component,info.config,info.state].concat(rest));});};return markAsBehaviourApi(f,apiName,apiFunction);};const revokeBehaviour=name=>({key:name,value:undefined});const doCreate=(configSchema,schemaSchema,name,active,apis,extra,state)=>{const getConfig=info=>hasNonNullableKey(info,name)?info[name]():Optional.none();const wrappedApis=map$1(apis,(apiF,apiName)=>wrapApi(name,apiF,apiName));const wrappedExtra=map$1(extra,(extraF,extraName)=>markAsExtraApi(extraF,extraName));const me={...wrappedExtra,...wrappedApis,revoke:curry(revokeBehaviour,name),config:spec=>{const prepared=asRawOrDie$1(name+'-config',configSchema,spec);return{key:name,value:{config:prepared,me,configAsRaw:cached(()=>asRawOrDie$1(name+'-config',configSchema,spec)),initialConfig:spec,state}};},schema:constant$1(schemaSchema),exhibit:(info,base)=>{return lift2(getConfig(info),get$g(active,'exhibit'),(behaviourInfo,exhibitor)=>{return exhibitor(base,behaviourInfo.config,behaviourInfo.state);}).getOrThunk(()=>nu$7({}));},name:constant$1(name),handlers:info=>{return getConfig(info).map(behaviourInfo=>{const getEvents=get$g(active,'events').getOr(()=>({}));return getEvents(behaviourInfo.config,behaviourInfo.state);}).getOr({});}};return me;};const derive$1=capabilities=>wrapAll(capabilities);const simpleSchema=objOfOnly([required$1('fields'),required$1('name'),defaulted('active',{}),defaulted('apis',{}),defaulted('state',NoState),defaulted('extra',{})]);const create$4=data=>{const value=asRawOrDie$1('Creating behaviour: '+data.name,simpleSchema,data);return create$5(value.fields,value.name,value.active,value.apis,value.extra,value.state);};const modeSchema=objOfOnly([required$1('branchKey'),required$1('branches'),required$1('name'),defaulted('active',{}),defaulted('apis',{}),defaulted('state',NoState),defaulted('extra',{})]);const createModes=data=>{const value=asRawOrDie$1('Creating behaviour: '+data.name,modeSchema,data);return createModes$1(choose$1(value.branchKey,value.branches),value.name,value.active,value.apis,value.extra,value.state);};const revoke=constant$1(undefined);const Receiving=create$4({fields:ReceivingSchema,name:'receiving',active:ActiveReceiving});const exhibit$6=(base,posConfig)=>nu$7({classes:[],styles:posConfig.useFixed()?{}:{position:'relative'}});var ActivePosition=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$6});const focus$3=(element,preventScroll=false)=>element.dom.focus({preventScroll});const blur$1=element=>element.dom.blur();const hasFocus=element=>{const root=getRootNode(element).dom;return element.dom===root.activeElement;};const active$1=(root=getDocument())=>Optional.from(root.dom.activeElement).map(SugarElement.fromDom);const search=element=>active$1(getRootNode(element)).filter(e=>element.dom.contains(e.dom));const preserve$1=(f,container)=>{const dos=getRootNode(container);const refocus=active$1(dos).bind(focused=>{const hasFocus=elem=>eq(focused,elem);return hasFocus(container)?Optional.some(container):descendant$1(container,hasFocus);});const result=f(container);refocus.each(oldFocus=>{active$1(dos).filter(newFocus=>eq(newFocus,oldFocus)).fold(()=>{focus$3(oldFocus);},noop);});return result;};const NuPositionCss=(position,left,top,right,bottom)=>{const toPx=num=>num+'px';return{position,left:left.map(toPx),top:top.map(toPx),right:right.map(toPx),bottom:bottom.map(toPx)};};const toOptions=position=>({...position,position:Optional.some(position.position)});const applyPositionCss=(element,position)=>{setOptions(element,toOptions(position));};const adt$9=Adt.generate([{none:[]},{relative:['x','y','width','height']},{fixed:['x','y','width','height']}]);const positionWithDirection=(posName,decision,x,y,width,height)=>{const decisionRect=decision.rect;const decisionX=decisionRect.x-x;const decisionY=decisionRect.y-y;const decisionWidth=decisionRect.width;const decisionHeight=decisionRect.height;const decisionRight=width-(decisionX+decisionWidth);const decisionBottom=height-(decisionY+decisionHeight);const left=Optional.some(decisionX);const top=Optional.some(decisionY);const right=Optional.some(decisionRight);const bottom=Optional.some(decisionBottom);const none=Optional.none();return cata$2(decision.direction,()=>NuPositionCss(posName,left,top,none,none),()=>NuPositionCss(posName,none,top,right,none),()=>NuPositionCss(posName,left,none,none,bottom),()=>NuPositionCss(posName,none,none,right,bottom),()=>NuPositionCss(posName,left,top,none,none),()=>NuPositionCss(posName,left,none,none,bottom),()=>NuPositionCss(posName,left,top,none,none),()=>NuPositionCss(posName,none,top,right,none));};const reposition=(origin,decision)=>origin.fold(()=>{const decisionRect=decision.rect;return NuPositionCss('absolute',Optional.some(decisionRect.x),Optional.some(decisionRect.y),Optional.none(),Optional.none());},(x,y,width,height)=>{return positionWithDirection('absolute',decision,x,y,width,height);},(x,y,width,height)=>{return positionWithDirection('fixed',decision,x,y,width,height);});const toBox=(origin,element)=>{const rel=curry(find$2,element);const position=origin.fold(rel,rel,()=>{const scroll=get$b();return find$2(element).translate(-scroll.left,-scroll.top);});const width=getOuter$1(element);const height=getOuter$2(element);return bounds(position.left,position.top,width,height);};const viewport=(origin,optBounds)=>optBounds.fold(()=>origin.fold(win,win,bounds),bounds$1=>origin.fold(constant$1(bounds$1),constant$1(bounds$1),()=>{const pos=translate$2(origin,bounds$1.x,bounds$1.y);return bounds(pos.left,pos.top,bounds$1.width,bounds$1.height);}));const translate$2=(origin,x,y)=>{const pos=SugarPosition(x,y);const removeScroll=()=>{const outerScroll=get$b();return pos.translate(-outerScroll.left,-outerScroll.top);};return origin.fold(constant$1(pos),constant$1(pos),removeScroll);};const cata$1=(subject,onNone,onRelative,onFixed)=>subject.fold(onNone,onRelative,onFixed);adt$9.none;const relative$1=adt$9.relative;const fixed$1=adt$9.fixed;const anchor=(anchorBox,origin)=>({anchorBox,origin});const box=(anchorBox,origin)=>anchor(anchorBox,origin);const placementAttribute='data-alloy-placement';const setPlacement$1=(element,placement)=>{set$9(element,placementAttribute,placement);};const getPlacement=element=>getOpt(element,placementAttribute);const reset$2=element=>remove$7(element,placementAttribute);const adt$8=Adt.generate([{fit:['reposition']},{nofit:['reposition','visibleW','visibleH','isVisible']}]);const determinePosition=(box,bounds)=>{const{x:boundsX,y:boundsY,right:boundsRight,bottom:boundsBottom}=bounds;const{x,y,right,bottom,width,height}=box;const xInBounds=x>=boundsX&&x<=boundsRight;const yInBounds=y>=boundsY&&y<=boundsBottom;const originInBounds=xInBounds&&yInBounds;const rightInBounds=right<=boundsRight&&right>=boundsX;const bottomInBounds=bottom<=boundsBottom&&bottom>=boundsY;const sizeInBounds=rightInBounds&&bottomInBounds;const visibleW=Math.min(width,x>=boundsX?boundsRight-x:right-boundsX);const visibleH=Math.min(height,y>=boundsY?boundsBottom-y:bottom-boundsY);return{originInBounds,sizeInBounds,visibleW,visibleH};};const calcReposition=(box,bounds$1)=>{const{x:boundsX,y:boundsY,right:boundsRight,bottom:boundsBottom}=bounds$1;const{x,y,width,height}=box;const maxX=Math.max(boundsX,boundsRight-width);const maxY=Math.max(boundsY,boundsBottom-height);const restrictedX=clamp(x,boundsX,maxX);const restrictedY=clamp(y,boundsY,maxY);const restrictedWidth=Math.min(restrictedX+width,boundsRight)-restrictedX;const restrictedHeight=Math.min(restrictedY+height,boundsBottom)-restrictedY;return bounds(restrictedX,restrictedY,restrictedWidth,restrictedHeight);};const calcMaxSizes=(direction,box,bounds)=>{const upAvailable=constant$1(box.bottom-bounds.y);const downAvailable=constant$1(bounds.bottom-box.y);const maxHeight=cataVertical(direction,downAvailable,downAvailable,upAvailable);const westAvailable=constant$1(box.right-bounds.x);const eastAvailable=constant$1(bounds.right-box.x);const maxWidth=cataHorizontal(direction,eastAvailable,eastAvailable,westAvailable);return{maxWidth,maxHeight};};const attempt=(candidate,width,height,bounds$1)=>{const bubble=candidate.bubble;const bubbleOffset=bubble.offset;const adjustedBounds=adjustBounds(bounds$1,candidate.restriction,bubbleOffset);const newX=candidate.x+bubbleOffset.left;const newY=candidate.y+bubbleOffset.top;const box=bounds(newX,newY,width,height);const{originInBounds,sizeInBounds,visibleW,visibleH}=determinePosition(box,adjustedBounds);const fits=originInBounds&&sizeInBounds;const fittedBox=fits?box:calcReposition(box,adjustedBounds);const isPartlyVisible=fittedBox.width>0&&fittedBox.height>0;const{maxWidth,maxHeight}=calcMaxSizes(candidate.direction,fittedBox,bounds$1);const reposition={rect:fittedBox,maxHeight,maxWidth,direction:candidate.direction,placement:candidate.placement,classes:{on:bubble.classesOn,off:bubble.classesOff},layout:candidate.label,testY:newY};return fits||candidate.alwaysFit?adt$8.fit(reposition):adt$8.nofit(reposition,visibleW,visibleH,isPartlyVisible);};const attempts=(element,candidates,anchorBox,elementBox,bubbles,bounds)=>{const panelWidth=elementBox.width;const panelHeight=elementBox.height;const attemptBestFit=(layout,reposition,visibleW,visibleH,isVisible)=>{const next=layout(anchorBox,elementBox,bubbles,element,bounds);const attemptLayout=attempt(next,panelWidth,panelHeight,bounds);return attemptLayout.fold(constant$1(attemptLayout),(newReposition,newVisibleW,newVisibleH,newIsVisible)=>{const improved=isVisible===newIsVisible?newVisibleH>visibleH||newVisibleW>visibleW:!isVisible&&newIsVisible;return improved?attemptLayout:adt$8.nofit(reposition,visibleW,visibleH,isVisible);});};const abc=foldl(candidates,(b,a)=>{const bestNext=curry(attemptBestFit,a);return b.fold(constant$1(b),bestNext);},adt$8.nofit({rect:anchorBox,maxHeight:elementBox.height,maxWidth:elementBox.width,direction:southeast$3(),placement:'southeast',classes:{on:[],off:[]},layout:'none',testY:anchorBox.y},-1,-1,false));return abc.fold(identity,identity);};const singleton=doRevoke=>{const subject=Cell(Optional.none());const revoke=()=>subject.get().each(doRevoke);const clear=()=>{revoke();subject.set(Optional.none());};const isSet=()=>subject.get().isSome();const get=()=>subject.get();const set=s=>{revoke();subject.set(Optional.some(s));};return{clear,isSet,get,set};};const destroyable=()=>singleton(s=>s.destroy());const unbindable=()=>singleton(s=>s.unbind());const value$2=()=>{const subject=singleton(noop);const on=f=>subject.get().each(f);return{...subject,on};};const filter=always;const bind=(element,event,handler)=>bind$2(element,event,filter,handler);const capture=(element,event,handler)=>capture$1(element,event,filter,handler);const fromRawEvent=fromRawEvent$1;const properties=['top','bottom','right','left'];const timerAttr='data-alloy-transition-timer';const isTransitioning$1=(element,transition)=>hasAll(element,transition.classes);const shouldApplyTransitionCss=(transition,decision,lastPlacement)=>{return lastPlacement.exists(placer=>{const mode=transition.mode;return mode==='all'?true:placer[mode]!==decision[mode];});};const hasChanges=(position,intermediate)=>{const round=value=>parseFloat(value).toFixed(3);return find$4(intermediate,(value,key)=>{const newValue=position[key].map(round);const val=value.map(round);return!equals(newValue,val);}).isSome();};const getTransitionDuration=element=>{const get=name=>{const style=get$e(element,name);const times=style.split(/\\s*,\\s*/);return filter$2(times,isNotEmpty);};const parse=value=>{if(isString(value)&&/^[\\d.]+/.test(value)){const num=parseFloat(value);return endsWith(value,'ms')?num:num*1000;}else{return 0;}};const delay=get('transition-delay');const duration=get('transition-duration');return foldl(duration,(acc,dur,i)=>{const time=parse(delay[i])+parse(dur);return Math.max(acc,time);},0);};const setupTransitionListeners=(element,transition)=>{const transitionEnd=unbindable();const transitionCancel=unbindable();let timer;const isSourceTransition=e=>{var _a;const pseudoElement=(_a=e.raw.pseudoElement)!==null&&_a!==void 0?_a:'';return eq(e.target,element)&&isEmpty(pseudoElement)&&contains$2(properties,e.raw.propertyName);};const transitionDone=e=>{if(isNullable(e)||isSourceTransition(e)){transitionEnd.clear();transitionCancel.clear();const type=e===null||e===void 0?void 0:e.raw.type;if(isNullable(type)||type===transitionend()){clearTimeout(timer);remove$7(element,timerAttr);remove$1(element,transition.classes);}}};const transitionStart=bind(element,transitionstart(),e=>{if(isSourceTransition(e)){transitionStart.unbind();transitionEnd.set(bind(element,transitionend(),transitionDone));transitionCancel.set(bind(element,transitioncancel(),transitionDone));}});const duration=getTransitionDuration(element);requestAnimationFrame(()=>{timer=setTimeout(transitionDone,duration+17);set$9(element,timerAttr,timer);});};const startTransitioning=(element,transition)=>{add$1(element,transition.classes);getOpt(element,timerAttr).each(timerId=>{clearTimeout(parseInt(timerId,10));remove$7(element,timerAttr);});setupTransitionListeners(element,transition);};const applyTransitionCss=(element,origin,position,transition,decision,lastPlacement)=>{const shouldTransition=shouldApplyTransitionCss(transition,decision,lastPlacement);if(shouldTransition||isTransitioning$1(element,transition)){set$8(element,'position',position.position);const rect=toBox(origin,element);const intermediatePosition=reposition(origin,{...decision,rect});const intermediateCssOptions=mapToObject(properties,prop=>intermediatePosition[prop]);if(hasChanges(position,intermediateCssOptions)){setOptions(element,intermediateCssOptions);if(shouldTransition){startTransitioning(element,transition);}reflow(element);}}else{remove$1(element,transition.classes);}};const elementSize=p=>({width:getOuter$1(p),height:getOuter$2(p)});const layout=(anchorBox,element,bubbles,options)=>{remove$6(element,'max-height');remove$6(element,'max-width');const elementBox=elementSize(element);return attempts(element,options.preference,anchorBox,elementBox,bubbles,options.bounds);};const setClasses=(element,decision)=>{const classInfo=decision.classes;remove$1(element,classInfo.off);add$1(element,classInfo.on);};const setHeight=(element,decision,options)=>{const maxHeightFunction=options.maxHeightFunction;maxHeightFunction(element,decision.maxHeight);};const setWidth=(element,decision,options)=>{const maxWidthFunction=options.maxWidthFunction;maxWidthFunction(element,decision.maxWidth);};const position$2=(element,decision,options)=>{const positionCss=reposition(options.origin,decision);options.transition.each(transition=>{applyTransitionCss(element,options.origin,positionCss,transition,decision,options.lastPlacement);});applyPositionCss(element,positionCss);};const setPlacement=(element,decision)=>{setPlacement$1(element,decision.placement);};const setMaxHeight=(element,maxHeight)=>{setMax$1(element,Math.floor(maxHeight));};const anchored=constant$1((element,available)=>{setMaxHeight(element,available);setAll(element,{'overflow-x':'hidden','overflow-y':'auto'});});const expandable$1=constant$1((element,available)=>{setMaxHeight(element,available);});const defaultOr=(options,key,dephault)=>options[key]===undefined?dephault:options[key];const simple=(anchor,element,bubble,layouts,lastPlacement,optBounds,overrideOptions,transition)=>{const maxHeightFunction=defaultOr(overrideOptions,'maxHeightFunction',anchored());const maxWidthFunction=defaultOr(overrideOptions,'maxWidthFunction',noop);const anchorBox=anchor.anchorBox;const origin=anchor.origin;const options={bounds:viewport(origin,optBounds),origin,preference:layouts,maxHeightFunction,maxWidthFunction,lastPlacement,transition};return go(anchorBox,element,bubble,options);};const go=(anchorBox,element,bubble,options)=>{const decision=layout(anchorBox,element,bubble,options);position$2(element,decision,options);setPlacement(element,decision);setClasses(element,decision);setHeight(element,decision,options);setWidth(element,decision,options);return{layout:decision.layout,placement:decision.placement};};const allAlignments=['valignCentre','alignLeft','alignRight','alignCentre','top','bottom','left','right','inset'];const nu$5=(xOffset,yOffset,classes,insetModifier=1)=>{const insetXOffset=xOffset*insetModifier;const insetYOffset=yOffset*insetModifier;const getClasses=prop=>get$g(classes,prop).getOr([]);const make=(xDelta,yDelta,alignmentsOn)=>{const alignmentsOff=difference(allAlignments,alignmentsOn);return{offset:SugarPosition(xDelta,yDelta),classesOn:bind$3(alignmentsOn,getClasses),classesOff:bind$3(alignmentsOff,getClasses)};};return{southeast:()=>make(-xOffset,yOffset,['top','alignLeft']),southwest:()=>make(xOffset,yOffset,['top','alignRight']),south:()=>make(-xOffset/2,yOffset,['top','alignCentre']),northeast:()=>make(-xOffset,-yOffset,['bottom','alignLeft']),northwest:()=>make(xOffset,-yOffset,['bottom','alignRight']),north:()=>make(-xOffset/2,-yOffset,['bottom','alignCentre']),east:()=>make(xOffset,-yOffset/2,['valignCentre','left']),west:()=>make(-xOffset,-yOffset/2,['valignCentre','right']),insetNortheast:()=>make(insetXOffset,insetYOffset,['top','alignLeft','inset']),insetNorthwest:()=>make(-insetXOffset,insetYOffset,['top','alignRight','inset']),insetNorth:()=>make(-insetXOffset/2,insetYOffset,['top','alignCentre','inset']),insetSoutheast:()=>make(insetXOffset,-insetYOffset,['bottom','alignLeft','inset']),insetSouthwest:()=>make(-insetXOffset,-insetYOffset,['bottom','alignRight','inset']),insetSouth:()=>make(-insetXOffset/2,-insetYOffset,['bottom','alignCentre','inset']),insetEast:()=>make(-insetXOffset,-insetYOffset/2,['valignCentre','right','inset']),insetWest:()=>make(insetXOffset,-insetYOffset/2,['valignCentre','left','inset'])};};const fallback=()=>nu$5(0,0,{});const nu$4=identity;const onDirection=(isLtr,isRtl)=>element=>getDirection(element)==='rtl'?isRtl:isLtr;const getDirection=element=>get$e(element,'direction')==='rtl'?'rtl':'ltr';var AttributeValue;(function(AttributeValue){AttributeValue['TopToBottom']='toptobottom';AttributeValue['BottomToTop']='bottomtotop';})(AttributeValue||(AttributeValue={}));const Attribute='data-alloy-vertical-dir';const isBottomToTopDir=el=>closest$2(el,current=>isElement$1(current)&&get$f(current,'data-alloy-vertical-dir')===AttributeValue.BottomToTop);const schema$y=()=>optionObjOf('layouts',[required$1('onLtr'),required$1('onRtl'),option$3('onBottomLtr'),option$3('onBottomRtl')]);const get$5=(elem,info,defaultLtr,defaultRtl,defaultBottomLtr,defaultBottomRtl,dirElement)=>{const isBottomToTop=dirElement.map(isBottomToTopDir).getOr(false);const customLtr=info.layouts.map(ls=>ls.onLtr(elem));const customRtl=info.layouts.map(ls=>ls.onRtl(elem));const ltr=isBottomToTop?info.layouts.bind(ls=>ls.onBottomLtr.map(f=>f(elem))).or(customLtr).getOr(defaultBottomLtr):customLtr.getOr(defaultLtr);const rtl=isBottomToTop?info.layouts.bind(ls=>ls.onBottomRtl.map(f=>f(elem))).or(customRtl).getOr(defaultBottomRtl):customRtl.getOr(defaultRtl);const f=onDirection(ltr,rtl);return f(elem);};const placement$4=(component,anchorInfo,origin)=>{const hotspot=anchorInfo.hotspot;const anchorBox=toBox(origin,hotspot.element);const layouts=get$5(component.element,anchorInfo,belowOrAbove(),belowOrAboveRtl(),aboveOrBelow(),aboveOrBelowRtl(),Optional.some(anchorInfo.hotspot.element));return Optional.some(nu$4({anchorBox,bubble:anchorInfo.bubble.getOr(fallback()),overrides:anchorInfo.overrides,layouts}));};var HotspotAnchor=[required$1('hotspot'),option$3('bubble'),defaulted('overrides',{}),schema$y(),output$1('placement',placement$4)];const placement$3=(component,anchorInfo,origin)=>{const pos=translate$2(origin,anchorInfo.x,anchorInfo.y);const anchorBox=bounds(pos.left,pos.top,anchorInfo.width,anchorInfo.height);const layouts=get$5(component.element,anchorInfo,all$1(),allRtl$1(),all$1(),allRtl$1(),Optional.none());return Optional.some(nu$4({anchorBox,bubble:anchorInfo.bubble,overrides:anchorInfo.overrides,layouts}));};var MakeshiftAnchor=[required$1('x'),required$1('y'),defaulted('height',0),defaulted('width',0),defaulted('bubble',fallback()),defaulted('overrides',{}),schema$y(),output$1('placement',placement$3)];const adt$7=Adt.generate([{screen:['point']},{absolute:['point','scrollLeft','scrollTop']}]);const toFixed=pos=>pos.fold(identity,(point,scrollLeft,scrollTop)=>point.translate(-scrollLeft,-scrollTop));const toAbsolute=pos=>pos.fold(identity,identity);const sum=points=>foldl(points,(b,a)=>b.translate(a.left,a.top),SugarPosition(0,0));const sumAsFixed=positions=>{const points=map$2(positions,toFixed);return sum(points);};const sumAsAbsolute=positions=>{const points=map$2(positions,toAbsolute);return sum(points);};const screen=adt$7.screen;const absolute$1=adt$7.absolute;const getOffset=(component,origin,anchorInfo)=>{const win=defaultView(anchorInfo.root).dom;const hasSameOwner=frame=>{const frameOwner=owner$4(frame);const compOwner=owner$4(component.element);return eq(frameOwner,compOwner);};return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);};const getRootPoint=(component,origin,anchorInfo)=>{const doc=owner$4(component.element);const outerScroll=get$b(doc);const offset=getOffset(component,origin,anchorInfo).getOr(outerScroll);return absolute$1(offset,outerScroll.left,outerScroll.top);};const getBox=(left,top,width,height)=>{const point=screen(SugarPosition(left,top));return Optional.some(pointed(point,width,height));};const calcNewAnchor=(optBox,rootPoint,anchorInfo,origin,elem)=>optBox.map(box=>{const points=[rootPoint,box.point];const topLeft=cata$1(origin,()=>sumAsAbsolute(points),()=>sumAsAbsolute(points),()=>sumAsFixed(points));const anchorBox=rect(topLeft.left,topLeft.top,box.width,box.height);const layoutsLtr=anchorInfo.showAbove?aboveOrBelow():belowOrAbove();const layoutsRtl=anchorInfo.showAbove?aboveOrBelowRtl():belowOrAboveRtl();const layouts=get$5(elem,anchorInfo,layoutsLtr,layoutsRtl,layoutsLtr,layoutsRtl,Optional.none());return nu$4({anchorBox,bubble:anchorInfo.bubble.getOr(fallback()),overrides:anchorInfo.overrides,layouts});});const placement$2=(component,anchorInfo,origin)=>{const rootPoint=getRootPoint(component,origin,anchorInfo);return anchorInfo.node.filter(inBody).bind(target=>{const rect=target.dom.getBoundingClientRect();const nodeBox=getBox(rect.left,rect.top,rect.width,rect.height);const elem=anchorInfo.node.getOr(component.element);return calcNewAnchor(nodeBox,rootPoint,anchorInfo,origin,elem);});};var NodeAnchor=[required$1('node'),required$1('root'),option$3('bubble'),schema$y(),defaulted('overrides',{}),defaulted('showAbove',false),output$1('placement',placement$2)];const zeroWidth='\\uFEFF';const nbsp='\\xA0';const create$3=(start,soffset,finish,foffset)=>({start,soffset,finish,foffset});const SimRange={create:create$3};const adt$6=Adt.generate([{before:['element']},{on:['element','offset']},{after:['element']}]);const cata=(subject,onBefore,onOn,onAfter)=>subject.fold(onBefore,onOn,onAfter);const getStart$1=situ=>situ.fold(identity,identity,identity);const before=adt$6.before;const on$1=adt$6.on;const after$1=adt$6.after;const Situ={before,on:on$1,after:after$1,cata,getStart:getStart$1};const adt$5=Adt.generate([{domRange:['rng']},{relative:['startSitu','finishSitu']},{exact:['start','soffset','finish','foffset']}]);const exactFromRange=simRange=>adt$5.exact(simRange.start,simRange.soffset,simRange.finish,simRange.foffset);const getStart=selection=>selection.match({domRange:rng=>SugarElement.fromDom(rng.startContainer),relative:(startSitu,_finishSitu)=>Situ.getStart(startSitu),exact:(start,_soffset,_finish,_foffset)=>start});const domRange=adt$5.domRange;const relative=adt$5.relative;const exact=adt$5.exact;const getWin=selection=>{const start=getStart(selection);return defaultView(start);};const range$1=SimRange.create;const SimSelection={domRange,relative,exact,exactFromRange,getWin,range:range$1};const setStart=(rng,situ)=>{situ.fold(e=>{rng.setStartBefore(e.dom);},(e,o)=>{rng.setStart(e.dom,o);},e=>{rng.setStartAfter(e.dom);});};const setFinish=(rng,situ)=>{situ.fold(e=>{rng.setEndBefore(e.dom);},(e,o)=>{rng.setEnd(e.dom,o);},e=>{rng.setEndAfter(e.dom);});};const relativeToNative=(win,startSitu,finishSitu)=>{const range=win.document.createRange();setStart(range,startSitu);setFinish(range,finishSitu);return range;};const exactToNative=(win,start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;};const toRect=rect=>({left:rect.left,top:rect.top,right:rect.right,bottom:rect.bottom,width:rect.width,height:rect.height});const getFirstRect$1=rng=>{const rects=rng.getClientRects();const rect=rects.length>0?rects[0]:rng.getBoundingClientRect();return rect.width>0||rect.height>0?Optional.some(rect).map(toRect):Optional.none();};const getBounds$2=rng=>{const rect=rng.getBoundingClientRect();return rect.width>0||rect.height>0?Optional.some(rect).map(toRect):Optional.none();};const adt$4=Adt.generate([{ltr:['start','soffset','finish','foffset']},{rtl:['start','soffset','finish','foffset']}]);const fromRange=(win,type,range)=>type(SugarElement.fromDom(range.startContainer),range.startOffset,SugarElement.fromDom(range.endContainer),range.endOffset);const getRanges=(win,selection)=>selection.match({domRange:rng=>{return{ltr:constant$1(rng),rtl:Optional.none};},relative:(startSitu,finishSitu)=>{return{ltr:cached(()=>relativeToNative(win,startSitu,finishSitu)),rtl:cached(()=>Optional.some(relativeToNative(win,finishSitu,startSitu)))};},exact:(start,soffset,finish,foffset)=>{return{ltr:cached(()=>exactToNative(win,start,soffset,finish,foffset)),rtl:cached(()=>Optional.some(exactToNative(win,finish,foffset,start,soffset)))};}});const doDiagnose=(win,ranges)=>{const rng=ranges.ltr();if(rng.collapsed){const reversed=ranges.rtl().filter(rev=>rev.collapsed===false);return reversed.map(rev=>adt$4.rtl(SugarElement.fromDom(rev.endContainer),rev.endOffset,SugarElement.fromDom(rev.startContainer),rev.startOffset)).getOrThunk(()=>fromRange(win,adt$4.ltr,rng));}else{return fromRange(win,adt$4.ltr,rng);}};const diagnose=(win,selection)=>{const ranges=getRanges(win,selection);return doDiagnose(win,ranges);};const asLtrRange=(win,selection)=>{const diagnosis=diagnose(win,selection);return diagnosis.match({ltr:(start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;},rtl:(start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(finish.dom,foffset);rng.setEnd(start.dom,soffset);return rng;}});};adt$4.ltr;adt$4.rtl;const ancestors=(scope,predicate,isRoot)=>filter$2(parents(scope,isRoot),predicate);const descendants=(scope,selector)=>all$3(selector,scope);const makeRange=(start,soffset,finish,foffset)=>{const doc=owner$4(start);const rng=doc.dom.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;};const after=(start,soffset,finish,foffset)=>{const r=makeRange(start,soffset,finish,foffset);const same=eq(start,finish)&&soffset===foffset;return r.collapsed&&!same;};const getNativeSelection=win=>Optional.from(win.getSelection());const readRange=selection=>{if(selection.rangeCount>0){const firstRng=selection.getRangeAt(0);const lastRng=selection.getRangeAt(selection.rangeCount-1);return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer),firstRng.startOffset,SugarElement.fromDom(lastRng.endContainer),lastRng.endOffset));}else{return Optional.none();}};const doGetExact=selection=>{if(selection.anchorNode===null||selection.focusNode===null){return readRange(selection);}else{const anchor=SugarElement.fromDom(selection.anchorNode);const focus=SugarElement.fromDom(selection.focusNode);return after(anchor,selection.anchorOffset,focus,selection.focusOffset)?Optional.some(SimRange.create(anchor,selection.anchorOffset,focus,selection.focusOffset)):readRange(selection);}};const getExact=win=>getNativeSelection(win).filter(sel=>sel.rangeCount>0).bind(doGetExact);const getFirstRect=(win,selection)=>{const rng=asLtrRange(win,selection);return getFirstRect$1(rng);};const getBounds$1=(win,selection)=>{const rng=asLtrRange(win,selection);return getBounds$2(rng);};const NodeValue=(is,name)=>{const get=element=>{if(!is(element)){throw new Error('Can only get '+name+' value of a '+name+' node');}return getOption(element).getOr('');};const getOption=element=>is(element)?Optional.from(element.dom.nodeValue):Optional.none();const set=(element,value)=>{if(!is(element)){throw new Error('Can only set raw '+name+' value of a '+name+' node');}element.dom.nodeValue=value;};return{get,getOption,set};};const api=NodeValue(isText,'text');const get$4=element=>api.get(element);const point=(element,offset)=>({element,offset});const descendOnce$1=(element,offset)=>{const children$1=children(element);if(children$1.length===0){return point(element,offset);}else if(offset<children$1.length){return point(children$1[offset],0);}else{const last=children$1[children$1.length-1];const len=isText(last)?get$4(last).length:children(last).length;return point(last,len);}};const descendOnce=(element,offset)=>isText(element)?point(element,offset):descendOnce$1(element,offset);const isSimRange=detail=>detail.foffset!==undefined;const getAnchorSelection=(win,anchorInfo)=>{const getSelection=anchorInfo.getSelection.getOrThunk(()=>()=>getExact(win));return getSelection().map(sel=>{if(isSimRange(sel)){const modStart=descendOnce(sel.start,sel.soffset);const modFinish=descendOnce(sel.finish,sel.foffset);return SimSelection.range(modStart.element,modStart.offset,modFinish.element,modFinish.offset);}else{return sel;}});};const placement$1=(component,anchorInfo,origin)=>{const win=defaultView(anchorInfo.root).dom;const rootPoint=getRootPoint(component,origin,anchorInfo);const selectionBox=getAnchorSelection(win,anchorInfo).bind(sel=>{if(isSimRange(sel)){const optRect=getBounds$1(win,SimSelection.exactFromRange(sel)).orThunk(()=>{const zeroWidth$1=SugarElement.fromText(zeroWidth);before$1(sel.start,zeroWidth$1);const rect=getFirstRect(win,SimSelection.exact(zeroWidth$1,0,zeroWidth$1,1));remove$5(zeroWidth$1);return rect;});return optRect.bind(rawRect=>{return getBox(rawRect.left,rawRect.top,rawRect.width,rawRect.height);});}else{const selectionRect=map$1(sel,cell=>cell.dom.getBoundingClientRect());const bounds={left:Math.min(selectionRect.firstCell.left,selectionRect.lastCell.left),right:Math.max(selectionRect.firstCell.right,selectionRect.lastCell.right),top:Math.min(selectionRect.firstCell.top,selectionRect.lastCell.top),bottom:Math.max(selectionRect.firstCell.bottom,selectionRect.lastCell.bottom)};return getBox(bounds.left,bounds.top,bounds.right-bounds.left,bounds.bottom-bounds.top);}});const targetElement=getAnchorSelection(win,anchorInfo).bind(sel=>{if(isSimRange(sel)){return isElement$1(sel.start)?Optional.some(sel.start):parentElement(sel.start);}else{return Optional.some(sel.firstCell);}});const elem=targetElement.getOr(component.element);return calcNewAnchor(selectionBox,rootPoint,anchorInfo,origin,elem);};var SelectionAnchor=[option$3('getSelection'),required$1('root'),option$3('bubble'),schema$y(),defaulted('overrides',{}),defaulted('showAbove',false),output$1('placement',placement$1)];const labelPrefix$1='link-layout';const eastX=anchor=>anchor.x+anchor.width;const westX=(anchor,element)=>anchor.x-element.width;const northY$1=(anchor,element)=>anchor.y-element.height+anchor.height;const southY$1=anchor=>anchor.y;const southeast$1=(anchor,element,bubbles)=>nu$6(eastX(anchor),southY$1(anchor),bubbles.southeast(),southeast$3(),'southeast',boundsRestriction(anchor,{left:0,top:2}),labelPrefix$1);const southwest$1=(anchor,element,bubbles)=>nu$6(westX(anchor,element),southY$1(anchor),bubbles.southwest(),southwest$3(),'southwest',boundsRestriction(anchor,{right:1,top:2}),labelPrefix$1);const northeast$1=(anchor,element,bubbles)=>nu$6(eastX(anchor),northY$1(anchor,element),bubbles.northeast(),northeast$3(),'northeast',boundsRestriction(anchor,{left:0,bottom:3}),labelPrefix$1);const northwest$1=(anchor,element,bubbles)=>nu$6(westX(anchor,element),northY$1(anchor,element),bubbles.northwest(),northwest$3(),'northwest',boundsRestriction(anchor,{right:1,bottom:3}),labelPrefix$1);const all=()=>[southeast$1,southwest$1,northeast$1,northwest$1];const allRtl=()=>[southwest$1,southeast$1,northwest$1,northeast$1];const placement=(component,submenuInfo,origin)=>{const anchorBox=toBox(origin,submenuInfo.item.element);const layouts=get$5(component.element,submenuInfo,all(),allRtl(),all(),allRtl(),Optional.none());return Optional.some(nu$4({anchorBox,bubble:fallback(),overrides:submenuInfo.overrides,layouts}));};var SubmenuAnchor=[required$1('item'),schema$y(),defaulted('overrides',{}),output$1('placement',placement)];var AnchorSchema=choose$1('type',{selection:SelectionAnchor,node:NodeAnchor,hotspot:HotspotAnchor,submenu:SubmenuAnchor,makeshift:MakeshiftAnchor});const TransitionSchema=[requiredArrayOf('classes',string),defaultedStringEnum('mode','all',['all','layout','placement'])];const PositionSchema=[defaulted('useFixed',never),option$3('getBounds')];const PlacementSchema=[requiredOf('anchor',AnchorSchema),optionObjOf('transition',TransitionSchema)];const getFixedOrigin=()=>{const html=document.documentElement;return fixed$1(0,0,html.clientWidth,html.clientHeight);};const getRelativeOrigin=component=>{const position=absolute$3(component.element);const bounds=component.element.dom.getBoundingClientRect();return relative$1(position.left,position.top,bounds.width,bounds.height);};const place=(origin,anchoring,optBounds,placee,lastPlace,transition)=>{const anchor=box(anchoring.anchorBox,origin);return simple(anchor,placee.element,anchoring.bubble,anchoring.layouts,lastPlace,optBounds,anchoring.overrides,transition);};const position$1=(component,posConfig,posState,placee,placementSpec)=>{const optWithinBounds=Optional.none();positionWithinBounds(component,posConfig,posState,placee,placementSpec,optWithinBounds);};const positionWithinBounds=(component,posConfig,posState,placee,placementSpec,optWithinBounds)=>{const placeeDetail=asRawOrDie$1('placement.info',objOf(PlacementSchema),placementSpec);const anchorage=placeeDetail.anchor;const element=placee.element;const placeeState=posState.get(placee.uid);preserve$1(()=>{set$8(element,'position','fixed');const oldVisibility=getRaw(element,'visibility');set$8(element,'visibility','hidden');const origin=posConfig.useFixed()?getFixedOrigin():getRelativeOrigin(component);anchorage.placement(component,anchorage,origin).each(anchoring=>{const optBounds=optWithinBounds.orThunk(()=>posConfig.getBounds.map(apply$1));const newState=place(origin,anchoring,optBounds,placee,placeeState,placeeDetail.transition);posState.set(placee.uid,newState);});oldVisibility.fold(()=>{remove$6(element,'visibility');},vis=>{set$8(element,'visibility',vis);});if(getRaw(element,'left').isNone()&&getRaw(element,'top').isNone()&&getRaw(element,'right').isNone()&&getRaw(element,'bottom').isNone()&&is$1(getRaw(element,'position'),'fixed')){remove$6(element,'position');}},element);};const getMode=(component,pConfig,_pState)=>pConfig.useFixed()?'fixed':'absolute';const reset$1=(component,pConfig,posState,placee)=>{const element=placee.element;each$1(['position','left','right','top','bottom'],prop=>remove$6(element,prop));reset$2(element);posState.clear(placee.uid);};var PositionApis=/*#__PURE__*/Object.freeze({__proto__:null,position:position$1,positionWithinBounds:positionWithinBounds,getMode:getMode,reset:reset$1});const init$g=()=>{let state={};const set=(id,data)=>{state[id]=data;};const get=id=>get$g(state,id);const clear=id=>{if(isNonNullable(id)){delete state[id];}else{state={};}};return nu$8({readState:()=>state,clear,set,get});};var PositioningState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$g});const Positioning=create$4({fields:PositionSchema,name:'positioning',active:ActivePosition,apis:PositionApis,state:PositioningState});const isConnected=comp=>comp.getSystem().isConnected();const fireDetaching=component=>{emit(component,detachedFromDom());const children=component.components();each$1(children,fireDetaching);};const fireAttaching=component=>{const children=component.components();each$1(children,fireAttaching);emit(component,attachedToDom());};const virtualAttach=(parent,child)=>{parent.getSystem().addToWorld(child);if(inBody(parent.element)){fireAttaching(child);}};const virtualDetach=comp=>{fireDetaching(comp);comp.getSystem().removeFromWorld(comp);};const attach$1=(parent,child)=>{append$2(parent.element,child.element);};const detachChildren$1=component=>{each$1(component.components(),childComp=>remove$5(childComp.element));empty(component.element);component.syncComponents();};const replaceChildren=(component,newSpecs,buildNewChildren)=>{const subs=component.components();detachChildren$1(component);const newChildren=buildNewChildren(newSpecs);const deleted=difference(subs,newChildren);each$1(deleted,comp=>{fireDetaching(comp);component.getSystem().removeFromWorld(comp);});each$1(newChildren,childComp=>{if(!isConnected(childComp)){component.getSystem().addToWorld(childComp);attach$1(component,childComp);if(inBody(component.element)){fireAttaching(childComp);}}else{attach$1(component,childComp);}});component.syncComponents();};const virtualReplaceChildren=(component,newSpecs,buildNewChildren)=>{const subs=component.components();const existingComps=bind$3(newSpecs,spec=>getPremade(spec).toArray());each$1(subs,childComp=>{if(!contains$2(existingComps,childComp)){virtualDetach(childComp);}});const newChildren=buildNewChildren(newSpecs);const deleted=difference(subs,newChildren);each$1(deleted,deletedComp=>{if(isConnected(deletedComp)){virtualDetach(deletedComp);}});each$1(newChildren,childComp=>{if(!isConnected(childComp)){virtualAttach(component,childComp);}});component.syncComponents();};const attach=(parent,child)=>{attachWith(parent,child,append$2);};const attachWith=(parent,child,insertion)=>{parent.getSystem().addToWorld(child);insertion(parent.element,child.element);if(inBody(parent.element)){fireAttaching(child);}parent.syncComponents();};const doDetach=component=>{fireDetaching(component);remove$5(component.element);component.getSystem().removeFromWorld(component);};const detach=component=>{const parent$1=parent(component.element).bind(p=>component.getSystem().getByDom(p).toOptional());doDetach(component);parent$1.each(p=>{p.syncComponents();});};const detachChildren=component=>{const subs=component.components();each$1(subs,doDetach);empty(component.element);component.syncComponents();};const attachSystem=(element,guiSystem)=>{attachSystemWith(element,guiSystem,append$2);};const attachSystemAfter=(element,guiSystem)=>{attachSystemWith(element,guiSystem,after$2);};const attachSystemWith=(element,guiSystem,inserter)=>{inserter(element,guiSystem.element);const children$1=children(guiSystem.element);each$1(children$1,child=>{guiSystem.getByDom(child).each(fireAttaching);});};const detachSystem=guiSystem=>{const children$1=children(guiSystem.element);each$1(children$1,child=>{guiSystem.getByDom(child).each(fireDetaching);});remove$5(guiSystem.element);};const rebuild=(sandbox,sConfig,sState,data)=>{sState.get().each(_data=>{detachChildren(sandbox);});const point=sConfig.getAttachPoint(sandbox);attach(point,sandbox);const built=sandbox.getSystem().build(data);attach(sandbox,built);sState.set(built);return built;};const open$1=(sandbox,sConfig,sState,data)=>{const newState=rebuild(sandbox,sConfig,sState,data);sConfig.onOpen(sandbox,newState);return newState;};const setContent=(sandbox,sConfig,sState,data)=>sState.get().map(()=>rebuild(sandbox,sConfig,sState,data));const openWhileCloaked=(sandbox,sConfig,sState,data,transaction)=>{cloak(sandbox,sConfig);open$1(sandbox,sConfig,sState,data);transaction();decloak(sandbox,sConfig);};const close$1=(sandbox,sConfig,sState)=>{sState.get().each(data=>{detachChildren(sandbox);detach(sandbox);sConfig.onClose(sandbox,data);sState.clear();});};const isOpen$1=(_sandbox,_sConfig,sState)=>sState.isOpen();const isPartOf=(sandbox,sConfig,sState,queryElem)=>isOpen$1(sandbox,sConfig,sState)&&sState.get().exists(data=>sConfig.isPartOf(sandbox,data,queryElem));const getState$2=(_sandbox,_sConfig,sState)=>sState.get();const store=(sandbox,cssKey,attr,newValue)=>{getRaw(sandbox.element,cssKey).fold(()=>{remove$7(sandbox.element,attr);},v=>{set$9(sandbox.element,attr,v);});set$8(sandbox.element,cssKey,newValue);};const restore=(sandbox,cssKey,attr)=>{getOpt(sandbox.element,attr).fold(()=>remove$6(sandbox.element,cssKey),oldValue=>set$8(sandbox.element,cssKey,oldValue));};const cloak=(sandbox,sConfig,_sState)=>{const sink=sConfig.getAttachPoint(sandbox);set$8(sandbox.element,'position',Positioning.getMode(sink));store(sandbox,'visibility',sConfig.cloakVisibilityAttr,'hidden');};const hasPosition=element=>exists(['top','left','right','bottom'],pos=>getRaw(element,pos).isSome());const decloak=(sandbox,sConfig,_sState)=>{if(!hasPosition(sandbox.element)){remove$6(sandbox.element,'position');}restore(sandbox,'visibility',sConfig.cloakVisibilityAttr);};var SandboxApis=/*#__PURE__*/Object.freeze({__proto__:null,cloak:cloak,decloak:decloak,open:open$1,openWhileCloaked:openWhileCloaked,close:close$1,isOpen:isOpen$1,isPartOf:isPartOf,getState:getState$2,setContent:setContent});const events$g=(sandboxConfig,sandboxState)=>derive$2([run$1(sandboxClose(),(sandbox,_simulatedEvent)=>{close$1(sandbox,sandboxConfig,sandboxState);})]);var ActiveSandbox=/*#__PURE__*/Object.freeze({__proto__:null,events:events$g});var SandboxSchema=[onHandler('onOpen'),onHandler('onClose'),required$1('isPartOf'),required$1('getAttachPoint'),defaulted('cloakVisibilityAttr','data-precloak-visibility')];const init$f=()=>{const contents=value$2();const readState=constant$1('not-implemented');return nu$8({readState,isOpen:contents.isSet,clear:contents.clear,set:contents.set,get:contents.get});};var SandboxState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$f});const Sandboxing=create$4({fields:SandboxSchema,name:'sandboxing',active:ActiveSandbox,apis:SandboxApis,state:SandboxState});const dismissPopups=constant$1('dismiss.popups');const repositionPopups=constant$1('reposition.popups');const mouseReleased=constant$1('mouse.released');const schema$x=objOfOnly([defaulted('isExtraPart',never),optionObjOf('fireEventInstead',[defaulted('event',dismissRequested())])]);const receivingChannel$1=rawSpec=>{const detail=asRawOrDie$1('Dismissal',schema$x,rawSpec);return{[dismissPopups()]:{schema:objOfOnly([required$1('target')]),onReceive:(sandbox,data)=>{if(Sandboxing.isOpen(sandbox)){const isPart=Sandboxing.isPartOf(sandbox,data.target)||detail.isExtraPart(sandbox,data.target);if(!isPart){detail.fireEventInstead.fold(()=>Sandboxing.close(sandbox),fe=>emit(sandbox,fe.event));}}}}};};const schema$w=objOfOnly([optionObjOf('fireEventInstead',[defaulted('event',repositionRequested())]),requiredFunction('doReposition')]);const receivingChannel=rawSpec=>{const detail=asRawOrDie$1('Reposition',schema$w,rawSpec);return{[repositionPopups()]:{onReceive:sandbox=>{if(Sandboxing.isOpen(sandbox)){detail.fireEventInstead.fold(()=>detail.doReposition(sandbox),fe=>emit(sandbox,fe.event));}}}};};const onLoad$5=(component,repConfig,repState)=>{repConfig.store.manager.onLoad(component,repConfig,repState);};const onUnload$2=(component,repConfig,repState)=>{repConfig.store.manager.onUnload(component,repConfig,repState);};const setValue$3=(component,repConfig,repState,data)=>{repConfig.store.manager.setValue(component,repConfig,repState,data);};const getValue$3=(component,repConfig,repState)=>repConfig.store.manager.getValue(component,repConfig,repState);const getState$1=(component,repConfig,repState)=>repState;var RepresentApis=/*#__PURE__*/Object.freeze({__proto__:null,onLoad:onLoad$5,onUnload:onUnload$2,setValue:setValue$3,getValue:getValue$3,getState:getState$1});const events$f=(repConfig,repState)=>{const es=repConfig.resetOnDom?[runOnAttached((comp,_se)=>{onLoad$5(comp,repConfig,repState);}),runOnDetached((comp,_se)=>{onUnload$2(comp,repConfig,repState);})]:[loadEvent(repConfig,repState,onLoad$5)];return derive$2(es);};var ActiveRepresenting=/*#__PURE__*/Object.freeze({__proto__:null,events:events$f});const memory$1=()=>{const data=Cell(null);const readState=()=>({mode:'memory',value:data.get()});const isNotSet=()=>data.get()===null;const clear=()=>{data.set(null);};return nu$8({set:data.set,get:data.get,isNotSet,clear,readState});};const manual=()=>{const readState=noop;return nu$8({readState});};const dataset=()=>{const dataByValue=Cell({});const dataByText=Cell({});const readState=()=>({mode:'dataset',dataByValue:dataByValue.get(),dataByText:dataByText.get()});const clear=()=>{dataByValue.set({});dataByText.set({});};const lookup=itemString=>get$g(dataByValue.get(),itemString).orThunk(()=>get$g(dataByText.get(),itemString));const update=items=>{const currentDataByValue=dataByValue.get();const currentDataByText=dataByText.get();const newDataByValue={};const newDataByText={};each$1(items,item=>{newDataByValue[item.value]=item;get$g(item,'meta').each(meta=>{get$g(meta,'text').each(text=>{newDataByText[text]=item;});});});dataByValue.set({...currentDataByValue,...newDataByValue});dataByText.set({...currentDataByText,...newDataByText});};return nu$8({readState,lookup,update,clear});};const init$e=spec=>spec.store.manager.state(spec);var RepresentState=/*#__PURE__*/Object.freeze({__proto__:null,memory:memory$1,dataset:dataset,manual:manual,init:init$e});const setValue$2=(component,repConfig,repState,data)=>{const store=repConfig.store;repState.update([data]);store.setValue(component,data);repConfig.onSetValue(component,data);};const getValue$2=(component,repConfig,repState)=>{const store=repConfig.store;const key=store.getDataKey(component);return repState.lookup(key).getOrThunk(()=>store.getFallbackEntry(key));};const onLoad$4=(component,repConfig,repState)=>{const store=repConfig.store;store.initialValue.each(data=>{setValue$2(component,repConfig,repState,data);});};const onUnload$1=(component,repConfig,repState)=>{repState.clear();};var DatasetStore=[option$3('initialValue'),required$1('getFallbackEntry'),required$1('getDataKey'),required$1('setValue'),output$1('manager',{setValue:setValue$2,getValue:getValue$2,onLoad:onLoad$4,onUnload:onUnload$1,state:dataset})];const getValue$1=(component,repConfig,_repState)=>repConfig.store.getValue(component);const setValue$1=(component,repConfig,_repState,data)=>{repConfig.store.setValue(component,data);repConfig.onSetValue(component,data);};const onLoad$3=(component,repConfig,_repState)=>{repConfig.store.initialValue.each(data=>{repConfig.store.setValue(component,data);});};var ManualStore=[required$1('getValue'),defaulted('setValue',noop),option$3('initialValue'),output$1('manager',{setValue:setValue$1,getValue:getValue$1,onLoad:onLoad$3,onUnload:noop,state:NoState.init})];const setValue=(component,repConfig,repState,data)=>{repState.set(data);repConfig.onSetValue(component,data);};const getValue=(component,repConfig,repState)=>repState.get();const onLoad$2=(component,repConfig,repState)=>{repConfig.store.initialValue.each(initVal=>{if(repState.isNotSet()){repState.set(initVal);}});};const onUnload=(component,repConfig,repState)=>{repState.clear();};var MemoryStore=[option$3('initialValue'),output$1('manager',{setValue,getValue,onLoad:onLoad$2,onUnload,state:memory$1})];var RepresentSchema=[defaultedOf('store',{mode:'memory'},choose$1('mode',{memory:MemoryStore,manual:ManualStore,dataset:DatasetStore})),onHandler('onSetValue'),defaulted('resetOnDom',false)];const Representing=create$4({fields:RepresentSchema,name:'representing',active:ActiveRepresenting,apis:RepresentApis,extra:{setValueFrom:(component,source)=>{const value=Representing.getValue(source);Representing.setValue(component,value);}},state:RepresentState});const field=(name,forbidden)=>defaultedObjOf(name,{},map$2(forbidden,f=>forbid(f.name(),'Cannot configure '+f.name()+' for '+name)).concat([customField('dump',identity)]));const get$3=data=>data.dump;const augment=(data,original)=>({...derive$1(original),...data.dump});const SketchBehaviours={field,augment,get:get$3};const _placeholder='placeholder';const adt$3=Adt.generate([{single:['required','valueThunk']},{multiple:['required','valueThunks']}]);const isSubstituted=spec=>has$2(spec,'uiType');const subPlaceholder=(owner,detail,compSpec,placeholders)=>{if(owner.exists(o=>o!==compSpec.owner)){return adt$3.single(true,constant$1(compSpec));}return get$g(placeholders,compSpec.name).fold(()=>{throw new Error('Unknown placeholder component: '+compSpec.name+'\\nKnown: ['+keys(placeholders)+']\\nNamespace: '+owner.getOr('none')+'\\nSpec: '+JSON.stringify(compSpec,null,2));},newSpec=>newSpec.replace());};const scan=(owner,detail,compSpec,placeholders)=>{if(isSubstituted(compSpec)&&compSpec.uiType===_placeholder){return subPlaceholder(owner,detail,compSpec,placeholders);}else{return adt$3.single(false,constant$1(compSpec));}};const substitute=(owner,detail,compSpec,placeholders)=>{const base=scan(owner,detail,compSpec,placeholders);return base.fold((req,valueThunk)=>{const value=isSubstituted(compSpec)?valueThunk(detail,compSpec.config,compSpec.validated):valueThunk(detail);const childSpecs=get$g(value,'components').getOr([]);const substituted=bind$3(childSpecs,c=>substitute(owner,detail,c,placeholders));return[{...value,components:substituted}];},(req,valuesThunk)=>{if(isSubstituted(compSpec)){const values=valuesThunk(detail,compSpec.config,compSpec.validated);const preprocessor=compSpec.validated.preprocess.getOr(identity);return preprocessor(values);}else{return valuesThunk(detail);}});};const substituteAll=(owner,detail,components,placeholders)=>bind$3(components,c=>substitute(owner,detail,c,placeholders));const oneReplace=(label,replacements)=>{let called=false;const used=()=>called;const replace=()=>{if(called){throw new Error('Trying to use the same placeholder more than once: '+label);}called=true;return replacements;};const required=()=>replacements.fold((req,_)=>req,(req,_)=>req);return{name:constant$1(label),required,used,replace};};const substitutePlaces=(owner,detail,components,placeholders)=>{const ps=map$1(placeholders,(ph,name)=>oneReplace(name,ph));const outcome=substituteAll(owner,detail,components,ps);each(ps,p=>{if(p.used()===false&&p.required()){throw new Error('Placeholder: '+p.name()+' was not found in components list\\nNamespace: '+owner.getOr('none')+'\\nComponents: '+JSON.stringify(detail.components,null,2));}});return outcome;};const single$2=adt$3.single;const multiple=adt$3.multiple;const placeholder=constant$1(_placeholder);const adt$2=Adt.generate([{required:['data']},{external:['data']},{optional:['data']},{group:['data']}]);const fFactory=defaulted('factory',{sketch:identity});const fSchema=defaulted('schema',[]);const fName=required$1('name');const fPname=field$1('pname','pname',defaultedThunk(typeSpec=>'<alloy.'+generate$6(typeSpec.name)+'>'),anyValue());const fGroupSchema=customField('schema',()=>[option$3('preprocess')]);const fDefaults=defaulted('defaults',constant$1({}));const fOverrides=defaulted('overrides',constant$1({}));const requiredSpec=objOf([fFactory,fSchema,fName,fPname,fDefaults,fOverrides]);const externalSpec=objOf([fFactory,fSchema,fName,fDefaults,fOverrides]);const optionalSpec=objOf([fFactory,fSchema,fName,fPname,fDefaults,fOverrides]);const groupSpec=objOf([fFactory,fGroupSchema,fName,required$1('unit'),fPname,fDefaults,fOverrides]);const asNamedPart=part=>{return part.fold(Optional.some,Optional.none,Optional.some,Optional.some);};const name$2=part=>{const get=data=>data.name;return part.fold(get,get,get,get);};const asCommon=part=>{return part.fold(identity,identity,identity,identity);};const convert=(adtConstructor,partSchema)=>spec=>{const data=asRawOrDie$1('Converting part type',partSchema,spec);return adtConstructor(data);};const required=convert(adt$2.required,requiredSpec);const external=convert(adt$2.external,externalSpec);const optional=convert(adt$2.optional,optionalSpec);const group=convert(adt$2.group,groupSpec);const original=constant$1('entirety');var PartType=/*#__PURE__*/Object.freeze({__proto__:null,required:required,external:external,optional:optional,group:group,asNamedPart:asNamedPart,name:name$2,asCommon:asCommon,original:original});const combine=(detail,data,partSpec,partValidated)=>deepMerge(data.defaults(detail,partSpec,partValidated),partSpec,{uid:detail.partUids[data.name]},data.overrides(detail,partSpec,partValidated));const subs=(owner,detail,parts)=>{const internals={};const externals={};each$1(parts,part=>{part.fold(data=>{internals[data.pname]=single$2(true,(detail,partSpec,partValidated)=>data.factory.sketch(combine(detail,data,partSpec,partValidated)));},data=>{const partSpec=detail.parts[data.name];externals[data.name]=constant$1(data.factory.sketch(combine(detail,data,partSpec[original()]),partSpec));},data=>{internals[data.pname]=single$2(false,(detail,partSpec,partValidated)=>data.factory.sketch(combine(detail,data,partSpec,partValidated)));},data=>{internals[data.pname]=multiple(true,(detail,_partSpec,_partValidated)=>{const units=detail[data.name];return map$2(units,u=>data.factory.sketch(deepMerge(data.defaults(detail,u,_partValidated),u,data.overrides(detail,u))));});});});return{internals:constant$1(internals),externals:constant$1(externals)};};const generate$3=(owner,parts)=>{const r={};each$1(parts,part=>{asNamedPart(part).each(np=>{const g=doGenerateOne(owner,np.pname);r[np.name]=config=>{const validated=asRawOrDie$1('Part: '+np.name+' in '+owner,objOf(np.schema),config);return{...g,config,validated};};});});return r;};const doGenerateOne=(owner,pname)=>({uiType:placeholder(),owner,name:pname});const generateOne$1=(owner,pname,config)=>({uiType:placeholder(),owner,name:pname,config,validated:{}});const schemas=parts=>bind$3(parts,part=>part.fold(Optional.none,Optional.some,Optional.none,Optional.none).map(data=>requiredObjOf(data.name,data.schema.concat([snapshot(original())]))).toArray());const names=parts=>map$2(parts,name$2);const substitutes=(owner,detail,parts)=>subs(owner,detail,parts);const components$1=(owner,detail,internals)=>substitutePlaces(Optional.some(owner),detail,detail.components,internals);const getPart=(component,detail,partKey)=>{const uid=detail.partUids[partKey];return component.getSystem().getByUid(uid).toOptional();};const getPartOrDie=(component,detail,partKey)=>getPart(component,detail,partKey).getOrDie('Could not find part: '+partKey);const getParts=(component,detail,partKeys)=>{const r={};const uids=detail.partUids;const system=component.getSystem();each$1(partKeys,pk=>{r[pk]=constant$1(system.getByUid(uids[pk]));});return r;};const getAllParts=(component,detail)=>{const system=component.getSystem();return map$1(detail.partUids,(pUid,_k)=>constant$1(system.getByUid(pUid)));};const getAllPartNames=detail=>keys(detail.partUids);const getPartsOrDie=(component,detail,partKeys)=>{const r={};const uids=detail.partUids;const system=component.getSystem();each$1(partKeys,pk=>{r[pk]=constant$1(system.getByUid(uids[pk]).getOrDie());});return r;};const defaultUids=(baseUid,partTypes)=>{const partNames=names(partTypes);return wrapAll(map$2(partNames,pn=>({key:pn,value:baseUid+'-'+pn})));};const defaultUidsSchema=partTypes=>field$1('partUids','partUids',mergeWithThunk(spec=>defaultUids(spec.uid,partTypes)),anyValue());var AlloyParts=/*#__PURE__*/Object.freeze({__proto__:null,generate:generate$3,generateOne:generateOne$1,schemas:schemas,names:names,substitutes:substitutes,components:components$1,defaultUids:defaultUids,defaultUidsSchema:defaultUidsSchema,getAllParts:getAllParts,getAllPartNames:getAllPartNames,getPart:getPart,getPartOrDie:getPartOrDie,getParts:getParts,getPartsOrDie:getPartsOrDie});const base=(partSchemas,partUidsSchemas)=>{const ps=partSchemas.length>0?[requiredObjOf('parts',partSchemas)]:[];return ps.concat([required$1('uid'),defaulted('dom',{}),defaulted('components',[]),snapshot('originalSpec'),defaulted('debug.sketcher',{})]).concat(partUidsSchemas);};const asRawOrDie=(label,schema,spec,partSchemas,partUidsSchemas)=>{const baseS=base(partSchemas,partUidsSchemas);return asRawOrDie$1(label+' [SpecSchema]',objOfOnly(baseS.concat(schema)),spec);};const single$1=(owner,schema,factory,spec)=>{const specWithUid=supplyUid(spec);const detail=asRawOrDie(owner,schema,specWithUid,[],[]);return factory(detail,specWithUid);};const composite$1=(owner,schema,partTypes,factory,spec)=>{const specWithUid=supplyUid(spec);const partSchemas=schemas(partTypes);const partUidsSchema=defaultUidsSchema(partTypes);const detail=asRawOrDie(owner,schema,specWithUid,partSchemas,[partUidsSchema]);const subs=substitutes(owner,detail,partTypes);const components=components$1(owner,detail,subs.internals());return factory(detail,components,specWithUid,subs.externals());};const hasUid=spec=>has$2(spec,'uid');const supplyUid=spec=>{return hasUid(spec)?spec:{...spec,uid:generate$5('uid')};};const isSketchSpec=spec=>{return spec.uid!==undefined;};const singleSchema=objOfOnly([required$1('name'),required$1('factory'),required$1('configFields'),defaulted('apis',{}),defaulted('extraApis',{})]);const compositeSchema=objOfOnly([required$1('name'),required$1('factory'),required$1('configFields'),required$1('partFields'),defaulted('apis',{}),defaulted('extraApis',{})]);const single=rawConfig=>{const config=asRawOrDie$1('Sketcher for '+rawConfig.name,singleSchema,rawConfig);const sketch=spec=>single$1(config.name,config.configFields,config.factory,spec);const apis=map$1(config.apis,makeApi);const extraApis=map$1(config.extraApis,(f,k)=>markAsExtraApi(f,k));return{name:config.name,configFields:config.configFields,sketch,...apis,...extraApis};};const composite=rawConfig=>{const config=asRawOrDie$1('Sketcher for '+rawConfig.name,compositeSchema,rawConfig);const sketch=spec=>composite$1(config.name,config.configFields,config.partFields,config.factory,spec);const parts=generate$3(config.name,config.partFields);const apis=map$1(config.apis,makeApi);const extraApis=map$1(config.extraApis,(f,k)=>markAsExtraApi(f,k));return{name:config.name,partFields:config.partFields,configFields:config.configFields,sketch,parts,...apis,...extraApis};};const inside=target=>isTag('input')(target)&&get$f(target,'type')!=='radio'||isTag('textarea')(target);const getCurrent=(component,composeConfig,_composeState)=>composeConfig.find(component);var ComposeApis=/*#__PURE__*/Object.freeze({__proto__:null,getCurrent:getCurrent});const ComposeSchema=[required$1('find')];const Composing=create$4({fields:ComposeSchema,name:'composing',apis:ComposeApis});const nativeDisabled=['input','button','textarea','select'];const onLoad$1=(component,disableConfig,disableState)=>{const f=disableConfig.disabled()?disable:enable;f(component,disableConfig);};const hasNative=(component,config)=>config.useNative===true&&contains$2(nativeDisabled,name$3(component.element));const nativeIsDisabled=component=>has$1(component.element,'disabled');const nativeDisable=component=>{set$9(component.element,'disabled','disabled');};const nativeEnable=component=>{remove$7(component.element,'disabled');};const ariaIsDisabled=component=>get$f(component.element,'aria-disabled')==='true';const ariaDisable=component=>{set$9(component.element,'aria-disabled','true');};const ariaEnable=component=>{set$9(component.element,'aria-disabled','false');};const disable=(component,disableConfig,_disableState)=>{disableConfig.disableClass.each(disableClass=>{add$2(component.element,disableClass);});const f=hasNative(component,disableConfig)?nativeDisable:ariaDisable;f(component);disableConfig.onDisabled(component);};const enable=(component,disableConfig,_disableState)=>{disableConfig.disableClass.each(disableClass=>{remove$2(component.element,disableClass);});const f=hasNative(component,disableConfig)?nativeEnable:ariaEnable;f(component);disableConfig.onEnabled(component);};const isDisabled=(component,disableConfig)=>hasNative(component,disableConfig)?nativeIsDisabled(component):ariaIsDisabled(component);const set$4=(component,disableConfig,disableState,disabled)=>{const f=disabled?disable:enable;f(component,disableConfig);};var DisableApis=/*#__PURE__*/Object.freeze({__proto__:null,enable:enable,disable:disable,isDisabled:isDisabled,onLoad:onLoad$1,set:set$4});const exhibit$5=(base,disableConfig)=>nu$7({classes:disableConfig.disabled()?disableConfig.disableClass.toArray():[]});const events$e=(disableConfig,disableState)=>derive$2([abort(execute$5(),(component,_simulatedEvent)=>isDisabled(component,disableConfig)),loadEvent(disableConfig,disableState,onLoad$1)]);var ActiveDisable=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$5,events:events$e});var DisableSchema=[defaultedFunction('disabled',never),defaulted('useNative',true),option$3('disableClass'),onHandler('onDisabled'),onHandler('onEnabled')];const Disabling=create$4({fields:DisableSchema,name:'disabling',active:ActiveDisable,apis:DisableApis});const dehighlightAllExcept=(component,hConfig,hState,skip)=>{const highlighted=descendants(component.element,'.'+hConfig.highlightClass);each$1(highlighted,h=>{const shouldSkip=exists(skip,skipComp=>eq(skipComp.element,h));if(!shouldSkip){remove$2(h,hConfig.highlightClass);component.getSystem().getByDom(h).each(target=>{hConfig.onDehighlight(component,target);emit(target,dehighlight$1());});}});};const dehighlightAll=(component,hConfig,hState)=>dehighlightAllExcept(component,hConfig,hState,[]);const dehighlight=(component,hConfig,hState,target)=>{if(isHighlighted(component,hConfig,hState,target)){remove$2(target.element,hConfig.highlightClass);hConfig.onDehighlight(component,target);emit(target,dehighlight$1());}};const highlight=(component,hConfig,hState,target)=>{dehighlightAllExcept(component,hConfig,hState,[target]);if(!isHighlighted(component,hConfig,hState,target)){add$2(target.element,hConfig.highlightClass);hConfig.onHighlight(component,target);emit(target,highlight$1());}};const highlightFirst=(component,hConfig,hState)=>{getFirst(component,hConfig).each(firstComp=>{highlight(component,hConfig,hState,firstComp);});};const highlightLast=(component,hConfig,hState)=>{getLast(component,hConfig).each(lastComp=>{highlight(component,hConfig,hState,lastComp);});};const highlightAt=(component,hConfig,hState,index)=>{getByIndex(component,hConfig,hState,index).fold(err=>{throw err;},firstComp=>{highlight(component,hConfig,hState,firstComp);});};const highlightBy=(component,hConfig,hState,predicate)=>{const candidates=getCandidates(component,hConfig);const targetComp=find$5(candidates,predicate);targetComp.each(c=>{highlight(component,hConfig,hState,c);});};const isHighlighted=(component,hConfig,hState,queryTarget)=>has(queryTarget.element,hConfig.highlightClass);const getHighlighted=(component,hConfig,_hState)=>descendant(component.element,'.'+hConfig.highlightClass).bind(e=>component.getSystem().getByDom(e).toOptional());const getByIndex=(component,hConfig,hState,index)=>{const items=descendants(component.element,'.'+hConfig.itemClass);return Optional.from(items[index]).fold(()=>Result.error(new Error('No element found with index '+index)),component.getSystem().getByDom);};const getFirst=(component,hConfig,_hState)=>descendant(component.element,'.'+hConfig.itemClass).bind(e=>component.getSystem().getByDom(e).toOptional());const getLast=(component,hConfig,_hState)=>{const items=descendants(component.element,'.'+hConfig.itemClass);const last=items.length>0?Optional.some(items[items.length-1]):Optional.none();return last.bind(c=>component.getSystem().getByDom(c).toOptional());};const getDelta$2=(component,hConfig,hState,delta)=>{const items=descendants(component.element,'.'+hConfig.itemClass);const current=findIndex$1(items,item=>has(item,hConfig.highlightClass));return current.bind(selected=>{const dest=cycleBy(selected,delta,0,items.length-1);return component.getSystem().getByDom(items[dest]).toOptional();});};const getPrevious=(component,hConfig,hState)=>getDelta$2(component,hConfig,hState,-1);const getNext=(component,hConfig,hState)=>getDelta$2(component,hConfig,hState,+1);const getCandidates=(component,hConfig,_hState)=>{const items=descendants(component.element,'.'+hConfig.itemClass);return cat(map$2(items,i=>component.getSystem().getByDom(i).toOptional()));};var HighlightApis=/*#__PURE__*/Object.freeze({__proto__:null,dehighlightAll:dehighlightAll,dehighlight:dehighlight,highlight:highlight,highlightFirst:highlightFirst,highlightLast:highlightLast,highlightAt:highlightAt,highlightBy:highlightBy,isHighlighted:isHighlighted,getHighlighted:getHighlighted,getFirst:getFirst,getLast:getLast,getPrevious:getPrevious,getNext:getNext,getCandidates:getCandidates});var HighlightSchema=[required$1('highlightClass'),required$1('itemClass'),onHandler('onHighlight'),onHandler('onDehighlight')];const Highlighting=create$4({fields:HighlightSchema,name:'highlighting',apis:HighlightApis});const BACKSPACE=[8];const TAB=[9];const ENTER=[13];const ESCAPE=[27];const SPACE=[32];const LEFT=[37];const UP=[38];const RIGHT=[39];const DOWN=[40];const cyclePrev=(values,index,predicate)=>{const before=reverse(values.slice(0,index));const after=reverse(values.slice(index+1));return find$5(before.concat(after),predicate);};const tryPrev=(values,index,predicate)=>{const before=reverse(values.slice(0,index));return find$5(before,predicate);};const cycleNext=(values,index,predicate)=>{const before=values.slice(0,index);const after=values.slice(index+1);return find$5(after.concat(before),predicate);};const tryNext=(values,index,predicate)=>{const after=values.slice(index+1);return find$5(after,predicate);};const inSet=keys=>event=>{const raw=event.raw;return contains$2(keys,raw.which);};const and=preds=>event=>forall(preds,pred=>pred(event));const isShift$1=event=>{const raw=event.raw;return raw.shiftKey===true;};const isControl=event=>{const raw=event.raw;return raw.ctrlKey===true;};const isNotShift=not(isShift$1);const rule=(matches,action)=>({matches,classification:action});const choose=(transitions,event)=>{const transition=find$5(transitions,t=>t.matches(event));return transition.map(t=>t.classification);};const reportFocusShifting=(component,prevFocus,newFocus)=>{const noChange=prevFocus.exists(p=>newFocus.exists(n=>eq(n,p)));if(!noChange){emitWith(component,focusShifted(),{prevFocus,newFocus});}};const dom$2=()=>{const get=component=>search(component.element);const set=(component,focusee)=>{const prevFocus=get(component);component.getSystem().triggerFocus(focusee,component.element);const newFocus=get(component);reportFocusShifting(component,prevFocus,newFocus);};return{get,set};};const highlights=()=>{const get=component=>Highlighting.getHighlighted(component).map(item=>item.element);const set=(component,element)=>{const prevFocus=get(component);component.getSystem().getByDom(element).fold(noop,item=>{Highlighting.highlight(component,item);});const newFocus=get(component);reportFocusShifting(component,prevFocus,newFocus);};return{get,set};};var FocusInsideModes;(function(FocusInsideModes){FocusInsideModes['OnFocusMode']='onFocus';FocusInsideModes['OnEnterOrSpaceMode']='onEnterOrSpace';FocusInsideModes['OnApiMode']='onApi';})(FocusInsideModes||(FocusInsideModes={}));const typical=(infoSchema,stateInit,getKeydownRules,getKeyupRules,optFocusIn)=>{const schema=()=>infoSchema.concat([defaulted('focusManager',dom$2()),defaultedOf('focusInside','onFocus',valueOf(val=>contains$2(['onFocus','onEnterOrSpace','onApi'],val)?Result.value(val):Result.error('Invalid value for focusInside'))),output$1('handler',me),output$1('state',stateInit),output$1('sendFocusIn',optFocusIn)]);const processKey=(component,simulatedEvent,getRules,keyingConfig,keyingState)=>{const rules=getRules(component,simulatedEvent,keyingConfig,keyingState);return choose(rules,simulatedEvent.event).bind(rule=>rule(component,simulatedEvent,keyingConfig,keyingState));};const toEvents=(keyingConfig,keyingState)=>{const onFocusHandler=keyingConfig.focusInside!==FocusInsideModes.OnFocusMode?Optional.none():optFocusIn(keyingConfig).map(focusIn=>run$1(focus$4(),(component,simulatedEvent)=>{focusIn(component,keyingConfig,keyingState);simulatedEvent.stop();}));const tryGoInsideComponent=(component,simulatedEvent)=>{const isEnterOrSpace=inSet(SPACE.concat(ENTER))(simulatedEvent.event);if(keyingConfig.focusInside===FocusInsideModes.OnEnterOrSpaceMode&&isEnterOrSpace&&isSource(component,simulatedEvent)){optFocusIn(keyingConfig).each(focusIn=>{focusIn(component,keyingConfig,keyingState);simulatedEvent.stop();});}};const keyboardEvents=[run$1(keydown(),(component,simulatedEvent)=>{processKey(component,simulatedEvent,getKeydownRules,keyingConfig,keyingState).fold(()=>{tryGoInsideComponent(component,simulatedEvent);},_=>{simulatedEvent.stop();});}),run$1(keyup(),(component,simulatedEvent)=>{processKey(component,simulatedEvent,getKeyupRules,keyingConfig,keyingState).each(_=>{simulatedEvent.stop();});})];return derive$2(onFocusHandler.toArray().concat(keyboardEvents));};const me={schema,processKey,toEvents};return me;};const create$2=cyclicField=>{const schema=[option$3('onEscape'),option$3('onEnter'),defaulted('selector','[data-alloy-tabstop=\"true\"]:not(:disabled)'),defaulted('firstTabstop',0),defaulted('useTabstopAt',always),option$3('visibilitySelector')].concat([cyclicField]);const isVisible=(tabbingConfig,element)=>{const target=tabbingConfig.visibilitySelector.bind(sel=>closest$1(element,sel)).getOr(element);return get$d(target)>0;};const findInitial=(component,tabbingConfig)=>{const tabstops=descendants(component.element,tabbingConfig.selector);const visibles=filter$2(tabstops,elem=>isVisible(tabbingConfig,elem));return Optional.from(visibles[tabbingConfig.firstTabstop]);};const findCurrent=(component,tabbingConfig)=>tabbingConfig.focusManager.get(component).bind(elem=>closest$1(elem,tabbingConfig.selector));const isTabstop=(tabbingConfig,element)=>isVisible(tabbingConfig,element)&&tabbingConfig.useTabstopAt(element);const focusIn=(component,tabbingConfig,_tabbingState)=>{findInitial(component,tabbingConfig).each(target=>{tabbingConfig.focusManager.set(component,target);});};const goFromTabstop=(component,tabstops,stopIndex,tabbingConfig,cycle)=>cycle(tabstops,stopIndex,elem=>isTabstop(tabbingConfig,elem)).fold(()=>tabbingConfig.cyclic?Optional.some(true):Optional.none(),target=>{tabbingConfig.focusManager.set(component,target);return Optional.some(true);});const go=(component,_simulatedEvent,tabbingConfig,cycle)=>{const tabstops=descendants(component.element,tabbingConfig.selector);return findCurrent(component,tabbingConfig).bind(tabstop=>{const optStopIndex=findIndex$1(tabstops,curry(eq,tabstop));return optStopIndex.bind(stopIndex=>goFromTabstop(component,tabstops,stopIndex,tabbingConfig,cycle));});};const goBackwards=(component,simulatedEvent,tabbingConfig)=>{const navigate=tabbingConfig.cyclic?cyclePrev:tryPrev;return go(component,simulatedEvent,tabbingConfig,navigate);};const goForwards=(component,simulatedEvent,tabbingConfig)=>{const navigate=tabbingConfig.cyclic?cycleNext:tryNext;return go(component,simulatedEvent,tabbingConfig,navigate);};const isFirstChild=elem=>parentNode(elem).bind(firstChild).exists(child=>eq(child,elem));const goFromPseudoTabstop=(component,simulatedEvent,tabbingConfig)=>findCurrent(component,tabbingConfig).filter(elem=>!tabbingConfig.useTabstopAt(elem)).bind(elem=>(isFirstChild(elem)?goBackwards:goForwards)(component,simulatedEvent,tabbingConfig));const execute=(component,simulatedEvent,tabbingConfig)=>tabbingConfig.onEnter.bind(f=>f(component,simulatedEvent));const exit=(component,simulatedEvent,tabbingConfig)=>tabbingConfig.onEscape.bind(f=>f(component,simulatedEvent));const getKeydownRules=constant$1([rule(and([isShift$1,inSet(TAB)]),goBackwards),rule(inSet(TAB),goForwards),rule(and([isNotShift,inSet(ENTER)]),execute)]);const getKeyupRules=constant$1([rule(inSet(ESCAPE),exit),rule(inSet(TAB),goFromPseudoTabstop)]);return typical(schema,NoState.init,getKeydownRules,getKeyupRules,()=>Optional.some(focusIn));};var AcyclicType=create$2(customField('cyclic',never));var CyclicType=create$2(customField('cyclic',always));const doDefaultExecute=(component,_simulatedEvent,focused)=>{dispatch(component,focused,execute$5());return Optional.some(true);};const defaultExecute=(component,simulatedEvent,focused)=>{const isComplex=inside(focused)&&inSet(SPACE)(simulatedEvent.event);return isComplex?Optional.none():doDefaultExecute(component,simulatedEvent,focused);};const stopEventForFirefox=(_component,_simulatedEvent)=>Optional.some(true);const schema$v=[defaulted('execute',defaultExecute),defaulted('useSpace',false),defaulted('useEnter',true),defaulted('useControlEnter',false),defaulted('useDown',false)];const execute$4=(component,simulatedEvent,executeConfig)=>executeConfig.execute(component,simulatedEvent,component.element);const getKeydownRules$5=(component,_simulatedEvent,executeConfig,_executeState)=>{const spaceExec=executeConfig.useSpace&&!inside(component.element)?SPACE:[];const enterExec=executeConfig.useEnter?ENTER:[];const downExec=executeConfig.useDown?DOWN:[];const execKeys=spaceExec.concat(enterExec).concat(downExec);return[rule(inSet(execKeys),execute$4)].concat(executeConfig.useControlEnter?[rule(and([isControl,inSet(ENTER)]),execute$4)]:[]);};const getKeyupRules$5=(component,_simulatedEvent,executeConfig,_executeState)=>executeConfig.useSpace&&!inside(component.element)?[rule(inSet(SPACE),stopEventForFirefox)]:[];var ExecutionType=typical(schema$v,NoState.init,getKeydownRules$5,getKeyupRules$5,()=>Optional.none());const flatgrid$1=()=>{const dimensions=value$2();const setGridSize=(numRows,numColumns)=>{dimensions.set({numRows,numColumns});};const getNumRows=()=>dimensions.get().map(d=>d.numRows);const getNumColumns=()=>dimensions.get().map(d=>d.numColumns);return nu$8({readState:()=>dimensions.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:'?',numColumns:'?'}),setGridSize,getNumRows,getNumColumns});};const init$d=spec=>spec.state(spec);var KeyingState=/*#__PURE__*/Object.freeze({__proto__:null,flatgrid:flatgrid$1,init:init$d});const useH=movement=>(component,simulatedEvent,config,state)=>{const move=movement(component.element);return use(move,component,simulatedEvent,config,state);};const west$1=(moveLeft,moveRight)=>{const movement=onDirection(moveLeft,moveRight);return useH(movement);};const east$1=(moveLeft,moveRight)=>{const movement=onDirection(moveRight,moveLeft);return useH(movement);};const useV=move=>(component,simulatedEvent,config,state)=>use(move,component,simulatedEvent,config,state);const use=(move,component,simulatedEvent,config,state)=>{const outcome=config.focusManager.get(component).bind(focused=>move(component.element,focused,config,state));return outcome.map(newFocus=>{config.focusManager.set(component,newFocus);return true;});};const north$1=useV;const south$1=useV;const move$1=useV;const isHidden$1=dom=>dom.offsetWidth<=0&&dom.offsetHeight<=0;const isVisible=element=>!isHidden$1(element.dom);const locate=(candidates,predicate)=>findIndex$1(candidates,predicate).map(index=>({index,candidates}));const locateVisible=(container,current,selector)=>{const predicate=x=>eq(x,current);const candidates=descendants(container,selector);const visible=filter$2(candidates,isVisible);return locate(visible,predicate);};const findIndex=(elements,target)=>findIndex$1(elements,elem=>eq(target,elem));const withGrid=(values,index,numCols,f)=>{const oldRow=Math.floor(index/numCols);const oldColumn=index%numCols;return f(oldRow,oldColumn).bind(address=>{const newIndex=address.row*numCols+address.column;return newIndex>=0&&newIndex<values.length?Optional.some(values[newIndex]):Optional.none();});};const cycleHorizontal$1=(values,index,numRows,numCols,delta)=>withGrid(values,index,numCols,(oldRow,oldColumn)=>{const onLastRow=oldRow===numRows-1;const colsInRow=onLastRow?values.length-oldRow*numCols:numCols;const newColumn=cycleBy(oldColumn,delta,0,colsInRow-1);return Optional.some({row:oldRow,column:newColumn});});const cycleVertical$1=(values,index,numRows,numCols,delta)=>withGrid(values,index,numCols,(oldRow,oldColumn)=>{const newRow=cycleBy(oldRow,delta,0,numRows-1);const onLastRow=newRow===numRows-1;const colsInRow=onLastRow?values.length-newRow*numCols:numCols;const newCol=clamp(oldColumn,0,colsInRow-1);return Optional.some({row:newRow,column:newCol});});const cycleRight$1=(values,index,numRows,numCols)=>cycleHorizontal$1(values,index,numRows,numCols,+1);const cycleLeft$1=(values,index,numRows,numCols)=>cycleHorizontal$1(values,index,numRows,numCols,-1);const cycleUp$1=(values,index,numRows,numCols)=>cycleVertical$1(values,index,numRows,numCols,-1);const cycleDown$1=(values,index,numRows,numCols)=>cycleVertical$1(values,index,numRows,numCols,+1);const schema$u=[required$1('selector'),defaulted('execute',defaultExecute),onKeyboardHandler('onEscape'),defaulted('captureTab',false),initSize()];const focusIn$3=(component,gridConfig,_gridState)=>{descendant(component.element,gridConfig.selector).each(first=>{gridConfig.focusManager.set(component,first);});};const findCurrent$1=(component,gridConfig)=>gridConfig.focusManager.get(component).bind(elem=>closest$1(elem,gridConfig.selector));const execute$3=(component,simulatedEvent,gridConfig,_gridState)=>findCurrent$1(component,gridConfig).bind(focused=>gridConfig.execute(component,simulatedEvent,focused));const doMove$2=cycle=>(element,focused,gridConfig,gridState)=>locateVisible(element,focused,gridConfig.selector).bind(identified=>cycle(identified.candidates,identified.index,gridState.getNumRows().getOr(gridConfig.initSize.numRows),gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));const handleTab=(_component,_simulatedEvent,gridConfig)=>gridConfig.captureTab?Optional.some(true):Optional.none();const doEscape$1=(component,simulatedEvent,gridConfig)=>gridConfig.onEscape(component,simulatedEvent);const moveLeft$3=doMove$2(cycleLeft$1);const moveRight$3=doMove$2(cycleRight$1);const moveNorth$1=doMove$2(cycleUp$1);const moveSouth$1=doMove$2(cycleDown$1);const getKeydownRules$4=constant$1([rule(inSet(LEFT),west$1(moveLeft$3,moveRight$3)),rule(inSet(RIGHT),east$1(moveLeft$3,moveRight$3)),rule(inSet(UP),north$1(moveNorth$1)),rule(inSet(DOWN),south$1(moveSouth$1)),rule(and([isShift$1,inSet(TAB)]),handleTab),rule(and([isNotShift,inSet(TAB)]),handleTab),rule(inSet(SPACE.concat(ENTER)),execute$3)]);const getKeyupRules$4=constant$1([rule(inSet(ESCAPE),doEscape$1),rule(inSet(SPACE),stopEventForFirefox)]);var FlatgridType=typical(schema$u,flatgrid$1,getKeydownRules$4,getKeyupRules$4,()=>Optional.some(focusIn$3));const f=(container,selector,current,delta,getNewIndex)=>{const isDisabledButton=candidate=>name$3(candidate)==='button'&&get$f(candidate,'disabled')==='disabled';const tryNewIndex=(initial,index,candidates)=>getNewIndex(initial,index,delta,0,candidates.length-1,candidates[index],newIndex=>isDisabledButton(candidates[newIndex])?tryNewIndex(initial,newIndex,candidates):Optional.from(candidates[newIndex]));return locateVisible(container,current,selector).bind(identified=>{const index=identified.index;const candidates=identified.candidates;return tryNewIndex(index,index,candidates);});};const horizontalWithoutCycles=(container,selector,current,delta)=>f(container,selector,current,delta,(prevIndex,v,d,min,max,oldCandidate,onNewIndex)=>{const newIndex=clamp(v+d,min,max);return newIndex===prevIndex?Optional.from(oldCandidate):onNewIndex(newIndex);});const horizontal=(container,selector,current,delta)=>f(container,selector,current,delta,(prevIndex,v,d,min,max,_oldCandidate,onNewIndex)=>{const newIndex=cycleBy(v,d,min,max);return newIndex===prevIndex?Optional.none():onNewIndex(newIndex);});const schema$t=[required$1('selector'),defaulted('getInitial',Optional.none),defaulted('execute',defaultExecute),onKeyboardHandler('onEscape'),defaulted('executeOnMove',false),defaulted('allowVertical',true),defaulted('allowHorizontal',true),defaulted('cycles',true)];const findCurrent=(component,flowConfig)=>flowConfig.focusManager.get(component).bind(elem=>closest$1(elem,flowConfig.selector));const execute$2=(component,simulatedEvent,flowConfig)=>findCurrent(component,flowConfig).bind(focused=>flowConfig.execute(component,simulatedEvent,focused));const focusIn$2=(component,flowConfig,_state)=>{flowConfig.getInitial(component).orThunk(()=>descendant(component.element,flowConfig.selector)).each(first=>{flowConfig.focusManager.set(component,first);});};const moveLeft$2=(element,focused,info)=>(info.cycles?horizontal:horizontalWithoutCycles)(element,info.selector,focused,-1);const moveRight$2=(element,focused,info)=>(info.cycles?horizontal:horizontalWithoutCycles)(element,info.selector,focused,+1);const doMove$1=movement=>(component,simulatedEvent,flowConfig,flowState)=>movement(component,simulatedEvent,flowConfig,flowState).bind(()=>flowConfig.executeOnMove?execute$2(component,simulatedEvent,flowConfig):Optional.some(true));const doEscape=(component,simulatedEvent,flowConfig)=>flowConfig.onEscape(component,simulatedEvent);const getKeydownRules$3=(_component,_se,flowConfig,_flowState)=>{const westMovers=[...(flowConfig.allowHorizontal?LEFT:[])].concat(flowConfig.allowVertical?UP:[]);const eastMovers=[...(flowConfig.allowHorizontal?RIGHT:[])].concat(flowConfig.allowVertical?DOWN:[]);return[rule(inSet(westMovers),doMove$1(west$1(moveLeft$2,moveRight$2))),rule(inSet(eastMovers),doMove$1(east$1(moveLeft$2,moveRight$2))),rule(inSet(ENTER),execute$2),rule(inSet(SPACE),execute$2)];};const getKeyupRules$3=constant$1([rule(inSet(SPACE),stopEventForFirefox),rule(inSet(ESCAPE),doEscape)]);var FlowType=typical(schema$t,NoState.init,getKeydownRules$3,getKeyupRules$3,()=>Optional.some(focusIn$2));const toCell=(matrix,rowIndex,columnIndex)=>Optional.from(matrix[rowIndex]).bind(row=>Optional.from(row[columnIndex]).map(cell=>({rowIndex,columnIndex,cell})));const cycleHorizontal=(matrix,rowIndex,startCol,deltaCol)=>{const row=matrix[rowIndex];const colsInRow=row.length;const newColIndex=cycleBy(startCol,deltaCol,0,colsInRow-1);return toCell(matrix,rowIndex,newColIndex);};const cycleVertical=(matrix,colIndex,startRow,deltaRow)=>{const nextRowIndex=cycleBy(startRow,deltaRow,0,matrix.length-1);const colsInNextRow=matrix[nextRowIndex].length;const nextColIndex=clamp(colIndex,0,colsInNextRow-1);return toCell(matrix,nextRowIndex,nextColIndex);};const moveHorizontal=(matrix,rowIndex,startCol,deltaCol)=>{const row=matrix[rowIndex];const colsInRow=row.length;const newColIndex=clamp(startCol+deltaCol,0,colsInRow-1);return toCell(matrix,rowIndex,newColIndex);};const moveVertical=(matrix,colIndex,startRow,deltaRow)=>{const nextRowIndex=clamp(startRow+deltaRow,0,matrix.length-1);const colsInNextRow=matrix[nextRowIndex].length;const nextColIndex=clamp(colIndex,0,colsInNextRow-1);return toCell(matrix,nextRowIndex,nextColIndex);};const cycleRight=(matrix,startRow,startCol)=>cycleHorizontal(matrix,startRow,startCol,+1);const cycleLeft=(matrix,startRow,startCol)=>cycleHorizontal(matrix,startRow,startCol,-1);const cycleUp=(matrix,startRow,startCol)=>cycleVertical(matrix,startCol,startRow,-1);const cycleDown=(matrix,startRow,startCol)=>cycleVertical(matrix,startCol,startRow,+1);const moveLeft$1=(matrix,startRow,startCol)=>moveHorizontal(matrix,startRow,startCol,-1);const moveRight$1=(matrix,startRow,startCol)=>moveHorizontal(matrix,startRow,startCol,+1);const moveUp$1=(matrix,startRow,startCol)=>moveVertical(matrix,startCol,startRow,-1);const moveDown$1=(matrix,startRow,startCol)=>moveVertical(matrix,startCol,startRow,+1);const schema$s=[requiredObjOf('selectors',[required$1('row'),required$1('cell')]),defaulted('cycles',true),defaulted('previousSelector',Optional.none),defaulted('execute',defaultExecute)];const focusIn$1=(component,matrixConfig,_state)=>{const focused=matrixConfig.previousSelector(component).orThunk(()=>{const selectors=matrixConfig.selectors;return descendant(component.element,selectors.cell);});focused.each(cell=>{matrixConfig.focusManager.set(component,cell);});};const execute$1=(component,simulatedEvent,matrixConfig)=>search(component.element).bind(focused=>matrixConfig.execute(component,simulatedEvent,focused));const toMatrix=(rows,matrixConfig)=>map$2(rows,row=>descendants(row,matrixConfig.selectors.cell));const doMove=(ifCycle,ifMove)=>(element,focused,matrixConfig)=>{const move=matrixConfig.cycles?ifCycle:ifMove;return closest$1(focused,matrixConfig.selectors.row).bind(inRow=>{const cellsInRow=descendants(inRow,matrixConfig.selectors.cell);return findIndex(cellsInRow,focused).bind(colIndex=>{const allRows=descendants(element,matrixConfig.selectors.row);return findIndex(allRows,inRow).bind(rowIndex=>{const matrix=toMatrix(allRows,matrixConfig);return move(matrix,rowIndex,colIndex).map(next=>next.cell);});});});};const moveLeft=doMove(cycleLeft,moveLeft$1);const moveRight=doMove(cycleRight,moveRight$1);const moveNorth=doMove(cycleUp,moveUp$1);const moveSouth=doMove(cycleDown,moveDown$1);const getKeydownRules$2=constant$1([rule(inSet(LEFT),west$1(moveLeft,moveRight)),rule(inSet(RIGHT),east$1(moveLeft,moveRight)),rule(inSet(UP),north$1(moveNorth)),rule(inSet(DOWN),south$1(moveSouth)),rule(inSet(SPACE.concat(ENTER)),execute$1)]);const getKeyupRules$2=constant$1([rule(inSet(SPACE),stopEventForFirefox)]);var MatrixType=typical(schema$s,NoState.init,getKeydownRules$2,getKeyupRules$2,()=>Optional.some(focusIn$1));const schema$r=[required$1('selector'),defaulted('execute',defaultExecute),defaulted('moveOnTab',false)];const execute=(component,simulatedEvent,menuConfig)=>menuConfig.focusManager.get(component).bind(focused=>menuConfig.execute(component,simulatedEvent,focused));const focusIn=(component,menuConfig,_state)=>{descendant(component.element,menuConfig.selector).each(first=>{menuConfig.focusManager.set(component,first);});};const moveUp=(element,focused,info)=>horizontal(element,info.selector,focused,-1);const moveDown=(element,focused,info)=>horizontal(element,info.selector,focused,+1);const fireShiftTab=(component,simulatedEvent,menuConfig,menuState)=>menuConfig.moveOnTab?move$1(moveUp)(component,simulatedEvent,menuConfig,menuState):Optional.none();const fireTab=(component,simulatedEvent,menuConfig,menuState)=>menuConfig.moveOnTab?move$1(moveDown)(component,simulatedEvent,menuConfig,menuState):Optional.none();const getKeydownRules$1=constant$1([rule(inSet(UP),move$1(moveUp)),rule(inSet(DOWN),move$1(moveDown)),rule(and([isShift$1,inSet(TAB)]),fireShiftTab),rule(and([isNotShift,inSet(TAB)]),fireTab),rule(inSet(ENTER),execute),rule(inSet(SPACE),execute)]);const getKeyupRules$1=constant$1([rule(inSet(SPACE),stopEventForFirefox)]);var MenuType=typical(schema$r,NoState.init,getKeydownRules$1,getKeyupRules$1,()=>Optional.some(focusIn));const schema$q=[onKeyboardHandler('onSpace'),onKeyboardHandler('onEnter'),onKeyboardHandler('onShiftEnter'),onKeyboardHandler('onLeft'),onKeyboardHandler('onRight'),onKeyboardHandler('onTab'),onKeyboardHandler('onShiftTab'),onKeyboardHandler('onUp'),onKeyboardHandler('onDown'),onKeyboardHandler('onEscape'),defaulted('stopSpaceKeyup',false),option$3('focusIn')];const getKeydownRules=(component,simulatedEvent,specialInfo)=>[rule(inSet(SPACE),specialInfo.onSpace),rule(and([isNotShift,inSet(ENTER)]),specialInfo.onEnter),rule(and([isShift$1,inSet(ENTER)]),specialInfo.onShiftEnter),rule(and([isShift$1,inSet(TAB)]),specialInfo.onShiftTab),rule(and([isNotShift,inSet(TAB)]),specialInfo.onTab),rule(inSet(UP),specialInfo.onUp),rule(inSet(DOWN),specialInfo.onDown),rule(inSet(LEFT),specialInfo.onLeft),rule(inSet(RIGHT),specialInfo.onRight),rule(inSet(SPACE),specialInfo.onSpace)];const getKeyupRules=(component,simulatedEvent,specialInfo)=>[...(specialInfo.stopSpaceKeyup?[rule(inSet(SPACE),stopEventForFirefox)]:[]),rule(inSet(ESCAPE),specialInfo.onEscape)];var SpecialType=typical(schema$q,NoState.init,getKeydownRules,getKeyupRules,specialInfo=>specialInfo.focusIn);const acyclic=AcyclicType.schema();const cyclic=CyclicType.schema();const flow=FlowType.schema();const flatgrid=FlatgridType.schema();const matrix=MatrixType.schema();const execution=ExecutionType.schema();const menu=MenuType.schema();const special=SpecialType.schema();var KeyboardBranches=/*#__PURE__*/Object.freeze({__proto__:null,acyclic:acyclic,cyclic:cyclic,flow:flow,flatgrid:flatgrid,matrix:matrix,execution:execution,menu:menu,special:special});const isFlatgridState=keyState=>hasNonNullableKey(keyState,'setGridSize');const Keying=createModes({branchKey:'mode',branches:KeyboardBranches,name:'keying',active:{events:(keyingConfig,keyingState)=>{const handler=keyingConfig.handler;return handler.toEvents(keyingConfig,keyingState);}},apis:{focusIn:(component,keyConfig,keyState)=>{keyConfig.sendFocusIn(keyConfig).fold(()=>{component.getSystem().triggerFocus(component.element,component.element);},sendFocusIn=>{sendFocusIn(component,keyConfig,keyState);});},setGridSize:(component,keyConfig,keyState,numRows,numColumns)=>{if(!isFlatgridState(keyState)){console.error('Layout does not support setGridSize');}else{keyState.setGridSize(numRows,numColumns);}}},state:KeyingState});const withoutReuse=(parent,data)=>{preserve$1(()=>{replaceChildren(parent,data,()=>map$2(data,parent.getSystem().build));},parent.element);};const withReuse=(parent,data)=>{preserve$1(()=>{virtualReplaceChildren(parent,data,()=>{return patchSpecChildren(parent.element,data,parent.getSystem().buildOrPatch);});},parent.element);};const virtualReplace=(component,replacee,replaceeIndex,childSpec)=>{virtualDetach(replacee);const child=patchSpecChild(component.element,replaceeIndex,childSpec,component.getSystem().buildOrPatch);virtualAttach(component,child);component.syncComponents();};const insert=(component,insertion,childSpec)=>{const child=component.getSystem().build(childSpec);attachWith(component,child,insertion);};const replace=(component,replacee,replaceeIndex,childSpec)=>{detach(replacee);insert(component,(p,c)=>appendAt(p,c,replaceeIndex),childSpec);};const set$3=(component,replaceConfig,replaceState,data)=>{const replacer=replaceConfig.reuseDom?withReuse:withoutReuse;return replacer(component,data);};const append=(component,replaceConfig,replaceState,appendee)=>{insert(component,append$2,appendee);};const prepend=(component,replaceConfig,replaceState,prependee)=>{insert(component,prepend$1,prependee);};const remove=(component,replaceConfig,replaceState,removee)=>{const children=contents(component);const foundChild=find$5(children,child=>eq(removee.element,child.element));foundChild.each(detach);};const contents=(component,_replaceConfig)=>component.components();const replaceAt=(component,replaceConfig,replaceState,replaceeIndex,replacer)=>{const children=contents(component);return Optional.from(children[replaceeIndex]).map(replacee=>{replacer.fold(()=>detach(replacee),r=>{const replacer=replaceConfig.reuseDom?virtualReplace:replace;replacer(component,replacee,replaceeIndex,r);});return replacee;});};const replaceBy=(component,replaceConfig,replaceState,replaceePred,replacer)=>{const children=contents(component);return findIndex$1(children,replaceePred).bind(replaceeIndex=>replaceAt(component,replaceConfig,replaceState,replaceeIndex,replacer));};var ReplaceApis=/*#__PURE__*/Object.freeze({__proto__:null,append:append,prepend:prepend,remove:remove,replaceAt:replaceAt,replaceBy:replaceBy,set:set$3,contents:contents});const Replacing=create$4({fields:[defaultedBoolean('reuseDom',true)],name:'replacing',apis:ReplaceApis});const events$d=(name,eventHandlers)=>{const events=derive$2(eventHandlers);return create$4({fields:[required$1('enabled')],name,active:{events:constant$1(events)}});};const config=(name,eventHandlers)=>{const me=events$d(name,eventHandlers);return{key:name,value:{config:{},me,configAsRaw:constant$1({}),initialConfig:{},state:NoState}};};const focus$2=(component,focusConfig)=>{if(!focusConfig.ignore){focus$3(component.element);focusConfig.onFocus(component);}};const blur=(component,focusConfig)=>{if(!focusConfig.ignore){blur$1(component.element);}};const isFocused=component=>hasFocus(component.element);var FocusApis=/*#__PURE__*/Object.freeze({__proto__:null,focus:focus$2,blur:blur,isFocused:isFocused});const exhibit$4=(base,focusConfig)=>{const mod=focusConfig.ignore?{}:{attributes:{tabindex:'-1'}};return nu$7(mod);};const events$c=focusConfig=>derive$2([run$1(focus$4(),(component,simulatedEvent)=>{focus$2(component,focusConfig);simulatedEvent.stop();})].concat(focusConfig.stopMousedown?[run$1(mousedown(),(_,simulatedEvent)=>{simulatedEvent.event.prevent();})]:[]));var ActiveFocus=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$4,events:events$c});var FocusSchema=[onHandler('onFocus'),defaulted('stopMousedown',false),defaulted('ignore',false)];const Focusing=create$4({fields:FocusSchema,name:'focusing',active:ActiveFocus,apis:FocusApis});const SetupBehaviourCellState=initialState=>{const init=()=>{const cell=Cell(initialState);const get=()=>cell.get();const set=newState=>cell.set(newState);const clear=()=>cell.set(initialState);const readState=()=>cell.get();return{get,set,clear,readState};};return{init};};const updateAriaState=(component,toggleConfig,toggleState)=>{const ariaInfo=toggleConfig.aria;ariaInfo.update(component,ariaInfo,toggleState.get());};const updateClass=(component,toggleConfig,toggleState)=>{toggleConfig.toggleClass.each(toggleClass=>{if(toggleState.get()){add$2(component.element,toggleClass);}else{remove$2(component.element,toggleClass);}});};const set$2=(component,toggleConfig,toggleState,state)=>{const initialState=toggleState.get();toggleState.set(state);updateClass(component,toggleConfig,toggleState);updateAriaState(component,toggleConfig,toggleState);if(initialState!==state){toggleConfig.onToggled(component,state);}};const toggle$2=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,!toggleState.get());};const on=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,true);};const off=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,false);};const isOn=(component,toggleConfig,toggleState)=>toggleState.get();const onLoad=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,toggleConfig.selected);};var ToggleApis=/*#__PURE__*/Object.freeze({__proto__:null,onLoad:onLoad,toggle:toggle$2,isOn:isOn,on:on,off:off,set:set$2});const exhibit$3=()=>nu$7({});const events$b=(toggleConfig,toggleState)=>{const execute=executeEvent(toggleConfig,toggleState,toggle$2);const load=loadEvent(toggleConfig,toggleState,onLoad);return derive$2(flatten([toggleConfig.toggleOnExecute?[execute]:[],[load]]));};var ActiveToggle=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$3,events:events$b});const updatePressed=(component,ariaInfo,status)=>{set$9(component.element,'aria-pressed',status);if(ariaInfo.syncWithExpanded){updateExpanded(component,ariaInfo,status);}};const updateSelected=(component,ariaInfo,status)=>{set$9(component.element,'aria-selected',status);};const updateChecked=(component,ariaInfo,status)=>{set$9(component.element,'aria-checked',status);};const updateExpanded=(component,ariaInfo,status)=>{set$9(component.element,'aria-expanded',status);};var ToggleSchema=[defaulted('selected',false),option$3('toggleClass'),defaulted('toggleOnExecute',true),onHandler('onToggled'),defaultedOf('aria',{mode:'none'},choose$1('mode',{pressed:[defaulted('syncWithExpanded',false),output$1('update',updatePressed)],checked:[output$1('update',updateChecked)],expanded:[output$1('update',updateExpanded)],selected:[output$1('update',updateSelected)],none:[output$1('update',noop)]}))];const Toggling=create$4({fields:ToggleSchema,name:'toggling',active:ActiveToggle,apis:ToggleApis,state:SetupBehaviourCellState(false)});const pointerEvents=()=>{const onClick=(component,simulatedEvent)=>{simulatedEvent.stop();emitExecute(component);};return[run$1(click(),onClick),run$1(tap(),onClick),cutter(touchstart()),cutter(mousedown())];};const events$a=optAction=>{const executeHandler=action=>runOnExecute$1((component,simulatedEvent)=>{action(component);simulatedEvent.stop();});return derive$2(flatten([optAction.map(executeHandler).toArray(),pointerEvents()]));};const hoverEvent='alloy.item-hover';const focusEvent='alloy.item-focus';const toggledEvent='alloy.item-toggled';const onHover=item=>{if(search(item.element).isNone()||Focusing.isFocused(item)){if(!Focusing.isFocused(item)){Focusing.focus(item);}emitWith(item,hoverEvent,{item});}};const onFocus$1=item=>{emitWith(item,focusEvent,{item});};const onToggled=(item,state)=>{emitWith(item,toggledEvent,{item,state});};const hover=constant$1(hoverEvent);const focus$1=constant$1(focusEvent);const toggled=constant$1(toggledEvent);const getItemRole=detail=>detail.toggling.map(toggling=>toggling.exclusive?'menuitemradio':'menuitemcheckbox').getOr('menuitem');const getTogglingSpec=tConfig=>({aria:{mode:'checked'},...filter$1(tConfig,(_value,name)=>name!=='exclusive'),onToggled:(component,state)=>{if(isFunction(tConfig.onToggled)){tConfig.onToggled(component,state);}onToggled(component,state);}});const builder$2=detail=>({dom:detail.dom,domModification:{...detail.domModification,attributes:{'role':getItemRole(detail),...detail.domModification.attributes,'aria-haspopup':detail.hasSubmenu,...(detail.hasSubmenu?{'aria-expanded':false}:{})}},behaviours:SketchBehaviours.augment(detail.itemBehaviours,[detail.toggling.fold(Toggling.revoke,tConfig=>Toggling.config(getTogglingSpec(tConfig))),Focusing.config({ignore:detail.ignoreFocus,stopMousedown:detail.ignoreFocus,onFocus:component=>{onFocus$1(component);}}),Keying.config({mode:'execution'}),Representing.config({store:{mode:'memory',initialValue:detail.data}}),config('item-type-events',[...pointerEvents(),run$1(mouseover(),onHover),run$1(focusItem(),Focusing.focus)])]),components:detail.components,eventOrder:detail.eventOrder});const schema$p=[required$1('data'),required$1('components'),required$1('dom'),defaulted('hasSubmenu',false),option$3('toggling'),SketchBehaviours.field('itemBehaviours',[Toggling,Focusing,Keying,Representing]),defaulted('ignoreFocus',false),defaulted('domModification',{}),output$1('builder',builder$2),defaulted('eventOrder',{})];const builder$1=detail=>({dom:detail.dom,components:detail.components,events:derive$2([stopper(focusItem())])});const schema$o=[required$1('dom'),required$1('components'),output$1('builder',builder$1)];const owner$2=constant$1('item-widget');const parts$h=constant$1([required({name:'widget',overrides:detail=>{return{behaviours:derive$1([Representing.config({store:{mode:'manual',getValue:_component=>{return detail.data;},setValue:noop}})])};}})]);const builder=detail=>{const subs=substitutes(owner$2(),detail,parts$h());const components=components$1(owner$2(),detail,subs.internals());const focusWidget=component=>getPart(component,detail,'widget').map(widget=>{Keying.focusIn(widget);return widget;});const onHorizontalArrow=(component,simulatedEvent)=>inside(simulatedEvent.event.target)?Optional.none():(()=>{if(detail.autofocus){simulatedEvent.setSource(component.element);return Optional.none();}else{return Optional.none();}})();return{dom:detail.dom,components,domModification:detail.domModification,events:derive$2([runOnExecute$1((component,simulatedEvent)=>{focusWidget(component).each(_widget=>{simulatedEvent.stop();});}),run$1(mouseover(),onHover),run$1(focusItem(),(component,_simulatedEvent)=>{if(detail.autofocus){focusWidget(component);}else{Focusing.focus(component);}})]),behaviours:SketchBehaviours.augment(detail.widgetBehaviours,[Representing.config({store:{mode:'memory',initialValue:detail.data}}),Focusing.config({ignore:detail.ignoreFocus,onFocus:component=>{onFocus$1(component);}}),Keying.config({mode:'special',focusIn:detail.autofocus?component=>{focusWidget(component);}:revoke(),onLeft:onHorizontalArrow,onRight:onHorizontalArrow,onEscape:(component,simulatedEvent)=>{if(!Focusing.isFocused(component)&&!detail.autofocus){Focusing.focus(component);return Optional.some(true);}else if(detail.autofocus){simulatedEvent.setSource(component.element);return Optional.none();}else{return Optional.none();}}})])};};const schema$n=[required$1('uid'),required$1('data'),required$1('components'),required$1('dom'),defaulted('autofocus',false),defaulted('ignoreFocus',false),SketchBehaviours.field('widgetBehaviours',[Representing,Focusing,Keying]),defaulted('domModification',{}),defaultUidsSchema(parts$h()),output$1('builder',builder)];const itemSchema$2=choose$1('type',{widget:schema$n,item:schema$p,separator:schema$o});const configureGrid=(detail,movementInfo)=>({mode:'flatgrid',selector:'.'+detail.markers.item,initSize:{numColumns:movementInfo.initSize.numColumns,numRows:movementInfo.initSize.numRows},focusManager:detail.focusManager});const configureMatrix=(detail,movementInfo)=>({mode:'matrix',selectors:{row:movementInfo.rowSelector,cell:'.'+detail.markers.item},previousSelector:movementInfo.previousSelector,focusManager:detail.focusManager});const configureMenu=(detail,movementInfo)=>({mode:'menu',selector:'.'+detail.markers.item,moveOnTab:movementInfo.moveOnTab,focusManager:detail.focusManager});const parts$g=constant$1([group({factory:{sketch:spec=>{const itemInfo=asRawOrDie$1('menu.spec item',itemSchema$2,spec);return itemInfo.builder(itemInfo);}},name:'items',unit:'item',defaults:(detail,u)=>{return has$2(u,'uid')?u:{...u,uid:generate$5('item')};},overrides:(detail,u)=>{return{type:u.type,ignoreFocus:detail.fakeFocus,domModification:{classes:[detail.markers.item]}};}})]);const schema$m=constant$1([required$1('value'),required$1('items'),required$1('dom'),required$1('components'),defaulted('eventOrder',{}),field('menuBehaviours',[Highlighting,Representing,Composing,Keying]),defaultedOf('movement',{mode:'menu',moveOnTab:true},choose$1('mode',{grid:[initSize(),output$1('config',configureGrid)],matrix:[output$1('config',configureMatrix),required$1('rowSelector'),defaulted('previousSelector',Optional.none)],menu:[defaulted('moveOnTab',true),output$1('config',configureMenu)]})),itemMarkers(),defaulted('fakeFocus',false),defaulted('focusManager',dom$2()),onHandler('onHighlight'),onHandler('onDehighlight')]);const focus=constant$1('alloy.menu-focus');const deselectOtherRadioItems=(menu,item)=>{const checkedRadioItems=descendants(menu.element,'[role=\"menuitemradio\"][aria-checked=\"true\"]');each$1(checkedRadioItems,ele=>{if(!eq(ele,item.element)){menu.getSystem().getByDom(ele).each(c=>{Toggling.off(c);});}});};const make$7=(detail,components,_spec,_externals)=>({uid:detail.uid,dom:detail.dom,markers:detail.markers,behaviours:augment(detail.menuBehaviours,[Highlighting.config({highlightClass:detail.markers.selectedItem,itemClass:detail.markers.item,onHighlight:detail.onHighlight,onDehighlight:detail.onDehighlight}),Representing.config({store:{mode:'memory',initialValue:detail.value}}),Composing.config({find:Optional.some}),Keying.config(detail.movement.config(detail,detail.movement))]),events:derive$2([run$1(focus$1(),(menu,simulatedEvent)=>{const event=simulatedEvent.event;menu.getSystem().getByDom(event.target).each(item=>{Highlighting.highlight(menu,item);simulatedEvent.stop();emitWith(menu,focus(),{menu,item});});}),run$1(hover(),(menu,simulatedEvent)=>{const item=simulatedEvent.event.item;Highlighting.highlight(menu,item);}),run$1(toggled(),(menu,simulatedEvent)=>{const{item,state}=simulatedEvent.event;if(state&&get$f(item.element,'role')==='menuitemradio'){deselectOtherRadioItems(menu,item);}})]),components,eventOrder:detail.eventOrder,domModification:{attributes:{role:'menu'}}});const Menu=composite({name:'Menu',configFields:schema$m(),partFields:parts$g(),factory:make$7});const transpose$1=obj=>tupleMap(obj,(v,k)=>({k:v,v:k}));const trace=(items,byItem,byMenu,finish)=>get$g(byMenu,finish).bind(triggerItem=>get$g(items,triggerItem).bind(triggerMenu=>{const rest=trace(items,byItem,byMenu,triggerMenu);return Optional.some([triggerMenu].concat(rest));})).getOr([]);const generate$2=(menus,expansions)=>{const items={};each(menus,(menuItems,menu)=>{each$1(menuItems,item=>{items[item]=menu;});});const byItem=expansions;const byMenu=transpose$1(expansions);const menuPaths=map$1(byMenu,(_triggerItem,submenu)=>[submenu].concat(trace(items,byItem,byMenu,submenu)));return map$1(items,menu=>get$g(menuPaths,menu).getOr([menu]));};const init$c=()=>{const expansions=Cell({});const menus=Cell({});const paths=Cell({});const primary=value$2();const directory=Cell({});const clear=()=>{expansions.set({});menus.set({});paths.set({});primary.clear();};const isClear=()=>primary.get().isNone();const setMenuBuilt=(menuName,built)=>{menus.set({...menus.get(),[menuName]:{type:'prepared',menu:built}});};const setContents=(sPrimary,sMenus,sExpansions,dir)=>{primary.set(sPrimary);expansions.set(sExpansions);menus.set(sMenus);directory.set(dir);const sPaths=generate$2(dir,sExpansions);paths.set(sPaths);};const getTriggeringItem=menuValue=>find$4(expansions.get(),(v,_k)=>v===menuValue);const getTriggerData=(menuValue,getItemByValue,path)=>getPreparedMenu(menuValue).bind(menu=>getTriggeringItem(menuValue).bind(triggeringItemValue=>getItemByValue(triggeringItemValue).map(triggeredItem=>({triggeredMenu:menu,triggeringItem:triggeredItem,triggeringPath:path}))));const getTriggeringPath=(itemValue,getItemByValue)=>{const extraPath=filter$2(lookupItem(itemValue).toArray(),menuValue=>getPreparedMenu(menuValue).isSome());return get$g(paths.get(),itemValue).bind(path=>{const revPath=reverse(extraPath.concat(path));const triggers=bind$3(revPath,(menuValue,menuIndex)=>getTriggerData(menuValue,getItemByValue,revPath.slice(0,menuIndex+1)).fold(()=>is$1(primary.get(),menuValue)?[]:[Optional.none()],data=>[Optional.some(data)]));return sequence(triggers);});};const expand=itemValue=>get$g(expansions.get(),itemValue).map(menu=>{const current=get$g(paths.get(),itemValue).getOr([]);return[menu].concat(current);});const collapse=itemValue=>get$g(paths.get(),itemValue).bind(path=>path.length>1?Optional.some(path.slice(1)):Optional.none());const refresh=itemValue=>get$g(paths.get(),itemValue);const getPreparedMenu=menuValue=>lookupMenu(menuValue).bind(extractPreparedMenu);const lookupMenu=menuValue=>get$g(menus.get(),menuValue);const lookupItem=itemValue=>get$g(expansions.get(),itemValue);const otherMenus=path=>{const menuValues=directory.get();return difference(keys(menuValues),path);};const getPrimary=()=>primary.get().bind(getPreparedMenu);const getMenus=()=>menus.get();return{setMenuBuilt,setContents,expand,refresh,collapse,lookupMenu,lookupItem,otherMenus,getPrimary,getMenus,clear,isClear,getTriggeringPath};};const extractPreparedMenu=prep=>prep.type==='prepared'?Optional.some(prep.menu):Optional.none();const LayeredState={init:init$c,extractPreparedMenu};const onMenuItemHighlightedEvent=generate$6('tiered-menu-item-highlight');const onMenuItemDehighlightedEvent=generate$6('tiered-menu-item-dehighlight');var HighlightOnOpen;(function(HighlightOnOpen){HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem']=0]='HighlightMenuAndItem';HighlightOnOpen[HighlightOnOpen['HighlightJustMenu']=1]='HighlightJustMenu';HighlightOnOpen[HighlightOnOpen['HighlightNone']=2]='HighlightNone';})(HighlightOnOpen||(HighlightOnOpen={}));const make$6=(detail,_rawUiSpec)=>{const submenuParentItems=value$2();const buildMenus=(container,primaryName,menus)=>map$1(menus,(spec,name)=>{const makeSketch=()=>Menu.sketch({...spec,value:name,markers:detail.markers,fakeFocus:detail.fakeFocus,onHighlight:(menuComp,itemComp)=>{const highlightData={menuComp,itemComp};emitWith(menuComp,onMenuItemHighlightedEvent,highlightData);},onDehighlight:(menuComp,itemComp)=>{const dehighlightData={menuComp,itemComp};emitWith(menuComp,onMenuItemDehighlightedEvent,dehighlightData);},focusManager:detail.fakeFocus?highlights():dom$2()});return name===primaryName?{type:'prepared',menu:container.getSystem().build(makeSketch())}:{type:'notbuilt',nbMenu:makeSketch};});const layeredState=LayeredState.init();const setup=container=>{const componentMap=buildMenus(container,detail.data.primary,detail.data.menus);const directory=toDirectory();layeredState.setContents(detail.data.primary,componentMap,detail.data.expansions,directory);return layeredState.getPrimary();};const getItemValue=item=>Representing.getValue(item).value;const getItemByValue=(_container,menus,itemValue)=>findMap(menus,menu=>{if(!menu.getSystem().isConnected()){return Optional.none();}const candidates=Highlighting.getCandidates(menu);return find$5(candidates,c=>getItemValue(c)===itemValue);});const toDirectory=_container=>map$1(detail.data.menus,(data,_menuName)=>bind$3(data.items,item=>item.type==='separator'?[]:[item.data.value]));const setActiveMenu=Highlighting.highlight;const setActiveMenuAndItem=(container,menu)=>{setActiveMenu(container,menu);Highlighting.getHighlighted(menu).orThunk(()=>Highlighting.getFirst(menu)).each(item=>{if(detail.fakeFocus){Highlighting.highlight(menu,item);}else{dispatch(container,item.element,focusItem());}});};const getMenus=(state,menuValues)=>cat(map$2(menuValues,mv=>state.lookupMenu(mv).bind(prep=>prep.type==='prepared'?Optional.some(prep.menu):Optional.none())));const closeOthers=(container,state,path)=>{const others=getMenus(state,state.otherMenus(path));each$1(others,o=>{remove$1(o.element,[detail.markers.backgroundMenu]);if(!detail.stayInDom){Replacing.remove(container,o);}});};const getSubmenuParents=container=>submenuParentItems.get().getOrThunk(()=>{const r={};const items=descendants(container.element,`.${detail.markers.item}`);const parentItems=filter$2(items,i=>get$f(i,'aria-haspopup')==='true');each$1(parentItems,i=>{container.getSystem().getByDom(i).each(itemComp=>{const key=getItemValue(itemComp);r[key]=itemComp;});});submenuParentItems.set(r);return r;});const updateAriaExpansions=(container,path)=>{const parentItems=getSubmenuParents(container);each(parentItems,(v,k)=>{const expanded=contains$2(path,k);set$9(v.element,'aria-expanded',expanded);});};const updateMenuPath=(container,state,path)=>Optional.from(path[0]).bind(latestMenuName=>state.lookupMenu(latestMenuName).bind(menuPrep=>{if(menuPrep.type==='notbuilt'){return Optional.none();}else{const activeMenu=menuPrep.menu;const rest=getMenus(state,path.slice(1));each$1(rest,r=>{add$2(r.element,detail.markers.backgroundMenu);});if(!inBody(activeMenu.element)){Replacing.append(container,premade(activeMenu));}remove$1(activeMenu.element,[detail.markers.backgroundMenu]);setActiveMenuAndItem(container,activeMenu);closeOthers(container,state,path);return Optional.some(activeMenu);}}));let ExpandHighlightDecision;(function(ExpandHighlightDecision){ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu']=0]='HighlightSubmenu';ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent']=1]='HighlightParent';})(ExpandHighlightDecision||(ExpandHighlightDecision={}));const buildIfRequired=(container,menuName,menuPrep)=>{if(menuPrep.type==='notbuilt'){const menu=container.getSystem().build(menuPrep.nbMenu());layeredState.setMenuBuilt(menuName,menu);return menu;}else{return menuPrep.menu;}};const expandRight=(container,item,decision=ExpandHighlightDecision.HighlightSubmenu)=>{if(item.hasConfigured(Disabling)&&Disabling.isDisabled(item)){return Optional.some(item);}else{const value=getItemValue(item);return layeredState.expand(value).bind(path=>{updateAriaExpansions(container,path);return Optional.from(path[0]).bind(menuName=>layeredState.lookupMenu(menuName).bind(activeMenuPrep=>{const activeMenu=buildIfRequired(container,menuName,activeMenuPrep);if(!inBody(activeMenu.element)){Replacing.append(container,premade(activeMenu));}detail.onOpenSubmenu(container,item,activeMenu,reverse(path));if(decision===ExpandHighlightDecision.HighlightSubmenu){Highlighting.highlightFirst(activeMenu);return updateMenuPath(container,layeredState,path);}else{Highlighting.dehighlightAll(activeMenu);return Optional.some(item);}}));});}};const collapseLeft=(container,item)=>{const value=getItemValue(item);return layeredState.collapse(value).bind(path=>{updateAriaExpansions(container,path);return updateMenuPath(container,layeredState,path).map(activeMenu=>{detail.onCollapseMenu(container,item,activeMenu);return activeMenu;});});};const updateView=(container,item)=>{const value=getItemValue(item);return layeredState.refresh(value).bind(path=>{updateAriaExpansions(container,path);return updateMenuPath(container,layeredState,path);});};const onRight=(container,item)=>inside(item.element)?Optional.none():expandRight(container,item,ExpandHighlightDecision.HighlightSubmenu);const onLeft=(container,item)=>inside(item.element)?Optional.none():collapseLeft(container,item);const onEscape=(container,item)=>collapseLeft(container,item).orThunk(()=>detail.onEscape(container,item).map(()=>container));const keyOnItem=f=>(container,simulatedEvent)=>{return closest$1(simulatedEvent.getSource(),`.${detail.markers.item}`).bind(target=>container.getSystem().getByDom(target).toOptional().bind(item=>f(container,item).map(always)));};const events=derive$2([run$1(focus(),(tmenu,simulatedEvent)=>{const item=simulatedEvent.event.item;layeredState.lookupItem(getItemValue(item)).each(()=>{const menu=simulatedEvent.event.menu;Highlighting.highlight(tmenu,menu);const value=getItemValue(simulatedEvent.event.item);layeredState.refresh(value).each(path=>closeOthers(tmenu,layeredState,path));});}),runOnExecute$1((component,simulatedEvent)=>{const target=simulatedEvent.event.target;component.getSystem().getByDom(target).each(item=>{const itemValue=getItemValue(item);if(itemValue.indexOf('collapse-item')===0){collapseLeft(component,item);}expandRight(component,item,ExpandHighlightDecision.HighlightSubmenu).fold(()=>{detail.onExecute(component,item);},noop);});}),runOnAttached((container,_simulatedEvent)=>{setup(container).each(primary=>{Replacing.append(container,premade(primary));detail.onOpenMenu(container,primary);if(detail.highlightOnOpen===HighlightOnOpen.HighlightMenuAndItem){setActiveMenuAndItem(container,primary);}else if(detail.highlightOnOpen===HighlightOnOpen.HighlightJustMenu){setActiveMenu(container,primary);}});}),run$1(onMenuItemHighlightedEvent,(tmenuComp,se)=>{detail.onHighlightItem(tmenuComp,se.event.menuComp,se.event.itemComp);}),run$1(onMenuItemDehighlightedEvent,(tmenuComp,se)=>{detail.onDehighlightItem(tmenuComp,se.event.menuComp,se.event.itemComp);}),...(detail.navigateOnHover?[run$1(hover(),(tmenu,simulatedEvent)=>{const item=simulatedEvent.event.item;updateView(tmenu,item);expandRight(tmenu,item,ExpandHighlightDecision.HighlightParent);detail.onHover(tmenu,item);})]:[])]);const getActiveItem=container=>Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);const collapseMenuApi=container=>{getActiveItem(container).each(currentItem=>{collapseLeft(container,currentItem);});};const highlightPrimary=container=>{layeredState.getPrimary().each(primary=>{setActiveMenuAndItem(container,primary);});};const extractMenuFromContainer=container=>Optional.from(container.components()[0]).filter(comp=>get$f(comp.element,'role')==='menu');const repositionMenus=container=>{const maybeActivePrimary=layeredState.getPrimary().bind(primary=>getActiveItem(container).bind(currentItem=>{const itemValue=getItemValue(currentItem);const allMenus=values(layeredState.getMenus());const preparedMenus=cat(map$2(allMenus,LayeredState.extractPreparedMenu));return layeredState.getTriggeringPath(itemValue,v=>getItemByValue(container,preparedMenus,v));}).map(triggeringPath=>({primary,triggeringPath})));maybeActivePrimary.fold(()=>{extractMenuFromContainer(container).each(primaryMenu=>{detail.onRepositionMenu(container,primaryMenu,[]);});},({primary,triggeringPath})=>{detail.onRepositionMenu(container,primary,triggeringPath);});};const apis={collapseMenu:collapseMenuApi,highlightPrimary,repositionMenus};return{uid:detail.uid,dom:detail.dom,markers:detail.markers,behaviours:augment(detail.tmenuBehaviours,[Keying.config({mode:'special',onRight:keyOnItem(onRight),onLeft:keyOnItem(onLeft),onEscape:keyOnItem(onEscape),focusIn:(container,_keyInfo)=>{layeredState.getPrimary().each(primary=>{dispatch(container,primary.element,focusItem());});}}),Highlighting.config({highlightClass:detail.markers.selectedMenu,itemClass:detail.markers.menu}),Composing.config({find:container=>{return Highlighting.getHighlighted(container);}}),Replacing.config({})]),eventOrder:detail.eventOrder,apis,events};};const collapseItem$1=constant$1('collapse-item');const tieredData=(primary,menus,expansions)=>({primary,menus,expansions});const singleData=(name,menu)=>({primary:name,menus:wrap$1(name,menu),expansions:{}});const collapseItem=text=>({value:generate$6(collapseItem$1()),meta:{text}});const tieredMenu=single({name:'TieredMenu',configFields:[onStrictKeyboardHandler('onExecute'),onStrictKeyboardHandler('onEscape'),onStrictHandler('onOpenMenu'),onStrictHandler('onOpenSubmenu'),onHandler('onRepositionMenu'),onHandler('onCollapseMenu'),defaulted('highlightOnOpen',HighlightOnOpen.HighlightMenuAndItem),requiredObjOf('data',[required$1('primary'),required$1('menus'),required$1('expansions')]),defaulted('fakeFocus',false),onHandler('onHighlightItem'),onHandler('onDehighlightItem'),onHandler('onHover'),tieredMenuMarkers(),required$1('dom'),defaulted('navigateOnHover',true),defaulted('stayInDom',false),field('tmenuBehaviours',[Keying,Highlighting,Composing,Replacing]),defaulted('eventOrder',{})],apis:{collapseMenu:(apis,tmenu)=>{apis.collapseMenu(tmenu);},highlightPrimary:(apis,tmenu)=>{apis.highlightPrimary(tmenu);},repositionMenus:(apis,tmenu)=>{apis.repositionMenus(tmenu);}},factory:make$6,extraApis:{tieredData,singleData,collapseItem}});const makeMenu=(detail,menuSandbox,placementSpec,menuSpec,getBounds)=>{const lazySink=()=>detail.lazySink(menuSandbox);const layouts=menuSpec.type==='horizontal'?{layouts:{onLtr:()=>belowOrAbove(),onRtl:()=>belowOrAboveRtl()}}:{};const isFirstTierSubmenu=triggeringPaths=>triggeringPaths.length===2;const getSubmenuLayouts=triggeringPaths=>isFirstTierSubmenu(triggeringPaths)?layouts:{};return tieredMenu.sketch({dom:{tag:'div'},data:menuSpec.data,markers:menuSpec.menu.markers,highlightOnOpen:menuSpec.menu.highlightOnOpen,fakeFocus:menuSpec.menu.fakeFocus,onEscape:()=>{Sandboxing.close(menuSandbox);detail.onEscape.map(handler=>handler(menuSandbox));return Optional.some(true);},onExecute:()=>{return Optional.some(true);},onOpenMenu:(tmenu,menu)=>{Positioning.positionWithinBounds(lazySink().getOrDie(),menu,placementSpec,getBounds());},onOpenSubmenu:(tmenu,item,submenu,triggeringPaths)=>{const sink=lazySink().getOrDie();Positioning.position(sink,submenu,{anchor:{type:'submenu',item,...getSubmenuLayouts(triggeringPaths)}});},onRepositionMenu:(tmenu,primaryMenu,submenuTriggers)=>{const sink=lazySink().getOrDie();Positioning.positionWithinBounds(sink,primaryMenu,placementSpec,getBounds());each$1(submenuTriggers,st=>{const submenuLayouts=getSubmenuLayouts(st.triggeringPath);Positioning.position(sink,st.triggeredMenu,{anchor:{type:'submenu',item:st.triggeringItem,...submenuLayouts}});});}});};const factory$o=(detail,spec)=>{const isPartOfRelated=(sandbox,queryElem)=>{const related=detail.getRelated(sandbox);return related.exists(rel=>isPartOf$1(rel,queryElem));};const setContent=(sandbox,thing)=>{Sandboxing.setContent(sandbox,thing);};const showAt=(sandbox,thing,placementSpec)=>{const getBounds=Optional.none;showWithinBounds(sandbox,thing,placementSpec,getBounds);};const showWithinBounds=(sandbox,thing,placementSpec,getBounds)=>{const sink=detail.lazySink(sandbox).getOrDie();Sandboxing.openWhileCloaked(sandbox,thing,()=>Positioning.positionWithinBounds(sink,sandbox,placementSpec,getBounds()));Representing.setValue(sandbox,Optional.some({mode:'position',config:placementSpec,getBounds}));};const showMenuAt=(sandbox,placementSpec,menuSpec)=>{showMenuWithinBounds(sandbox,placementSpec,menuSpec,Optional.none);};const showMenuWithinBounds=(sandbox,placementSpec,menuSpec,getBounds)=>{const menu=makeMenu(detail,sandbox,placementSpec,menuSpec,getBounds);Sandboxing.open(sandbox,menu);Representing.setValue(sandbox,Optional.some({mode:'menu',menu}));};const hide=sandbox=>{if(Sandboxing.isOpen(sandbox)){Representing.setValue(sandbox,Optional.none());Sandboxing.close(sandbox);}};const getContent=sandbox=>Sandboxing.getState(sandbox);const reposition=sandbox=>{if(Sandboxing.isOpen(sandbox)){Representing.getValue(sandbox).each(state=>{switch(state.mode){case'menu':Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);break;case'position':const sink=detail.lazySink(sandbox).getOrDie();Positioning.positionWithinBounds(sink,sandbox,state.config,state.getBounds());break;}});}};const apis={setContent,showAt,showWithinBounds,showMenuAt,showMenuWithinBounds,hide,getContent,reposition,isOpen:Sandboxing.isOpen};return{uid:detail.uid,dom:detail.dom,behaviours:augment(detail.inlineBehaviours,[Sandboxing.config({isPartOf:(sandbox,data,queryElem)=>{return isPartOf$1(data,queryElem)||isPartOfRelated(sandbox,queryElem);},getAttachPoint:sandbox=>{return detail.lazySink(sandbox).getOrDie();},onOpen:sandbox=>{detail.onShow(sandbox);},onClose:sandbox=>{detail.onHide(sandbox);}}),Representing.config({store:{mode:'memory',initialValue:Optional.none()}}),Receiving.config({channels:{...receivingChannel$1({isExtraPart:spec.isExtraPart,...detail.fireDismissalEventInstead.map(fe=>({fireEventInstead:{event:fe.event}})).getOr({})}),...receivingChannel({...detail.fireRepositionEventInstead.map(fe=>({fireEventInstead:{event:fe.event}})).getOr({}),doReposition:reposition})}})]),eventOrder:detail.eventOrder,apis};};const InlineView=single({name:'InlineView',configFields:[required$1('lazySink'),onHandler('onShow'),onHandler('onHide'),optionFunction('onEscape'),field('inlineBehaviours',[Sandboxing,Representing,Receiving]),optionObjOf('fireDismissalEventInstead',[defaulted('event',dismissRequested())]),optionObjOf('fireRepositionEventInstead',[defaulted('event',repositionRequested())]),defaulted('getRelated',Optional.none),defaulted('isExtraPart',never),defaulted('eventOrder',Optional.none)],factory:factory$o,apis:{showAt:(apis,component,anchor,thing)=>{apis.showAt(component,anchor,thing);},showWithinBounds:(apis,component,anchor,thing,bounds)=>{apis.showWithinBounds(component,anchor,thing,bounds);},showMenuAt:(apis,component,anchor,menuSpec)=>{apis.showMenuAt(component,anchor,menuSpec);},showMenuWithinBounds:(apis,component,anchor,menuSpec,bounds)=>{apis.showMenuWithinBounds(component,anchor,menuSpec,bounds);},hide:(apis,component)=>{apis.hide(component);},isOpen:(apis,component)=>apis.isOpen(component),getContent:(apis,component)=>apis.getContent(component),setContent:(apis,component,thing)=>{apis.setContent(component,thing);},reposition:(apis,component)=>{apis.reposition(component);}}});var global$9=tinymce.util.Tools.resolve('tinymce.util.Delay');const factory$n=detail=>{const events=events$a(detail.action);const tag=detail.dom.tag;const lookupAttr=attr=>get$g(detail.dom,'attributes').bind(attrs=>get$g(attrs,attr));const getModAttributes=()=>{if(tag==='button'){const type=lookupAttr('type').getOr('button');const roleAttrs=lookupAttr('role').map(role=>({role})).getOr({});return{type,...roleAttrs};}else{const role=detail.role.getOr(lookupAttr('role').getOr('button'));return{role};}};return{uid:detail.uid,dom:detail.dom,components:detail.components,events,behaviours:SketchBehaviours.augment(detail.buttonBehaviours,[Focusing.config({}),Keying.config({mode:'execution',useSpace:true,useEnter:true})]),domModification:{attributes:getModAttributes()},eventOrder:detail.eventOrder};};const Button=single({name:'Button',factory:factory$n,configFields:[defaulted('uid',undefined),required$1('dom'),defaulted('components',[]),SketchBehaviours.field('buttonBehaviours',[Focusing,Keying]),option$3('action'),option$3('role'),defaulted('eventOrder',{})]});const getAttrs=elem=>{const attributes=elem.dom.attributes!==undefined?elem.dom.attributes:[];return foldl(attributes,(b,attr)=>{if(attr.name==='class'){return b;}else{return{...b,[attr.name]:attr.value};}},{});};const getClasses=elem=>Array.prototype.slice.call(elem.dom.classList,0);const fromHtml=html=>{const elem=SugarElement.fromHtml(html);const children$1=children(elem);const attrs=getAttrs(elem);const classes=getClasses(elem);const contents=children$1.length===0?{}:{innerHtml:get$9(elem)};return{tag:name$3(elem),classes,attributes:attrs,...contents};};const record=spec=>{const uid=isSketchSpec(spec)&&hasNonNullableKey(spec,'uid')?spec.uid:generate$5('memento');const get=anyInSystem=>anyInSystem.getSystem().getByUid(uid).getOrDie();const getOpt=anyInSystem=>anyInSystem.getSystem().getByUid(uid).toOptional();const asSpec=()=>({...spec,uid});return{get,getOpt,asSpec};};const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object;let{apply,construct}=typeof Reflect!=='undefined'&&Reflect;if(!apply){apply=function apply(fun,thisValue,args){return fun.apply(thisValue,args);};}if(!freeze){freeze=function freeze(x){return x;};}if(!seal){seal=function seal(x){return x;};}if(!construct){construct=function construct(Func,args){return new Func(...args);};}const arrayForEach=unapply(Array.prototype.forEach);const arrayPop=unapply(Array.prototype.pop);const arrayPush=unapply(Array.prototype.push);const stringToLowerCase=unapply(String.prototype.toLowerCase);const stringToString=unapply(String.prototype.toString);const stringMatch=unapply(String.prototype.match);const stringReplace=unapply(String.prototype.replace);const stringIndexOf=unapply(String.prototype.indexOf);const stringTrim=unapply(String.prototype.trim);const regExpTest=unapply(RegExp.prototype.test);const typeErrorCreate=unconstruct(TypeError);function unapply(func){return function(thisArg){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return apply(func,thisArg,args);};}function unconstruct(func){return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return construct(func,args);};}function addToSet(set,array,transformCaseFunc){var _transformCaseFunc;transformCaseFunc=(_transformCaseFunc=transformCaseFunc)!==null&&_transformCaseFunc!==void 0?_transformCaseFunc:stringToLowerCase;if(setPrototypeOf){setPrototypeOf(set,null);}let l=array.length;while(l--){let element=array[l];if(typeof element==='string'){const lcElement=transformCaseFunc(element);if(lcElement!==element){if(!isFrozen(array)){array[l]=lcElement;}element=lcElement;}}set[element]=true;}return set;}function clone(object){const newObject=create$1(null);for(const[property,value]of entries(object)){newObject[property]=value;}return newObject;}function lookupGetter(object,prop){while(object!==null){const desc=getOwnPropertyDescriptor(object,prop);if(desc){if(desc.get){return unapply(desc.get);}if(typeof desc.value==='function'){return unapply(desc.value);}}object=getPrototypeOf(object);}function fallbackValue(element){console.warn('fallback value for',element);return null;}return fallbackValue;}const html$1=freeze(['a','abbr','acronym','address','area','article','aside','audio','b','bdi','bdo','big','blink','blockquote','body','br','button','canvas','caption','center','cite','code','col','colgroup','content','data','datalist','dd','decorator','del','details','dfn','dialog','dir','div','dl','dt','element','em','fieldset','figcaption','figure','font','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','img','input','ins','kbd','label','legend','li','main','map','mark','marquee','menu','menuitem','meter','nav','nobr','ol','optgroup','option','output','p','picture','pre','progress','q','rp','rt','ruby','s','samp','section','select','shadow','small','source','spacer','span','strike','strong','style','sub','summary','sup','table','tbody','td','template','textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var','video','wbr']);const svg$1=freeze(['svg','a','altglyph','altglyphdef','altglyphitem','animatecolor','animatemotion','animatetransform','circle','clippath','defs','desc','ellipse','filter','font','g','glyph','glyphref','hkern','image','line','lineargradient','marker','mask','metadata','mpath','path','pattern','polygon','polyline','radialgradient','rect','stop','style','switch','symbol','text','textpath','title','tref','tspan','view','vkern']);const svgFilters=freeze(['feBlend','feColorMatrix','feComponentTransfer','feComposite','feConvolveMatrix','feDiffuseLighting','feDisplacementMap','feDistantLight','feDropShadow','feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur','feImage','feMerge','feMergeNode','feMorphology','feOffset','fePointLight','feSpecularLighting','feSpotLight','feTile','feTurbulence']);const svgDisallowed=freeze(['animate','color-profile','cursor','discard','font-face','font-face-format','font-face-name','font-face-src','font-face-uri','foreignobject','hatch','hatchpath','mesh','meshgradient','meshpatch','meshrow','missing-glyph','script','set','solidcolor','unknown','use']);const mathMl$1=freeze(['math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr','mmultiscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow','ms','mspace','msqrt','mstyle','msub','msup','msubsup','mtable','mtd','mtext','mtr','munder','munderover','mprescripts']);const mathMlDisallowed=freeze(['maction','maligngroup','malignmark','mlongdiv','mscarries','mscarry','msgroup','mstack','msline','msrow','semantics','annotation','annotation-xml','mprescripts','none']);const text$1=freeze(['#text']);const html=freeze(['accept','action','align','alt','autocapitalize','autocomplete','autopictureinpicture','autoplay','background','bgcolor','border','capture','cellpadding','cellspacing','checked','cite','class','clear','color','cols','colspan','controls','controlslist','coords','crossorigin','datetime','decoding','default','dir','disabled','disablepictureinpicture','disableremoteplayback','download','draggable','enctype','enterkeyhint','face','for','headers','height','hidden','high','href','hreflang','id','inputmode','integrity','ismap','kind','label','lang','list','loading','loop','low','max','maxlength','media','method','min','minlength','multiple','muted','name','nonce','noshade','novalidate','nowrap','open','optimum','pattern','placeholder','playsinline','poster','preload','pubdate','radiogroup','readonly','rel','required','rev','reversed','role','rows','rowspan','spellcheck','scope','selected','shape','size','sizes','span','srclang','start','src','srcset','step','style','summary','tabindex','title','translate','type','usemap','valign','value','width','xmlns','slot']);const svg=freeze(['accent-height','accumulate','additive','alignment-baseline','ascent','attributename','attributetype','azimuth','basefrequency','baseline-shift','begin','bias','by','class','clip','clippathunits','clip-path','clip-rule','color','color-interpolation','color-interpolation-filters','color-profile','color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction','display','divisor','dur','edgemode','elevation','end','fill','fill-opacity','fill-rule','filter','filterunits','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','fx','fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform','height','href','id','image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints','keysplines','keytimes','lang','lengthadjust','letter-spacing','kernelmatrix','kernelunitlength','lighting-color','local','marker-end','marker-mid','marker-start','markerheight','markerunits','markerwidth','maskcontentunits','maskunits','max','mask','media','method','mode','min','name','numoctaves','offset','operator','opacity','order','orient','orientation','origin','overflow','paint-order','path','pathlength','patterncontentunits','patterntransform','patternunits','points','preservealpha','preserveaspectratio','primitiveunits','r','rx','ry','radius','refx','refy','repeatcount','repeatdur','restart','result','rotate','scale','seed','shape-rendering','specularconstant','specularexponent','spreadmethod','startoffset','stddeviation','stitchtiles','stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width','style','surfacescale','systemlanguage','tabindex','targetx','targety','transform','transform-origin','text-anchor','text-decoration','text-rendering','textlength','type','u1','u2','unicode','values','viewbox','visibility','version','vert-adv-y','vert-origin-x','vert-origin-y','width','word-spacing','wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2','xmlns','y','y1','y2','z','zoomandpan']);const mathMl=freeze(['accent','accentunder','align','bevelled','close','columnsalign','columnlines','columnspan','denomalign','depth','dir','display','displaystyle','encoding','fence','frame','height','href','id','largeop','length','linethickness','lspace','lquote','mathbackground','mathcolor','mathsize','mathvariant','maxsize','minsize','movablelimits','notation','numalign','open','rowalign','rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel','scriptminsize','scriptsizemultiplier','selection','separator','separators','stretchy','subscriptshift','supscriptshift','symmetric','voffset','width','xmlns']);const xml=freeze(['xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink']);const MUSTACHE_EXPR=seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);const ERB_EXPR=seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);const TMPLIT_EXPR=seal(/\\${[\\w\\W]*}/gm);const DATA_ATTR=seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);const ARIA_ATTR=seal(/^aria-[\\-\\w]+$/);const IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);const IS_SCRIPT_OR_DATA=seal(/^(?:\\w+script|data):/i);const ATTR_WHITESPACE=seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);const DOCTYPE_NAME=seal(/^html$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR:MUSTACHE_EXPR,ERB_EXPR:ERB_EXPR,TMPLIT_EXPR:TMPLIT_EXPR,DATA_ATTR:DATA_ATTR,ARIA_ATTR:ARIA_ATTR,IS_ALLOWED_URI:IS_ALLOWED_URI,IS_SCRIPT_OR_DATA:IS_SCRIPT_OR_DATA,ATTR_WHITESPACE:ATTR_WHITESPACE,DOCTYPE_NAME:DOCTYPE_NAME});const getGlobal=()=>typeof window==='undefined'?null:window;const _createTrustedTypesPolicy=function _createTrustedTypesPolicy(trustedTypes,purifyHostElement){if(typeof trustedTypes!=='object'||typeof trustedTypes.createPolicy!=='function'){return null;}let suffix=null;const ATTR_NAME='data-tt-policy-suffix';if(purifyHostElement&&purifyHostElement.hasAttribute(ATTR_NAME)){suffix=purifyHostElement.getAttribute(ATTR_NAME);}const policyName='dompurify'+(suffix?'#'+suffix:'');try{return trustedTypes.createPolicy(policyName,{createHTML(html){return html;},createScriptURL(scriptUrl){return scriptUrl;}});}catch(_){console.warn('TrustedTypes policy '+policyName+' could not be created.');return null;}};function createDOMPurify(){let window=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getGlobal();const DOMPurify=root=>createDOMPurify(root);DOMPurify.version='3.0.5';DOMPurify.removed=[];if(!window||!window.document||window.document.nodeType!==9){DOMPurify.isSupported=false;return DOMPurify;}const originalDocument=window.document;const currentScript=originalDocument.currentScript;let{document}=window;const{DocumentFragment,HTMLTemplateElement,Node,Element,NodeFilter,NamedNodeMap=window.NamedNodeMap||window.MozNamedAttrMap,HTMLFormElement,DOMParser,trustedTypes}=window;const ElementPrototype=Element.prototype;const cloneNode=lookupGetter(ElementPrototype,'cloneNode');const getNextSibling=lookupGetter(ElementPrototype,'nextSibling');const getChildNodes=lookupGetter(ElementPrototype,'childNodes');const getParentNode=lookupGetter(ElementPrototype,'parentNode');if(typeof HTMLTemplateElement==='function'){const template=document.createElement('template');if(template.content&&template.content.ownerDocument){document=template.content.ownerDocument;}}let trustedTypesPolicy;let emptyHTML='';const{implementation,createNodeIterator,createDocumentFragment,getElementsByTagName}=document;const{importNode}=originalDocument;let hooks={};DOMPurify.isSupported=typeof entries==='function'&&typeof getParentNode==='function'&&implementation&&implementation.createHTMLDocument!==undefined;const{MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE}=EXPRESSIONS;let{IS_ALLOWED_URI:IS_ALLOWED_URI$1}=EXPRESSIONS;let ALLOWED_TAGS=null;const DEFAULT_ALLOWED_TAGS=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text$1]);let ALLOWED_ATTR=null;const DEFAULT_ALLOWED_ATTR=addToSet({},[...html,...svg,...mathMl,...xml]);let CUSTOM_ELEMENT_HANDLING=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));let FORBID_TAGS=null;let FORBID_ATTR=null;let ALLOW_ARIA_ATTR=true;let ALLOW_DATA_ATTR=true;let ALLOW_UNKNOWN_PROTOCOLS=false;let ALLOW_SELF_CLOSE_IN_ATTR=true;let SAFE_FOR_TEMPLATES=false;let WHOLE_DOCUMENT=false;let SET_CONFIG=false;let FORCE_BODY=false;let RETURN_DOM=false;let RETURN_DOM_FRAGMENT=false;let RETURN_TRUSTED_TYPE=false;let SANITIZE_DOM=true;let SANITIZE_NAMED_PROPS=false;const SANITIZE_NAMED_PROPS_PREFIX='user-content-';let KEEP_CONTENT=true;let IN_PLACE=false;let USE_PROFILES={};let FORBID_CONTENTS=null;const DEFAULT_FORBID_CONTENTS=addToSet({},['annotation-xml','audio','colgroup','desc','foreignobject','head','iframe','math','mi','mn','mo','ms','mtext','noembed','noframes','noscript','plaintext','script','style','svg','template','thead','title','video','xmp']);let DATA_URI_TAGS=null;const DEFAULT_DATA_URI_TAGS=addToSet({},['audio','video','img','source','image','track']);let URI_SAFE_ATTRIBUTES=null;const DEFAULT_URI_SAFE_ATTRIBUTES=addToSet({},['alt','class','for','id','label','name','pattern','placeholder','role','summary','title','value','style','xmlns']);const MATHML_NAMESPACE='http://www.w3.org/1998/Math/MathML';const SVG_NAMESPACE='http://www.w3.org/2000/svg';const HTML_NAMESPACE='http://www.w3.org/1999/xhtml';let NAMESPACE=HTML_NAMESPACE;let IS_EMPTY_INPUT=false;let ALLOWED_NAMESPACES=null;const DEFAULT_ALLOWED_NAMESPACES=addToSet({},[MATHML_NAMESPACE,SVG_NAMESPACE,HTML_NAMESPACE],stringToString);let PARSER_MEDIA_TYPE;const SUPPORTED_PARSER_MEDIA_TYPES=['application/xhtml+xml','text/html'];const DEFAULT_PARSER_MEDIA_TYPE='text/html';let transformCaseFunc;let CONFIG=null;const formElement=document.createElement('form');const isRegexOrFunction=function isRegexOrFunction(testValue){return testValue instanceof RegExp||testValue instanceof Function;};const _parseConfig=function _parseConfig(cfg){if(CONFIG&&CONFIG===cfg){return;}if(!cfg||typeof cfg!=='object'){cfg={};}cfg=clone(cfg);PARSER_MEDIA_TYPE=SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE)===-1?PARSER_MEDIA_TYPE=DEFAULT_PARSER_MEDIA_TYPE:PARSER_MEDIA_TYPE=cfg.PARSER_MEDIA_TYPE;transformCaseFunc=PARSER_MEDIA_TYPE==='application/xhtml+xml'?stringToString:stringToLowerCase;ALLOWED_TAGS='ALLOWED_TAGS'in cfg?addToSet({},cfg.ALLOWED_TAGS,transformCaseFunc):DEFAULT_ALLOWED_TAGS;ALLOWED_ATTR='ALLOWED_ATTR'in cfg?addToSet({},cfg.ALLOWED_ATTR,transformCaseFunc):DEFAULT_ALLOWED_ATTR;ALLOWED_NAMESPACES='ALLOWED_NAMESPACES'in cfg?addToSet({},cfg.ALLOWED_NAMESPACES,stringToString):DEFAULT_ALLOWED_NAMESPACES;URI_SAFE_ATTRIBUTES='ADD_URI_SAFE_ATTR'in cfg?addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),cfg.ADD_URI_SAFE_ATTR,transformCaseFunc):DEFAULT_URI_SAFE_ATTRIBUTES;DATA_URI_TAGS='ADD_DATA_URI_TAGS'in cfg?addToSet(clone(DEFAULT_DATA_URI_TAGS),cfg.ADD_DATA_URI_TAGS,transformCaseFunc):DEFAULT_DATA_URI_TAGS;FORBID_CONTENTS='FORBID_CONTENTS'in cfg?addToSet({},cfg.FORBID_CONTENTS,transformCaseFunc):DEFAULT_FORBID_CONTENTS;FORBID_TAGS='FORBID_TAGS'in cfg?addToSet({},cfg.FORBID_TAGS,transformCaseFunc):{};FORBID_ATTR='FORBID_ATTR'in cfg?addToSet({},cfg.FORBID_ATTR,transformCaseFunc):{};USE_PROFILES='USE_PROFILES'in cfg?cfg.USE_PROFILES:false;ALLOW_ARIA_ATTR=cfg.ALLOW_ARIA_ATTR!==false;ALLOW_DATA_ATTR=cfg.ALLOW_DATA_ATTR!==false;ALLOW_UNKNOWN_PROTOCOLS=cfg.ALLOW_UNKNOWN_PROTOCOLS||false;ALLOW_SELF_CLOSE_IN_ATTR=cfg.ALLOW_SELF_CLOSE_IN_ATTR!==false;SAFE_FOR_TEMPLATES=cfg.SAFE_FOR_TEMPLATES||false;WHOLE_DOCUMENT=cfg.WHOLE_DOCUMENT||false;RETURN_DOM=cfg.RETURN_DOM||false;RETURN_DOM_FRAGMENT=cfg.RETURN_DOM_FRAGMENT||false;RETURN_TRUSTED_TYPE=cfg.RETURN_TRUSTED_TYPE||false;FORCE_BODY=cfg.FORCE_BODY||false;SANITIZE_DOM=cfg.SANITIZE_DOM!==false;SANITIZE_NAMED_PROPS=cfg.SANITIZE_NAMED_PROPS||false;KEEP_CONTENT=cfg.KEEP_CONTENT!==false;IN_PLACE=cfg.IN_PLACE||false;IS_ALLOWED_URI$1=cfg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI;NAMESPACE=cfg.NAMESPACE||HTML_NAMESPACE;CUSTOM_ELEMENT_HANDLING=cfg.CUSTOM_ELEMENT_HANDLING||{};if(cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){CUSTOM_ELEMENT_HANDLING.tagNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;}if(cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){CUSTOM_ELEMENT_HANDLING.attributeNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;}if(cfg.CUSTOM_ELEMENT_HANDLING&&typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==='boolean'){CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;}if(SAFE_FOR_TEMPLATES){ALLOW_DATA_ATTR=false;}if(RETURN_DOM_FRAGMENT){RETURN_DOM=true;}if(USE_PROFILES){ALLOWED_TAGS=addToSet({},[...text$1]);ALLOWED_ATTR=[];if(USE_PROFILES.html===true){addToSet(ALLOWED_TAGS,html$1);addToSet(ALLOWED_ATTR,html);}if(USE_PROFILES.svg===true){addToSet(ALLOWED_TAGS,svg$1);addToSet(ALLOWED_ATTR,svg);addToSet(ALLOWED_ATTR,xml);}if(USE_PROFILES.svgFilters===true){addToSet(ALLOWED_TAGS,svgFilters);addToSet(ALLOWED_ATTR,svg);addToSet(ALLOWED_ATTR,xml);}if(USE_PROFILES.mathMl===true){addToSet(ALLOWED_TAGS,mathMl$1);addToSet(ALLOWED_ATTR,mathMl);addToSet(ALLOWED_ATTR,xml);}}if(cfg.ADD_TAGS){if(ALLOWED_TAGS===DEFAULT_ALLOWED_TAGS){ALLOWED_TAGS=clone(ALLOWED_TAGS);}addToSet(ALLOWED_TAGS,cfg.ADD_TAGS,transformCaseFunc);}if(cfg.ADD_ATTR){if(ALLOWED_ATTR===DEFAULT_ALLOWED_ATTR){ALLOWED_ATTR=clone(ALLOWED_ATTR);}addToSet(ALLOWED_ATTR,cfg.ADD_ATTR,transformCaseFunc);}if(cfg.ADD_URI_SAFE_ATTR){addToSet(URI_SAFE_ATTRIBUTES,cfg.ADD_URI_SAFE_ATTR,transformCaseFunc);}if(cfg.FORBID_CONTENTS){if(FORBID_CONTENTS===DEFAULT_FORBID_CONTENTS){FORBID_CONTENTS=clone(FORBID_CONTENTS);}addToSet(FORBID_CONTENTS,cfg.FORBID_CONTENTS,transformCaseFunc);}if(KEEP_CONTENT){ALLOWED_TAGS['#text']=true;}if(WHOLE_DOCUMENT){addToSet(ALLOWED_TAGS,['html','head','body']);}if(ALLOWED_TAGS.table){addToSet(ALLOWED_TAGS,['tbody']);delete FORBID_TAGS.tbody;}if(cfg.TRUSTED_TYPES_POLICY){if(typeof cfg.TRUSTED_TYPES_POLICY.createHTML!=='function'){throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');}if(typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL!=='function'){throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');}trustedTypesPolicy=cfg.TRUSTED_TYPES_POLICY;emptyHTML=trustedTypesPolicy.createHTML('');}else{if(trustedTypesPolicy===undefined){trustedTypesPolicy=_createTrustedTypesPolicy(trustedTypes,currentScript);}if(trustedTypesPolicy!==null&&typeof emptyHTML==='string'){emptyHTML=trustedTypesPolicy.createHTML('');}}if(freeze){freeze(cfg);}CONFIG=cfg;};const MATHML_TEXT_INTEGRATION_POINTS=addToSet({},['mi','mo','mn','ms','mtext']);const HTML_INTEGRATION_POINTS=addToSet({},['foreignobject','desc','title','annotation-xml']);const COMMON_SVG_AND_HTML_ELEMENTS=addToSet({},['title','style','font','a','script']);const ALL_SVG_TAGS=addToSet({},svg$1);addToSet(ALL_SVG_TAGS,svgFilters);addToSet(ALL_SVG_TAGS,svgDisallowed);const ALL_MATHML_TAGS=addToSet({},mathMl$1);addToSet(ALL_MATHML_TAGS,mathMlDisallowed);const _checkValidNamespace=function _checkValidNamespace(element){let parent=getParentNode(element);if(!parent||!parent.tagName){parent={namespaceURI:NAMESPACE,tagName:'template'};}const tagName=stringToLowerCase(element.tagName);const parentTagName=stringToLowerCase(parent.tagName);if(!ALLOWED_NAMESPACES[element.namespaceURI]){return false;}if(element.namespaceURI===SVG_NAMESPACE){if(parent.namespaceURI===HTML_NAMESPACE){return tagName==='svg';}if(parent.namespaceURI===MATHML_NAMESPACE){return tagName==='svg'&&(parentTagName==='annotation-xml'||MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);}return Boolean(ALL_SVG_TAGS[tagName]);}if(element.namespaceURI===MATHML_NAMESPACE){if(parent.namespaceURI===HTML_NAMESPACE){return tagName==='math';}if(parent.namespaceURI===SVG_NAMESPACE){return tagName==='math'&&HTML_INTEGRATION_POINTS[parentTagName];}return Boolean(ALL_MATHML_TAGS[tagName]);}if(element.namespaceURI===HTML_NAMESPACE){if(parent.namespaceURI===SVG_NAMESPACE&&!HTML_INTEGRATION_POINTS[parentTagName]){return false;}if(parent.namespaceURI===MATHML_NAMESPACE&&!MATHML_TEXT_INTEGRATION_POINTS[parentTagName]){return false;}return!ALL_MATHML_TAGS[tagName]&&(COMMON_SVG_AND_HTML_ELEMENTS[tagName]||!ALL_SVG_TAGS[tagName]);}if(PARSER_MEDIA_TYPE==='application/xhtml+xml'&&ALLOWED_NAMESPACES[element.namespaceURI]){return true;}return false;};const _forceRemove=function _forceRemove(node){arrayPush(DOMPurify.removed,{element:node});try{node.parentNode.removeChild(node);}catch(_){node.remove();}};const _removeAttribute=function _removeAttribute(name,node){try{arrayPush(DOMPurify.removed,{attribute:node.getAttributeNode(name),from:node});}catch(_){arrayPush(DOMPurify.removed,{attribute:null,from:node});}node.removeAttribute(name);if(name==='is'&&!ALLOWED_ATTR[name]){if(RETURN_DOM||RETURN_DOM_FRAGMENT){try{_forceRemove(node);}catch(_){}}else{try{node.setAttribute(name,'');}catch(_){}}}};const _initDocument=function _initDocument(dirty){let doc;let leadingWhitespace;if(FORCE_BODY){dirty='<remove></remove>'+dirty;}else{const matches=stringMatch(dirty,/^[\\r\\n\\t ]+/);leadingWhitespace=matches&&matches[0];}if(PARSER_MEDIA_TYPE==='application/xhtml+xml'&&NAMESPACE===HTML_NAMESPACE){dirty='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+dirty+'</body></html>';}const dirtyPayload=trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;if(NAMESPACE===HTML_NAMESPACE){try{doc=new DOMParser().parseFromString(dirtyPayload,PARSER_MEDIA_TYPE);}catch(_){}}if(!doc||!doc.documentElement){doc=implementation.createDocument(NAMESPACE,'template',null);try{doc.documentElement.innerHTML=IS_EMPTY_INPUT?emptyHTML:dirtyPayload;}catch(_){}}const body=doc.body||doc.documentElement;if(dirty&&leadingWhitespace){body.insertBefore(document.createTextNode(leadingWhitespace),body.childNodes[0]||null);}if(NAMESPACE===HTML_NAMESPACE){return getElementsByTagName.call(doc,WHOLE_DOCUMENT?'html':'body')[0];}return WHOLE_DOCUMENT?doc.documentElement:body;};const _createIterator=function _createIterator(root){return createNodeIterator.call(root.ownerDocument||root,root,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,null,false);};const _isClobbered=function _isClobbered(elm){return elm instanceof HTMLFormElement&&(typeof elm.nodeName!=='string'||typeof elm.textContent!=='string'||typeof elm.removeChild!=='function'||!(elm.attributes instanceof NamedNodeMap)||typeof elm.removeAttribute!=='function'||typeof elm.setAttribute!=='function'||typeof elm.namespaceURI!=='string'||typeof elm.insertBefore!=='function'||typeof elm.hasChildNodes!=='function');};const _isNode=function _isNode(object){return typeof Node==='object'?object instanceof Node:object&&typeof object==='object'&&typeof object.nodeType==='number'&&typeof object.nodeName==='string';};const _executeHook=function _executeHook(entryPoint,currentNode,data){if(!hooks[entryPoint]){return;}arrayForEach(hooks[entryPoint],hook=>{hook.call(DOMPurify,currentNode,data,CONFIG);});};const _sanitizeElements=function _sanitizeElements(currentNode){let content;_executeHook('beforeSanitizeElements',currentNode,null);if(_isClobbered(currentNode)){_forceRemove(currentNode);return true;}const tagName=transformCaseFunc(currentNode.nodeName);_executeHook('uponSanitizeElement',currentNode,{tagName,allowedTags:ALLOWED_TAGS});if(currentNode.hasChildNodes()&&!_isNode(currentNode.firstElementChild)&&(!_isNode(currentNode.content)||!_isNode(currentNode.content.firstElementChild))&&regExpTest(/<[/\\w]/g,currentNode.innerHTML)&&regExpTest(/<[/\\w]/g,currentNode.textContent)){_forceRemove(currentNode);return true;}if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){if(!FORBID_TAGS[tagName]&&_basicCustomElementTest(tagName)){if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,tagName))return false;if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))return false;}if(KEEP_CONTENT&&!FORBID_CONTENTS[tagName]){const parentNode=getParentNode(currentNode)||currentNode.parentNode;const childNodes=getChildNodes(currentNode)||currentNode.childNodes;if(childNodes&&parentNode){const childCount=childNodes.length;for(let i=childCount-1;i>=0;--i){parentNode.insertBefore(cloneNode(childNodes[i],true),getNextSibling(currentNode));}}}_forceRemove(currentNode);return true;}if(currentNode instanceof Element&&!_checkValidNamespace(currentNode)){_forceRemove(currentNode);return true;}if((tagName==='noscript'||tagName==='noembed'||tagName==='noframes')&&regExpTest(/<\\/no(script|embed|frames)/i,currentNode.innerHTML)){_forceRemove(currentNode);return true;}if(SAFE_FOR_TEMPLATES&&currentNode.nodeType===3){content=currentNode.textContent;content=stringReplace(content,MUSTACHE_EXPR,' ');content=stringReplace(content,ERB_EXPR,' ');content=stringReplace(content,TMPLIT_EXPR,' ');if(currentNode.textContent!==content){arrayPush(DOMPurify.removed,{element:currentNode.cloneNode()});currentNode.textContent=content;}}_executeHook('afterSanitizeElements',currentNode,null);return false;};const _isValidAttribute=function _isValidAttribute(lcTag,lcName,value){if(SANITIZE_DOM&&(lcName==='id'||lcName==='name')&&(value in document||value in formElement)){return false;}if(ALLOW_DATA_ATTR&&!FORBID_ATTR[lcName]&&regExpTest(DATA_ATTR,lcName));else if(ALLOW_ARIA_ATTR&&regExpTest(ARIA_ATTR,lcName));else if(!ALLOWED_ATTR[lcName]||FORBID_ATTR[lcName]){if(_basicCustomElementTest(lcTag)&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,lcTag)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))&&(CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck,lcName)||CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName))||lcName==='is'&&CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,value)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));else{return false;}}else if(URI_SAFE_ATTRIBUTES[lcName]);else if(regExpTest(IS_ALLOWED_URI$1,stringReplace(value,ATTR_WHITESPACE,'')));else if((lcName==='src'||lcName==='xlink:href'||lcName==='href')&&lcTag!=='script'&&stringIndexOf(value,'data:')===0&&DATA_URI_TAGS[lcTag]);else if(ALLOW_UNKNOWN_PROTOCOLS&&!regExpTest(IS_SCRIPT_OR_DATA,stringReplace(value,ATTR_WHITESPACE,'')));else if(value){return false;}else;return true;};const _basicCustomElementTest=function _basicCustomElementTest(tagName){return tagName.indexOf('-')>0;};const _sanitizeAttributes=function _sanitizeAttributes(currentNode){let attr;let value;let lcName;let l;_executeHook('beforeSanitizeAttributes',currentNode,null);const{attributes}=currentNode;if(!attributes){return;}const hookEvent={attrName:'',attrValue:'',keepAttr:true,allowedAttributes:ALLOWED_ATTR};l=attributes.length;while(l--){attr=attributes[l];const{name,namespaceURI}=attr;value=name==='value'?attr.value:stringTrim(attr.value);const initValue=value;lcName=transformCaseFunc(name);hookEvent.attrName=lcName;hookEvent.attrValue=value;hookEvent.keepAttr=true;hookEvent.forceKeepAttr=undefined;_executeHook('uponSanitizeAttribute',currentNode,hookEvent);value=hookEvent.attrValue;if(hookEvent.forceKeepAttr){continue;}if(!hookEvent.keepAttr){_removeAttribute(name,currentNode);continue;}if(!ALLOW_SELF_CLOSE_IN_ATTR&&regExpTest(/\\/>/i,value)){_removeAttribute(name,currentNode);continue;}if(SAFE_FOR_TEMPLATES){value=stringReplace(value,MUSTACHE_EXPR,' ');value=stringReplace(value,ERB_EXPR,' ');value=stringReplace(value,TMPLIT_EXPR,' ');}const lcTag=transformCaseFunc(currentNode.nodeName);if(!_isValidAttribute(lcTag,lcName,value)){_removeAttribute(name,currentNode);continue;}if(SANITIZE_NAMED_PROPS&&(lcName==='id'||lcName==='name')){_removeAttribute(name,currentNode);value=SANITIZE_NAMED_PROPS_PREFIX+value;}if(trustedTypesPolicy&&typeof trustedTypes==='object'&&typeof trustedTypes.getAttributeType==='function'){if(namespaceURI);else{switch(trustedTypes.getAttributeType(lcTag,lcName)){case'TrustedHTML':{value=trustedTypesPolicy.createHTML(value);break;}case'TrustedScriptURL':{value=trustedTypesPolicy.createScriptURL(value);break;}}}}if(value!==initValue){try{if(namespaceURI){currentNode.setAttributeNS(namespaceURI,name,value);}else{currentNode.setAttribute(name,value);}}catch(_){_removeAttribute(name,currentNode);}}}_executeHook('afterSanitizeAttributes',currentNode,null);};const _sanitizeShadowDOM=function _sanitizeShadowDOM(fragment){let shadowNode;const shadowIterator=_createIterator(fragment);_executeHook('beforeSanitizeShadowDOM',fragment,null);while(shadowNode=shadowIterator.nextNode()){_executeHook('uponSanitizeShadowNode',shadowNode,null);if(_sanitizeElements(shadowNode)){continue;}if(shadowNode.content instanceof DocumentFragment){_sanitizeShadowDOM(shadowNode.content);}_sanitizeAttributes(shadowNode);}_executeHook('afterSanitizeShadowDOM',fragment,null);};DOMPurify.sanitize=function(dirty){let cfg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let body;let importedNode;let currentNode;let returnNode;IS_EMPTY_INPUT=!dirty;if(IS_EMPTY_INPUT){dirty='<!-->';}if(typeof dirty!=='string'&&!_isNode(dirty)){if(typeof dirty.toString==='function'){dirty=dirty.toString();if(typeof dirty!=='string'){throw typeErrorCreate('dirty is not a string, aborting');}}else{throw typeErrorCreate('toString is not a function');}}if(!DOMPurify.isSupported){return dirty;}if(!SET_CONFIG){_parseConfig(cfg);}DOMPurify.removed=[];if(typeof dirty==='string'){IN_PLACE=false;}if(IN_PLACE){if(dirty.nodeName){const tagName=transformCaseFunc(dirty.nodeName);if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');}}}else if(dirty instanceof Node){body=_initDocument('<!---->');importedNode=body.ownerDocument.importNode(dirty,true);if(importedNode.nodeType===1&&importedNode.nodeName==='BODY'){body=importedNode;}else if(importedNode.nodeName==='HTML'){body=importedNode;}else{body.appendChild(importedNode);}}else{if(!RETURN_DOM&&!SAFE_FOR_TEMPLATES&&!WHOLE_DOCUMENT&&dirty.indexOf('<')===-1){return trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(dirty):dirty;}body=_initDocument(dirty);if(!body){return RETURN_DOM?null:RETURN_TRUSTED_TYPE?emptyHTML:'';}}if(body&&FORCE_BODY){_forceRemove(body.firstChild);}const nodeIterator=_createIterator(IN_PLACE?dirty:body);while(currentNode=nodeIterator.nextNode()){if(_sanitizeElements(currentNode)){continue;}if(currentNode.content instanceof DocumentFragment){_sanitizeShadowDOM(currentNode.content);}_sanitizeAttributes(currentNode);}if(IN_PLACE){return dirty;}if(RETURN_DOM){if(RETURN_DOM_FRAGMENT){returnNode=createDocumentFragment.call(body.ownerDocument);while(body.firstChild){returnNode.appendChild(body.firstChild);}}else{returnNode=body;}if(ALLOWED_ATTR.shadowroot||ALLOWED_ATTR.shadowrootmode){returnNode=importNode.call(originalDocument,returnNode,true);}return returnNode;}let serializedHTML=WHOLE_DOCUMENT?body.outerHTML:body.innerHTML;if(WHOLE_DOCUMENT&&ALLOWED_TAGS['!doctype']&&body.ownerDocument&&body.ownerDocument.doctype&&body.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,body.ownerDocument.doctype.name)){serializedHTML='<!DOCTYPE '+body.ownerDocument.doctype.name+'>\\n'+serializedHTML;}if(SAFE_FOR_TEMPLATES){serializedHTML=stringReplace(serializedHTML,MUSTACHE_EXPR,' ');serializedHTML=stringReplace(serializedHTML,ERB_EXPR,' ');serializedHTML=stringReplace(serializedHTML,TMPLIT_EXPR,' ');}return trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(serializedHTML):serializedHTML;};DOMPurify.setConfig=function(cfg){_parseConfig(cfg);SET_CONFIG=true;};DOMPurify.clearConfig=function(){CONFIG=null;SET_CONFIG=false;};DOMPurify.isValidAttribute=function(tag,attr,value){if(!CONFIG){_parseConfig({});}const lcTag=transformCaseFunc(tag);const lcName=transformCaseFunc(attr);return _isValidAttribute(lcTag,lcName,value);};DOMPurify.addHook=function(entryPoint,hookFunction){if(typeof hookFunction!=='function'){return;}hooks[entryPoint]=hooks[entryPoint]||[];arrayPush(hooks[entryPoint],hookFunction);};DOMPurify.removeHook=function(entryPoint){if(hooks[entryPoint]){return arrayPop(hooks[entryPoint]);}};DOMPurify.removeHooks=function(entryPoint){if(hooks[entryPoint]){hooks[entryPoint]=[];}};DOMPurify.removeAllHooks=function(){hooks={};};return DOMPurify;}var purify=createDOMPurify();const sanitizeHtmlString=html=>purify().sanitize(html);var global$8=tinymce.util.Tools.resolve('tinymce.util.I18n');const rtlTransform={'indent':true,'outdent':true,'table-insert-column-after':true,'table-insert-column-before':true,'paste-column-after':true,'paste-column-before':true,'unordered-list':true,'list-bull-circle':true,'list-bull-default':true,'list-bull-square':true};const defaultIconName='temporary-placeholder';const defaultIcon=icons=>()=>get$g(icons,defaultIconName).getOr('!not found!');const getIconName=(name,icons)=>{const lcName=name.toLowerCase();if(global$8.isRtl()){const rtlName=ensureTrailing(lcName,'-rtl');return has$2(icons,rtlName)?rtlName:lcName;}else{return lcName;}};const lookupIcon=(name,icons)=>get$g(icons,getIconName(name,icons));const get$2=(name,iconProvider)=>{const icons=iconProvider();return lookupIcon(name,icons).getOrThunk(defaultIcon(icons));};const getOr=(name,iconProvider,fallbackIcon)=>{const icons=iconProvider();return lookupIcon(name,icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));};const needsRtlTransform=iconName=>global$8.isRtl()?has$2(rtlTransform,iconName):false;const addFocusableBehaviour=()=>config('add-focusable',[runOnAttached(comp=>{child(comp.element,'svg').each(svg=>set$9(svg,'focusable','false'));})]);const renderIcon$3=(spec,iconName,icons,fallbackIcon)=>{var _a,_b;const rtlIconClasses=needsRtlTransform(iconName)?['tox-icon--flip']:[];const iconHtml=get$g(icons,getIconName(iconName,icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));return{dom:{tag:spec.tag,attributes:(_a=spec.attributes)!==null&&_a!==void 0?_a:{},classes:spec.classes.concat(rtlIconClasses),innerHtml:iconHtml},behaviours:derive$1([...((_b=spec.behaviours)!==null&&_b!==void 0?_b:[]),addFocusableBehaviour()])};};const render$3=(iconName,spec,iconProvider,fallbackIcon=Optional.none())=>renderIcon$3(spec,iconName,iconProvider(),fallbackIcon);const renderFirst=(iconNames,spec,iconProvider)=>{const icons=iconProvider();const iconName=find$5(iconNames,name=>has$2(icons,getIconName(name,icons)));return renderIcon$3(spec,iconName.getOr(defaultIconName),icons,Optional.none());};const notificationIconMap={success:'checkmark',error:'warning',err:'error',warning:'warning',warn:'warning',info:'info'};const factory$m=detail=>{const memBannerText=record({dom:fromHtml(`<p>${sanitizeHtmlString(detail.translationProvider(detail.text))}</p>`),behaviours:derive$1([Replacing.config({})])});const renderPercentBar=percent=>({dom:{tag:'div',classes:['tox-bar'],styles:{width:`${percent}%`}}});const renderPercentText=percent=>({dom:{tag:'div',classes:['tox-text'],innerHtml:`${percent}%`}});const memBannerProgress=record({dom:{tag:'div',classes:detail.progress?['tox-progress-bar','tox-progress-indicator']:['tox-progress-bar']},components:[{dom:{tag:'div',classes:['tox-bar-container']},components:[renderPercentBar(0)]},renderPercentText(0)],behaviours:derive$1([Replacing.config({})])});const updateProgress=(comp,percent)=>{if(comp.getSystem().isConnected()){memBannerProgress.getOpt(comp).each(progress=>{Replacing.set(progress,[{dom:{tag:'div',classes:['tox-bar-container']},components:[renderPercentBar(percent)]},renderPercentText(percent)]);});}};const updateText=(comp,text)=>{if(comp.getSystem().isConnected()){const banner=memBannerText.get(comp);Replacing.set(banner,[text$2(text)]);}};const apis={updateProgress,updateText};const iconChoices=flatten([detail.icon.toArray(),detail.level.toArray(),detail.level.bind(level=>Optional.from(notificationIconMap[level])).toArray()]);const memButton=record(Button.sketch({dom:{tag:'button',classes:['tox-notification__dismiss','tox-button','tox-button--naked','tox-button--icon']},components:[render$3('close',{tag:'span',classes:['tox-icon'],attributes:{'aria-label':detail.translationProvider('Close')}},detail.iconProvider)],action:comp=>{detail.onAction(comp);}}));const notificationIconSpec=renderFirst(iconChoices,{tag:'div',classes:['tox-notification__icon']},detail.iconProvider);const notificationBodySpec={dom:{tag:'div',classes:['tox-notification__body']},components:[memBannerText.asSpec()],behaviours:derive$1([Replacing.config({})])};const components=[notificationIconSpec,notificationBodySpec];return{uid:detail.uid,dom:{tag:'div',attributes:{role:'alert'},classes:detail.level.map(level=>['tox-notification','tox-notification--in',`tox-notification--${level}`]).getOr(['tox-notification','tox-notification--in'])},behaviours:derive$1([Focusing.config({}),config('notification-events',[run$1(focusin(),comp=>{memButton.getOpt(comp).each(Focusing.focus);})])]),components:components.concat(detail.progress?[memBannerProgress.asSpec()]:[]).concat(!detail.closeButton?[]:[memButton.asSpec()]),apis};};const Notification=single({name:'Notification',factory:factory$m,configFields:[option$3('level'),required$1('progress'),option$3('icon'),required$1('onAction'),required$1('text'),required$1('iconProvider'),required$1('translationProvider'),defaultedBoolean('closeButton',true)],apis:{updateProgress:(apis,comp,percent)=>{apis.updateProgress(comp,percent);},updateText:(apis,comp,text)=>{apis.updateText(comp,text);}}});var NotificationManagerImpl=(editor,extras,uiMothership)=>{const sharedBackstage=extras.backstage.shared;const getBounds=()=>{const contentArea=box$1(SugarElement.fromDom(editor.getContentAreaContainer()));const win$1=win();const x=clamp(win$1.x,contentArea.x,contentArea.right);const y=clamp(win$1.y,contentArea.y,contentArea.bottom);const right=Math.max(contentArea.right,win$1.right);const bottom=Math.max(contentArea.bottom,win$1.bottom);return Optional.some(bounds(x,y,right-x,bottom-y));};const open=(settings,closeCallback)=>{const close=()=>{closeCallback();InlineView.hide(notificationWrapper);};const notification=build$1(Notification.sketch({text:settings.text,level:contains$2(['success','error','warning','warn','info'],settings.type)?settings.type:undefined,progress:settings.progressBar===true,icon:settings.icon,closeButton:settings.closeButton,onAction:close,iconProvider:sharedBackstage.providers.icons,translationProvider:sharedBackstage.providers.translate}));const notificationWrapper=build$1(InlineView.sketch({dom:{tag:'div',classes:['tox-notifications-container']},lazySink:sharedBackstage.getSink,fireDismissalEventInstead:{},...(sharedBackstage.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})}));uiMothership.add(notificationWrapper);if(isNumber(settings.timeout)&&settings.timeout>0){global$9.setEditorTimeout(editor,()=>{close();},settings.timeout);}const reposition=()=>{const notificationSpec=premade(notification);const anchorOverrides={maxHeightFunction:expandable$1()};const allNotifications=editor.notificationManager.getNotifications();if(allNotifications[0]===thisNotification){const anchor={...sharedBackstage.anchors.banner(),overrides:anchorOverrides};InlineView.showWithinBounds(notificationWrapper,notificationSpec,{anchor},getBounds);}else{indexOf(allNotifications,thisNotification).each(idx=>{const previousNotification=allNotifications[idx-1].getEl();const nodeAnchor={type:'node',root:body(),node:Optional.some(SugarElement.fromDom(previousNotification)),overrides:anchorOverrides,layouts:{onRtl:()=>[south$2],onLtr:()=>[south$2]}};InlineView.showWithinBounds(notificationWrapper,notificationSpec,{anchor:nodeAnchor},getBounds);});}};const thisNotification={close,reposition,text:nuText=>{Notification.updateText(notification,nuText);},settings,getEl:()=>notification.element.dom,progressBar:{value:percent=>{Notification.updateProgress(notification,percent);}}};return thisNotification;};const close=notification=>{notification.close();};const getArgs=notification=>{return notification.settings;};return{open,close,getArgs};};var global$7=tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');var global$6=tinymce.util.Tools.resolve('tinymce.EditorManager');var global$5=tinymce.util.Tools.resolve('tinymce.Env');var ToolbarMode$1;(function(ToolbarMode){ToolbarMode['default']='wrap';ToolbarMode['floating']='floating';ToolbarMode['sliding']='sliding';ToolbarMode['scrolling']='scrolling';})(ToolbarMode$1||(ToolbarMode$1={}));var ToolbarLocation$1;(function(ToolbarLocation){ToolbarLocation['auto']='auto';ToolbarLocation['top']='top';ToolbarLocation['bottom']='bottom';})(ToolbarLocation$1||(ToolbarLocation$1={}));const option$2=name=>editor=>editor.options.get(name);const wrapOptional=fn=>editor=>Optional.from(fn(editor));const register$e=editor=>{const isPhone=global$5.deviceType.isPhone();const isMobile=global$5.deviceType.isTablet()||isPhone;const registerOption=editor.options.register;const stringOrFalseProcessor=value=>isString(value)||value===false;const stringOrNumberProcessor=value=>isString(value)||isNumber(value);registerOption('skin',{processor:value=>isString(value)||value===false,default:'oxide'});registerOption('skin_url',{processor:'string'});registerOption('height',{processor:stringOrNumberProcessor,default:Math.max(editor.getElement().offsetHeight,400)});registerOption('width',{processor:stringOrNumberProcessor,default:global$7.DOM.getStyle(editor.getElement(),'width')});registerOption('min_height',{processor:'number',default:100});registerOption('min_width',{processor:'number'});registerOption('max_height',{processor:'number'});registerOption('max_width',{processor:'number'});registerOption('style_formats',{processor:'object[]'});registerOption('style_formats_merge',{processor:'boolean',default:false});registerOption('style_formats_autohide',{processor:'boolean',default:false});registerOption('line_height_formats',{processor:'string',default:'1 1.1 1.2 1.3 1.4 1.5 2'});registerOption('font_family_formats',{processor:'string',default:'Andale Mono=andale mono,monospace;'+'Arial=arial,helvetica,sans-serif;'+'Arial Black=arial black,sans-serif;'+'Book Antiqua=book antiqua,palatino,serif;'+'Comic Sans MS=comic sans ms,sans-serif;'+'Courier New=courier new,courier,monospace;'+'Georgia=georgia,palatino,serif;'+'Helvetica=helvetica,arial,sans-serif;'+'Impact=impact,sans-serif;'+'Symbol=symbol;'+'Tahoma=tahoma,arial,helvetica,sans-serif;'+'Terminal=terminal,monaco,monospace;'+'Times New Roman=times new roman,times,serif;'+'Trebuchet MS=trebuchet ms,geneva,sans-serif;'+'Verdana=verdana,geneva,sans-serif;'+'Webdings=webdings;'+'Wingdings=wingdings,zapf dingbats'});registerOption('font_size_formats',{processor:'string',default:'8pt 10pt 12pt 14pt 18pt 24pt 36pt'});registerOption('font_size_input_default_unit',{processor:'string',default:'pt'});registerOption('block_formats',{processor:'string',default:'Paragraph=p;'+'Heading 1=h1;'+'Heading 2=h2;'+'Heading 3=h3;'+'Heading 4=h4;'+'Heading 5=h5;'+'Heading 6=h6;'+'Preformatted=pre'});registerOption('content_langs',{processor:'object[]'});registerOption('removed_menuitems',{processor:'string',default:''});registerOption('menubar',{processor:value=>isString(value)||isBoolean(value),default:!isPhone});registerOption('menu',{processor:'object',default:{}});registerOption('toolbar',{processor:value=>{if(isBoolean(value)||isString(value)||isArray(value)){return{value,valid:true};}else{return{valid:false,message:'Must be a boolean, string or array.'};}},default:true});range$2(9,num=>{registerOption('toolbar'+(num+1),{processor:'string'});});registerOption('toolbar_mode',{processor:'string',default:isMobile?'scrolling':'floating'});registerOption('toolbar_groups',{processor:'object',default:{}});registerOption('toolbar_location',{processor:'string',default:ToolbarLocation$1.auto});registerOption('toolbar_persist',{processor:'boolean',default:false});registerOption('toolbar_sticky',{processor:'boolean',default:editor.inline});registerOption('toolbar_sticky_offset',{processor:'number',default:0});registerOption('fixed_toolbar_container',{processor:'string',default:''});registerOption('fixed_toolbar_container_target',{processor:'object'});registerOption('ui_mode',{processor:'string',default:'combined'});registerOption('file_picker_callback',{processor:'function'});registerOption('file_picker_validator_handler',{processor:'function'});registerOption('file_picker_types',{processor:'string'});registerOption('typeahead_urls',{processor:'boolean',default:true});registerOption('anchor_top',{processor:stringOrFalseProcessor,default:'#top'});registerOption('anchor_bottom',{processor:stringOrFalseProcessor,default:'#bottom'});registerOption('draggable_modal',{processor:'boolean',default:false});registerOption('statusbar',{processor:'boolean',default:true});registerOption('elementpath',{processor:'boolean',default:true});registerOption('branding',{processor:'boolean',default:true});registerOption('promotion',{processor:'boolean',default:true});registerOption('resize',{processor:value=>value==='both'||isBoolean(value),default:!global$5.deviceType.isTouch()});registerOption('sidebar_show',{processor:'string'});registerOption('help_accessibility',{processor:'boolean',default:editor.hasPlugin('help')});registerOption('default_font_stack',{processor:'string[]',default:[]});};const isReadOnly=option$2('readonly');const getHeightOption=option$2('height');const getWidthOption=option$2('width');const getMinWidthOption=wrapOptional(option$2('min_width'));const getMinHeightOption=wrapOptional(option$2('min_height'));const getMaxWidthOption=wrapOptional(option$2('max_width'));const getMaxHeightOption=wrapOptional(option$2('max_height'));const getUserStyleFormats=wrapOptional(option$2('style_formats'));const shouldMergeStyleFormats=option$2('style_formats_merge');const shouldAutoHideStyleFormats=option$2('style_formats_autohide');const getContentLanguages=option$2('content_langs');const getRemovedMenuItems=option$2('removed_menuitems');const getToolbarMode=option$2('toolbar_mode');const getToolbarGroups=option$2('toolbar_groups');const getToolbarLocation=option$2('toolbar_location');const fixedContainerSelector=option$2('fixed_toolbar_container');const fixedToolbarContainerTarget=option$2('fixed_toolbar_container_target');const isToolbarPersist=option$2('toolbar_persist');const getStickyToolbarOffset=option$2('toolbar_sticky_offset');const getMenubar=option$2('menubar');const getToolbar=option$2('toolbar');const getFilePickerCallback=option$2('file_picker_callback');const getFilePickerValidatorHandler=option$2('file_picker_validator_handler');const getFontSizeInputDefaultUnit=option$2('font_size_input_default_unit');const getFilePickerTypes=option$2('file_picker_types');const useTypeaheadUrls=option$2('typeahead_urls');const getAnchorTop=option$2('anchor_top');const getAnchorBottom=option$2('anchor_bottom');const isDraggableModal$1=option$2('draggable_modal');const useStatusBar=option$2('statusbar');const useElementPath=option$2('elementpath');const useBranding=option$2('branding');const getResize=option$2('resize');const getPasteAsText=option$2('paste_as_text');const getSidebarShow=option$2('sidebar_show');const promotionEnabled=option$2('promotion');const useHelpAccessibility=option$2('help_accessibility');const getDefaultFontStack=option$2('default_font_stack');const isSkinDisabled=editor=>editor.options.get('skin')===false;const isMenubarEnabled=editor=>editor.options.get('menubar')!==false;const getSkinUrl=editor=>{const skinUrl=editor.options.get('skin_url');if(isSkinDisabled(editor)){return skinUrl;}else{if(skinUrl){return editor.documentBaseURI.toAbsolute(skinUrl);}else{const skin=editor.options.get('skin');return global$6.baseURL+'/skins/ui/'+skin;}}};const getSkinUrlOption=editor=>Optional.from(editor.options.get('skin_url'));const getLineHeightFormats=editor=>editor.options.get('line_height_formats').split(' ');const isToolbarEnabled=editor=>{const toolbar=getToolbar(editor);const isToolbarString=isString(toolbar);const isToolbarObjectArray=isArray(toolbar)&&toolbar.length>0;return!isMultipleToolbars(editor)&&(isToolbarObjectArray||isToolbarString||toolbar===true);};const getMultipleToolbarsOption=editor=>{const toolbars=range$2(9,num=>editor.options.get('toolbar'+(num+1)));const toolbarArray=filter$2(toolbars,isString);return someIf(toolbarArray.length>0,toolbarArray);};const isMultipleToolbars=editor=>getMultipleToolbarsOption(editor).fold(()=>{const toolbar=getToolbar(editor);return isArrayOf(toolbar,isString)&&toolbar.length>0;},always);const isToolbarLocationBottom=editor=>getToolbarLocation(editor)===ToolbarLocation$1.bottom;const fixedContainerTarget=editor=>{var _a;if(!editor.inline){return Optional.none();}const selector=(_a=fixedContainerSelector(editor))!==null&&_a!==void 0?_a:'';if(selector.length>0){return descendant(body(),selector);}const element=fixedToolbarContainerTarget(editor);if(isNonNullable(element)){return Optional.some(SugarElement.fromDom(element));}return Optional.none();};const useFixedContainer=editor=>editor.inline&&fixedContainerTarget(editor).isSome();const getUiContainer=editor=>{const fixedContainer=fixedContainerTarget(editor);return fixedContainer.getOrThunk(()=>getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));};const isDistractionFree=editor=>editor.inline&&!isMenubarEnabled(editor)&&!isToolbarEnabled(editor)&&!isMultipleToolbars(editor);const isStickyToolbar=editor=>{const isStickyToolbar=editor.options.get('toolbar_sticky');return(isStickyToolbar||editor.inline)&&!useFixedContainer(editor)&&!isDistractionFree(editor);};const isSplitUiMode=editor=>!useFixedContainer(editor)&&editor.options.get('ui_mode')==='split';const getMenus=editor=>{const menu=editor.options.get('menu');return map$1(menu,menu=>({...menu,items:menu.items}));};var Options=/*#__PURE__*/Object.freeze({__proto__:null,get ToolbarMode(){return ToolbarMode$1;},get ToolbarLocation(){return ToolbarLocation$1;},register:register$e,getSkinUrl:getSkinUrl,getSkinUrlOption:getSkinUrlOption,isReadOnly:isReadOnly,isSkinDisabled:isSkinDisabled,getHeightOption:getHeightOption,getWidthOption:getWidthOption,getMinWidthOption:getMinWidthOption,getMinHeightOption:getMinHeightOption,getMaxWidthOption:getMaxWidthOption,getMaxHeightOption:getMaxHeightOption,getUserStyleFormats:getUserStyleFormats,shouldMergeStyleFormats:shouldMergeStyleFormats,shouldAutoHideStyleFormats:shouldAutoHideStyleFormats,getLineHeightFormats:getLineHeightFormats,getContentLanguages:getContentLanguages,getRemovedMenuItems:getRemovedMenuItems,isMenubarEnabled:isMenubarEnabled,isMultipleToolbars:isMultipleToolbars,isToolbarEnabled:isToolbarEnabled,isToolbarPersist:isToolbarPersist,getMultipleToolbarsOption:getMultipleToolbarsOption,getUiContainer:getUiContainer,useFixedContainer:useFixedContainer,isSplitUiMode:isSplitUiMode,getToolbarMode:getToolbarMode,isDraggableModal:isDraggableModal$1,isDistractionFree:isDistractionFree,isStickyToolbar:isStickyToolbar,getStickyToolbarOffset:getStickyToolbarOffset,getToolbarLocation:getToolbarLocation,isToolbarLocationBottom:isToolbarLocationBottom,getToolbarGroups:getToolbarGroups,getMenus:getMenus,getMenubar:getMenubar,getToolbar:getToolbar,getFilePickerCallback:getFilePickerCallback,getFilePickerTypes:getFilePickerTypes,useTypeaheadUrls:useTypeaheadUrls,getAnchorTop:getAnchorTop,getAnchorBottom:getAnchorBottom,getFilePickerValidatorHandler:getFilePickerValidatorHandler,getFontSizeInputDefaultUnit:getFontSizeInputDefaultUnit,useStatusBar:useStatusBar,useElementPath:useElementPath,promotionEnabled:promotionEnabled,useBranding:useBranding,getResize:getResize,getPasteAsText:getPasteAsText,getSidebarShow:getSidebarShow,useHelpAccessibility:useHelpAccessibility,getDefaultFontStack:getDefaultFontStack});const autocompleteSelector='[data-mce-autocompleter]';const detect$1=elm=>closest$1(elm,autocompleteSelector);const findIn=elm=>descendant(elm,autocompleteSelector);const setup$e=(api,editor)=>{const redirectKeyToItem=(item,e)=>{emitWith(item,keydown(),{raw:e});};const getItem=()=>api.getMenu().bind(Highlighting.getHighlighted);editor.on('keydown',e=>{const keyCode=e.which;if(!api.isActive()){return;}if(api.isMenuOpen()){if(keyCode===13){getItem().each(emitExecute);e.preventDefault();}else if(keyCode===40){getItem().fold(()=>{api.getMenu().each(Highlighting.highlightFirst);},item=>{redirectKeyToItem(item,e);});e.preventDefault();e.stopImmediatePropagation();}else if(keyCode===37||keyCode===38||keyCode===39){getItem().each(item=>{redirectKeyToItem(item,e);e.preventDefault();e.stopImmediatePropagation();});}}else{if(keyCode===13||keyCode===38||keyCode===40){api.cancelIfNecessary();}}});editor.on('NodeChange',e=>{if(api.isActive()&&!api.isProcessingAction()&&detect$1(SugarElement.fromDom(e.element)).isNone()){api.cancelIfNecessary();}});};const AutocompleterEditorEvents={setup:setup$e};var ItemResponse;(function(ItemResponse){ItemResponse[ItemResponse['CLOSE_ON_EXECUTE']=0]='CLOSE_ON_EXECUTE';ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX']=1]='BUBBLE_TO_SANDBOX';})(ItemResponse||(ItemResponse={}));var ItemResponse$1=ItemResponse;const navClass='tox-menu-nav__js';const selectableClass='tox-collection__item';const colorClass='tox-swatch';const presetClasses={normal:navClass,color:colorClass};const tickedClass='tox-collection__item--enabled';const groupHeadingClass='tox-collection__group-heading';const iconClass='tox-collection__item-icon';const textClass='tox-collection__item-label';const accessoryClass='tox-collection__item-accessory';const caretClass='tox-collection__item-caret';const checkmarkClass='tox-collection__item-checkmark';const activeClass='tox-collection__item--active';const containerClass='tox-collection__item-container';const containerColumnClass='tox-collection__item-container--column';const containerRowClass='tox-collection__item-container--row';const containerAlignRightClass='tox-collection__item-container--align-right';const containerAlignLeftClass='tox-collection__item-container--align-left';const containerValignTopClass='tox-collection__item-container--valign-top';const containerValignMiddleClass='tox-collection__item-container--valign-middle';const containerValignBottomClass='tox-collection__item-container--valign-bottom';const classForPreset=presets=>get$g(presetClasses,presets).getOr(navClass);const forMenu=presets=>{if(presets==='color'){return'tox-swatches';}else{return'tox-menu';}};const classes=presets=>({backgroundMenu:'tox-background-menu',selectedMenu:'tox-selected-menu',selectedItem:'tox-collection__item--active',hasIcons:'tox-menu--has-icons',menu:forMenu(presets),tieredMenu:'tox-tiered-menu'});const markers=presets=>{const menuClasses=classes(presets);return{backgroundMenu:menuClasses.backgroundMenu,selectedMenu:menuClasses.selectedMenu,menu:menuClasses.menu,selectedItem:menuClasses.selectedItem,item:classForPreset(presets)};};const dom$1=(hasIcons,columns,presets)=>{const menuClasses=classes(presets);return{tag:'div',classes:flatten([[menuClasses.menu,`tox-menu-${columns}-column`],hasIcons?[menuClasses.hasIcons]:[]])};};const components=[Menu.parts.items({})];const part=(hasIcons,columns,presets)=>{const menuClasses=classes(presets);const d={tag:'div',classes:flatten([[menuClasses.tieredMenu]])};return{dom:d,markers:markers(presets)};};const schema$l=constant$1([option$3('data'),defaulted('inputAttributes',{}),defaulted('inputStyles',{}),defaulted('tag','input'),defaulted('inputClasses',[]),onHandler('onSetValue'),defaulted('styles',{}),defaulted('eventOrder',{}),field('inputBehaviours',[Representing,Focusing]),defaulted('selectOnFocus',true)]);const focusBehaviours=detail=>derive$1([Focusing.config({onFocus:!detail.selectOnFocus?noop:component=>{const input=component.element;const value=get$6(input);input.dom.setSelectionRange(0,value.length);}})]);const behaviours=detail=>({...focusBehaviours(detail),...augment(detail.inputBehaviours,[Representing.config({store:{mode:'manual',...detail.data.map(data=>({initialValue:data})).getOr({}),getValue:input=>{return get$6(input.element);},setValue:(input,data)=>{const current=get$6(input.element);if(current!==data){set$5(input.element,data);}}},onSetValue:detail.onSetValue})])});const dom=detail=>({tag:detail.tag,attributes:{type:'text',...detail.inputAttributes},styles:detail.inputStyles,classes:detail.inputClasses});const factory$l=(detail,_spec)=>({uid:detail.uid,dom:dom(detail),components:[],behaviours:behaviours(detail),eventOrder:detail.eventOrder});const Input=single({name:'Input',configFields:schema$l(),factory:factory$l});const refetchTriggerEvent=generate$6('refetch-trigger-event');const redirectMenuItemInteractionEvent=generate$6('redirect-menu-item-interaction');const menuSearcherClass='tox-menu__searcher';const findWithinSandbox=sandboxComp=>{return descendant(sandboxComp.element,`.${menuSearcherClass}`).bind(inputElem=>sandboxComp.getSystem().getByDom(inputElem).toOptional());};const findWithinMenu=findWithinSandbox;const restoreState=(inputComp,searcherState)=>{Representing.setValue(inputComp,searcherState.fetchPattern);inputComp.element.dom.selectionStart=searcherState.selectionStart;inputComp.element.dom.selectionEnd=searcherState.selectionEnd;};const saveState=inputComp=>{const fetchPattern=Representing.getValue(inputComp);const selectionStart=inputComp.element.dom.selectionStart;const selectionEnd=inputComp.element.dom.selectionEnd;return{fetchPattern,selectionStart,selectionEnd};};const setActiveDescendant=(inputComp,active)=>{getOpt(active.element,'id').each(id=>set$9(inputComp.element,'aria-activedescendant',id));};const renderMenuSearcher=spec=>{const handleByBrowser=(comp,se)=>{se.cut();return Optional.none();};const handleByHighlightedItem=(comp,se)=>{const eventData={interactionEvent:se.event,eventType:se.event.raw.type};emitWith(comp,redirectMenuItemInteractionEvent,eventData);return Optional.some(true);};const customSearcherEventsName='searcher-events';return{dom:{tag:'div',classes:[selectableClass]},components:[Input.sketch({inputClasses:[menuSearcherClass,'tox-textfield'],inputAttributes:{...spec.placeholder.map(placeholder=>({placeholder:spec.i18n(placeholder)})).getOr({}),'type':'search','aria-autocomplete':'list'},inputBehaviours:derive$1([config(customSearcherEventsName,[run$1(input(),inputComp=>{emit(inputComp,refetchTriggerEvent);}),run$1(keydown(),(inputComp,se)=>{if(se.event.raw.key==='Escape'){se.stop();}})]),Keying.config({mode:'special',onLeft:handleByBrowser,onRight:handleByBrowser,onSpace:handleByBrowser,onEnter:handleByHighlightedItem,onEscape:handleByHighlightedItem,onUp:handleByHighlightedItem,onDown:handleByHighlightedItem})]),eventOrder:{keydown:[customSearcherEventsName,Keying.name()]}})]};};const searchResultsClass='tox-collection--results__js';const augmentWithAria=item=>{var _a;if(item.dom){return{...item,dom:{...item.dom,attributes:{...((_a=item.dom.attributes)!==null&&_a!==void 0?_a:{}),'id':generate$6('aria-item-search-result-id'),'aria-selected':'false'}}};}else{return item;}};const chunk=(rowDom,numColumns)=>items=>{const chunks=chunk$1(items,numColumns);return map$2(chunks,c=>({dom:rowDom,components:c}));};const forSwatch=columns=>({dom:{tag:'div',classes:['tox-menu','tox-swatches-menu']},components:[{dom:{tag:'div',classes:['tox-swatches']},components:[Menu.parts.items({preprocess:columns!=='auto'?chunk({tag:'div',classes:['tox-swatches__row']},columns):identity})]}]});const forToolbar=columns=>({dom:{tag:'div',classes:['tox-menu','tox-collection','tox-collection--toolbar','tox-collection--toolbar-lg']},components:[Menu.parts.items({preprocess:chunk({tag:'div',classes:['tox-collection__group']},columns)})]});const preprocessCollection=(items,isSeparator)=>{const allSplits=[];let currentSplit=[];each$1(items,(item,i)=>{if(isSeparator(item,i)){if(currentSplit.length>0){allSplits.push(currentSplit);}currentSplit=[];if(has$2(item.dom,'innerHtml')||item.components&&item.components.length>0){currentSplit.push(item);}}else{currentSplit.push(item);}});if(currentSplit.length>0){allSplits.push(currentSplit);}return map$2(allSplits,s=>({dom:{tag:'div',classes:['tox-collection__group']},components:s}));};const insertItemsPlaceholder=(columns,initItems,onItem)=>{return Menu.parts.items({preprocess:rawItems=>{const enrichedItems=map$2(rawItems,onItem);if(columns!=='auto'&&columns>1){return chunk({tag:'div',classes:['tox-collection__group']},columns)(enrichedItems);}else{return preprocessCollection(enrichedItems,(_item,i)=>initItems[i].type==='separator');}}});};const forCollection=(columns,initItems,_hasIcons=true)=>({dom:{tag:'div',classes:['tox-menu','tox-collection'].concat(columns===1?['tox-collection--list']:['tox-collection--grid'])},components:[insertItemsPlaceholder(columns,initItems,identity)]});const forCollectionWithSearchResults=(columns,initItems,_hasIcons=true)=>{const ariaControlsSearchResults=generate$6('aria-controls-search-results');return{dom:{tag:'div',classes:['tox-menu','tox-collection',searchResultsClass].concat(columns===1?['tox-collection--list']:['tox-collection--grid']),attributes:{id:ariaControlsSearchResults}},components:[insertItemsPlaceholder(columns,initItems,augmentWithAria)]};};const forCollectionWithSearchField=(columns,initItems,searchField)=>{const ariaControlsSearchResults=generate$6('aria-controls-search-results');return{dom:{tag:'div',classes:['tox-menu','tox-collection'].concat(columns===1?['tox-collection--list']:['tox-collection--grid'])},components:[renderMenuSearcher({i18n:global$8.translate,placeholder:searchField.placeholder}),{dom:{tag:'div',classes:[...(columns===1?['tox-collection--list']:['tox-collection--grid']),searchResultsClass],attributes:{id:ariaControlsSearchResults}},components:[insertItemsPlaceholder(columns,initItems,augmentWithAria)]}]};};const forHorizontalCollection=(initItems,_hasIcons=true)=>({dom:{tag:'div',classes:['tox-collection','tox-collection--horizontal']},components:[Menu.parts.items({preprocess:items=>preprocessCollection(items,(_item,i)=>initItems[i].type==='separator')})]});const menuHasIcons=xs=>exists(xs,item=>'icon'in item&&item.icon!==undefined);const handleError=error=>{console.error(formatError(error));console.log(error);return Optional.none();};const createHorizontalPartialMenuWithAlloyItems=(value,_hasIcons,items,_columns,_menuLayout)=>{const structure=forHorizontalCollection(items);return{value,dom:structure.dom,components:structure.components,items};};const createPartialMenuWithAlloyItems=(value,hasIcons,items,columns,menuLayout)=>{const getNormalStructure=()=>{if(menuLayout.menuType!=='searchable'){return forCollection(columns,items);}else{return menuLayout.searchMode.searchMode==='search-with-field'?forCollectionWithSearchField(columns,items,menuLayout.searchMode):forCollectionWithSearchResults(columns,items);}};if(menuLayout.menuType==='color'){const structure=forSwatch(columns);return{value,dom:structure.dom,components:structure.components,items};}else if(menuLayout.menuType==='normal'&&columns==='auto'){const structure=forCollection(columns,items);return{value,dom:structure.dom,components:structure.components,items};}else if(menuLayout.menuType==='normal'||menuLayout.menuType==='searchable'){const structure=getNormalStructure();return{value,dom:structure.dom,components:structure.components,items};}else if(menuLayout.menuType==='listpreview'&&columns!=='auto'){const structure=forToolbar(columns);return{value,dom:structure.dom,components:structure.components,items};}else{return{value,dom:dom$1(hasIcons,columns,menuLayout.menuType),components:components,items};}};const type=requiredString('type');const name$1=requiredString('name');const label=requiredString('label');const text=requiredString('text');const title=requiredString('title');const icon=requiredString('icon');const value$1=requiredString('value');const fetch$1=requiredFunction('fetch');const getSubmenuItems=requiredFunction('getSubmenuItems');const onAction=requiredFunction('onAction');const onItemAction=requiredFunction('onItemAction');const onSetup=defaultedFunction('onSetup',()=>noop);const optionalName=optionString('name');const optionalText=optionString('text');const optionalIcon=optionString('icon');const optionalTooltip=optionString('tooltip');const optionalLabel=optionString('label');const optionalShortcut=optionString('shortcut');const optionalSelect=optionFunction('select');const active=defaultedBoolean('active',false);const borderless=defaultedBoolean('borderless',false);const enabled=defaultedBoolean('enabled',true);const primary=defaultedBoolean('primary',false);const defaultedColumns=num=>defaulted('columns',num);const defaultedMeta=defaulted('meta',{});const defaultedOnAction=defaultedFunction('onAction',noop);const defaultedType=type=>defaultedString('type',type);const generatedName=namePrefix=>field$1('name','name',defaultedThunk(()=>generate$6(`${namePrefix}-name`)),string);const generatedValue=valuePrefix=>field$1('value','value',defaultedThunk(()=>generate$6(`${valuePrefix}-value`)),anyValue());const separatorMenuItemSchema=objOf([type,optionalText]);const createSeparatorMenuItem=spec=>asRaw('separatormenuitem',separatorMenuItemSchema,spec);const autocompleterItemSchema=objOf([defaultedType('autocompleteitem'),active,enabled,defaultedMeta,value$1,optionalText,optionalIcon]);const createSeparatorItem=spec=>asRaw('Autocompleter.Separator',separatorMenuItemSchema,spec);const createAutocompleterItem=spec=>asRaw('Autocompleter.Item',autocompleterItemSchema,spec);const baseToolbarButtonFields=[enabled,optionalTooltip,optionalIcon,optionalText,onSetup];const toolbarButtonSchema=objOf([type,onAction].concat(baseToolbarButtonFields));const createToolbarButton=spec=>asRaw('toolbarbutton',toolbarButtonSchema,spec);const baseToolbarToggleButtonFields=[active].concat(baseToolbarButtonFields);const toggleButtonSchema=objOf(baseToolbarToggleButtonFields.concat([type,onAction]));const createToggleButton=spec=>asRaw('ToggleButton',toggleButtonSchema,spec);const contextBarFields=[defaultedFunction('predicate',never),defaultedStringEnum('scope','node',['node','editor']),defaultedStringEnum('position','selection',['node','selection','line'])];const contextButtonFields=baseToolbarButtonFields.concat([defaultedType('contextformbutton'),primary,onAction,customField('original',identity)]);const contextToggleButtonFields=baseToolbarToggleButtonFields.concat([defaultedType('contextformbutton'),primary,onAction,customField('original',identity)]);const launchButtonFields=baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);const launchToggleButtonFields=baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);const toggleOrNormal=choose$1('type',{contextformbutton:contextButtonFields,contextformtogglebutton:contextToggleButtonFields});const contextFormSchema=objOf([defaultedType('contextform'),defaultedFunction('initValue',constant$1('')),optionalLabel,requiredArrayOf('commands',toggleOrNormal),optionOf('launch',choose$1('type',{contextformbutton:launchButtonFields,contextformtogglebutton:launchToggleButtonFields}))].concat(contextBarFields));const createContextForm=spec=>asRaw('ContextForm',contextFormSchema,spec);const contextToolbarSchema=objOf([defaultedType('contexttoolbar'),requiredString('items')].concat(contextBarFields));const createContextToolbar=spec=>asRaw('ContextToolbar',contextToolbarSchema,spec);const cardImageFields=[type,requiredString('src'),optionString('alt'),defaultedArrayOf('classes',[],string)];const cardImageSchema=objOf(cardImageFields);const cardTextFields=[type,text,optionalName,defaultedArrayOf('classes',['tox-collection__item-label'],string)];const cardTextSchema=objOf(cardTextFields);const itemSchema$1=valueThunk(()=>choose$2('type',{cardimage:cardImageSchema,cardtext:cardTextSchema,cardcontainer:cardContainerSchema}));const cardContainerSchema=objOf([type,defaultedString('direction','horizontal'),defaultedString('align','left'),defaultedString('valign','middle'),requiredArrayOf('items',itemSchema$1)]);const commonMenuItemFields=[enabled,optionalText,optionalShortcut,generatedValue('menuitem'),defaultedMeta];const cardMenuItemSchema=objOf([type,optionalLabel,requiredArrayOf('items',itemSchema$1),onSetup,defaultedOnAction].concat(commonMenuItemFields));const createCardMenuItem=spec=>asRaw('cardmenuitem',cardMenuItemSchema,spec);const choiceMenuItemSchema=objOf([type,active,optionalIcon].concat(commonMenuItemFields));const createChoiceMenuItem=spec=>asRaw('choicemenuitem',choiceMenuItemSchema,spec);const baseFields=[type,requiredString('fancytype'),defaultedOnAction];const insertTableFields=[defaulted('initData',{})].concat(baseFields);const colorSwatchFields=[optionFunction('select'),defaultedObjOf('initData',{},[defaultedBoolean('allowCustomColors',true),defaultedString('storageKey','default'),optionArrayOf('colors',anyValue())])].concat(baseFields);const fancyMenuItemSchema=choose$1('fancytype',{inserttable:insertTableFields,colorswatch:colorSwatchFields});const createFancyMenuItem=spec=>asRaw('fancymenuitem',fancyMenuItemSchema,spec);const menuItemSchema=objOf([type,onSetup,defaultedOnAction,optionalIcon].concat(commonMenuItemFields));const createMenuItem=spec=>asRaw('menuitem',menuItemSchema,spec);const nestedMenuItemSchema=objOf([type,getSubmenuItems,onSetup,optionalIcon].concat(commonMenuItemFields));const createNestedMenuItem=spec=>asRaw('nestedmenuitem',nestedMenuItemSchema,spec);const toggleMenuItemSchema=objOf([type,optionalIcon,active,onSetup,onAction].concat(commonMenuItemFields));const createToggleMenuItem=spec=>asRaw('togglemenuitem',toggleMenuItemSchema,spec);const detectSize=(comp,margin,selectorClass)=>{const descendants$1=descendants(comp.element,'.'+selectorClass);if(descendants$1.length>0){const columnLength=findIndex$1(descendants$1,c=>{const thisTop=c.dom.getBoundingClientRect().top;const cTop=descendants$1[0].dom.getBoundingClientRect().top;return Math.abs(thisTop-cTop)>margin;}).getOr(descendants$1.length);return Optional.some({numColumns:columnLength,numRows:Math.ceil(descendants$1.length/columnLength)});}else{return Optional.none();}};const namedEvents=(name,handlers)=>derive$1([config(name,handlers)]);const unnamedEvents=handlers=>namedEvents(generate$6('unnamed-events'),handlers);const SimpleBehaviours={namedEvents,unnamedEvents};const ExclusivityChannel=generate$6('tooltip.exclusive');const ShowTooltipEvent=generate$6('tooltip.show');const HideTooltipEvent=generate$6('tooltip.hide');const hideAllExclusive=(component,_tConfig,_tState)=>{component.getSystem().broadcastOn([ExclusivityChannel],{});};const setComponents=(component,tConfig,tState,specs)=>{tState.getTooltip().each(tooltip=>{if(tooltip.getSystem().isConnected()){Replacing.set(tooltip,specs);}});};var TooltippingApis=/*#__PURE__*/Object.freeze({__proto__:null,hideAllExclusive:hideAllExclusive,setComponents:setComponents});const events$9=(tooltipConfig,state)=>{const hide=comp=>{state.getTooltip().each(p=>{detach(p);tooltipConfig.onHide(comp,p);state.clearTooltip();});state.clearTimer();};const show=comp=>{if(!state.isShowing()){hideAllExclusive(comp);const sink=tooltipConfig.lazySink(comp).getOrDie();const popup=comp.getSystem().build({dom:tooltipConfig.tooltipDom,components:tooltipConfig.tooltipComponents,events:derive$2(tooltipConfig.mode==='normal'?[run$1(mouseover(),_=>{emit(comp,ShowTooltipEvent);}),run$1(mouseout(),_=>{emit(comp,HideTooltipEvent);})]:[]),behaviours:derive$1([Replacing.config({})])});state.setTooltip(popup);attach(sink,popup);tooltipConfig.onShow(comp,popup);Positioning.position(sink,popup,{anchor:tooltipConfig.anchor(comp)});}};return derive$2(flatten([[run$1(ShowTooltipEvent,comp=>{state.resetTimer(()=>{show(comp);},tooltipConfig.delay);}),run$1(HideTooltipEvent,comp=>{state.resetTimer(()=>{hide(comp);},tooltipConfig.delay);}),run$1(receive(),(comp,message)=>{const receivingData=message;if(!receivingData.universal){if(contains$2(receivingData.channels,ExclusivityChannel)){hide(comp);}}}),runOnDetached(comp=>{hide(comp);})],tooltipConfig.mode==='normal'?[run$1(focusin(),comp=>{emit(comp,ShowTooltipEvent);}),run$1(postBlur(),comp=>{emit(comp,HideTooltipEvent);}),run$1(mouseover(),comp=>{emit(comp,ShowTooltipEvent);}),run$1(mouseout(),comp=>{emit(comp,HideTooltipEvent);})]:[run$1(highlight$1(),(comp,_se)=>{emit(comp,ShowTooltipEvent);}),run$1(dehighlight$1(),comp=>{emit(comp,HideTooltipEvent);})]]));};var ActiveTooltipping=/*#__PURE__*/Object.freeze({__proto__:null,events:events$9});var TooltippingSchema=[required$1('lazySink'),required$1('tooltipDom'),defaulted('exclusive',true),defaulted('tooltipComponents',[]),defaulted('delay',300),defaultedStringEnum('mode','normal',['normal','follow-highlight']),defaulted('anchor',comp=>({type:'hotspot',hotspot:comp,layouts:{onLtr:constant$1([south$2,north$2,southeast$2,northeast$2,southwest$2,northwest$2]),onRtl:constant$1([south$2,north$2,southeast$2,northeast$2,southwest$2,northwest$2])}})),onHandler('onHide'),onHandler('onShow')];const init$b=()=>{const timer=value$2();const popup=value$2();const clearTimer=()=>{timer.on(clearTimeout);};const resetTimer=(f,delay)=>{clearTimer();timer.set(setTimeout(f,delay));};const readState=constant$1('not-implemented');return nu$8({getTooltip:popup.get,isShowing:popup.isSet,setTooltip:popup.set,clearTooltip:popup.clear,clearTimer,resetTimer,readState});};var TooltippingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$b});const Tooltipping=create$4({fields:TooltippingSchema,name:'tooltipping',active:ActiveTooltipping,state:TooltippingState,apis:TooltippingApis});const escape=text=>text.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&');const ReadOnlyChannel='silver.readonly';const ReadOnlyDataSchema=objOf([requiredBoolean('readonly')]);const broadcastReadonly=(uiRefs,readonly)=>{const outerContainer=uiRefs.mainUi.outerContainer;const target=outerContainer.element;const motherships=[uiRefs.mainUi.mothership,...uiRefs.uiMotherships];if(readonly){each$1(motherships,m=>{m.broadcastOn([dismissPopups()],{target});});}each$1(motherships,m=>{m.broadcastOn([ReadOnlyChannel],{readonly});});};const setupReadonlyModeSwitch=(editor,uiRefs)=>{editor.on('init',()=>{if(editor.mode.isReadOnly()){broadcastReadonly(uiRefs,true);}});editor.on('SwitchMode',()=>broadcastReadonly(uiRefs,editor.mode.isReadOnly()));if(isReadOnly(editor)){editor.mode.set('readonly');}};const receivingConfig=()=>Receiving.config({channels:{[ReadOnlyChannel]:{schema:ReadOnlyDataSchema,onReceive:(comp,data)=>{Disabling.set(comp,data.readonly);}}}});const item=disabled=>Disabling.config({disabled,disableClass:'tox-collection__item--state-disabled'});const button=disabled=>Disabling.config({disabled});const splitButton=disabled=>Disabling.config({disabled,disableClass:'tox-tbtn--disabled'});const toolbarButton=disabled=>Disabling.config({disabled,disableClass:'tox-tbtn--disabled',useNative:false});const DisablingConfigs={item,button,splitButton,toolbarButton};const runWithApi=(info,comp)=>{const api=info.getApi(comp);return f=>{f(api);};};const onControlAttached=(info,editorOffCell)=>runOnAttached(comp=>{const run=runWithApi(info,comp);run(api=>{const onDestroy=info.onSetup(api);if(isFunction(onDestroy)){editorOffCell.set(onDestroy);}});});const onControlDetached=(getApi,editorOffCell)=>runOnDetached(comp=>runWithApi(getApi,comp)(editorOffCell.get()));const onMenuItemExecute=(info,itemResponse)=>runOnExecute$1((comp,simulatedEvent)=>{runWithApi(info,comp)(info.onAction);if(!info.triggersSubmenu&&itemResponse===ItemResponse$1.CLOSE_ON_EXECUTE){if(comp.getSystem().isConnected()){emit(comp,sandboxClose());}simulatedEvent.stop();}});const menuItemEventOrder={[execute$5()]:['disabling','alloy.base.behaviour','toggling','item-events']};const componentRenderPipeline=cat;const renderCommonItem=(spec,structure,itemResponse,providersBackstage)=>{const editorOffCell=Cell(noop);return{type:'item',dom:structure.dom,components:componentRenderPipeline(structure.optComponents),data:spec.data,eventOrder:menuItemEventOrder,hasSubmenu:spec.triggersSubmenu,itemBehaviours:derive$1([config('item-events',[onMenuItemExecute(spec,itemResponse),onControlAttached(spec,editorOffCell),onControlDetached(spec,editorOffCell)]),DisablingConfigs.item(()=>!spec.enabled||providersBackstage.isDisabled()),receivingConfig(),Replacing.config({})].concat(spec.itemBehaviours))};};const buildData=source=>({value:source.value,meta:{text:source.text.getOr(''),...source.meta}});const convertText=source=>{const isMac=global$5.os.isMacOS()||global$5.os.isiOS();const mac={alt:'\\u2325',ctrl:'\\u2303',shift:'\\u21E7',meta:'\\u2318',access:'\\u2303\\u2325'};const other={meta:'Ctrl',access:'Shift+Alt'};const replace=isMac?mac:other;const shortcut=source.split('+');const updated=map$2(shortcut,segment=>{const search=segment.toLowerCase().trim();return has$2(replace,search)?replace[search]:segment;});return isMac?updated.join(''):updated.join('+');};const renderIcon$2=(name,icons,classes=[iconClass])=>render$3(name,{tag:'div',classes},icons);const renderText=text=>({dom:{tag:'div',classes:[textClass]},components:[text$2(global$8.translate(text))]});const renderHtml=(html,classes)=>({dom:{tag:'div',classes,innerHtml:html}});const renderStyledText=(style,text)=>({dom:{tag:'div',classes:[textClass]},components:[{dom:{tag:style.tag,styles:style.styles},components:[text$2(global$8.translate(text))]}]});const renderShortcut=shortcut=>({dom:{tag:'div',classes:[accessoryClass]},components:[text$2(convertText(shortcut))]});const renderCheckmark=icons=>renderIcon$2('checkmark',icons,[checkmarkClass]);const renderSubmenuCaret=icons=>renderIcon$2('chevron-right',icons,[caretClass]);const renderDownwardsCaret=icons=>renderIcon$2('chevron-down',icons,[caretClass]);const renderContainer=(container,components)=>{const directionClass=container.direction==='vertical'?containerColumnClass:containerRowClass;const alignClass=container.align==='left'?containerAlignLeftClass:containerAlignRightClass;const getValignClass=()=>{switch(container.valign){case'top':return containerValignTopClass;case'middle':return containerValignMiddleClass;case'bottom':return containerValignBottomClass;}};return{dom:{tag:'div',classes:[containerClass,directionClass,alignClass,getValignClass()]},components};};const renderImage=(src,classes,alt)=>({dom:{tag:'img',classes,attributes:{src,alt:alt.getOr('')}}});const renderColorStructure=(item,providerBackstage,fallbackIcon)=>{const colorPickerCommand='custom';const removeColorCommand='remove';const itemText=item.ariaLabel;const itemValue=item.value;const iconSvg=item.iconContent.map(name=>getOr(name,providerBackstage.icons,fallbackIcon));const getDom=()=>{const common=colorClass;const icon=iconSvg.getOr('');const attributes=itemText.map(text=>({title:providerBackstage.translate(text)})).getOr({});const baseDom={tag:'div',attributes,classes:[common]};if(itemValue===colorPickerCommand){return{...baseDom,tag:'button',classes:[...baseDom.classes,'tox-swatches__picker-btn'],innerHtml:icon};}else if(itemValue===removeColorCommand){return{...baseDom,classes:[...baseDom.classes,'tox-swatch--remove'],innerHtml:icon};}else if(isNonNullable(itemValue)){return{...baseDom,attributes:{...baseDom.attributes,'data-mce-color':itemValue},styles:{'background-color':itemValue},innerHtml:icon};}else{return baseDom;}};return{dom:getDom(),optComponents:[]};};const renderItemDomStructure=ariaLabel=>{const domTitle=ariaLabel.map(label=>({attributes:{title:global$8.translate(label),id:generate$6('menu-item')}})).getOr({});return{tag:'div',classes:[navClass,selectableClass],...domTitle};};const renderNormalItemStructure=(info,providersBackstage,renderIcons,fallbackIcon)=>{const iconSpec={tag:'div',classes:[iconClass]};const renderIcon=iconName=>render$3(iconName,iconSpec,providersBackstage.icons,fallbackIcon);const renderEmptyIcon=()=>Optional.some({dom:iconSpec});const leftIcon=renderIcons?info.iconContent.map(renderIcon).orThunk(renderEmptyIcon):Optional.none();const checkmark=info.checkMark;const textRender=Optional.from(info.meta).fold(()=>renderText,meta=>has$2(meta,'style')?curry(renderStyledText,meta.style):renderText);const content=info.htmlContent.fold(()=>info.textContent.map(textRender),html=>Optional.some(renderHtml(html,[textClass])));const menuItem={dom:renderItemDomStructure(info.ariaLabel),optComponents:[leftIcon,content,info.shortcutContent.map(renderShortcut),checkmark,info.caret]};return menuItem;};const renderItemStructure=(info,providersBackstage,renderIcons,fallbackIcon=Optional.none())=>{if(info.presets==='color'){return renderColorStructure(info,providersBackstage,fallbackIcon);}else{return renderNormalItemStructure(info,providersBackstage,renderIcons,fallbackIcon);}};const tooltipBehaviour=(meta,sharedBackstage)=>get$g(meta,'tooltipWorker').map(tooltipWorker=>[Tooltipping.config({lazySink:sharedBackstage.getSink,tooltipDom:{tag:'div',classes:['tox-tooltip-worker-container']},tooltipComponents:[],anchor:comp=>({type:'submenu',item:comp,overrides:{maxHeightFunction:expandable$1}}),mode:'follow-highlight',onShow:(component,_tooltip)=>{tooltipWorker(elm=>{Tooltipping.setComponents(component,[external$1({element:SugarElement.fromDom(elm)})]);});}})]).getOr([]);const encodeText=text=>global$7.DOM.encode(text);const replaceText=(text,matchText)=>{const translated=global$8.translate(text);const encoded=encodeText(translated);if(matchText.length>0){const escapedMatchRegex=new RegExp(escape(matchText),'gi');return encoded.replace(escapedMatchRegex,match=>`<span class=\"tox-autocompleter-highlight\">${match}</span>`);}else{return encoded;}};const renderAutocompleteItem=(spec,matchText,useText,presets,onItemValueHandler,itemResponse,sharedBackstage,renderIcons=true)=>{const structure=renderItemStructure({presets,textContent:Optional.none(),htmlContent:useText?spec.text.map(text=>replaceText(text,matchText)):Optional.none(),ariaLabel:spec.text,iconContent:spec.icon,shortcutContent:Optional.none(),checkMark:Optional.none(),caret:Optional.none(),value:spec.value},sharedBackstage.providers,renderIcons,spec.icon);return renderCommonItem({data:buildData(spec),enabled:spec.enabled,getApi:constant$1({}),onAction:_api=>onItemValueHandler(spec.value,spec.meta),onSetup:constant$1(noop),triggersSubmenu:false,itemBehaviours:tooltipBehaviour(spec.meta,sharedBackstage)},structure,itemResponse,sharedBackstage.providers);};const render$2=(items,extras)=>map$2(items,item=>{switch(item.type){case'cardcontainer':return renderContainer(item,render$2(item.items,extras));case'cardimage':return renderImage(item.src,item.classes,item.alt);case'cardtext':const shouldHighlight=item.name.exists(name=>contains$2(extras.cardText.highlightOn,name));const matchText=shouldHighlight?Optional.from(extras.cardText.matchText).getOr(''):'';return renderHtml(replaceText(item.text,matchText),item.classes);}});const renderCardMenuItem=(spec,itemResponse,sharedBackstage,extras)=>{const getApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>{Disabling.set(component,!state);each$1(descendants(component.element,'*'),elm=>{component.getSystem().getByDom(elm).each(comp=>{if(comp.hasConfigured(Disabling)){Disabling.set(comp,!state);}});});}});const structure={dom:renderItemDomStructure(spec.label),optComponents:[Optional.some({dom:{tag:'div',classes:[containerClass,containerRowClass]},components:render$2(spec.items,extras)})]};return renderCommonItem({data:buildData({text:Optional.none(),...spec}),enabled:spec.enabled,getApi,onAction:spec.onAction,onSetup:spec.onSetup,triggersSubmenu:false,itemBehaviours:Optional.from(extras.itemBehaviours).getOr([])},structure,itemResponse,sharedBackstage.providers);};const renderChoiceItem=(spec,useText,presets,onItemValueHandler,isSelected,itemResponse,providersBackstage,renderIcons=true)=>{const getApi=component=>({setActive:state=>{Toggling.set(component,state);},isActive:()=>Toggling.isOn(component),isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({presets,textContent:useText?spec.text:Optional.none(),htmlContent:Optional.none(),ariaLabel:spec.text,iconContent:spec.icon,shortcutContent:useText?spec.shortcut:Optional.none(),checkMark:useText?Optional.some(renderCheckmark(providersBackstage.icons)):Optional.none(),caret:Optional.none(),value:spec.value},providersBackstage,renderIcons);return deepMerge(renderCommonItem({data:buildData(spec),enabled:spec.enabled,getApi,onAction:_api=>onItemValueHandler(spec.value),onSetup:api=>{api.setActive(isSelected);return noop;},triggersSubmenu:false,itemBehaviours:[]},structure,itemResponse,providersBackstage),{toggling:{toggleClass:tickedClass,toggleOnExecute:false,selected:spec.active,exclusive:true}});};const parts$f=generate$3(owner$2(),parts$h());const hexColour=value=>({value:normalizeHex(value)});const shorthandRegex=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;const longformRegex=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;const isHexString=hex=>shorthandRegex.test(hex)||longformRegex.test(hex);const normalizeHex=hex=>removeLeading(hex,'#').toUpperCase();const fromString$1=hex=>isHexString(hex)?Optional.some({value:normalizeHex(hex)}):Optional.none();const getLongForm=hex=>{const hexString=hex.value.replace(shorthandRegex,(m,r,g,b)=>r+r+g+g+b+b);return{value:hexString};};const extractValues=hex=>{const longForm=getLongForm(hex);const splitForm=longformRegex.exec(longForm.value);return splitForm===null?['FFFFFF','FF','FF','FF']:splitForm;};const toHex=component=>{const hex=component.toString(16);return(hex.length===1?'0'+hex:hex).toUpperCase();};const fromRgba=rgbaColour=>{const value=toHex(rgbaColour.red)+toHex(rgbaColour.green)+toHex(rgbaColour.blue);return hexColour(value);};const min=Math.min;const max=Math.max;const round$1=Math.round;const rgbRegex=/^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;const rgbaRegex=/^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;const rgbaColour=(red,green,blue,alpha)=>({red,green,blue,alpha});const isRgbaComponent=value=>{const num=parseInt(value,10);return num.toString()===value&&num>=0&&num<=255;};const fromHsv=hsv=>{let r;let g;let b;const hue=(hsv.hue||0)%360;let saturation=hsv.saturation/100;let brightness=hsv.value/100;saturation=max(0,min(saturation,1));brightness=max(0,min(brightness,1));if(saturation===0){r=g=b=round$1(255*brightness);return rgbaColour(r,g,b,1);}const side=hue/60;const chroma=brightness*saturation;const x=chroma*(1-Math.abs(side%2-1));const match=brightness-chroma;switch(Math.floor(side)){case 0:r=chroma;g=x;b=0;break;case 1:r=x;g=chroma;b=0;break;case 2:r=0;g=chroma;b=x;break;case 3:r=0;g=x;b=chroma;break;case 4:r=x;g=0;b=chroma;break;case 5:r=chroma;g=0;b=x;break;default:r=g=b=0;}r=round$1(255*(r+match));g=round$1(255*(g+match));b=round$1(255*(b+match));return rgbaColour(r,g,b,1);};const fromHex=hexColour=>{const result=extractValues(hexColour);const red=parseInt(result[1],16);const green=parseInt(result[2],16);const blue=parseInt(result[3],16);return rgbaColour(red,green,blue,1);};const fromStringValues=(red,green,blue,alpha)=>{const r=parseInt(red,10);const g=parseInt(green,10);const b=parseInt(blue,10);const a=parseFloat(alpha);return rgbaColour(r,g,b,a);};const fromString=rgbaString=>{if(rgbaString==='transparent'){return Optional.some(rgbaColour(0,0,0,0));}const rgbMatch=rgbRegex.exec(rgbaString);if(rgbMatch!==null){return Optional.some(fromStringValues(rgbMatch[1],rgbMatch[2],rgbMatch[3],'1'));}const rgbaMatch=rgbaRegex.exec(rgbaString);if(rgbaMatch!==null){return Optional.some(fromStringValues(rgbaMatch[1],rgbaMatch[2],rgbaMatch[3],rgbaMatch[4]));}return Optional.none();};const toString=rgba=>`rgba(${rgba.red},${rgba.green},${rgba.blue},${rgba.alpha})`;const red=rgbaColour(255,0,0,1);const fireSkinLoaded$1=editor=>{editor.dispatch('SkinLoaded');};const fireSkinLoadError$1=(editor,error)=>{editor.dispatch('SkinLoadError',error);};const fireResizeEditor=editor=>{editor.dispatch('ResizeEditor');};const fireResizeContent=(editor,e)=>{editor.dispatch('ResizeContent',e);};const fireScrollContent=(editor,e)=>{editor.dispatch('ScrollContent',e);};const fireTextColorChange=(editor,data)=>{editor.dispatch('TextColorChange',data);};const fireAfterProgressState=(editor,state)=>{editor.dispatch('AfterProgressState',{state});};const fireResolveName=(editor,node)=>editor.dispatch('ResolveName',{name:node.nodeName.toLowerCase(),target:node});const fireToggleToolbarDrawer=(editor,state)=>{editor.dispatch('ToggleToolbarDrawer',{state});};const fireStylesTextUpdate=(editor,data)=>{editor.dispatch('StylesTextUpdate',data);};const fireAlignTextUpdate=(editor,data)=>{editor.dispatch('AlignTextUpdate',data);};const fireFontSizeTextUpdate=(editor,data)=>{editor.dispatch('FontSizeTextUpdate',data);};const fireFontSizeInputTextUpdate=(editor,data)=>{editor.dispatch('FontSizeInputTextUpdate',data);};const fireBlocksTextUpdate=(editor,data)=>{editor.dispatch('BlocksTextUpdate',data);};const fireFontFamilyTextUpdate=(editor,data)=>{editor.dispatch('FontFamilyTextUpdate',data);};const composeUnbinders=(f,g)=>()=>{f();g();};const onSetupEditableToggle=editor=>onSetupEvent(editor,'NodeChange',api=>{api.setEnabled(editor.selection.isEditable());});const onSetupFormatToggle=(editor,name)=>api=>{const boundFormatChangeCallback=unbindable();const init=()=>{api.setActive(editor.formatter.match(name));const binding=editor.formatter.formatChanged(name,api.setActive);boundFormatChangeCallback.set(binding);};editor.initialized?init():editor.once('init',init);return()=>{editor.off('init',init);boundFormatChangeCallback.clear();};};const onSetupStateToggle=(editor,name)=>api=>{const unbindEditableToogle=onSetupEditableToggle(editor)(api);const unbindFormatToggle=onSetupFormatToggle(editor,name)(api);return()=>{unbindEditableToogle();unbindFormatToggle();};};const onSetupEvent=(editor,event,f)=>api=>{const handleEvent=()=>f(api);const init=()=>{f(api);editor.on(event,handleEvent);};editor.initialized?init():editor.once('init',init);return()=>{editor.off('init',init);editor.off(event,handleEvent);};};const onActionToggleFormat$1=editor=>rawItem=>()=>{editor.undoManager.transact(()=>{editor.focus();editor.execCommand('mceToggleFormat',false,rawItem.format);});};const onActionExecCommand=(editor,command)=>()=>editor.execCommand(command);var global$4=tinymce.util.Tools.resolve('tinymce.util.LocalStorage');const cacheStorage={};const ColorCache=(storageId,max=10)=>{const storageString=global$4.getItem(storageId);const localstorage=isString(storageString)?JSON.parse(storageString):[];const prune=list=>{const diff=max-list.length;return diff<0?list.slice(0,max):list;};const cache=prune(localstorage);const add=key=>{indexOf(cache,key).each(remove);cache.unshift(key);if(cache.length>max){cache.pop();}global$4.setItem(storageId,JSON.stringify(cache));};const remove=idx=>{cache.splice(idx,1);};const state=()=>cache.slice(0);return{add,state};};const getCacheForId=id=>get$g(cacheStorage,id).getOrThunk(()=>{const storageId=`tinymce-custom-colors-${id}`;const currentData=global$4.getItem(storageId);if(isNullable(currentData)){const legacyDefault=global$4.getItem('tinymce-custom-colors');global$4.setItem(storageId,isNonNullable(legacyDefault)?legacyDefault:'[]');}const storage=ColorCache(storageId,10);cacheStorage[id]=storage;return storage;});const getCurrentColors=id=>map$2(getCacheForId(id).state(),color=>({type:'choiceitem',text:color,icon:'checkmark',value:color}));const addColor=(id,color)=>{getCacheForId(id).add(color);};const hsvColour=(hue,saturation,value)=>({hue,saturation,value});const fromRgb=rgbaColour=>{let h=0;let s=0;let v=0;const r=rgbaColour.red/255;const g=rgbaColour.green/255;const b=rgbaColour.blue/255;const minRGB=Math.min(r,Math.min(g,b));const maxRGB=Math.max(r,Math.max(g,b));if(minRGB===maxRGB){v=minRGB;return hsvColour(0,0,v*100);}const d=r===minRGB?g-b:b===minRGB?r-g:b-r;h=r===minRGB?3:b===minRGB?1:5;h=60*(h-d/(maxRGB-minRGB));s=(maxRGB-minRGB)/maxRGB;v=maxRGB;return hsvColour(Math.round(h),Math.round(s*100),Math.round(v*100));};const hexToHsv=hex=>fromRgb(fromHex(hex));const hsvToHex=hsv=>fromRgba(fromHsv(hsv));const anyToHex=color=>fromString$1(color).orThunk(()=>fromString(color).map(fromRgba)).getOrThunk(()=>{const canvas=document.createElement('canvas');canvas.height=1;canvas.width=1;const canvasContext=canvas.getContext('2d');canvasContext.clearRect(0,0,canvas.width,canvas.height);canvasContext.fillStyle='#FFFFFF';canvasContext.fillStyle=color;canvasContext.fillRect(0,0,1,1);const rgba=canvasContext.getImageData(0,0,1,1).data;const r=rgba[0];const g=rgba[1];const b=rgba[2];const a=rgba[3];return fromRgba(rgbaColour(r,g,b,a));});const foregroundId='forecolor';const backgroundId='hilitecolor';const fallbackCols=5;const mapColors=colorMap=>{const colors=[];for(let i=0;i<colorMap.length;i+=2){colors.push({text:colorMap[i+1],value:'#'+anyToHex(colorMap[i]).value,icon:'checkmark',type:'choiceitem'});}return colors;};const option$1=name=>editor=>editor.options.get(name);const fallbackColor='#000000';const register$d=editor=>{const registerOption=editor.options.register;const colorProcessor=value=>{if(isArrayOf(value,isString)){return{value:mapColors(value),valid:true};}else{return{valid:false,message:'Must be an array of strings.'};}};const colorColsProcessor=value=>{if(isNumber(value)&&value>0){return{value,valid:true};}else{return{valid:false,message:'Must be a positive number.'};}};registerOption('color_map',{processor:colorProcessor,default:['#BFEDD2','Light Green','#FBEEB8','Light Yellow','#F8CAC6','Light Red','#ECCAFA','Light Purple','#C2E0F4','Light Blue','#2DC26B','Green','#F1C40F','Yellow','#E03E2D','Red','#B96AD9','Purple','#3598DB','Blue','#169179','Dark Turquoise','#E67E23','Orange','#BA372A','Dark Red','#843FA1','Dark Purple','#236FA1','Dark Blue','#ECF0F1','Light Gray','#CED4D9','Medium Gray','#95A5A6','Gray','#7E8C8D','Dark Gray','#34495E','Navy Blue','#000000','Black','#ffffff','White']});registerOption('color_map_background',{processor:colorProcessor});registerOption('color_map_foreground',{processor:colorProcessor});registerOption('color_cols',{processor:colorColsProcessor,default:calcCols(editor)});registerOption('color_cols_foreground',{processor:colorColsProcessor,default:defaultCols(editor,foregroundId)});registerOption('color_cols_background',{processor:colorColsProcessor,default:defaultCols(editor,backgroundId)});registerOption('custom_colors',{processor:'boolean',default:true});registerOption('color_default_foreground',{processor:'string',default:fallbackColor});registerOption('color_default_background',{processor:'string',default:fallbackColor});};const getColors$2=(editor,id)=>{if(id===foregroundId&&editor.options.isSet('color_map_foreground')){return option$1('color_map_foreground')(editor);}else if(id===backgroundId&&editor.options.isSet('color_map_background')){return option$1('color_map_background')(editor);}else{return option$1('color_map')(editor);}};const calcCols=(editor,id='default')=>Math.max(fallbackCols,Math.ceil(Math.sqrt(getColors$2(editor,id).length)));const defaultCols=(editor,id)=>{const defaultCols=option$1('color_cols')(editor);const calculatedCols=calcCols(editor,id);if(defaultCols===calcCols(editor)){return calculatedCols;}else{return defaultCols;}};const getColorCols$1=(editor,id='default')=>{const getCols=()=>{if(id===foregroundId){return option$1('color_cols_foreground')(editor);}else if(id===backgroundId){return option$1('color_cols_background')(editor);}else{return option$1('color_cols')(editor);}};return Math.round(getCols());};const hasCustomColors$1=option$1('custom_colors');const getDefaultForegroundColor=option$1('color_default_foreground');const getDefaultBackgroundColor=option$1('color_default_background');const defaultBackgroundColor='rgba(0, 0, 0, 0)';const isValidBackgroundColor=value=>fromString(value).exists(c=>c.alpha!==0);const getClosestCssBackgroundColorValue=scope=>{return closest$4(scope,node=>{if(isElement$1(node)){const color=get$e(node,'background-color');return someIf(isValidBackgroundColor(color),color);}else{return Optional.none();}}).getOr(defaultBackgroundColor);};const getCurrentColor=(editor,format)=>{const node=SugarElement.fromDom(editor.selection.getStart());const cssRgbValue=format==='hilitecolor'?getClosestCssBackgroundColorValue(node):get$e(node,'color');return fromString(cssRgbValue).map(rgba=>'#'+fromRgba(rgba).value);};const applyFormat=(editor,format,value)=>{editor.undoManager.transact(()=>{editor.focus();editor.formatter.apply(format,{value});editor.nodeChanged();});};const removeFormat=(editor,format)=>{editor.undoManager.transact(()=>{editor.focus();editor.formatter.remove(format,{value:null},undefined,true);editor.nodeChanged();});};const registerCommands=editor=>{editor.addCommand('mceApplyTextcolor',(format,value)=>{applyFormat(editor,format,value);});editor.addCommand('mceRemoveTextcolor',format=>{removeFormat(editor,format);});};const getAdditionalColors=hasCustom=>{const type='choiceitem';const remove={type,text:'Remove color',icon:'color-swatch-remove-color',value:'remove'};const custom={type,text:'Custom color',icon:'color-picker',value:'custom'};return hasCustom?[remove,custom]:[remove];};const applyColor=(editor,format,value,onChoice)=>{if(value==='custom'){const dialog=colorPickerDialog(editor);dialog(colorOpt=>{colorOpt.each(color=>{addColor(format,color);editor.execCommand('mceApplyTextcolor',format,color);onChoice(color);});},getCurrentColor(editor,format).getOr(fallbackColor));}else if(value==='remove'){onChoice('');editor.execCommand('mceRemoveTextcolor',format);}else{onChoice(value);editor.execCommand('mceApplyTextcolor',format,value);}};const getColors$1=(colors,id,hasCustom)=>colors.concat(getCurrentColors(id).concat(getAdditionalColors(hasCustom)));const getFetch$1=(colors,id,hasCustom)=>callback=>{callback(getColors$1(colors,id,hasCustom));};const setIconColor=(splitButtonApi,name,newColor)=>{const id=name==='forecolor'?'tox-icon-text-color__color':'tox-icon-highlight-bg-color__color';splitButtonApi.setIconFill(id,newColor);};const setTooltip=(buttonApi,tooltip)=>{buttonApi.setTooltip(tooltip);};const select$1=(editor,format)=>value=>{const optCurrentHex=getCurrentColor(editor,format);return is$1(optCurrentHex,value.toUpperCase());};const getToolTipText=(editor,format,lastColor)=>{if(isEmpty(lastColor)){return format==='forecolor'?'Text color':'Background color';}const tooltipPrefix=format==='forecolor'?'Text color {0}':'Background color {0}';const colors=getColors$1(getColors$2(editor,format),format,false);const colorText=find$5(colors,c=>c.value===lastColor).getOr({text:''}).text;return editor.translate([tooltipPrefix,editor.translate(colorText)]);};const registerTextColorButton=(editor,name,format,lastColor)=>{editor.ui.registry.addSplitButton(name,{tooltip:getToolTipText(editor,format,lastColor.get()),presets:'color',icon:name==='forecolor'?'text-color':'highlight-bg-color',select:select$1(editor,format),columns:getColorCols$1(editor,format),fetch:getFetch$1(getColors$2(editor,format),format,hasCustomColors$1(editor)),onAction:_splitButtonApi=>{applyColor(editor,format,lastColor.get(),noop);},onItemAction:(_splitButtonApi,value)=>{applyColor(editor,format,value,newColor=>{lastColor.set(newColor);fireTextColorChange(editor,{name,color:newColor});});},onSetup:splitButtonApi=>{setIconColor(splitButtonApi,name,lastColor.get());const handler=e=>{if(e.name===name){setIconColor(splitButtonApi,e.name,e.color);setTooltip(splitButtonApi,getToolTipText(editor,format,e.color));}};editor.on('TextColorChange',handler);return composeUnbinders(onSetupEditableToggle(editor)(splitButtonApi),()=>{editor.off('TextColorChange',handler);});}});};const registerTextColorMenuItem=(editor,name,format,text,lastColor)=>{editor.ui.registry.addNestedMenuItem(name,{text,icon:name==='forecolor'?'text-color':'highlight-bg-color',onSetup:api=>{setTooltip(api,getToolTipText(editor,format,lastColor.get()));setIconColor(api,name,lastColor.get());return onSetupEditableToggle(editor)(api);},getSubmenuItems:()=>[{type:'fancymenuitem',fancytype:'colorswatch',select:select$1(editor,format),initData:{storageKey:format},onAction:data=>{applyColor(editor,format,data.value,newColor=>{lastColor.set(newColor);fireTextColorChange(editor,{name,color:newColor});});}}]});};const colorPickerDialog=editor=>(callback,value)=>{let isValid=false;const onSubmit=api=>{const data=api.getData();const hex=data.colorpicker;if(isValid){callback(Optional.from(hex));api.close();}else{editor.windowManager.alert(editor.translate(['Invalid hex color code: {0}',hex]));}};const onAction=(_api,details)=>{if(details.name==='hex-valid'){isValid=details.value;}};const initialData={colorpicker:value};editor.windowManager.open({title:'Color Picker',size:'normal',body:{type:'panel',items:[{type:'colorpicker',name:'colorpicker',label:'Color'}]},buttons:[{type:'cancel',name:'cancel',text:'Cancel'},{type:'submit',name:'save',text:'Save',primary:true}],initialData,onAction,onSubmit,onClose:noop,onCancel:()=>{callback(Optional.none());}});};const register$c=editor=>{registerCommands(editor);const fallbackColorForeground=getDefaultForegroundColor(editor);const fallbackColorBackground=getDefaultBackgroundColor(editor);const lastForeColor=Cell(fallbackColorForeground);const lastBackColor=Cell(fallbackColorBackground);registerTextColorButton(editor,'forecolor','forecolor',lastForeColor);registerTextColorButton(editor,'backcolor','hilitecolor',lastBackColor);registerTextColorMenuItem(editor,'forecolor','forecolor','Text color',lastForeColor);registerTextColorMenuItem(editor,'backcolor','hilitecolor','Background color',lastBackColor);};const createPartialChoiceMenu=(value,items,onItemValueHandler,columns,presets,itemResponse,select,providersBackstage)=>{const hasIcons=menuHasIcons(items);const presetItemTypes=presets!=='color'?'normal':'color';const alloyItems=createChoiceItems(items,onItemValueHandler,columns,presetItemTypes,itemResponse,select,providersBackstage);const menuLayout={menuType:presets};return createPartialMenuWithAlloyItems(value,hasIcons,alloyItems,columns,menuLayout);};const createChoiceItems=(items,onItemValueHandler,columns,itemPresets,itemResponse,select,providersBackstage)=>cat(map$2(items,item=>{if(item.type==='choiceitem'){return createChoiceMenuItem(item).fold(handleError,d=>Optional.some(renderChoiceItem(d,columns===1,itemPresets,onItemValueHandler,select(d.value),itemResponse,providersBackstage,menuHasIcons(items))));}else{return Optional.none();}}));const deriveMenuMovement=(columns,presets)=>{const menuMarkers=markers(presets);if(columns===1){return{mode:'menu',moveOnTab:true};}else if(columns==='auto'){return{mode:'grid',selector:'.'+menuMarkers.item,initSize:{numColumns:1,numRows:1}};}else{const rowClass=presets==='color'?'tox-swatches__row':'tox-collection__group';return{mode:'matrix',rowSelector:'.'+rowClass,previousSelector:menu=>{return presets==='color'?descendant(menu.element,'[aria-checked=true]'):Optional.none();}};}};const deriveCollectionMovement=(columns,presets)=>{if(columns===1){return{mode:'menu',moveOnTab:false,selector:'.tox-collection__item'};}else if(columns==='auto'){return{mode:'flatgrid',selector:'.'+'tox-collection__item',initSize:{numColumns:1,numRows:1}};}else{return{mode:'matrix',selectors:{row:presets==='color'?'.tox-swatches__row':'.tox-collection__group',cell:presets==='color'?`.${colorClass}`:`.${selectableClass}`}};}};const renderColorSwatchItem=(spec,backstage)=>{const items=getColorItems(spec,backstage);const columns=backstage.colorinput.getColorCols(spec.initData.storageKey);const presets='color';const menuSpec=createPartialChoiceMenu(generate$6('menu-value'),items,value=>{spec.onAction({value});},columns,presets,ItemResponse$1.CLOSE_ON_EXECUTE,spec.select.getOr(never),backstage.shared.providers);const widgetSpec={...menuSpec,markers:markers(presets),movement:deriveMenuMovement(columns,presets)};return{type:'widget',data:{value:generate$6('widget-id')},dom:{tag:'div',classes:['tox-fancymenuitem']},autofocus:true,components:[parts$f.widget(Menu.sketch(widgetSpec))]};};const getColorItems=(spec,backstage)=>{const useCustomColors=spec.initData.allowCustomColors&&backstage.colorinput.hasCustomColors();return spec.initData.colors.fold(()=>getColors$1(backstage.colorinput.getColors(spec.initData.storageKey),spec.initData.storageKey,useCustomColors),colors=>colors.concat(getAdditionalColors(useCustomColors)));};const cellOverEvent=generate$6('cell-over');const cellExecuteEvent=generate$6('cell-execute');const makeAnnouncementText=backstage=>(row,col)=>backstage.shared.providers.translate(['{0} columns, {1} rows',col,row]);const makeCell=(row,col,label)=>{const emitCellOver=c=>emitWith(c,cellOverEvent,{row,col});const emitExecute=c=>emitWith(c,cellExecuteEvent,{row,col});const onClick=(c,se)=>{se.stop();emitExecute(c);};return build$1({dom:{tag:'div',attributes:{role:'button',['aria-label']:label}},behaviours:derive$1([config('insert-table-picker-cell',[run$1(mouseover(),Focusing.focus),run$1(execute$5(),emitExecute),run$1(click(),onClick),run$1(tap(),onClick)]),Toggling.config({toggleClass:'tox-insert-table-picker__selected',toggleOnExecute:false}),Focusing.config({onFocus:emitCellOver})])});};const makeCells=(getCellLabel,numRows,numCols)=>{const cells=[];for(let i=0;i<numRows;i++){const row=[];for(let j=0;j<numCols;j++){const label=getCellLabel(i+1,j+1);row.push(makeCell(i,j,label));}cells.push(row);}return cells;};const selectCells=(cells,selectedRow,selectedColumn,numRows,numColumns)=>{for(let i=0;i<numRows;i++){for(let j=0;j<numColumns;j++){Toggling.set(cells[i][j],i<=selectedRow&&j<=selectedColumn);}}};const makeComponents=cells=>bind$3(cells,cellRow=>map$2(cellRow,premade));const makeLabelText=(row,col)=>text$2(`${col}x${row}`);const renderInsertTableMenuItem=(spec,backstage)=>{const numRows=10;const numColumns=10;const getCellLabel=makeAnnouncementText(backstage);const cells=makeCells(getCellLabel,numRows,numColumns);const emptyLabelText=makeLabelText(0,0);const memLabel=record({dom:{tag:'span',classes:['tox-insert-table-picker__label']},components:[emptyLabelText],behaviours:derive$1([Replacing.config({})])});return{type:'widget',data:{value:generate$6('widget-id')},dom:{tag:'div',classes:['tox-fancymenuitem']},autofocus:true,components:[parts$f.widget({dom:{tag:'div',classes:['tox-insert-table-picker']},components:makeComponents(cells).concat(memLabel.asSpec()),behaviours:derive$1([config('insert-table-picker',[runOnAttached(c=>{Replacing.set(memLabel.get(c),[emptyLabelText]);}),runWithTarget(cellOverEvent,(c,t,e)=>{const{row,col}=e.event;selectCells(cells,row,col,numRows,numColumns);Replacing.set(memLabel.get(c),[makeLabelText(row+1,col+1)]);}),runWithTarget(cellExecuteEvent,(c,_,e)=>{const{row,col}=e.event;spec.onAction({numRows:row+1,numColumns:col+1});emit(c,sandboxClose());})]),Keying.config({initSize:{numRows,numColumns},mode:'flatgrid',selector:'[role=\"button\"]'})])})]};};const fancyMenuItems={inserttable:renderInsertTableMenuItem,colorswatch:renderColorSwatchItem};const renderFancyMenuItem=(spec,backstage)=>get$g(fancyMenuItems,spec.fancytype).map(render=>render(spec,backstage));const renderNestedItem=(spec,itemResponse,providersBackstage,renderIcons=true,downwardsCaret=false)=>{const caret=downwardsCaret?renderDownwardsCaret(providersBackstage.icons):renderSubmenuCaret(providersBackstage.icons);const getApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state),setIconFill:(id,value)=>{descendant(component.element,`svg path[class=\"${id}\"], rect[class=\"${id}\"]`).each(underlinePath=>{set$9(underlinePath,'fill',value);});},setTooltip:tooltip=>{const translatedTooltip=providersBackstage.translate(tooltip);setAll$1(component.element,{'aria-label':translatedTooltip,'title':translatedTooltip});}});const structure=renderItemStructure({presets:'normal',iconContent:spec.icon,textContent:spec.text,htmlContent:Optional.none(),ariaLabel:spec.text,caret:Optional.some(caret),checkMark:Optional.none(),shortcutContent:spec.shortcut},providersBackstage,renderIcons);return renderCommonItem({data:buildData(spec),getApi,enabled:spec.enabled,onAction:noop,onSetup:spec.onSetup,triggersSubmenu:true,itemBehaviours:[]},structure,itemResponse,providersBackstage);};const renderNormalItem=(spec,itemResponse,providersBackstage,renderIcons=true)=>{const getApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({presets:'normal',iconContent:spec.icon,textContent:spec.text,htmlContent:Optional.none(),ariaLabel:spec.text,caret:Optional.none(),checkMark:Optional.none(),shortcutContent:spec.shortcut},providersBackstage,renderIcons);return renderCommonItem({data:buildData(spec),getApi,enabled:spec.enabled,onAction:spec.onAction,onSetup:spec.onSetup,triggersSubmenu:false,itemBehaviours:[]},structure,itemResponse,providersBackstage);};const renderSeparatorItem=spec=>({type:'separator',dom:{tag:'div',classes:[selectableClass,groupHeadingClass]},components:spec.text.map(text$2).toArray()});const renderToggleMenuItem=(spec,itemResponse,providersBackstage,renderIcons=true)=>{const getApi=component=>({setActive:state=>{Toggling.set(component,state);},isActive:()=>Toggling.isOn(component),isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({iconContent:spec.icon,textContent:spec.text,htmlContent:Optional.none(),ariaLabel:spec.text,checkMark:Optional.some(renderCheckmark(providersBackstage.icons)),caret:Optional.none(),shortcutContent:spec.shortcut,presets:'normal',meta:spec.meta},providersBackstage,renderIcons);return deepMerge(renderCommonItem({data:buildData(spec),enabled:spec.enabled,getApi,onAction:spec.onAction,onSetup:spec.onSetup,triggersSubmenu:false,itemBehaviours:[]},structure,itemResponse,providersBackstage),{toggling:{toggleClass:tickedClass,toggleOnExecute:false,selected:spec.active}});};const autocomplete=renderAutocompleteItem;const separator$3=renderSeparatorItem;const normal=renderNormalItem;const nested=renderNestedItem;const toggle$1=renderToggleMenuItem;const fancy=renderFancyMenuItem;const card=renderCardMenuItem;const getCoupled=(component,coupleConfig,coupleState,name)=>coupleState.getOrCreate(component,coupleConfig,name);const getExistingCoupled=(component,coupleConfig,coupleState,name)=>coupleState.getExisting(component,coupleConfig,name);var CouplingApis=/*#__PURE__*/Object.freeze({__proto__:null,getCoupled:getCoupled,getExistingCoupled:getExistingCoupled});var CouplingSchema=[requiredOf('others',setOf(Result.value,anyValue()))];const init$a=()=>{const coupled={};const lookupCoupled=(coupleConfig,coupledName)=>{const available=keys(coupleConfig.others);if(available.length===0){throw new Error('Cannot find any known coupled components');}else{return get$g(coupled,coupledName);}};const getOrCreate=(component,coupleConfig,name)=>{return lookupCoupled(coupleConfig,name).getOrThunk(()=>{const builder=get$g(coupleConfig.others,name).getOrDie('No information found for coupled component: '+name);const spec=builder(component);const built=component.getSystem().build(spec);coupled[name]=built;return built;});};const getExisting=(component,coupleConfig,name)=>{return lookupCoupled(coupleConfig,name).orThunk(()=>{get$g(coupleConfig.others,name).getOrDie('No information found for coupled component: '+name);return Optional.none();});};const readState=constant$1({});return nu$8({readState,getExisting,getOrCreate});};var CouplingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$a});const Coupling=create$4({fields:CouplingSchema,name:'coupling',apis:CouplingApis,state:CouplingState});const nu$3=baseFn=>{let data=Optional.none();let callbacks=[];const map=f=>nu$3(nCallback=>{get(data=>{nCallback(f(data));});});const get=nCallback=>{if(isReady()){call(nCallback);}else{callbacks.push(nCallback);}};const set=x=>{if(!isReady()){data=Optional.some(x);run(callbacks);callbacks=[];}};const isReady=()=>data.isSome();const run=cbs=>{each$1(cbs,call);};const call=cb=>{data.each(x=>{setTimeout(()=>{cb(x);},0);});};baseFn(set);return{get,map,isReady};};const pure$1=a=>nu$3(callback=>{callback(a);});const LazyValue={nu:nu$3,pure:pure$1};const errorReporter=err=>{setTimeout(()=>{throw err;},0);};const make$5=run=>{const get=callback=>{run().then(callback,errorReporter);};const map=fab=>{return make$5(()=>run().then(fab));};const bind=aFutureB=>{return make$5(()=>run().then(v=>aFutureB(v).toPromise()));};const anonBind=futureB=>{return make$5(()=>run().then(()=>futureB.toPromise()));};const toLazy=()=>{return LazyValue.nu(get);};const toCached=()=>{let cache=null;return make$5(()=>{if(cache===null){cache=run();}return cache;});};const toPromise=run;return{map,bind,anonBind,toLazy,toCached,toPromise,get};};const nu$2=baseFn=>{return make$5(()=>new Promise(baseFn));};const pure=a=>{return make$5(()=>Promise.resolve(a));};const Future={nu:nu$2,pure};const suffix=constant$1('sink');const partType$1=constant$1(optional({name:suffix(),overrides:constant$1({dom:{tag:'div'},behaviours:derive$1([Positioning.config({useFixed:always})]),events:derive$2([cutter(keydown()),cutter(mousedown()),cutter(click())])})}));const getAnchor=(detail,component)=>{const hotspot=detail.getHotspot(component).getOr(component);const type='hotspot';const overrides=detail.getAnchorOverrides();return detail.layouts.fold(()=>({type,hotspot,overrides}),layouts=>({type,hotspot,overrides,layouts}));};const fetch=(detail,mapFetch,component)=>{const fetcher=detail.fetch;return fetcher(component).map(mapFetch);};const openF=(detail,mapFetch,anchor,component,sandbox,externals,highlightOnOpen)=>{const futureData=fetch(detail,mapFetch,component);const getLazySink=getSink(component,detail);return futureData.map(tdata=>tdata.bind(data=>Optional.from(tieredMenu.sketch({...externals.menu(),uid:generate$5(''),data,highlightOnOpen,onOpenMenu:(tmenu,menu)=>{const sink=getLazySink().getOrDie();Positioning.position(sink,menu,{anchor});Sandboxing.decloak(sandbox);},onOpenSubmenu:(tmenu,item,submenu)=>{const sink=getLazySink().getOrDie();Positioning.position(sink,submenu,{anchor:{type:'submenu',item}});Sandboxing.decloak(sandbox);},onRepositionMenu:(tmenu,primaryMenu,submenuTriggers)=>{const sink=getLazySink().getOrDie();Positioning.position(sink,primaryMenu,{anchor});each$1(submenuTriggers,st=>{Positioning.position(sink,st.triggeredMenu,{anchor:{type:'submenu',item:st.triggeringItem}});});},onEscape:()=>{Focusing.focus(component);Sandboxing.close(sandbox);return Optional.some(true);}}))));};const open=(detail,mapFetch,hotspot,sandbox,externals,onOpenSync,highlightOnOpen)=>{const anchor=getAnchor(detail,hotspot);const processed=openF(detail,mapFetch,anchor,hotspot,sandbox,externals,highlightOnOpen);return processed.map(tdata=>{tdata.fold(()=>{if(Sandboxing.isOpen(sandbox)){Sandboxing.close(sandbox);}},data=>{Sandboxing.cloak(sandbox);Sandboxing.open(sandbox,data);onOpenSync(sandbox);});return sandbox;});};const close=(detail,mapFetch,component,sandbox,_externals,_onOpenSync,_highlightOnOpen)=>{Sandboxing.close(sandbox);return Future.pure(sandbox);};const togglePopup=(detail,mapFetch,hotspot,externals,onOpenSync,highlightOnOpen)=>{const sandbox=Coupling.getCoupled(hotspot,'sandbox');const showing=Sandboxing.isOpen(sandbox);const action=showing?close:open;return action(detail,mapFetch,hotspot,sandbox,externals,onOpenSync,highlightOnOpen);};const matchWidth=(hotspot,container,useMinWidth)=>{const menu=Composing.getCurrent(container).getOr(container);const buttonWidth=get$c(hotspot.element);if(useMinWidth){set$8(menu.element,'min-width',buttonWidth+'px');}else{set$7(menu.element,buttonWidth);}};const getSink=(anyInSystem,sinkDetail)=>anyInSystem.getSystem().getByUid(sinkDetail.uid+'-'+suffix()).map(internalSink=>()=>Result.value(internalSink)).getOrThunk(()=>sinkDetail.lazySink.fold(()=>()=>Result.error(new Error('No internal sink is specified, nor could an external sink be found')),lazySinkFn=>()=>lazySinkFn(anyInSystem)));const doRepositionMenus=sandbox=>{Sandboxing.getState(sandbox).each(tmenu=>{tieredMenu.repositionMenus(tmenu);});};const makeSandbox$1=(detail,hotspot,extras)=>{const ariaControls=manager();const onOpen=(component,menu)=>{const anchor=getAnchor(detail,hotspot);ariaControls.link(hotspot.element);if(detail.matchWidth){matchWidth(anchor.hotspot,menu,detail.useMinWidth);}detail.onOpen(anchor,component,menu);if(extras!==undefined&&extras.onOpen!==undefined){extras.onOpen(component,menu);}};const onClose=(component,menu)=>{ariaControls.unlink(hotspot.element);if(extras!==undefined&&extras.onClose!==undefined){extras.onClose(component,menu);}};const lazySink=getSink(hotspot,detail);return{dom:{tag:'div',classes:detail.sandboxClasses,attributes:{id:ariaControls.id,role:'listbox'}},behaviours:SketchBehaviours.augment(detail.sandboxBehaviours,[Representing.config({store:{mode:'memory',initialValue:hotspot}}),Sandboxing.config({onOpen,onClose,isPartOf:(container,data,queryElem)=>{return isPartOf$1(data,queryElem)||isPartOf$1(hotspot,queryElem);},getAttachPoint:()=>{return lazySink().getOrDie();}}),Composing.config({find:sandbox=>{return Sandboxing.getState(sandbox).bind(menu=>Composing.getCurrent(menu));}}),Receiving.config({channels:{...receivingChannel$1({isExtraPart:never}),...receivingChannel({doReposition:doRepositionMenus})}})])};};const repositionMenus=comp=>{const sandbox=Coupling.getCoupled(comp,'sandbox');doRepositionMenus(sandbox);};const sandboxFields=()=>[defaulted('sandboxClasses',[]),SketchBehaviours.field('sandboxBehaviours',[Composing,Receiving,Sandboxing,Representing])];const schema$k=constant$1([required$1('dom'),required$1('fetch'),onHandler('onOpen'),onKeyboardHandler('onExecute'),defaulted('getHotspot',Optional.some),defaulted('getAnchorOverrides',constant$1({})),schema$y(),field('dropdownBehaviours',[Toggling,Coupling,Keying,Focusing]),required$1('toggleClass'),defaulted('eventOrder',{}),option$3('lazySink'),defaulted('matchWidth',false),defaulted('useMinWidth',false),option$3('role')].concat(sandboxFields()));const parts$e=constant$1([external({schema:[tieredMenuMarkers(),defaulted('fakeFocus',false)],name:'menu',defaults:detail=>{return{onExecute:detail.onExecute};}}),partType$1()]);const factory$k=(detail,components,_spec,externals)=>{const lookupAttr=attr=>get$g(detail.dom,'attributes').bind(attrs=>get$g(attrs,attr));const switchToMenu=sandbox=>{Sandboxing.getState(sandbox).each(tmenu=>{tieredMenu.highlightPrimary(tmenu);});};const togglePopup$1=(dropdownComp,onOpenSync,highlightOnOpen)=>{return togglePopup(detail,identity,dropdownComp,externals,onOpenSync,highlightOnOpen);};const action=component=>{const onOpenSync=switchToMenu;togglePopup$1(component,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);};const apis={expand:comp=>{if(!Toggling.isOn(comp)){togglePopup$1(comp,noop,HighlightOnOpen.HighlightNone).get(noop);}},open:comp=>{if(!Toggling.isOn(comp)){togglePopup$1(comp,noop,HighlightOnOpen.HighlightMenuAndItem).get(noop);}},refetch:comp=>{const optSandbox=Coupling.getExistingCoupled(comp,'sandbox');return optSandbox.fold(()=>{return togglePopup$1(comp,noop,HighlightOnOpen.HighlightMenuAndItem).map(noop);},sandboxComp=>{return open(detail,identity,comp,sandboxComp,externals,noop,HighlightOnOpen.HighlightMenuAndItem).map(noop);});},isOpen:Toggling.isOn,close:comp=>{if(Toggling.isOn(comp)){togglePopup$1(comp,noop,HighlightOnOpen.HighlightMenuAndItem).get(noop);}},repositionMenus:comp=>{if(Toggling.isOn(comp)){repositionMenus(comp);}}};const triggerExecute=(comp,_se)=>{emitExecute(comp);return Optional.some(true);};return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.dropdownBehaviours,[Toggling.config({toggleClass:detail.toggleClass,aria:{mode:'expanded'}}),Coupling.config({others:{sandbox:hotspot=>{return makeSandbox$1(detail,hotspot,{onOpen:()=>Toggling.on(hotspot),onClose:()=>Toggling.off(hotspot)});}}}),Keying.config({mode:'special',onSpace:triggerExecute,onEnter:triggerExecute,onDown:(comp,_se)=>{if(Dropdown.isOpen(comp)){const sandbox=Coupling.getCoupled(comp,'sandbox');switchToMenu(sandbox);}else{Dropdown.open(comp);}return Optional.some(true);},onEscape:(comp,_se)=>{if(Dropdown.isOpen(comp)){Dropdown.close(comp);return Optional.some(true);}else{return Optional.none();}}}),Focusing.config({})]),events:events$a(Optional.some(action)),eventOrder:{...detail.eventOrder,[execute$5()]:['disabling','toggling','alloy.base.behaviour']},apis,domModification:{attributes:{'aria-haspopup':'true',...detail.role.fold(()=>({}),role=>({role})),...(detail.dom.tag==='button'?{type:lookupAttr('type').getOr('button')}:{})}}};};const Dropdown=composite({name:'Dropdown',configFields:schema$k(),partFields:parts$e(),factory:factory$k,apis:{open:(apis,comp)=>apis.open(comp),refetch:(apis,comp)=>apis.refetch(comp),expand:(apis,comp)=>apis.expand(comp),close:(apis,comp)=>apis.close(comp),isOpen:(apis,comp)=>apis.isOpen(comp),repositionMenus:(apis,comp)=>apis.repositionMenus(comp)}});const identifyMenuLayout=searchMode=>{switch(searchMode.searchMode){case'no-search':{return{menuType:'normal'};}default:{return{menuType:'searchable',searchMode};}}};const handleRefetchTrigger=originalSandboxComp=>{const dropdown=Representing.getValue(originalSandboxComp);const optSearcherState=findWithinSandbox(originalSandboxComp).map(saveState);Dropdown.refetch(dropdown).get(()=>{const newSandboxComp=Coupling.getCoupled(dropdown,'sandbox');optSearcherState.each(searcherState=>findWithinSandbox(newSandboxComp).each(inputComp=>restoreState(inputComp,searcherState)));});};const handleRedirectToMenuItem=(sandboxComp,se)=>{getActiveMenuItemFrom(sandboxComp).each(activeItem=>{retargetAndDispatchWith(sandboxComp,activeItem.element,se.event.eventType,se.event.interactionEvent);});};const getActiveMenuItemFrom=sandboxComp=>{return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);};const getSearchResults=activeMenuComp=>{return has(activeMenuComp.element,searchResultsClass)?Optional.some(activeMenuComp.element):descendant(activeMenuComp.element,'.'+searchResultsClass);};const updateAriaOnHighlight=(tmenuComp,menuComp,itemComp)=>{findWithinMenu(tmenuComp).each(inputComp=>{setActiveDescendant(inputComp,itemComp);const optActiveResults=getSearchResults(menuComp);optActiveResults.each(resultsElem=>{getOpt(resultsElem,'id').each(controlledId=>set$9(inputComp.element,'aria-controls',controlledId));});});set$9(itemComp.element,'aria-selected','true');};const updateAriaOnDehighlight=(tmenuComp,menuComp,itemComp)=>{set$9(itemComp.element,'aria-selected','false');};const focusSearchField=tmenuComp=>{findWithinMenu(tmenuComp).each(searcherComp=>Focusing.focus(searcherComp));};const getSearchPattern=dropdownComp=>{const optSandboxComp=Coupling.getExistingCoupled(dropdownComp,'sandbox');return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state=>state.fetchPattern).getOr('');};var FocusMode;(function(FocusMode){FocusMode[FocusMode['ContentFocus']=0]='ContentFocus';FocusMode[FocusMode['UiFocus']=1]='UiFocus';})(FocusMode||(FocusMode={}));const createMenuItemFromBridge=(item,itemResponse,backstage,menuHasIcons,isHorizontalMenu)=>{const providersBackstage=backstage.shared.providers;const parseForHorizontalMenu=menuitem=>!isHorizontalMenu?menuitem:{...menuitem,shortcut:Optional.none(),icon:menuitem.text.isSome()?Optional.none():menuitem.icon};switch(item.type){case'menuitem':return createMenuItem(item).fold(handleError,d=>Optional.some(normal(parseForHorizontalMenu(d),itemResponse,providersBackstage,menuHasIcons)));case'nestedmenuitem':return createNestedMenuItem(item).fold(handleError,d=>Optional.some(nested(parseForHorizontalMenu(d),itemResponse,providersBackstage,menuHasIcons,isHorizontalMenu)));case'togglemenuitem':return createToggleMenuItem(item).fold(handleError,d=>Optional.some(toggle$1(parseForHorizontalMenu(d),itemResponse,providersBackstage,menuHasIcons)));case'separator':return createSeparatorMenuItem(item).fold(handleError,d=>Optional.some(separator$3(d)));case'fancymenuitem':return createFancyMenuItem(item).fold(handleError,d=>fancy(d,backstage));default:{console.error('Unknown item in general menu',item);return Optional.none();}}};const createAutocompleteItems=(items,matchText,onItemValueHandler,columns,itemResponse,sharedBackstage,highlightOn)=>{const renderText=columns===1;const renderIcons=!renderText||menuHasIcons(items);return cat(map$2(items,item=>{switch(item.type){case'separator':return createSeparatorItem(item).fold(handleError,d=>Optional.some(separator$3(d)));case'cardmenuitem':return createCardMenuItem(item).fold(handleError,d=>Optional.some(card({...d,onAction:api=>{d.onAction(api);onItemValueHandler(d.value,d.meta);}},itemResponse,sharedBackstage,{itemBehaviours:tooltipBehaviour(d.meta,sharedBackstage),cardText:{matchText,highlightOn}})));case'autocompleteitem':default:return createAutocompleterItem(item).fold(handleError,d=>Optional.some(autocomplete(d,matchText,renderText,'normal',onItemValueHandler,itemResponse,sharedBackstage,renderIcons)));}}));};const createPartialMenu=(value,items,itemResponse,backstage,isHorizontalMenu,searchMode)=>{const hasIcons=menuHasIcons(items);const alloyItems=cat(map$2(items,item=>{const itemHasIcon=i=>isHorizontalMenu?!has$2(i,'text'):hasIcons;const createItem=i=>createMenuItemFromBridge(i,itemResponse,backstage,itemHasIcon(i),isHorizontalMenu);if(item.type==='nestedmenuitem'&&item.getSubmenuItems().length<=0){return createItem({...item,enabled:false});}else{return createItem(item);}}));const menuLayout=identifyMenuLayout(searchMode);const createPartial=isHorizontalMenu?createHorizontalPartialMenuWithAlloyItems:createPartialMenuWithAlloyItems;return createPartial(value,hasIcons,alloyItems,1,menuLayout);};const createTieredDataFrom=partialMenu=>tieredMenu.singleData(partialMenu.value,partialMenu);const createInlineMenuFrom=(partialMenu,columns,focusMode,presets)=>{const movement=deriveMenuMovement(columns,presets);const menuMarkers=markers(presets);return{data:createTieredDataFrom({...partialMenu,movement,menuBehaviours:SimpleBehaviours.unnamedEvents(columns!=='auto'?[]:[runOnAttached((comp,_se)=>{detectSize(comp,4,menuMarkers.item).each(({numColumns,numRows})=>{Keying.setGridSize(comp,numRows,numColumns);});})])}),menu:{markers:markers(presets),fakeFocus:focusMode===FocusMode.ContentFocus}};};const getAutocompleterRange=(dom,initRange)=>{return detect$1(SugarElement.fromDom(initRange.startContainer)).map(elm=>{const range=dom.createRng();range.selectNode(elm.dom);return range;});};const register$b=(editor,sharedBackstage)=>{const autocompleterId=generate$6('autocompleter');const processingAction=Cell(false);const activeState=Cell(false);const autocompleter=build$1(InlineView.sketch({dom:{tag:'div',classes:['tox-autocompleter'],attributes:{id:autocompleterId}},components:[],fireDismissalEventInstead:{},inlineBehaviours:derive$1([config('dismissAutocompleter',[run$1(dismissRequested(),()=>cancelIfNecessary()),run$1(highlight$1(),(_,se)=>{getOpt(se.event.target,'id').each(id=>set$9(SugarElement.fromDom(editor.getBody()),'aria-activedescendant',id));})])]),lazySink:sharedBackstage.getSink}));const isMenuOpen=()=>InlineView.isOpen(autocompleter);const isActive=activeState.get;const hideIfNecessary=()=>{if(isMenuOpen()){InlineView.hide(autocompleter);editor.dom.remove(autocompleterId,false);const editorBody=SugarElement.fromDom(editor.getBody());getOpt(editorBody,'aria-owns').filter(ariaOwnsAttr=>ariaOwnsAttr===autocompleterId).each(()=>{remove$7(editorBody,'aria-owns');remove$7(editorBody,'aria-activedescendant');});}};const getMenu=()=>InlineView.getContent(autocompleter).bind(tmenu=>{return get$h(tmenu.components(),0);});const cancelIfNecessary=()=>editor.execCommand('mceAutocompleterClose');const getCombinedItems=matches=>{const columns=findMap(matches,m=>Optional.from(m.columns)).getOr(1);return bind$3(matches,match=>{const choices=match.items;return createAutocompleteItems(choices,match.matchText,(itemValue,itemMeta)=>{const nr=editor.selection.getRng();getAutocompleterRange(editor.dom,nr).each(range=>{const autocompleterApi={hide:()=>cancelIfNecessary(),reload:fetchOptions=>{hideIfNecessary();editor.execCommand('mceAutocompleterReload',false,{fetchOptions});}};processingAction.set(true);match.onAction(autocompleterApi,range,itemValue,itemMeta);processingAction.set(false);});},columns,ItemResponse$1.BUBBLE_TO_SANDBOX,sharedBackstage,match.highlightOn);});};const display=(lookupData,items)=>{findIn(SugarElement.fromDom(editor.getBody())).each(element=>{const columns=findMap(lookupData,ld=>Optional.from(ld.columns)).getOr(1);InlineView.showMenuAt(autocompleter,{anchor:{type:'node',root:SugarElement.fromDom(editor.getBody()),node:Optional.from(element)}},createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value',true,items,columns,{menuType:'normal'}),columns,FocusMode.ContentFocus,'normal'));});getMenu().each(Highlighting.highlightFirst);};const updateDisplay=lookupData=>{const combinedItems=getCombinedItems(lookupData);if(combinedItems.length>0){display(lookupData,combinedItems);set$9(SugarElement.fromDom(editor.getBody()),'aria-owns',autocompleterId);if(!editor.inline){cloneAutocompleterToEditorDoc();}}else{hideIfNecessary();}};const cloneAutocompleterToEditorDoc=()=>{if(editor.dom.get(autocompleterId)){editor.dom.remove(autocompleterId,false);}const docElm=editor.getDoc().documentElement;const selection=editor.selection.getNode();const newElm=deep(autocompleter.element);setAll(newElm,{border:'0',clip:'rect(0 0 0 0)',height:'1px',margin:'-1px',overflow:'hidden',padding:'0',position:'absolute',width:'1px',top:`${selection.offsetTop}px`,left:`${selection.offsetLeft}px`});editor.dom.add(docElm,newElm.dom);descendant(newElm,'[role=\"menu\"]').each(child=>{remove$6(child,'position');remove$6(child,'max-height');});};editor.on('AutocompleterStart',({lookupData})=>{activeState.set(true);processingAction.set(false);updateDisplay(lookupData);});editor.on('AutocompleterUpdate',({lookupData})=>updateDisplay(lookupData));editor.on('AutocompleterEnd',()=>{hideIfNecessary();activeState.set(false);processingAction.set(false);});const autocompleterUiApi={cancelIfNecessary,isMenuOpen,isActive,isProcessingAction:processingAction.get,getMenu};AutocompleterEditorEvents.setup(autocompleterUiApi,editor);};const Autocompleter={register:register$b};const nonScrollingOverflows=['visible','hidden','clip'];const isScrollingOverflowValue=value=>trim$1(value).length>0&&!contains$2(nonScrollingOverflows,value);const isScroller=elem=>{if(isHTMLElement(elem)){const overflowX=get$e(elem,'overflow-x');const overflowY=get$e(elem,'overflow-y');return isScrollingOverflowValue(overflowX)||isScrollingOverflowValue(overflowY);}else{return false;}};const detect=popupSinkElem=>{const ancestorsScrollers=ancestors(popupSinkElem,isScroller);const scrollers=ancestorsScrollers.length===0?getShadowRoot(popupSinkElem).map(getShadowHost).map(x=>ancestors(x,isScroller)).getOr([]):ancestorsScrollers;return head(scrollers).map(element=>({element,others:scrollers.slice(1)}));};const detectWhenSplitUiMode=(editor,popupSinkElem)=>isSplitUiMode(editor)?detect(popupSinkElem):Optional.none();const getBoundsFrom=sc=>{const scrollableBoxes=[...map$2(sc.others,box$1),win()];return constrainByMany(box$1(sc.element),scrollableBoxes);};const closest=(scope,selector,isRoot)=>closest$1(scope,selector,isRoot).isSome();const DelayedFunction=(fun,delay)=>{let ref=null;const schedule=(...args)=>{ref=setTimeout(()=>{fun.apply(null,args);ref=null;},delay);};const cancel=()=>{if(ref!==null){clearTimeout(ref);ref=null;}};return{cancel,schedule};};const SIGNIFICANT_MOVE=5;const LONGPRESS_DELAY=400;const getTouch=event=>{const raw=event.raw;if(raw.touches===undefined||raw.touches.length!==1){return Optional.none();}return Optional.some(raw.touches[0]);};const isFarEnough=(touch,data)=>{const distX=Math.abs(touch.clientX-data.x);const distY=Math.abs(touch.clientY-data.y);return distX>SIGNIFICANT_MOVE||distY>SIGNIFICANT_MOVE;};const monitor=settings=>{const startData=value$2();const longpressFired=Cell(false);const longpress$1=DelayedFunction(event=>{settings.triggerEvent(longpress(),event);longpressFired.set(true);},LONGPRESS_DELAY);const handleTouchstart=event=>{getTouch(event).each(touch=>{longpress$1.cancel();const data={x:touch.clientX,y:touch.clientY,target:event.target};longpress$1.schedule(event);longpressFired.set(false);startData.set(data);});return Optional.none();};const handleTouchmove=event=>{longpress$1.cancel();getTouch(event).each(touch=>{startData.on(data=>{if(isFarEnough(touch,data)){startData.clear();}});});return Optional.none();};const handleTouchend=event=>{longpress$1.cancel();const isSame=data=>eq(data.target,event.target);return startData.get().filter(isSame).map(_data=>{if(longpressFired.get()){event.prevent();return false;}else{return settings.triggerEvent(tap(),event);}});};const handlers=wrapAll([{key:touchstart(),value:handleTouchstart},{key:touchmove(),value:handleTouchmove},{key:touchend(),value:handleTouchend}]);const fireIfReady=(event,type)=>get$g(handlers,type).bind(handler=>handler(event));return{fireIfReady};};const isDangerous=event=>{const keyEv=event.raw;return keyEv.which===BACKSPACE[0]&&!contains$2(['input','textarea'],name$3(event.target))&&!closest(event.target,'[contenteditable=\"true\"]');};const setup$d=(container,rawSettings)=>{const settings={stopBackspace:true,...rawSettings};const pointerEvents=['touchstart','touchmove','touchend','touchcancel','gesturestart','mousedown','mouseup','mouseover','mousemove','mouseout','click'];const tapEvent=monitor(settings);const simpleEvents=map$2(pointerEvents.concat(['selectstart','input','contextmenu','change','transitionend','transitioncancel','drag','dragstart','dragend','dragenter','dragleave','dragover','drop','keyup']),type=>bind(container,type,event=>{tapEvent.fireIfReady(event,type).each(tapStopped=>{if(tapStopped){event.kill();}});const stopped=settings.triggerEvent(type,event);if(stopped){event.kill();}}));const pasteTimeout=value$2();const onPaste=bind(container,'paste',event=>{tapEvent.fireIfReady(event,'paste').each(tapStopped=>{if(tapStopped){event.kill();}});const stopped=settings.triggerEvent('paste',event);if(stopped){event.kill();}pasteTimeout.set(setTimeout(()=>{settings.triggerEvent(postPaste(),event);},0));});const onKeydown=bind(container,'keydown',event=>{const stopped=settings.triggerEvent('keydown',event);if(stopped){event.kill();}else if(settings.stopBackspace&&isDangerous(event)){event.prevent();}});const onFocusIn=bind(container,'focusin',event=>{const stopped=settings.triggerEvent('focusin',event);if(stopped){event.kill();}});const focusoutTimeout=value$2();const onFocusOut=bind(container,'focusout',event=>{const stopped=settings.triggerEvent('focusout',event);if(stopped){event.kill();}focusoutTimeout.set(setTimeout(()=>{settings.triggerEvent(postBlur(),event);},0));});const unbind=()=>{each$1(simpleEvents,e=>{e.unbind();});onKeydown.unbind();onFocusIn.unbind();onFocusOut.unbind();onPaste.unbind();pasteTimeout.on(clearTimeout);focusoutTimeout.on(clearTimeout);};return{unbind};};const derive=(rawEvent,rawTarget)=>{const source=get$g(rawEvent,'target').getOr(rawTarget);return Cell(source);};const fromSource=(event,source)=>{const stopper=Cell(false);const cutter=Cell(false);const stop=()=>{stopper.set(true);};const cut=()=>{cutter.set(true);};return{stop,cut,isStopped:stopper.get,isCut:cutter.get,event,setSource:source.set,getSource:source.get};};const fromExternal=event=>{const stopper=Cell(false);const stop=()=>{stopper.set(true);};return{stop,cut:noop,isStopped:stopper.get,isCut:never,event,setSource:die('Cannot set source of a broadcasted event'),getSource:die('Cannot get source of a broadcasted event')};};const adt$1=Adt.generate([{stopped:[]},{resume:['element']},{complete:[]}]);const doTriggerHandler=(lookup,eventType,rawEvent,target,source,logger)=>{const handler=lookup(eventType,target);const simulatedEvent=fromSource(rawEvent,source);return handler.fold(()=>{logger.logEventNoHandlers(eventType,target);return adt$1.complete();},handlerInfo=>{const descHandler=handlerInfo.descHandler;const eventHandler=getCurried(descHandler);eventHandler(simulatedEvent);if(simulatedEvent.isStopped()){logger.logEventStopped(eventType,handlerInfo.element,descHandler.purpose);return adt$1.stopped();}else if(simulatedEvent.isCut()){logger.logEventCut(eventType,handlerInfo.element,descHandler.purpose);return adt$1.complete();}else{return parent(handlerInfo.element).fold(()=>{logger.logNoParent(eventType,handlerInfo.element,descHandler.purpose);return adt$1.complete();},parent=>{logger.logEventResponse(eventType,handlerInfo.element,descHandler.purpose);return adt$1.resume(parent);});}});};const doTriggerOnUntilStopped=(lookup,eventType,rawEvent,rawTarget,source,logger)=>doTriggerHandler(lookup,eventType,rawEvent,rawTarget,source,logger).fold(always,parent=>doTriggerOnUntilStopped(lookup,eventType,rawEvent,parent,source,logger),never);const triggerHandler=(lookup,eventType,rawEvent,target,logger)=>{const source=derive(rawEvent,target);return doTriggerHandler(lookup,eventType,rawEvent,target,source,logger);};const broadcast=(listeners,rawEvent,_logger)=>{const simulatedEvent=fromExternal(rawEvent);each$1(listeners,listener=>{const descHandler=listener.descHandler;const handler=getCurried(descHandler);handler(simulatedEvent);});return simulatedEvent.isStopped();};const triggerUntilStopped=(lookup,eventType,rawEvent,logger)=>triggerOnUntilStopped(lookup,eventType,rawEvent,rawEvent.target,logger);const triggerOnUntilStopped=(lookup,eventType,rawEvent,rawTarget,logger)=>{const source=derive(rawEvent,rawTarget);return doTriggerOnUntilStopped(lookup,eventType,rawEvent,rawTarget,source,logger);};const eventHandler=(element,descHandler)=>({element,descHandler});const broadcastHandler=(id,handler)=>({id,descHandler:handler});const EventRegistry=()=>{const registry={};const registerId=(extraArgs,id,events)=>{each(events,(v,k)=>{const handlers=registry[k]!==undefined?registry[k]:{};handlers[id]=curryArgs(v,extraArgs);registry[k]=handlers;});};const findHandler=(handlers,elem)=>read$1(elem).bind(id=>get$g(handlers,id)).map(descHandler=>eventHandler(elem,descHandler));const filterByType=type=>get$g(registry,type).map(handlers=>mapToArray(handlers,(f,id)=>broadcastHandler(id,f))).getOr([]);const find=(isAboveRoot,type,target)=>get$g(registry,type).bind(handlers=>closest$4(target,elem=>findHandler(handlers,elem),isAboveRoot));const unregisterId=id=>{each(registry,(handlersById,_eventName)=>{if(has$2(handlersById,id)){delete handlersById[id];}});};return{registerId,unregisterId,filterByType,find};};const Registry=()=>{const events=EventRegistry();const components={};const readOrTag=component=>{const elem=component.element;return read$1(elem).getOrThunk(()=>write('uid-',component.element));};const failOnDuplicate=(component,tagId)=>{const conflict=components[tagId];if(conflict===component){unregister(component);}else{throw new Error('The tagId \"'+tagId+'\" is already used by: '+element(conflict.element)+'\\nCannot use it for: '+element(component.element)+'\\n'+'The conflicting element is'+(inBody(conflict.element)?' ':' not ')+'already in the DOM');}};const register=component=>{const tagId=readOrTag(component);if(hasNonNullableKey(components,tagId)){failOnDuplicate(component,tagId);}const extraArgs=[component];events.registerId(extraArgs,tagId,component.events);components[tagId]=component;};const unregister=component=>{read$1(component.element).each(tagId=>{delete components[tagId];events.unregisterId(tagId);});};const filter=type=>events.filterByType(type);const find=(isAboveRoot,type,target)=>events.find(isAboveRoot,type,target);const getById=id=>get$g(components,id);return{find,filter,register,unregister,getById};};const factory$j=detail=>{const{attributes,...domWithoutAttributes}=detail.dom;return{uid:detail.uid,dom:{tag:'div',attributes:{role:'presentation',...attributes},...domWithoutAttributes},components:detail.components,behaviours:get$3(detail.containerBehaviours),events:detail.events,domModification:detail.domModification,eventOrder:detail.eventOrder};};const Container=single({name:'Container',factory:factory$j,configFields:[defaulted('components',[]),field('containerBehaviours',[]),defaulted('events',{}),defaulted('domModification',{}),defaulted('eventOrder',{})]});const takeover=root=>{const isAboveRoot=el=>parent(root.element).fold(always,parent=>eq(el,parent));const registry=Registry();const lookup=(eventName,target)=>registry.find(isAboveRoot,eventName,target);const domEvents=setup$d(root.element,{triggerEvent:(eventName,event)=>{return monitorEvent(eventName,event.target,logger=>triggerUntilStopped(lookup,eventName,event,logger));}});const systemApi={debugInfo:constant$1('real'),triggerEvent:(eventName,target,data)=>{monitorEvent(eventName,target,logger=>triggerOnUntilStopped(lookup,eventName,data,target,logger));},triggerFocus:(target,originator)=>{read$1(target).fold(()=>{focus$3(target);},_alloyId=>{monitorEvent(focus$4(),target,logger=>{triggerHandler(lookup,focus$4(),{originator,kill:noop,prevent:noop,target},target,logger);return false;});});},triggerEscape:(comp,simulatedEvent)=>{systemApi.triggerEvent('keydown',comp.element,simulatedEvent.event);},getByUid:uid=>{return getByUid(uid);},getByDom:elem=>{return getByDom(elem);},build:build$1,buildOrPatch:buildOrPatch,addToGui:c=>{add(c);},removeFromGui:c=>{remove(c);},addToWorld:c=>{addToWorld(c);},removeFromWorld:c=>{removeFromWorld(c);},broadcast:message=>{broadcast$1(message);},broadcastOn:(channels,message)=>{broadcastOn(channels,message);},broadcastEvent:(eventName,event)=>{broadcastEvent(eventName,event);},isConnected:always};const addToWorld=component=>{component.connect(systemApi);if(!isText(component.element)){registry.register(component);each$1(component.components(),addToWorld);systemApi.triggerEvent(systemInit(),component.element,{target:component.element});}};const removeFromWorld=component=>{if(!isText(component.element)){each$1(component.components(),removeFromWorld);registry.unregister(component);}component.disconnect();};const add=component=>{attach(root,component);};const remove=component=>{detach(component);};const destroy=()=>{domEvents.unbind();remove$5(root.element);};const broadcastData=data=>{const receivers=registry.filter(receive());each$1(receivers,receiver=>{const descHandler=receiver.descHandler;const handler=getCurried(descHandler);handler(data);});};const broadcast$1=message=>{broadcastData({universal:true,data:message});};const broadcastOn=(channels,message)=>{broadcastData({universal:false,channels,data:message});};const broadcastEvent=(eventName,event)=>{const listeners=registry.filter(eventName);return broadcast(listeners,event);};const getByUid=uid=>registry.getById(uid).fold(()=>Result.error(new Error('Could not find component with uid: \"'+uid+'\" in system.')),Result.value);const getByDom=elem=>{const uid=read$1(elem).getOr('not found');return getByUid(uid);};addToWorld(root);return{root,element:root.element,destroy,add,remove,getByUid,getByDom,addToWorld,removeFromWorld,broadcast:broadcast$1,broadcastOn,broadcastEvent};};const renderBar=(spec,backstage)=>({dom:{tag:'div',classes:['tox-bar','tox-form__controls-h-stack']},components:map$2(spec.items,backstage.interpreter)});const schema$j=constant$1([defaulted('prefix','form-field'),field('fieldBehaviours',[Composing,Representing])]);const parts$d=constant$1([optional({schema:[required$1('dom')],name:'label'}),optional({factory:{sketch:spec=>{return{uid:spec.uid,dom:{tag:'span',styles:{display:'none'},attributes:{'aria-hidden':'true'},innerHtml:spec.text}};}},schema:[required$1('text')],name:'aria-descriptor'}),required({factory:{sketch:spec=>{const excludeFactory=exclude(spec,['factory']);return spec.factory.sketch(excludeFactory);}},schema:[required$1('factory')],name:'field'})]);const factory$i=(detail,components,_spec,_externals)=>{const behaviours=augment(detail.fieldBehaviours,[Composing.config({find:container=>{return getPart(container,detail,'field');}}),Representing.config({store:{mode:'manual',getValue:field=>{return Composing.getCurrent(field).bind(Representing.getValue);},setValue:(field,value)=>{Composing.getCurrent(field).each(current=>{Representing.setValue(current,value);});}}})]);const events=derive$2([runOnAttached((component,_simulatedEvent)=>{const ps=getParts(component,detail,['label','field','aria-descriptor']);ps.field().each(field=>{const id=generate$6(detail.prefix);ps.label().each(label=>{set$9(label.element,'for',id);set$9(field.element,'id',id);});ps['aria-descriptor']().each(descriptor=>{const descriptorId=generate$6(detail.prefix);set$9(descriptor.element,'id',descriptorId);set$9(field.element,'aria-describedby',descriptorId);});});})]);const apis={getField:container=>getPart(container,detail,'field'),getLabel:container=>getPart(container,detail,'label')};return{uid:detail.uid,dom:detail.dom,components,behaviours,events,apis};};const FormField=composite({name:'FormField',configFields:schema$j(),partFields:parts$d(),factory:factory$i,apis:{getField:(apis,comp)=>apis.getField(comp),getLabel:(apis,comp)=>apis.getLabel(comp)}});const exhibit$2=(base,tabConfig)=>nu$7({attributes:wrapAll([{key:tabConfig.tabAttr,value:'true'}])});var ActiveTabstopping=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$2});var TabstopSchema=[defaulted('tabAttr','data-alloy-tabstop')];const Tabstopping=create$4({fields:TabstopSchema,name:'tabstopping',active:ActiveTabstopping});var global$3=tinymce.util.Tools.resolve('tinymce.html.Entities');const renderFormFieldWith=(pLabel,pField,extraClasses,extraBehaviours)=>{const spec=renderFormFieldSpecWith(pLabel,pField,extraClasses,extraBehaviours);return FormField.sketch(spec);};const renderFormField=(pLabel,pField)=>renderFormFieldWith(pLabel,pField,[],[]);const renderFormFieldSpecWith=(pLabel,pField,extraClasses,extraBehaviours)=>({dom:renderFormFieldDomWith(extraClasses),components:pLabel.toArray().concat([pField]),fieldBehaviours:derive$1(extraBehaviours)});const renderFormFieldDom=()=>renderFormFieldDomWith([]);const renderFormFieldDomWith=extraClasses=>({tag:'div',classes:['tox-form__group'].concat(extraClasses)});const renderLabel$3=(label,providersBackstage)=>FormField.parts.label({dom:{tag:'label',classes:['tox-label']},components:[text$2(providersBackstage.translate(label))]});const formChangeEvent=generate$6('form-component-change');const formCloseEvent=generate$6('form-close');const formCancelEvent=generate$6('form-cancel');const formActionEvent=generate$6('form-action');const formSubmitEvent=generate$6('form-submit');const formBlockEvent=generate$6('form-block');const formUnblockEvent=generate$6('form-unblock');const formTabChangeEvent=generate$6('form-tabchange');const formResizeEvent=generate$6('form-resize');const renderCollection=(spec,providersBackstage,initialData)=>{const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const icons=providersBackstage.icons();const getIcon=icon=>{var _a;return(_a=icons[icon])!==null&&_a!==void 0?_a:icon;};const runOnItem=f=>(comp,se)=>{closest$1(se.event.target,'[data-collection-item-value]').each(target=>{f(comp,se,target,get$f(target,'data-collection-item-value'));});};const setContents=(comp,items)=>{const htmlLines=map$2(items,item=>{const itemText=global$8.translate(item.text);const textContent=spec.columns===1?`<div class=\"tox-collection__item-label\">${itemText}</div>`:'';const iconContent=`<div class=\"tox-collection__item-icon\">${getIcon(item.icon)}</div>`;const mapItemName={'_':' ',' - ':' ','-':' '};const ariaLabel=itemText.replace(/\\_| \\- |\\-/g,match=>mapItemName[match]);const disabledClass=providersBackstage.isDisabled()?' tox-collection__item--state-disabled':'';return`<div class=\"tox-collection__item${disabledClass}\" tabindex=\"-1\" data-collection-item-value=\"${global$3.encodeAllRaw(item.value)}\" title=\"${ariaLabel}\" aria-label=\"${ariaLabel}\">${iconContent}${textContent}</div>`;});const chunks=spec.columns!=='auto'&&spec.columns>1?chunk$1(htmlLines,spec.columns):[htmlLines];const html=map$2(chunks,ch=>`<div class=\"tox-collection__group\">${ch.join('')}</div>`);set$6(comp.element,html.join(''));};const onClick=runOnItem((comp,se,tgt,itemValue)=>{se.stop();if(!providersBackstage.isDisabled()){emitWith(comp,formActionEvent,{name:spec.name,value:itemValue});}});const collectionEvents=[run$1(mouseover(),runOnItem((comp,se,tgt)=>{focus$3(tgt);})),run$1(click(),onClick),run$1(tap(),onClick),run$1(focusin(),runOnItem((comp,se,tgt)=>{descendant(comp.element,'.'+activeClass).each(currentActive=>{remove$2(currentActive,activeClass);});add$2(tgt,activeClass);})),run$1(focusout(),runOnItem(comp=>{descendant(comp.element,'.'+activeClass).each(currentActive=>{remove$2(currentActive,activeClass);});})),runOnExecute$1(runOnItem((comp,se,tgt,itemValue)=>{emitWith(comp,formActionEvent,{name:spec.name,value:itemValue});}))];const iterCollectionItems=(comp,applyAttributes)=>map$2(descendants(comp.element,'.tox-collection__item'),applyAttributes);const pField=FormField.parts.field({dom:{tag:'div',classes:['tox-collection'].concat(spec.columns!==1?['tox-collection--grid']:['tox-collection--list'])},components:[],factory:{sketch:identity},behaviours:derive$1([Disabling.config({disabled:providersBackstage.isDisabled,onDisabled:comp=>{iterCollectionItems(comp,childElm=>{add$2(childElm,'tox-collection__item--state-disabled');set$9(childElm,'aria-disabled',true);});},onEnabled:comp=>{iterCollectionItems(comp,childElm=>{remove$2(childElm,'tox-collection__item--state-disabled');remove$7(childElm,'aria-disabled');});}}),receivingConfig(),Replacing.config({}),Representing.config({store:{mode:'memory',initialValue:initialData.getOr([])},onSetValue:(comp,items)=>{setContents(comp,items);if(spec.columns==='auto'){detectSize(comp,5,'tox-collection__item').each(({numRows,numColumns})=>{Keying.setGridSize(comp,numRows,numColumns);});}emit(comp,formResizeEvent);}}),Tabstopping.config({}),Keying.config(deriveCollectionMovement(spec.columns,'normal')),config('collection-events',collectionEvents)]),eventOrder:{[execute$5()]:['disabling','alloy.base.behaviour','collection-events']}});const extraClasses=['tox-form__group--collection'];return renderFormFieldWith(pLabel,pField,extraClasses,[]);};const ariaElements=['input','textarea'];const isAriaElement=elem=>{const name=name$3(elem);return contains$2(ariaElements,name);};const markValid=(component,invalidConfig)=>{const elem=invalidConfig.getRoot(component).getOr(component.element);remove$2(elem,invalidConfig.invalidClass);invalidConfig.notify.each(notifyInfo=>{if(isAriaElement(component.element)){set$9(component.element,'aria-invalid',false);}notifyInfo.getContainer(component).each(container=>{set$6(container,notifyInfo.validHtml);});notifyInfo.onValid(component);});};const markInvalid=(component,invalidConfig,invalidState,text)=>{const elem=invalidConfig.getRoot(component).getOr(component.element);add$2(elem,invalidConfig.invalidClass);invalidConfig.notify.each(notifyInfo=>{if(isAriaElement(component.element)){set$9(component.element,'aria-invalid',true);}notifyInfo.getContainer(component).each(container=>{set$6(container,text);});notifyInfo.onInvalid(component,text);});};const query=(component,invalidConfig,_invalidState)=>invalidConfig.validator.fold(()=>Future.pure(Result.value(true)),validatorInfo=>validatorInfo.validate(component));const run=(component,invalidConfig,invalidState)=>{invalidConfig.notify.each(notifyInfo=>{notifyInfo.onValidate(component);});return query(component,invalidConfig).map(valid=>{if(component.getSystem().isConnected()){return valid.fold(err=>{markInvalid(component,invalidConfig,invalidState,err);return Result.error(err);},v=>{markValid(component,invalidConfig);return Result.value(v);});}else{return Result.error('No longer in system');}});};const isInvalid=(component,invalidConfig)=>{const elem=invalidConfig.getRoot(component).getOr(component.element);return has(elem,invalidConfig.invalidClass);};var InvalidateApis=/*#__PURE__*/Object.freeze({__proto__:null,markValid:markValid,markInvalid:markInvalid,query:query,run:run,isInvalid:isInvalid});const events$8=(invalidConfig,invalidState)=>invalidConfig.validator.map(validatorInfo=>derive$2([run$1(validatorInfo.onEvent,component=>{run(component,invalidConfig,invalidState).get(identity);})].concat(validatorInfo.validateOnLoad?[runOnAttached(component=>{run(component,invalidConfig,invalidState).get(noop);})]:[]))).getOr({});var ActiveInvalidate=/*#__PURE__*/Object.freeze({__proto__:null,events:events$8});var InvalidateSchema=[required$1('invalidClass'),defaulted('getRoot',Optional.none),optionObjOf('notify',[defaulted('aria','alert'),defaulted('getContainer',Optional.none),defaulted('validHtml',''),onHandler('onValid'),onHandler('onInvalid'),onHandler('onValidate')]),optionObjOf('validator',[required$1('validate'),defaulted('onEvent','input'),defaulted('validateOnLoad',true)])];const Invalidating=create$4({fields:InvalidateSchema,name:'invalidating',active:ActiveInvalidate,apis:InvalidateApis,extra:{validation:validator=>{return component=>{const v=Representing.getValue(component);return Future.pure(validator(v));};}}});const exhibit$1=()=>nu$7({styles:{'-webkit-user-select':'none','user-select':'none','-ms-user-select':'none','-moz-user-select':'-moz-none'},attributes:{unselectable:'on'}});const events$7=()=>derive$2([abort(selectstart(),always)]);var ActiveUnselecting=/*#__PURE__*/Object.freeze({__proto__:null,events:events$7,exhibit:exhibit$1});const Unselecting=create$4({fields:[],name:'unselecting',active:ActiveUnselecting});const renderPanelButton=(spec,sharedBackstage)=>Dropdown.sketch({dom:spec.dom,components:spec.components,toggleClass:'mce-active',dropdownBehaviours:derive$1([DisablingConfigs.button(sharedBackstage.providers.isDisabled),receivingConfig(),Unselecting.config({}),Tabstopping.config({})]),layouts:spec.layouts,sandboxClasses:['tox-dialog__popups'],lazySink:sharedBackstage.getSink,fetch:comp=>Future.nu(callback=>spec.fetch(callback)).map(items=>Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'),items,value=>{spec.onItemAction(comp,value);},spec.columns,spec.presets,ItemResponse$1.CLOSE_ON_EXECUTE,never,sharedBackstage.providers),{movement:deriveMenuMovement(spec.columns,spec.presets)})))),parts:{menu:part(false,1,spec.presets)}});const colorInputChangeEvent=generate$6('color-input-change');const colorSwatchChangeEvent=generate$6('color-swatch-change');const colorPickerCancelEvent=generate$6('color-picker-cancel');const renderColorInput=(spec,sharedBackstage,colorInputBackstage,initialData)=>{const pField=FormField.parts.field({factory:Input,inputClasses:['tox-textfield'],data:initialData,onSetValue:c=>Invalidating.run(c).get(noop),inputBehaviours:derive$1([Disabling.config({disabled:sharedBackstage.providers.isDisabled}),receivingConfig(),Tabstopping.config({}),Invalidating.config({invalidClass:'tox-textbox-field-invalid',getRoot:comp=>parentElement(comp.element),notify:{onValid:comp=>{const val=Representing.getValue(comp);emitWith(comp,colorInputChangeEvent,{color:val});}},validator:{validateOnLoad:false,validate:input=>{const inputValue=Representing.getValue(input);if(inputValue.length===0){return Future.pure(Result.value(true));}else{const span=SugarElement.fromTag('span');set$8(span,'background-color',inputValue);const res=getRaw(span,'background-color').fold(()=>Result.error('blah'),_=>Result.value(inputValue));return Future.pure(res);}}}})]),selectOnFocus:false});const pLabel=spec.label.map(label=>renderLabel$3(label,sharedBackstage.providers));const emitSwatchChange=(colorBit,value)=>{emitWith(colorBit,colorSwatchChangeEvent,{value});};const onItemAction=(comp,value)=>{memColorButton.getOpt(comp).each(colorBit=>{if(value==='custom'){colorInputBackstage.colorPicker(valueOpt=>{valueOpt.fold(()=>emit(colorBit,colorPickerCancelEvent),value=>{emitSwatchChange(colorBit,value);addColor(spec.storageKey,value);});},'#ffffff');}else if(value==='remove'){emitSwatchChange(colorBit,'');}else{emitSwatchChange(colorBit,value);}});};const memColorButton=record(renderPanelButton({dom:{tag:'span',attributes:{'aria-label':sharedBackstage.providers.translate('Color swatch')}},layouts:{onRtl:()=>[southwest$2,southeast$2,south$2],onLtr:()=>[southeast$2,southwest$2,south$2]},components:[],fetch:getFetch$1(colorInputBackstage.getColors(spec.storageKey),spec.storageKey,colorInputBackstage.hasCustomColors()),columns:colorInputBackstage.getColorCols(spec.storageKey),presets:'color',onItemAction},sharedBackstage));return FormField.sketch({dom:{tag:'div',classes:['tox-form__group']},components:pLabel.toArray().concat([{dom:{tag:'div',classes:['tox-color-input']},components:[pField,memColorButton.asSpec()]}]),fieldBehaviours:derive$1([config('form-field-events',[run$1(colorInputChangeEvent,(comp,se)=>{memColorButton.getOpt(comp).each(colorButton=>{set$8(colorButton.element,'background-color',se.event.color);});emitWith(comp,formChangeEvent,{name:spec.name});}),run$1(colorSwatchChangeEvent,(comp,se)=>{FormField.getField(comp).each(field=>{Representing.setValue(field,se.event.value);Composing.getCurrent(comp).each(Focusing.focus);});}),run$1(colorPickerCancelEvent,(comp,_se)=>{FormField.getField(comp).each(_field=>{Composing.getCurrent(comp).each(Focusing.focus);});})])])});};const labelPart=optional({schema:[required$1('dom')],name:'label'});const edgePart=name=>optional({name:''+name+'-edge',overrides:detail=>{const action=detail.model.manager.edgeActions[name];return action.fold(()=>({}),a=>({events:derive$2([runActionExtra(touchstart(),(comp,se,d)=>a(comp,d),[detail]),runActionExtra(mousedown(),(comp,se,d)=>a(comp,d),[detail]),runActionExtra(mousemove(),(comp,se,det)=>{if(det.mouseIsDown.get()){a(comp,det);}},[detail])])}));}});const tlEdgePart=edgePart('top-left');const tedgePart=edgePart('top');const trEdgePart=edgePart('top-right');const redgePart=edgePart('right');const brEdgePart=edgePart('bottom-right');const bedgePart=edgePart('bottom');const blEdgePart=edgePart('bottom-left');const ledgePart=edgePart('left');const thumbPart=required({name:'thumb',defaults:constant$1({dom:{styles:{position:'absolute'}}}),overrides:detail=>{return{events:derive$2([redirectToPart(touchstart(),detail,'spectrum'),redirectToPart(touchmove(),detail,'spectrum'),redirectToPart(touchend(),detail,'spectrum'),redirectToPart(mousedown(),detail,'spectrum'),redirectToPart(mousemove(),detail,'spectrum'),redirectToPart(mouseup(),detail,'spectrum')])};}});const isShift=event=>isShift$1(event.event);const spectrumPart=required({schema:[customField('mouseIsDown',()=>Cell(false))],name:'spectrum',overrides:detail=>{const modelDetail=detail.model;const model=modelDetail.manager;const setValueFrom=(component,simulatedEvent)=>model.getValueFromEvent(simulatedEvent).map(value=>model.setValueFrom(component,detail,value));return{behaviours:derive$1([Keying.config({mode:'special',onLeft:(spectrum,event)=>model.onLeft(spectrum,detail,isShift(event)),onRight:(spectrum,event)=>model.onRight(spectrum,detail,isShift(event)),onUp:(spectrum,event)=>model.onUp(spectrum,detail,isShift(event)),onDown:(spectrum,event)=>model.onDown(spectrum,detail,isShift(event))}),Tabstopping.config({}),Focusing.config({})]),events:derive$2([run$1(touchstart(),setValueFrom),run$1(touchmove(),setValueFrom),run$1(mousedown(),setValueFrom),run$1(mousemove(),(spectrum,se)=>{if(detail.mouseIsDown.get()){setValueFrom(spectrum,se);}})])};}});var SliderParts=[labelPart,ledgePart,redgePart,tedgePart,bedgePart,tlEdgePart,trEdgePart,blEdgePart,brEdgePart,thumbPart,spectrumPart];const _sliderChangeEvent='slider.change.value';const sliderChangeEvent=constant$1(_sliderChangeEvent);const isTouchEvent$2=evt=>evt.type.indexOf('touch')!==-1;const getEventSource=simulatedEvent=>{const evt=simulatedEvent.event.raw;if(isTouchEvent$2(evt)){const touchEvent=evt;return touchEvent.touches!==undefined&&touchEvent.touches.length===1?Optional.some(touchEvent.touches[0]).map(t=>SugarPosition(t.clientX,t.clientY)):Optional.none();}else{const mouseEvent=evt;return mouseEvent.clientX!==undefined?Optional.some(mouseEvent).map(me=>SugarPosition(me.clientX,me.clientY)):Optional.none();}};const t='top',r='right',b='bottom',l='left';const minX=detail=>detail.model.minX;const minY=detail=>detail.model.minY;const min1X=detail=>detail.model.minX-1;const min1Y=detail=>detail.model.minY-1;const maxX=detail=>detail.model.maxX;const maxY=detail=>detail.model.maxY;const max1X=detail=>detail.model.maxX+1;const max1Y=detail=>detail.model.maxY+1;const range=(detail,max,min)=>max(detail)-min(detail);const xRange=detail=>range(detail,maxX,minX);const yRange=detail=>range(detail,maxY,minY);const halfX=detail=>xRange(detail)/2;const halfY=detail=>yRange(detail)/2;const step=(detail,useMultiplier)=>useMultiplier?detail.stepSize*detail.speedMultiplier:detail.stepSize;const snap=detail=>detail.snapToGrid;const snapStart=detail=>detail.snapStart;const rounded=detail=>detail.rounded;const hasEdge=(detail,edgeName)=>detail[edgeName+'-edge']!==undefined;const hasLEdge=detail=>hasEdge(detail,l);const hasREdge=detail=>hasEdge(detail,r);const hasTEdge=detail=>hasEdge(detail,t);const hasBEdge=detail=>hasEdge(detail,b);const currentValue=detail=>detail.model.value.get();const xyValue=(x,y)=>({x,y});const fireSliderChange$3=(component,value)=>{emitWith(component,sliderChangeEvent(),{value});};const setToTLEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(min1X(detail),min1Y(detail)));};const setToTEdge=(edge,detail)=>{fireSliderChange$3(edge,min1Y(detail));};const setToTEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(halfX(detail),min1Y(detail)));};const setToTREdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(max1X(detail),min1Y(detail)));};const setToREdge=(edge,detail)=>{fireSliderChange$3(edge,max1X(detail));};const setToREdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(max1X(detail),halfY(detail)));};const setToBREdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(max1X(detail),max1Y(detail)));};const setToBEdge=(edge,detail)=>{fireSliderChange$3(edge,max1Y(detail));};const setToBEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(halfX(detail),max1Y(detail)));};const setToBLEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(min1X(detail),max1Y(detail)));};const setToLEdge=(edge,detail)=>{fireSliderChange$3(edge,min1X(detail));};const setToLEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(min1X(detail),halfY(detail)));};const reduceBy=(value,min,max,step)=>{if(value<min){return value;}else if(value>max){return max;}else if(value===min){return min-1;}else{return Math.max(min,value-step);}};const increaseBy=(value,min,max,step)=>{if(value>max){return value;}else if(value<min){return min;}else if(value===max){return max+1;}else{return Math.min(max,value+step);}};const capValue=(value,min,max)=>Math.max(min,Math.min(max,value));const snapValueOf=(value,min,max,step,snapStart)=>snapStart.fold(()=>{const initValue=value-min;const extraValue=Math.round(initValue/step)*step;return capValue(min+extraValue,min-1,max+1);},start=>{const remainder=(value-start)%step;const adjustment=Math.round(remainder/step);const rawSteps=Math.floor((value-start)/step);const maxSteps=Math.floor((max-start)/step);const numSteps=Math.min(maxSteps,rawSteps+adjustment);const r=start+numSteps*step;return Math.max(start,r);});const findOffsetOf=(value,min,max)=>Math.min(max,Math.max(value,min))-min;const findValueOf=args=>{const{min,max,range,value,step,snap,snapStart,rounded,hasMinEdge,hasMaxEdge,minBound,maxBound,screenRange}=args;const capMin=hasMinEdge?min-1:min;const capMax=hasMaxEdge?max+1:max;if(value<minBound){return capMin;}else if(value>maxBound){return capMax;}else{const offset=findOffsetOf(value,minBound,maxBound);const newValue=capValue(offset/screenRange*range+min,capMin,capMax);if(snap&&newValue>=min&&newValue<=max){return snapValueOf(newValue,min,max,step,snapStart);}else if(rounded){return Math.round(newValue);}else{return newValue;}}};const findOffsetOfValue$2=args=>{const{min,max,range,value,hasMinEdge,hasMaxEdge,maxBound,maxOffset,centerMinEdge,centerMaxEdge}=args;if(value<min){return hasMinEdge?0:centerMinEdge;}else if(value>max){return hasMaxEdge?maxBound:centerMaxEdge;}else{return(value-min)/range*maxOffset;}};const top='top',right='right',bottom='bottom',left='left',width='width',height='height';const getBounds=component=>component.element.dom.getBoundingClientRect();const getBoundsProperty=(bounds,property)=>bounds[property];const getMinXBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,left);};const getMaxXBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,right);};const getMinYBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,top);};const getMaxYBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,bottom);};const getXScreenRange=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,width);};const getYScreenRange=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,height);};const getCenterOffsetOf=(componentMinEdge,componentMaxEdge,spectrumMinEdge)=>(componentMinEdge+componentMaxEdge)/2-spectrumMinEdge;const getXCenterOffSetOf=(component,spectrum)=>{const componentBounds=getBounds(component);const spectrumBounds=getBounds(spectrum);const componentMinEdge=getBoundsProperty(componentBounds,left);const componentMaxEdge=getBoundsProperty(componentBounds,right);const spectrumMinEdge=getBoundsProperty(spectrumBounds,left);return getCenterOffsetOf(componentMinEdge,componentMaxEdge,spectrumMinEdge);};const getYCenterOffSetOf=(component,spectrum)=>{const componentBounds=getBounds(component);const spectrumBounds=getBounds(spectrum);const componentMinEdge=getBoundsProperty(componentBounds,top);const componentMaxEdge=getBoundsProperty(componentBounds,bottom);const spectrumMinEdge=getBoundsProperty(spectrumBounds,top);return getCenterOffsetOf(componentMinEdge,componentMaxEdge,spectrumMinEdge);};const fireSliderChange$2=(spectrum,value)=>{emitWith(spectrum,sliderChangeEvent(),{value});};const findValueOfOffset$1=(spectrum,detail,left)=>{const args={min:minX(detail),max:maxX(detail),range:xRange(detail),value:left,step:step(detail),snap:snap(detail),snapStart:snapStart(detail),rounded:rounded(detail),hasMinEdge:hasLEdge(detail),hasMaxEdge:hasREdge(detail),minBound:getMinXBounds(spectrum),maxBound:getMaxXBounds(spectrum),screenRange:getXScreenRange(spectrum)};return findValueOf(args);};const setValueFrom$2=(spectrum,detail,value)=>{const xValue=findValueOfOffset$1(spectrum,detail,value);const sliderVal=xValue;fireSliderChange$2(spectrum,sliderVal);return xValue;};const setToMin$2=(spectrum,detail)=>{const min=minX(detail);fireSliderChange$2(spectrum,min);};const setToMax$2=(spectrum,detail)=>{const max=maxX(detail);fireSliderChange$2(spectrum,max);};const moveBy$2=(direction,spectrum,detail,useMultiplier)=>{const f=direction>0?increaseBy:reduceBy;const xValue=f(currentValue(detail),minX(detail),maxX(detail),step(detail,useMultiplier));fireSliderChange$2(spectrum,xValue);return Optional.some(xValue);};const handleMovement$2=direction=>(spectrum,detail,useMultiplier)=>moveBy$2(direction,spectrum,detail,useMultiplier).map(always);const getValueFromEvent$2=simulatedEvent=>{const pos=getEventSource(simulatedEvent);return pos.map(p=>p.left);};const findOffsetOfValue$1=(spectrum,detail,value,minEdge,maxEdge)=>{const minOffset=0;const maxOffset=getXScreenRange(spectrum);const centerMinEdge=minEdge.bind(edge=>Optional.some(getXCenterOffSetOf(edge,spectrum))).getOr(minOffset);const centerMaxEdge=maxEdge.bind(edge=>Optional.some(getXCenterOffSetOf(edge,spectrum))).getOr(maxOffset);const args={min:minX(detail),max:maxX(detail),range:xRange(detail),value,hasMinEdge:hasLEdge(detail),hasMaxEdge:hasREdge(detail),minBound:getMinXBounds(spectrum),minOffset,maxBound:getMaxXBounds(spectrum),maxOffset,centerMinEdge,centerMaxEdge};return findOffsetOfValue$2(args);};const findPositionOfValue$1=(slider,spectrum,value,minEdge,maxEdge,detail)=>{const offset=findOffsetOfValue$1(spectrum,detail,value,minEdge,maxEdge);return getMinXBounds(spectrum)-getMinXBounds(slider)+offset;};const setPositionFromValue$2=(slider,thumb,detail,edges)=>{const value=currentValue(detail);const pos=findPositionOfValue$1(slider,edges.getSpectrum(slider),value,edges.getLeftEdge(slider),edges.getRightEdge(slider),detail);const thumbRadius=get$c(thumb.element)/2;set$8(thumb.element,'left',pos-thumbRadius+'px');};const onLeft$2=handleMovement$2(-1);const onRight$2=handleMovement$2(1);const onUp$2=Optional.none;const onDown$2=Optional.none;const edgeActions$2={'top-left':Optional.none(),'top':Optional.none(),'top-right':Optional.none(),'right':Optional.some(setToREdge),'bottom-right':Optional.none(),'bottom':Optional.none(),'bottom-left':Optional.none(),'left':Optional.some(setToLEdge)};var HorizontalModel=/*#__PURE__*/Object.freeze({__proto__:null,setValueFrom:setValueFrom$2,setToMin:setToMin$2,setToMax:setToMax$2,findValueOfOffset:findValueOfOffset$1,getValueFromEvent:getValueFromEvent$2,findPositionOfValue:findPositionOfValue$1,setPositionFromValue:setPositionFromValue$2,onLeft:onLeft$2,onRight:onRight$2,onUp:onUp$2,onDown:onDown$2,edgeActions:edgeActions$2});const fireSliderChange$1=(spectrum,value)=>{emitWith(spectrum,sliderChangeEvent(),{value});};const findValueOfOffset=(spectrum,detail,top)=>{const args={min:minY(detail),max:maxY(detail),range:yRange(detail),value:top,step:step(detail),snap:snap(detail),snapStart:snapStart(detail),rounded:rounded(detail),hasMinEdge:hasTEdge(detail),hasMaxEdge:hasBEdge(detail),minBound:getMinYBounds(spectrum),maxBound:getMaxYBounds(spectrum),screenRange:getYScreenRange(spectrum)};return findValueOf(args);};const setValueFrom$1=(spectrum,detail,value)=>{const yValue=findValueOfOffset(spectrum,detail,value);const sliderVal=yValue;fireSliderChange$1(spectrum,sliderVal);return yValue;};const setToMin$1=(spectrum,detail)=>{const min=minY(detail);fireSliderChange$1(spectrum,min);};const setToMax$1=(spectrum,detail)=>{const max=maxY(detail);fireSliderChange$1(spectrum,max);};const moveBy$1=(direction,spectrum,detail,useMultiplier)=>{const f=direction>0?increaseBy:reduceBy;const yValue=f(currentValue(detail),minY(detail),maxY(detail),step(detail,useMultiplier));fireSliderChange$1(spectrum,yValue);return Optional.some(yValue);};const handleMovement$1=direction=>(spectrum,detail,useMultiplier)=>moveBy$1(direction,spectrum,detail,useMultiplier).map(always);const getValueFromEvent$1=simulatedEvent=>{const pos=getEventSource(simulatedEvent);return pos.map(p=>{return p.top;});};const findOffsetOfValue=(spectrum,detail,value,minEdge,maxEdge)=>{const minOffset=0;const maxOffset=getYScreenRange(spectrum);const centerMinEdge=minEdge.bind(edge=>Optional.some(getYCenterOffSetOf(edge,spectrum))).getOr(minOffset);const centerMaxEdge=maxEdge.bind(edge=>Optional.some(getYCenterOffSetOf(edge,spectrum))).getOr(maxOffset);const args={min:minY(detail),max:maxY(detail),range:yRange(detail),value,hasMinEdge:hasTEdge(detail),hasMaxEdge:hasBEdge(detail),minBound:getMinYBounds(spectrum),minOffset,maxBound:getMaxYBounds(spectrum),maxOffset,centerMinEdge,centerMaxEdge};return findOffsetOfValue$2(args);};const findPositionOfValue=(slider,spectrum,value,minEdge,maxEdge,detail)=>{const offset=findOffsetOfValue(spectrum,detail,value,minEdge,maxEdge);return getMinYBounds(spectrum)-getMinYBounds(slider)+offset;};const setPositionFromValue$1=(slider,thumb,detail,edges)=>{const value=currentValue(detail);const pos=findPositionOfValue(slider,edges.getSpectrum(slider),value,edges.getTopEdge(slider),edges.getBottomEdge(slider),detail);const thumbRadius=get$d(thumb.element)/2;set$8(thumb.element,'top',pos-thumbRadius+'px');};const onLeft$1=Optional.none;const onRight$1=Optional.none;const onUp$1=handleMovement$1(-1);const onDown$1=handleMovement$1(1);const edgeActions$1={'top-left':Optional.none(),'top':Optional.some(setToTEdge),'top-right':Optional.none(),'right':Optional.none(),'bottom-right':Optional.none(),'bottom':Optional.some(setToBEdge),'bottom-left':Optional.none(),'left':Optional.none()};var VerticalModel=/*#__PURE__*/Object.freeze({__proto__:null,setValueFrom:setValueFrom$1,setToMin:setToMin$1,setToMax:setToMax$1,findValueOfOffset:findValueOfOffset,getValueFromEvent:getValueFromEvent$1,findPositionOfValue:findPositionOfValue,setPositionFromValue:setPositionFromValue$1,onLeft:onLeft$1,onRight:onRight$1,onUp:onUp$1,onDown:onDown$1,edgeActions:edgeActions$1});const fireSliderChange=(spectrum,value)=>{emitWith(spectrum,sliderChangeEvent(),{value});};const sliderValue=(x,y)=>({x,y});const setValueFrom=(spectrum,detail,value)=>{const xValue=findValueOfOffset$1(spectrum,detail,value.left);const yValue=findValueOfOffset(spectrum,detail,value.top);const val=sliderValue(xValue,yValue);fireSliderChange(spectrum,val);return val;};const moveBy=(direction,isVerticalMovement,spectrum,detail,useMultiplier)=>{const f=direction>0?increaseBy:reduceBy;const xValue=isVerticalMovement?currentValue(detail).x:f(currentValue(detail).x,minX(detail),maxX(detail),step(detail,useMultiplier));const yValue=!isVerticalMovement?currentValue(detail).y:f(currentValue(detail).y,minY(detail),maxY(detail),step(detail,useMultiplier));fireSliderChange(spectrum,sliderValue(xValue,yValue));return Optional.some(xValue);};const handleMovement=(direction,isVerticalMovement)=>(spectrum,detail,useMultiplier)=>moveBy(direction,isVerticalMovement,spectrum,detail,useMultiplier).map(always);const setToMin=(spectrum,detail)=>{const mX=minX(detail);const mY=minY(detail);fireSliderChange(spectrum,sliderValue(mX,mY));};const setToMax=(spectrum,detail)=>{const mX=maxX(detail);const mY=maxY(detail);fireSliderChange(spectrum,sliderValue(mX,mY));};const getValueFromEvent=simulatedEvent=>getEventSource(simulatedEvent);const setPositionFromValue=(slider,thumb,detail,edges)=>{const value=currentValue(detail);const xPos=findPositionOfValue$1(slider,edges.getSpectrum(slider),value.x,edges.getLeftEdge(slider),edges.getRightEdge(slider),detail);const yPos=findPositionOfValue(slider,edges.getSpectrum(slider),value.y,edges.getTopEdge(slider),edges.getBottomEdge(slider),detail);const thumbXRadius=get$c(thumb.element)/2;const thumbYRadius=get$d(thumb.element)/2;set$8(thumb.element,'left',xPos-thumbXRadius+'px');set$8(thumb.element,'top',yPos-thumbYRadius+'px');};const onLeft=handleMovement(-1,false);const onRight=handleMovement(1,false);const onUp=handleMovement(-1,true);const onDown=handleMovement(1,true);const edgeActions={'top-left':Optional.some(setToTLEdgeXY),'top':Optional.some(setToTEdgeXY),'top-right':Optional.some(setToTREdgeXY),'right':Optional.some(setToREdgeXY),'bottom-right':Optional.some(setToBREdgeXY),'bottom':Optional.some(setToBEdgeXY),'bottom-left':Optional.some(setToBLEdgeXY),'left':Optional.some(setToLEdgeXY)};var TwoDModel=/*#__PURE__*/Object.freeze({__proto__:null,setValueFrom:setValueFrom,setToMin:setToMin,setToMax:setToMax,getValueFromEvent:getValueFromEvent,setPositionFromValue:setPositionFromValue,onLeft:onLeft,onRight:onRight,onUp:onUp,onDown:onDown,edgeActions:edgeActions});const SliderSchema=[defaulted('stepSize',1),defaulted('speedMultiplier',10),defaulted('onChange',noop),defaulted('onChoose',noop),defaulted('onInit',noop),defaulted('onDragStart',noop),defaulted('onDragEnd',noop),defaulted('snapToGrid',false),defaulted('rounded',true),option$3('snapStart'),requiredOf('model',choose$1('mode',{x:[defaulted('minX',0),defaulted('maxX',100),customField('value',spec=>Cell(spec.mode.minX)),required$1('getInitialValue'),output$1('manager',HorizontalModel)],y:[defaulted('minY',0),defaulted('maxY',100),customField('value',spec=>Cell(spec.mode.minY)),required$1('getInitialValue'),output$1('manager',VerticalModel)],xy:[defaulted('minX',0),defaulted('maxX',100),defaulted('minY',0),defaulted('maxY',100),customField('value',spec=>Cell({x:spec.mode.minX,y:spec.mode.minY})),required$1('getInitialValue'),output$1('manager',TwoDModel)]})),field('sliderBehaviours',[Keying,Representing]),customField('mouseIsDown',()=>Cell(false))];const sketch$2=(detail,components,_spec,_externals)=>{const getThumb=component=>getPartOrDie(component,detail,'thumb');const getSpectrum=component=>getPartOrDie(component,detail,'spectrum');const getLeftEdge=component=>getPart(component,detail,'left-edge');const getRightEdge=component=>getPart(component,detail,'right-edge');const getTopEdge=component=>getPart(component,detail,'top-edge');const getBottomEdge=component=>getPart(component,detail,'bottom-edge');const modelDetail=detail.model;const model=modelDetail.manager;const refresh=(slider,thumb)=>{model.setPositionFromValue(slider,thumb,detail,{getLeftEdge,getRightEdge,getTopEdge,getBottomEdge,getSpectrum});};const setValue=(slider,newValue)=>{modelDetail.value.set(newValue);const thumb=getThumb(slider);refresh(slider,thumb);};const changeValue=(slider,newValue)=>{setValue(slider,newValue);const thumb=getThumb(slider);detail.onChange(slider,thumb,newValue);return Optional.some(true);};const resetToMin=slider=>{model.setToMin(slider,detail);};const resetToMax=slider=>{model.setToMax(slider,detail);};const choose=slider=>{const fireOnChoose=()=>{getPart(slider,detail,'thumb').each(thumb=>{const value=modelDetail.value.get();detail.onChoose(slider,thumb,value);});};const wasDown=detail.mouseIsDown.get();detail.mouseIsDown.set(false);if(wasDown){fireOnChoose();}};const onDragStart=(slider,simulatedEvent)=>{simulatedEvent.stop();detail.mouseIsDown.set(true);detail.onDragStart(slider,getThumb(slider));};const onDragEnd=(slider,simulatedEvent)=>{simulatedEvent.stop();detail.onDragEnd(slider,getThumb(slider));choose(slider);};const focusWidget=component=>{getPart(component,detail,'spectrum').map(Keying.focusIn);};return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.sliderBehaviours,[Keying.config({mode:'special',focusIn:focusWidget}),Representing.config({store:{mode:'manual',getValue:_=>{return modelDetail.value.get();},setValue}}),Receiving.config({channels:{[mouseReleased()]:{onReceive:choose}}})]),events:derive$2([run$1(sliderChangeEvent(),(slider,simulatedEvent)=>{changeValue(slider,simulatedEvent.event.value);}),runOnAttached((slider,_simulatedEvent)=>{const getInitial=modelDetail.getInitialValue();modelDetail.value.set(getInitial);const thumb=getThumb(slider);refresh(slider,thumb);const spectrum=getSpectrum(slider);detail.onInit(slider,thumb,spectrum,modelDetail.value.get());}),run$1(touchstart(),onDragStart),run$1(touchend(),onDragEnd),run$1(mousedown(),(component,event)=>{focusWidget(component);onDragStart(component,event);}),run$1(mouseup(),onDragEnd)]),apis:{resetToMin,resetToMax,setValue,refresh},domModification:{styles:{position:'relative'}}};};const Slider=composite({name:'Slider',configFields:SliderSchema,partFields:SliderParts,factory:sketch$2,apis:{setValue:(apis,slider,value)=>{apis.setValue(slider,value);},resetToMin:(apis,slider)=>{apis.resetToMin(slider);},resetToMax:(apis,slider)=>{apis.resetToMax(slider);},refresh:(apis,slider)=>{apis.refresh(slider);}}});const fieldsUpdate=generate$6('rgb-hex-update');const sliderUpdate=generate$6('slider-update');const paletteUpdate=generate$6('palette-update');const sliderFactory=(translate,getClass)=>{const spectrum=Slider.parts.spectrum({dom:{tag:'div',classes:[getClass('hue-slider-spectrum')],attributes:{role:'presentation'}}});const thumb=Slider.parts.thumb({dom:{tag:'div',classes:[getClass('hue-slider-thumb')],attributes:{role:'presentation'}}});return Slider.sketch({dom:{tag:'div',classes:[getClass('hue-slider')],attributes:{'role':'slider','aria-valuemin':0,'aria-valuemax':360,'aria-valuenow':120}},rounded:false,model:{mode:'y',getInitialValue:constant$1(0)},components:[spectrum,thumb],sliderBehaviours:derive$1([Focusing.config({})]),onChange:(slider,_thumb,value)=>{set$9(slider.element,'aria-valuenow',Math.floor(360-value*3.6));emitWith(slider,sliderUpdate,{value});}});};const owner$1='form';const schema$i=[field('formBehaviours',[Representing])];const getPartName$1=name=>'<alloy.field.'+name+'>';const sketch$1=fSpec=>{const parts=(()=>{const record=[];const field=(name,config)=>{record.push(name);return generateOne$1(owner$1,getPartName$1(name),config);};return{field,record:constant$1(record)};})();const spec=fSpec(parts);const partNames=parts.record();const fieldParts=map$2(partNames,n=>required({name:n,pname:getPartName$1(n)}));return composite$1(owner$1,schema$i,fieldParts,make$4,spec);};const toResult=(o,e)=>o.fold(()=>Result.error(e),Result.value);const make$4=(detail,components)=>({uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.formBehaviours,[Representing.config({store:{mode:'manual',getValue:form=>{const resPs=getAllParts(form,detail);return map$1(resPs,(resPThunk,pName)=>resPThunk().bind(v=>{const opt=Composing.getCurrent(v);return toResult(opt,new Error(`Cannot find a current component to extract the value from for form part '${pName}': `+element(v.element)));}).map(Representing.getValue));},setValue:(form,values)=>{each(values,(newValue,key)=>{getPart(form,detail,key).each(wrapper=>{Composing.getCurrent(wrapper).each(field=>{Representing.setValue(field,newValue);});});});}}})]),apis:{getField:(form,key)=>{return getPart(form,detail,key).bind(Composing.getCurrent);}}});const Form={getField:makeApi((apis,component,key)=>apis.getField(component,key)),sketch:sketch$1};const validInput=generate$6('valid-input');const invalidInput=generate$6('invalid-input');const validatingInput=generate$6('validating-input');const translatePrefix='colorcustom.rgb.';const rgbFormFactory=(translate,getClass,onValidHexx,onInvalidHexx)=>{const invalidation=(label,isValid)=>Invalidating.config({invalidClass:getClass('invalid'),notify:{onValidate:comp=>{emitWith(comp,validatingInput,{type:label});},onValid:comp=>{emitWith(comp,validInput,{type:label,value:Representing.getValue(comp)});},onInvalid:comp=>{emitWith(comp,invalidInput,{type:label,value:Representing.getValue(comp)});}},validator:{validate:comp=>{const value=Representing.getValue(comp);const res=isValid(value)?Result.value(true):Result.error(translate('aria.input.invalid'));return Future.pure(res);},validateOnLoad:false}});const renderTextField=(isValid,name,label,description,data)=>{const helptext=translate(translatePrefix+'range');const pLabel=FormField.parts.label({dom:{tag:'label',attributes:{'aria-label':description}},components:[text$2(label)]});const pField=FormField.parts.field({data,factory:Input,inputAttributes:{type:'text',...(name==='hex'?{'aria-live':'polite'}:{})},inputClasses:[getClass('textfield')],inputBehaviours:derive$1([invalidation(name,isValid),Tabstopping.config({})]),onSetValue:input=>{if(Invalidating.isInvalid(input)){const run=Invalidating.run(input);run.get(noop);}}});const comps=[pLabel,pField];const concats=name!=='hex'?[FormField.parts['aria-descriptor']({text:helptext})]:[];const components=comps.concat(concats);return{dom:{tag:'div',attributes:{role:'presentation'}},components};};const copyRgbToHex=(form,rgba)=>{const hex=fromRgba(rgba);Form.getField(form,'hex').each(hexField=>{if(!Focusing.isFocused(hexField)){Representing.setValue(form,{hex:hex.value});}});return hex;};const copyRgbToForm=(form,rgb)=>{const red=rgb.red;const green=rgb.green;const blue=rgb.blue;Representing.setValue(form,{red,green,blue});};const memPreview=record({dom:{tag:'div',classes:[getClass('rgba-preview')],styles:{'background-color':'white'},attributes:{role:'presentation'}}});const updatePreview=(anyInSystem,hex)=>{memPreview.getOpt(anyInSystem).each(preview=>{set$8(preview.element,'background-color','#'+hex.value);});};const factory=()=>{const state={red:Cell(Optional.some(255)),green:Cell(Optional.some(255)),blue:Cell(Optional.some(255)),hex:Cell(Optional.some('ffffff'))};const copyHexToRgb=(form,hex)=>{const rgb=fromHex(hex);copyRgbToForm(form,rgb);setValueRgb(rgb);};const get=prop=>state[prop].get();const set=(prop,value)=>{state[prop].set(value);};const getValueRgb=()=>get('red').bind(red=>get('green').bind(green=>get('blue').map(blue=>rgbaColour(red,green,blue,1))));const setValueRgb=rgb=>{const red=rgb.red;const green=rgb.green;const blue=rgb.blue;set('red',Optional.some(red));set('green',Optional.some(green));set('blue',Optional.some(blue));};const onInvalidInput=(form,simulatedEvent)=>{const data=simulatedEvent.event;if(data.type!=='hex'){set(data.type,Optional.none());}else{onInvalidHexx(form);}};const onValidHex=(form,value)=>{onValidHexx(form);const hex=hexColour(value);set('hex',Optional.some(hex.value));const rgb=fromHex(hex);copyRgbToForm(form,rgb);setValueRgb(rgb);emitWith(form,fieldsUpdate,{hex});updatePreview(form,hex);};const onValidRgb=(form,prop,value)=>{const val=parseInt(value,10);set(prop,Optional.some(val));getValueRgb().each(rgb=>{const hex=copyRgbToHex(form,rgb);emitWith(form,fieldsUpdate,{hex});updatePreview(form,hex);});};const isHexInputEvent=data=>data.type==='hex';const onValidInput=(form,simulatedEvent)=>{const data=simulatedEvent.event;if(isHexInputEvent(data)){onValidHex(form,data.value);}else{onValidRgb(form,data.type,data.value);}};const formPartStrings=key=>({label:translate(translatePrefix+key+'.label'),description:translate(translatePrefix+key+'.description')});const redStrings=formPartStrings('red');const greenStrings=formPartStrings('green');const blueStrings=formPartStrings('blue');const hexStrings=formPartStrings('hex');return deepMerge(Form.sketch(parts=>({dom:{tag:'form',classes:[getClass('rgb-form')],attributes:{'aria-label':translate('aria.color.picker')}},components:[parts.field('red',FormField.sketch(renderTextField(isRgbaComponent,'red',redStrings.label,redStrings.description,255))),parts.field('green',FormField.sketch(renderTextField(isRgbaComponent,'green',greenStrings.label,greenStrings.description,255))),parts.field('blue',FormField.sketch(renderTextField(isRgbaComponent,'blue',blueStrings.label,blueStrings.description,255))),parts.field('hex',FormField.sketch(renderTextField(isHexString,'hex',hexStrings.label,hexStrings.description,'ffffff'))),memPreview.asSpec()],formBehaviours:derive$1([Invalidating.config({invalidClass:getClass('form-invalid')}),config('rgb-form-events',[run$1(validInput,onValidInput),run$1(invalidInput,onInvalidInput),run$1(validatingInput,onInvalidInput)])])})),{apis:{updateHex:(form,hex)=>{Representing.setValue(form,{hex:hex.value});copyHexToRgb(form,hex);updatePreview(form,hex);}}});};const rgbFormSketcher=single({factory,name:'RgbForm',configFields:[],apis:{updateHex:(apis,form,hex)=>{apis.updateHex(form,hex);}},extraApis:{}});return rgbFormSketcher;};const paletteFactory=(translate,getClass)=>{const spectrumPart=Slider.parts.spectrum({dom:{tag:'canvas',attributes:{role:'presentation'},classes:[getClass('sv-palette-spectrum')]}});const thumbPart=Slider.parts.thumb({dom:{tag:'div',attributes:{role:'presentation'},classes:[getClass('sv-palette-thumb')],innerHtml:`<div class=${getClass('sv-palette-inner-thumb')} role=\"presentation\"></div>`}});const setColour=(canvas,rgba)=>{const{width,height}=canvas;const ctx=canvas.getContext('2d');if(ctx===null){return;}ctx.fillStyle=rgba;ctx.fillRect(0,0,width,height);const grdWhite=ctx.createLinearGradient(0,0,width,0);grdWhite.addColorStop(0,'rgba(255,255,255,1)');grdWhite.addColorStop(1,'rgba(255,255,255,0)');ctx.fillStyle=grdWhite;ctx.fillRect(0,0,width,height);const grdBlack=ctx.createLinearGradient(0,0,0,height);grdBlack.addColorStop(0,'rgba(0,0,0,0)');grdBlack.addColorStop(1,'rgba(0,0,0,1)');ctx.fillStyle=grdBlack;ctx.fillRect(0,0,width,height);};const setPaletteHue=(slider,hue)=>{const canvas=slider.components()[0].element.dom;const hsv=hsvColour(hue,100,100);const rgba=fromHsv(hsv);setColour(canvas,toString(rgba));};const setPaletteThumb=(slider,hex)=>{const hsv=fromRgb(fromHex(hex));Slider.setValue(slider,{x:hsv.saturation,y:100-hsv.value});set$9(slider.element,'aria-valuetext',translate(['Saturation {0}%, Brightness {1}%',hsv.saturation,hsv.value]));};const factory=_detail=>{const getInitialValue=constant$1({x:0,y:0});const onChange=(slider,_thumb,value)=>{if(!isNumber(value)){set$9(slider.element,'aria-valuetext',translate(['Saturation {0}%, Brightness {1}%',Math.floor(value.x),Math.floor(100-value.y)]));}emitWith(slider,paletteUpdate,{value});};const onInit=(_slider,_thumb,spectrum,_value)=>{setColour(spectrum.element.dom,toString(red));};const sliderBehaviours=derive$1([Composing.config({find:Optional.some}),Focusing.config({})]);return Slider.sketch({dom:{tag:'div',attributes:{'role':'slider','aria-valuetext':translate(['Saturation {0}%, Brightness {1}%',0,0])},classes:[getClass('sv-palette')]},model:{mode:'xy',getInitialValue},rounded:false,components:[spectrumPart,thumbPart],onChange,onInit,sliderBehaviours});};const saturationBrightnessPaletteSketcher=single({factory,name:'SaturationBrightnessPalette',configFields:[],apis:{setHue:(_apis,slider,hue)=>{setPaletteHue(slider,hue);},setThumb:(_apis,slider,hex)=>{setPaletteThumb(slider,hex);}},extraApis:{}});return saturationBrightnessPaletteSketcher;};const makeFactory=(translate,getClass)=>{const factory=detail=>{const rgbForm=rgbFormFactory(translate,getClass,detail.onValidHex,detail.onInvalidHex);const sbPalette=paletteFactory(translate,getClass);const hueSliderToDegrees=hue=>(100-hue)/100*360;const hueDegreesToSlider=hue=>100-hue/360*100;const state={paletteRgba:Cell(red),paletteHue:Cell(0)};const memSlider=record(sliderFactory(translate,getClass));const memPalette=record(sbPalette.sketch({}));const memRgb=record(rgbForm.sketch({}));const updatePalette=(anyInSystem,_hex,hue)=>{memPalette.getOpt(anyInSystem).each(palette=>{sbPalette.setHue(palette,hue);});};const updateFields=(anyInSystem,hex)=>{memRgb.getOpt(anyInSystem).each(form=>{rgbForm.updateHex(form,hex);});};const updateSlider=(anyInSystem,_hex,hue)=>{memSlider.getOpt(anyInSystem).each(slider=>{Slider.setValue(slider,hueDegreesToSlider(hue));});};const updatePaletteThumb=(anyInSystem,hex)=>{memPalette.getOpt(anyInSystem).each(palette=>{sbPalette.setThumb(palette,hex);});};const updateState=(hex,hue)=>{const rgba=fromHex(hex);state.paletteRgba.set(rgba);state.paletteHue.set(hue);};const runUpdates=(anyInSystem,hex,hue,updates)=>{updateState(hex,hue);each$1(updates,update=>{update(anyInSystem,hex,hue);});};const onPaletteUpdate=()=>{const updates=[updateFields];return(form,simulatedEvent)=>{const value=simulatedEvent.event.value;const oldHue=state.paletteHue.get();const newHsv=hsvColour(oldHue,value.x,100-value.y);const newHex=hsvToHex(newHsv);runUpdates(form,newHex,oldHue,updates);};};const onSliderUpdate=()=>{const updates=[updatePalette,updateFields];return(form,simulatedEvent)=>{const hue=hueSliderToDegrees(simulatedEvent.event.value);const oldRgb=state.paletteRgba.get();const oldHsv=fromRgb(oldRgb);const newHsv=hsvColour(hue,oldHsv.saturation,oldHsv.value);const newHex=hsvToHex(newHsv);runUpdates(form,newHex,hue,updates);};};const onFieldsUpdate=()=>{const updates=[updatePalette,updateSlider,updatePaletteThumb];return(form,simulatedEvent)=>{const hex=simulatedEvent.event.hex;const hsv=hexToHsv(hex);runUpdates(form,hex,hsv.hue,updates);};};return{uid:detail.uid,dom:detail.dom,components:[memPalette.asSpec(),memSlider.asSpec(),memRgb.asSpec()],behaviours:derive$1([config('colour-picker-events',[run$1(fieldsUpdate,onFieldsUpdate()),run$1(paletteUpdate,onPaletteUpdate()),run$1(sliderUpdate,onSliderUpdate())]),Composing.config({find:comp=>memRgb.getOpt(comp)}),Keying.config({mode:'acyclic'})])};};const colourPickerSketcher=single({name:'ColourPicker',configFields:[required$1('dom'),defaulted('onValidHex',noop),defaulted('onInvalidHex',noop)],factory});return colourPickerSketcher;};const self=()=>Composing.config({find:Optional.some});const memento$1=mem=>Composing.config({find:mem.getOpt});const childAt=index=>Composing.config({find:comp=>child$2(comp.element,index).bind(element=>comp.getSystem().getByDom(element).toOptional())});const ComposingConfigs={self,memento:memento$1,childAt};const processors=objOf([defaulted('preprocess',identity),defaulted('postprocess',identity)]);const memento=(mem,rawProcessors)=>{const ps=asRawOrDie$1('RepresentingConfigs.memento processors',processors,rawProcessors);return Representing.config({store:{mode:'manual',getValue:comp=>{const other=mem.get(comp);const rawValue=Representing.getValue(other);return ps.postprocess(rawValue);},setValue:(comp,rawValue)=>{const newValue=ps.preprocess(rawValue);const other=mem.get(comp);Representing.setValue(other,newValue);}}});};const withComp=(optInitialValue,getter,setter)=>Representing.config({store:{mode:'manual',...optInitialValue.map(initialValue=>({initialValue})).getOr({}),getValue:getter,setValue:setter}});const withElement=(initialValue,getter,setter)=>withComp(initialValue,c=>getter(c.element),(c,v)=>setter(c.element,v));const domHtml=optInitialValue=>withElement(optInitialValue,get$9,set$6);const memory=initialValue=>Representing.config({store:{mode:'memory',initialValue}});const english={'colorcustom.rgb.red.label':'R','colorcustom.rgb.red.description':'Red component','colorcustom.rgb.green.label':'G','colorcustom.rgb.green.description':'Green component','colorcustom.rgb.blue.label':'B','colorcustom.rgb.blue.description':'Blue component','colorcustom.rgb.hex.label':'#','colorcustom.rgb.hex.description':'Hex color code','colorcustom.rgb.range':'Range 0 to 255','aria.color.picker':'Color Picker','aria.input.invalid':'Invalid input'};const translate$1=providerBackstage=>key=>{if(isString(key)){return providerBackstage.translate(english[key]);}else{return providerBackstage.translate(key);}};const renderColorPicker=(_spec,providerBackstage,initialData)=>{const getClass=key=>'tox-'+key;const colourPickerFactory=makeFactory(translate$1(providerBackstage),getClass);const onValidHex=form=>{emitWith(form,formActionEvent,{name:'hex-valid',value:true});};const onInvalidHex=form=>{emitWith(form,formActionEvent,{name:'hex-valid',value:false});};const memPicker=record(colourPickerFactory.sketch({dom:{tag:'div',classes:[getClass('color-picker-container')],attributes:{role:'presentation'}},onValidHex,onInvalidHex}));return{dom:{tag:'div'},components:[memPicker.asSpec()],behaviours:derive$1([withComp(initialData,comp=>{const picker=memPicker.get(comp);const optRgbForm=Composing.getCurrent(picker);const optHex=optRgbForm.bind(rgbForm=>{const formValues=Representing.getValue(rgbForm);return formValues.hex;});return optHex.map(hex=>'#'+removeLeading(hex,'#')).getOr('');},(comp,newValue)=>{const pattern=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;const valOpt=Optional.from(pattern.exec(newValue)).bind(matches=>get$h(matches,1));const picker=memPicker.get(comp);const optRgbForm=Composing.getCurrent(picker);optRgbForm.fold(()=>{console.log('Can not find form');},rgbForm=>{Representing.setValue(rgbForm,{hex:valOpt.getOr('')});Form.getField(rgbForm,'hex').each(hexField=>{emit(hexField,input());});});}),ComposingConfigs.self()])};};var global$2=tinymce.util.Tools.resolve('tinymce.Resource');const isOldCustomEditor=spec=>has$2(spec,'init');const renderCustomEditor=spec=>{const editorApi=value$2();const memReplaced=record({dom:{tag:spec.tag}});const initialValue=value$2();return{dom:{tag:'div',classes:['tox-custom-editor']},behaviours:derive$1([config('custom-editor-events',[runOnAttached(component=>{memReplaced.getOpt(component).each(ta=>{(isOldCustomEditor(spec)?spec.init(ta.element.dom):global$2.load(spec.scriptId,spec.scriptUrl).then(init=>init(ta.element.dom,spec.settings))).then(ea=>{initialValue.on(cvalue=>{ea.setValue(cvalue);});initialValue.clear();editorApi.set(ea);});});})]),withComp(Optional.none(),()=>editorApi.get().fold(()=>initialValue.get().getOr(''),ed=>ed.getValue()),(component,value)=>{editorApi.get().fold(()=>initialValue.set(value),ed=>ed.setValue(value));}),ComposingConfigs.self()]),components:[memReplaced.asSpec()]};};var global$1=tinymce.util.Tools.resolve('tinymce.util.Tools');const filterByExtension=(files,providersBackstage)=>{const allowedImageFileTypes=global$1.explode(providersBackstage.getOption('images_file_types'));const isFileInAllowedTypes=file=>exists(allowedImageFileTypes,type=>endsWith(file.name.toLowerCase(),`.${type.toLowerCase()}`));return filter$2(from(files),isFileInAllowedTypes);};const renderDropZone=(spec,providersBackstage,initialData)=>{const stopper=(_,se)=>{se.stop();};const sequence=actions=>(comp,se)=>{each$1(actions,a=>{a(comp,se);});};const onDrop=(comp,se)=>{var _a;if(!Disabling.isDisabled(comp)){const transferEvent=se.event.raw;handleFiles(comp,(_a=transferEvent.dataTransfer)===null||_a===void 0?void 0:_a.files);}};const onSelect=(component,simulatedEvent)=>{const input=simulatedEvent.event.raw.target;handleFiles(component,input.files);};const handleFiles=(component,files)=>{if(files){Representing.setValue(component,filterByExtension(files,providersBackstage));emitWith(component,formChangeEvent,{name:spec.name});}};const memInput=record({dom:{tag:'input',attributes:{type:'file',accept:'image/*'},styles:{display:'none'}},behaviours:derive$1([config('input-file-events',[cutter(click()),cutter(tap())])])});const renderField=s=>({uid:s.uid,dom:{tag:'div',classes:['tox-dropzone-container']},behaviours:derive$1([memory(initialData.getOr([])),ComposingConfigs.self(),Disabling.config({}),Toggling.config({toggleClass:'dragenter',toggleOnExecute:false}),config('dropzone-events',[run$1('dragenter',sequence([stopper,Toggling.toggle])),run$1('dragleave',sequence([stopper,Toggling.toggle])),run$1('dragover',stopper),run$1('drop',sequence([stopper,onDrop])),run$1(change(),onSelect)])]),components:[{dom:{tag:'div',classes:['tox-dropzone'],styles:{}},components:[{dom:{tag:'p'},components:[text$2(providersBackstage.translate('Drop an image here'))]},Button.sketch({dom:{tag:'button',styles:{position:'relative'},classes:['tox-button','tox-button--secondary']},components:[text$2(providersBackstage.translate('Browse for an image')),memInput.asSpec()],action:comp=>{const inputComp=memInput.get(comp);inputComp.element.dom.click();},buttonBehaviours:derive$1([Tabstopping.config({}),DisablingConfigs.button(providersBackstage.isDisabled),receivingConfig()])})]}]});const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const pField=FormField.parts.field({factory:{sketch:renderField}});return renderFormFieldWith(pLabel,pField,['tox-form__group--stretched'],[]);};const renderGrid=(spec,backstage)=>({dom:{tag:'div',classes:['tox-form__grid',`tox-form__grid--${spec.columns}col`]},components:map$2(spec.items,backstage.interpreter)});const adaptable=(fn,rate)=>{let timer=null;let args=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;args=null;}};const throttle=(...newArgs)=>{args=newArgs;if(isNull(timer)){timer=setTimeout(()=>{const tempArgs=args;timer=null;args=null;fn.apply(null,tempArgs);},rate);}};return{cancel,throttle};};const first=(fn,rate)=>{let timer=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;}};const throttle=(...args)=>{if(isNull(timer)){timer=setTimeout(()=>{timer=null;fn.apply(null,args);},rate);}};return{cancel,throttle};};const last=(fn,rate)=>{let timer=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;}};const throttle=(...args)=>{cancel();timer=setTimeout(()=>{timer=null;fn.apply(null,args);},rate);};return{cancel,throttle};};const beforeObject=generate$6('alloy-fake-before-tabstop');const afterObject=generate$6('alloy-fake-after-tabstop');const craftWithClasses=classes=>{return{dom:{tag:'div',styles:{width:'1px',height:'1px',outline:'none'},attributes:{tabindex:'0'},classes},behaviours:derive$1([Focusing.config({ignore:true}),Tabstopping.config({})])};};const craft=(containerClasses,spec)=>{return{dom:{tag:'div',classes:['tox-navobj',...containerClasses.getOr([])]},components:[craftWithClasses([beforeObject]),spec,craftWithClasses([afterObject])],behaviours:derive$1([ComposingConfigs.childAt(1)])};};const triggerTab=(placeholder,shiftKey)=>{emitWith(placeholder,keydown(),{raw:{which:9,shiftKey}});};const onFocus=(container,targetComp)=>{const target=targetComp.element;if(has(target,beforeObject)){triggerTab(container,true);}else if(has(target,afterObject)){triggerTab(container,false);}};const isPseudoStop=element=>{return closest(element,['.'+beforeObject,'.'+afterObject].join(','),never);};const dialogChannel=generate$6('update-dialog');const titleChannel=generate$6('update-title');const bodyChannel=generate$6('update-body');const footerChannel=generate$6('update-footer');const bodySendMessageChannel=generate$6('body-send-message');const dialogFocusShiftedChannel=generate$6('dialog-focus-shifted');const browser=detect$2().browser;const isSafari=browser.isSafari();const isFirefox=browser.isFirefox();const isSafariOrFirefox=isSafari||isFirefox;const isChromium=browser.isChromium();const isElementScrollAtBottom=({scrollTop,scrollHeight,clientHeight})=>Math.ceil(scrollTop)+clientHeight>=scrollHeight;const scrollToY=(win,y)=>win.scrollTo(0,y==='bottom'?99999999:y);const getScrollingElement=(doc,html)=>{const body=doc.body;return Optional.from(!/^<!DOCTYPE (html|HTML)/.test(html)&&(!isChromium&&!isSafari||isNonNullable(body)&&(body.scrollTop!==0||Math.abs(body.scrollHeight-body.clientHeight)>1))?body:doc.documentElement);};const writeValue=(iframeElement,html,fallbackFn)=>{const iframe=iframeElement.dom;Optional.from(iframe.contentDocument).fold(fallbackFn,doc=>{let lastScrollTop=0;const isScrollAtBottom=getScrollingElement(doc,html).map(el=>{lastScrollTop=el.scrollTop;return el;}).forall(isElementScrollAtBottom);const scrollAfterWrite=()=>{const win=iframe.contentWindow;if(isNonNullable(win)){if(isScrollAtBottom){scrollToY(win,'bottom');}else if(!isScrollAtBottom&&isSafariOrFirefox&&lastScrollTop!==0){scrollToY(win,lastScrollTop);}}};if(isSafari){iframe.addEventListener('load',scrollAfterWrite,{once:true});}doc.open();doc.write(html);doc.close();if(!isSafari){scrollAfterWrite();}});};const throttleInterval=someIf(isSafariOrFirefox,isSafari?500:200);const writeValueThrottler=throttleInterval.map(interval=>adaptable(writeValue,interval));const getDynamicSource=(initialData,stream)=>{const cachedValue=Cell(initialData.getOr(''));return{getValue:_frameComponent=>cachedValue.get(),setValue:(frameComponent,html)=>{if(cachedValue.get()!==html){const iframeElement=frameComponent.element;const setSrcdocValue=()=>set$9(iframeElement,'srcdoc',html);if(stream){writeValueThrottler.fold(constant$1(writeValue),throttler=>throttler.throttle)(iframeElement,html,setSrcdocValue);}else{setSrcdocValue();}}cachedValue.set(html);}};};const renderIFrame=(spec,providersBackstage,initialData)=>{const baseClass='tox-dialog__iframe';const opaqueClass=spec.transparent?[]:[`${baseClass}--opaque`];const containerBorderedClass=spec.border?[`tox-navobj-bordered`]:[];const attributes={...spec.label.map(title=>({title})).getOr({}),...initialData.map(html=>({srcdoc:html})).getOr({}),...(spec.sandboxed?{sandbox:'allow-scripts allow-same-origin'}:{})};const sourcing=getDynamicSource(initialData,spec.streamContent);const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const factory=newSpec=>craft(Optional.from(containerBorderedClass),{uid:newSpec.uid,dom:{tag:'iframe',attributes,classes:[baseClass,...opaqueClass]},behaviours:derive$1([Tabstopping.config({}),Focusing.config({}),withComp(initialData,sourcing.getValue,sourcing.setValue),Receiving.config({channels:{[dialogFocusShiftedChannel]:{onReceive:(comp,message)=>{message.newFocus.each(newFocus=>{parentElement(comp.element).each(parent=>{const f=eq(comp.element,newFocus)?add$2:remove$2;f(parent,'tox-navobj-bordered-focus');});});}}}})])});const pField=FormField.parts.field({factory:{sketch:factory}});return renderFormFieldWith(pLabel,pField,['tox-form__group--stretched'],[]);};const image=image=>new Promise((resolve,reject)=>{const loaded=()=>{destroy();resolve(image);};const listeners=[bind(image,'load',loaded),bind(image,'error',()=>{destroy();reject('Unable to load data from image: '+image.dom.src);})];const destroy=()=>each$1(listeners,l=>l.unbind());if(image.dom.complete){loaded();}});const calculateImagePosition=(panelWidth,panelHeight,imageWidth,imageHeight,zoom)=>{const width=imageWidth*zoom;const height=imageHeight*zoom;const left=Math.max(0,panelWidth/2-width/2);const top=Math.max(0,panelHeight/2-height/2);return{left:left.toString()+'px',top:top.toString()+'px',width:width.toString()+'px',height:height.toString()+'px'};};const zoomToFit=(panel,width,height)=>{const panelW=get$c(panel);const panelH=get$d(panel);return Math.min(panelW/width,panelH/height,1);};const renderImagePreview=(spec,initialData)=>{const cachedData=Cell(initialData.getOr({url:''}));const memImage=record({dom:{tag:'img',classes:['tox-imagepreview__image'],attributes:initialData.map(data=>({src:data.url})).getOr({})}});const memContainer=record({dom:{tag:'div',classes:['tox-imagepreview__container'],attributes:{role:'presentation'}},components:[memImage.asSpec()]});const setValue=(frameComponent,data)=>{const translatedData={url:data.url};data.zoom.each(z=>translatedData.zoom=z);data.cachedWidth.each(z=>translatedData.cachedWidth=z);data.cachedHeight.each(z=>translatedData.cachedHeight=z);cachedData.set(translatedData);const applyFramePositioning=()=>{const{cachedWidth,cachedHeight,zoom}=translatedData;if(!isUndefined(cachedWidth)&&!isUndefined(cachedHeight)){if(isUndefined(zoom)){const z=zoomToFit(frameComponent.element,cachedWidth,cachedHeight);translatedData.zoom=z;}const position=calculateImagePosition(get$c(frameComponent.element),get$d(frameComponent.element),cachedWidth,cachedHeight,translatedData.zoom);memContainer.getOpt(frameComponent).each(container=>{setAll(container.element,position);});}};memImage.getOpt(frameComponent).each(imageComponent=>{const img=imageComponent.element;if(data.url!==get$f(img,'src')){set$9(img,'src',data.url);remove$2(frameComponent.element,'tox-imagepreview__loaded');}applyFramePositioning();image(img).then(img=>{if(frameComponent.getSystem().isConnected()){add$2(frameComponent.element,'tox-imagepreview__loaded');translatedData.cachedWidth=img.dom.naturalWidth;translatedData.cachedHeight=img.dom.naturalHeight;applyFramePositioning();}});});};const styles={};spec.height.each(h=>styles.height=h);const fakeValidatedData=initialData.map(d=>({url:d.url,zoom:Optional.from(d.zoom),cachedWidth:Optional.from(d.cachedWidth),cachedHeight:Optional.from(d.cachedHeight)}));return{dom:{tag:'div',classes:['tox-imagepreview'],styles,attributes:{role:'presentation'}},components:[memContainer.asSpec()],behaviours:derive$1([ComposingConfigs.self(),withComp(fakeValidatedData,()=>cachedData.get(),setValue)])};};const renderLabel$2=(spec,backstageShared)=>{const baseClass='tox-label';const centerClass=spec.align==='center'?[`${baseClass}--center`]:[];const endClass=spec.align==='end'?[`${baseClass}--end`]:[];const label={dom:{tag:'label',classes:[baseClass,...centerClass,...endClass]},components:[text$2(backstageShared.providers.translate(spec.label))]};const comps=map$2(spec.items,backstageShared.interpreter);return{dom:{tag:'div',classes:['tox-form__group']},components:[label,...comps],behaviours:derive$1([ComposingConfigs.self(),Replacing.config({}),domHtml(Optional.none()),Keying.config({mode:'acyclic'})])};};const internalToolbarButtonExecute=generate$6('toolbar.button.execute');const onToolbarButtonExecute=info=>runOnExecute$1((comp,_simulatedEvent)=>{runWithApi(info,comp)(itemApi=>{emitWith(comp,internalToolbarButtonExecute,{buttonApi:itemApi});info.onAction(itemApi);});});const commonButtonDisplayEvent=generate$6('common-button-display-events');const toolbarButtonEventOrder={[execute$5()]:['disabling','alloy.base.behaviour','toggling','toolbar-button-events'],[attachedToDom()]:['toolbar-button-events',commonButtonDisplayEvent],[mousedown()]:['focusing','alloy.base.behaviour',commonButtonDisplayEvent]};const forceInitialSize=comp=>set$8(comp.element,'width',get$e(comp.element,'width'));const renderIcon$1=(iconName,iconsProvider,behaviours)=>render$3(iconName,{tag:'span',classes:['tox-icon','tox-tbtn__icon-wrap'],behaviours},iconsProvider);const renderIconFromPack$1=(iconName,iconsProvider)=>renderIcon$1(iconName,iconsProvider,[]);const renderReplaceableIconFromPack=(iconName,iconsProvider)=>renderIcon$1(iconName,iconsProvider,[Replacing.config({})]);const renderLabel$1=(text,prefix,providersBackstage)=>({dom:{tag:'span',classes:[`${prefix}__select-label`]},components:[text$2(providersBackstage.translate(text))],behaviours:derive$1([Replacing.config({})])});const updateMenuText=generate$6('update-menu-text');const updateMenuIcon=generate$6('update-menu-icon');const renderCommonDropdown=(spec,prefix,sharedBackstage)=>{const editorOffCell=Cell(noop);const optMemDisplayText=spec.text.map(text=>record(renderLabel$1(text,prefix,sharedBackstage.providers)));const optMemDisplayIcon=spec.icon.map(iconName=>record(renderReplaceableIconFromPack(iconName,sharedBackstage.providers.icons)));const onLeftOrRightInMenu=(comp,se)=>{const dropdown=Representing.getValue(comp);Focusing.focus(dropdown);emitWith(dropdown,'keydown',{raw:se.event.raw});Dropdown.close(dropdown);return Optional.some(true);};const role=spec.role.fold(()=>({}),role=>({role}));const tooltipAttributes=spec.tooltip.fold(()=>({}),tooltip=>{const translatedTooltip=sharedBackstage.providers.translate(tooltip);return{'title':translatedTooltip,'aria-label':translatedTooltip};});const iconSpec=render$3('chevron-down',{tag:'div',classes:[`${prefix}__select-chevron`]},sharedBackstage.providers.icons);const fixWidthBehaviourName=generate$6('common-button-display-events');const memDropdown=record(Dropdown.sketch({...(spec.uid?{uid:spec.uid}:{}),...role,dom:{tag:'button',classes:[prefix,`${prefix}--select`].concat(map$2(spec.classes,c=>`${prefix}--${c}`)),attributes:{...tooltipAttributes}},components:componentRenderPipeline([optMemDisplayIcon.map(mem=>mem.asSpec()),optMemDisplayText.map(mem=>mem.asSpec()),Optional.some(iconSpec)]),matchWidth:true,useMinWidth:true,onOpen:(anchor,dropdownComp,tmenuComp)=>{if(spec.searchable){focusSearchField(tmenuComp);}},dropdownBehaviours:derive$1([...spec.dropdownBehaviours,DisablingConfigs.button(()=>spec.disabled||sharedBackstage.providers.isDisabled()),receivingConfig(),Unselecting.config({}),Replacing.config({}),config('dropdown-events',[onControlAttached(spec,editorOffCell),onControlDetached(spec,editorOffCell)]),config(fixWidthBehaviourName,[runOnAttached((comp,_se)=>forceInitialSize(comp))]),config('menubutton-update-display-text',[run$1(updateMenuText,(comp,se)=>{optMemDisplayText.bind(mem=>mem.getOpt(comp)).each(displayText=>{Replacing.set(displayText,[text$2(sharedBackstage.providers.translate(se.event.text))]);});}),run$1(updateMenuIcon,(comp,se)=>{optMemDisplayIcon.bind(mem=>mem.getOpt(comp)).each(displayIcon=>{Replacing.set(displayIcon,[renderReplaceableIconFromPack(se.event.icon,sharedBackstage.providers.icons)]);});})])]),eventOrder:deepMerge(toolbarButtonEventOrder,{mousedown:['focusing','alloy.base.behaviour','item-type-events','normal-dropdown-events'],[attachedToDom()]:['toolbar-button-events','dropdown-events',fixWidthBehaviourName]}),sandboxBehaviours:derive$1([Keying.config({mode:'special',onLeft:onLeftOrRightInMenu,onRight:onLeftOrRightInMenu}),config('dropdown-sandbox-events',[run$1(refetchTriggerEvent,(originalSandboxComp,se)=>{handleRefetchTrigger(originalSandboxComp);se.stop();}),run$1(redirectMenuItemInteractionEvent,(sandboxComp,se)=>{handleRedirectToMenuItem(sandboxComp,se);se.stop();})])]),lazySink:sharedBackstage.getSink,toggleClass:`${prefix}--active`,parts:{menu:{...part(false,spec.columns,spec.presets),fakeFocus:spec.searchable,onHighlightItem:updateAriaOnHighlight,onCollapseMenu:(tmenuComp,itemCompCausingCollapse,nowActiveMenuComp)=>{Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp=>{updateAriaOnHighlight(tmenuComp,nowActiveMenuComp,itemComp);});},onDehighlightItem:updateAriaOnDehighlight}},getAnchorOverrides:()=>{return{maxHeightFunction:(element,available)=>{anchored()(element,available-10);}};},fetch:comp=>Future.nu(curry(spec.fetch,comp))}));return memDropdown.asSpec();};const isMenuItemReference=item=>isString(item);const isSeparator$2=item=>item.type==='separator';const isExpandingMenuItem=item=>has$2(item,'getSubmenuItems');const separator$2={type:'separator'};const unwrapReferences=(items,menuItems)=>{const realItems=foldl(items,(acc,item)=>{if(isMenuItemReference(item)){if(item===''){return acc;}else if(item==='|'){return acc.length>0&&!isSeparator$2(acc[acc.length-1])?acc.concat([separator$2]):acc;}else if(has$2(menuItems,item.toLowerCase())){return acc.concat([menuItems[item.toLowerCase()]]);}else{return acc;}}else{return acc.concat([item]);}},[]);if(realItems.length>0&&isSeparator$2(realItems[realItems.length-1])){realItems.pop();}return realItems;};const getFromExpandingItem=(item,menuItems)=>{const submenuItems=item.getSubmenuItems();const rest=expand(submenuItems,menuItems);const newMenus=deepMerge(rest.menus,{[item.value]:rest.items});const newExpansions=deepMerge(rest.expansions,{[item.value]:item.value});return{item,menus:newMenus,expansions:newExpansions};};const generateValueIfRequired=item=>{const itemValue=get$g(item,'value').getOrThunk(()=>generate$6('generated-menu-item'));return deepMerge({value:itemValue},item);};const expand=(items,menuItems)=>{const realItems=unwrapReferences(isString(items)?items.split(' '):items,menuItems);return foldr(realItems,(acc,item)=>{if(isExpandingMenuItem(item)){const itemWithValue=generateValueIfRequired(item);const newData=getFromExpandingItem(itemWithValue,menuItems);return{menus:deepMerge(acc.menus,newData.menus),items:[newData.item,...acc.items],expansions:deepMerge(acc.expansions,newData.expansions)};}else{return{...acc,items:[item,...acc.items]};}},{menus:{},expansions:{},items:[]});};const getSearchModeForField=settings=>{return settings.search.fold(()=>({searchMode:'no-search'}),searchSettings=>({searchMode:'search-with-field',placeholder:searchSettings.placeholder}));};const getSearchModeForResults=settings=>{return settings.search.fold(()=>({searchMode:'no-search'}),_=>({searchMode:'search-with-results'}));};const build=(items,itemResponse,backstage,settings)=>{const primary=generate$6('primary-menu');const data=expand(items,backstage.shared.providers.menuItems());if(data.items.length===0){return Optional.none();}const mainMenuSearchMode=getSearchModeForField(settings);const mainMenu=createPartialMenu(primary,data.items,itemResponse,backstage,settings.isHorizontalMenu,mainMenuSearchMode);const submenuSearchMode=getSearchModeForResults(settings);const submenus=map$1(data.menus,(menuItems,menuName)=>createPartialMenu(menuName,menuItems,itemResponse,backstage,false,submenuSearchMode));const menus=deepMerge(submenus,wrap$1(primary,mainMenu));return Optional.from(tieredMenu.tieredData(primary,menus,data.expansions));};const isSingleListItem=item=>!has$2(item,'items');const dataAttribute='data-value';const fetchItems=(dropdownComp,name,items,selectedValue)=>map$2(items,item=>{if(!isSingleListItem(item)){return{type:'nestedmenuitem',text:item.text,getSubmenuItems:()=>fetchItems(dropdownComp,name,item.items,selectedValue)};}else{return{type:'togglemenuitem',text:item.text,value:item.value,active:item.value===selectedValue,onAction:()=>{Representing.setValue(dropdownComp,item.value);emitWith(dropdownComp,formChangeEvent,{name});Focusing.focus(dropdownComp);}};}});const findItemByValue=(items,value)=>findMap(items,item=>{if(!isSingleListItem(item)){return findItemByValue(item.items,value);}else{return someIf(item.value===value,item);}});const renderListBox=(spec,backstage,initialData)=>{const providersBackstage=backstage.shared.providers;const initialItem=initialData.bind(value=>findItemByValue(spec.items,value)).orThunk(()=>head(spec.items).filter(isSingleListItem));const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const pField=FormField.parts.field({dom:{},factory:{sketch:sketchSpec=>renderCommonDropdown({uid:sketchSpec.uid,text:initialItem.map(item=>item.text),icon:Optional.none(),tooltip:spec.label,role:Optional.none(),fetch:(comp,callback)=>{const items=fetchItems(comp,spec.name,spec.items,Representing.getValue(comp));callback(build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:Optional.none()}));},onSetup:constant$1(noop),getApi:constant$1({}),columns:1,presets:'normal',classes:[],dropdownBehaviours:[Tabstopping.config({}),withComp(initialItem.map(item=>item.value),comp=>get$f(comp.element,dataAttribute),(comp,data)=>{findItemByValue(spec.items,data).each(item=>{set$9(comp.element,dataAttribute,item.value);emitWith(comp,updateMenuText,{text:item.text});});})]},'tox-listbox',backstage.shared)}});const listBoxWrap={dom:{tag:'div',classes:['tox-listboxfield']},components:[pField]};return FormField.sketch({dom:{tag:'div',classes:['tox-form__group']},components:flatten([pLabel.toArray(),[listBoxWrap]]),fieldBehaviours:derive$1([Disabling.config({disabled:constant$1(!spec.enabled),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}})])});};const renderPanel=(spec,backstage)=>({dom:{tag:'div',classes:spec.classes},components:map$2(spec.items,backstage.shared.interpreter)});const factory$h=(detail,_spec)=>{const options=map$2(detail.options,option=>({dom:{tag:'option',value:option.value,innerHtml:option.text}}));const initialValues=detail.data.map(v=>wrap$1('initialValue',v)).getOr({});return{uid:detail.uid,dom:{tag:'select',classes:detail.selectClasses,attributes:detail.selectAttributes},components:options,behaviours:augment(detail.selectBehaviours,[Focusing.config({}),Representing.config({store:{mode:'manual',getValue:select=>{return get$6(select.element);},setValue:(select,newValue)=>{const firstOption=head(detail.options);const found=find$5(detail.options,opt=>opt.value===newValue);if(found.isSome()){set$5(select.element,newValue);}else if(select.element.dom.selectedIndex===-1&&newValue===''){firstOption.each(value=>set$5(select.element,value.value));}},...initialValues}})])};};const HtmlSelect=single({name:'HtmlSelect',configFields:[required$1('options'),field('selectBehaviours',[Focusing,Representing]),defaulted('selectClasses',[]),defaulted('selectAttributes',{}),option$3('data')],factory:factory$h});const renderSelectBox=(spec,providersBackstage,initialData)=>{const translatedOptions=map$2(spec.items,item=>({text:providersBackstage.translate(item.text),value:item.value}));const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const pField=FormField.parts.field({dom:{},...initialData.map(data=>({data})).getOr({}),selectAttributes:{size:spec.size},options:translatedOptions,factory:HtmlSelect,selectBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),Tabstopping.config({}),config('selectbox-change',[run$1(change(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});})])])});const chevron=spec.size>1?Optional.none():Optional.some(render$3('chevron-down',{tag:'div',classes:['tox-selectfield__icon-js']},providersBackstage.icons));const selectWrap={dom:{tag:'div',classes:['tox-selectfield']},components:flatten([[pField],chevron.toArray()])};return FormField.sketch({dom:{tag:'div',classes:['tox-form__group']},components:flatten([pLabel.toArray(),[selectWrap]]),fieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}}),receivingConfig()])});};const schema$h=constant$1([defaulted('field1Name','field1'),defaulted('field2Name','field2'),onStrictHandler('onLockedChange'),markers$1(['lockClass']),defaulted('locked',false),SketchBehaviours.field('coupledFieldBehaviours',[Composing,Representing])]);const getField=(comp,detail,partName)=>getPart(comp,detail,partName).bind(Composing.getCurrent);const coupledPart=(selfName,otherName)=>required({factory:FormField,name:selfName,overrides:detail=>{return{fieldBehaviours:derive$1([config('coupled-input-behaviour',[run$1(input(),me=>{getField(me,detail,otherName).each(other=>{getPart(me,detail,'lock').each(lock=>{if(Toggling.isOn(lock)){detail.onLockedChange(me,other,lock);}});});})])])};}});const parts$c=constant$1([coupledPart('field1','field2'),coupledPart('field2','field1'),required({factory:Button,schema:[required$1('dom')],name:'lock',overrides:detail=>{return{buttonBehaviours:derive$1([Toggling.config({selected:detail.locked,toggleClass:detail.markers.lockClass,aria:{mode:'pressed'}})])};}})]);const factory$g=(detail,components,_spec,_externals)=>({uid:detail.uid,dom:detail.dom,components,behaviours:SketchBehaviours.augment(detail.coupledFieldBehaviours,[Composing.config({find:Optional.some}),Representing.config({store:{mode:'manual',getValue:comp=>{const parts=getPartsOrDie(comp,detail,['field1','field2']);return{[detail.field1Name]:Representing.getValue(parts.field1()),[detail.field2Name]:Representing.getValue(parts.field2())};},setValue:(comp,value)=>{const parts=getPartsOrDie(comp,detail,['field1','field2']);if(hasNonNullableKey(value,detail.field1Name)){Representing.setValue(parts.field1(),value[detail.field1Name]);}if(hasNonNullableKey(value,detail.field2Name)){Representing.setValue(parts.field2(),value[detail.field2Name]);}}}})]),apis:{getField1:component=>getPart(component,detail,'field1'),getField2:component=>getPart(component,detail,'field2'),getLock:component=>getPart(component,detail,'lock')}});const FormCoupledInputs=composite({name:'FormCoupledInputs',configFields:schema$h(),partFields:parts$c(),factory:factory$g,apis:{getField1:(apis,component)=>apis.getField1(component),getField2:(apis,component)=>apis.getField2(component),getLock:(apis,component)=>apis.getLock(component)}});const formatSize=size=>{const unitDec={'':0,'px':0,'pt':1,'mm':1,'pc':2,'ex':2,'em':2,'ch':2,'rem':2,'cm':3,'in':4,'%':4};const maxDecimal=unit=>unit in unitDec?unitDec[unit]:1;let numText=size.value.toFixed(maxDecimal(size.unit));if(numText.indexOf('.')!==-1){numText=numText.replace(/\\.?0*$/,'');}return numText+size.unit;};const parseSize=sizeText=>{const numPattern=/^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;const match=numPattern.exec(sizeText);if(match!==null){const value=parseFloat(match[1]);const unit=match[2];return Result.value({value,unit});}else{return Result.error(sizeText);}};const convertUnit=(size,unit)=>{const inInch={'':96,'px':96,'pt':72,'cm':2.54,'pc':12,'mm':25.4,'in':1};const supported=u=>has$2(inInch,u);if(size.unit===unit){return Optional.some(size.value);}else if(supported(size.unit)&&supported(unit)){if(inInch[size.unit]===inInch[unit]){return Optional.some(size.value);}else{return Optional.some(size.value/inInch[size.unit]*inInch[unit]);}}else{return Optional.none();}};const noSizeConversion=_input=>Optional.none();const ratioSizeConversion=(scale,unit)=>size=>convertUnit(size,unit).map(value=>({value:value*scale,unit}));const makeRatioConverter=(currentFieldText,otherFieldText)=>{const cValue=parseSize(currentFieldText).toOptional();const oValue=parseSize(otherFieldText).toOptional();return lift2(cValue,oValue,(cSize,oSize)=>convertUnit(cSize,oSize.unit).map(val=>oSize.value/val).map(r=>ratioSizeConversion(r,oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);};const renderSizeInput=(spec,providersBackstage)=>{let converter=noSizeConversion;const ratioEvent=generate$6('ratio-event');const makeIcon=iconName=>render$3(iconName,{tag:'span',classes:['tox-icon','tox-lock-icon__'+iconName]},providersBackstage.icons);const pLock=FormCoupledInputs.parts.lock({dom:{tag:'button',classes:['tox-lock','tox-button','tox-button--naked','tox-button--icon'],attributes:{title:providersBackstage.translate(spec.label.getOr('Constrain proportions'))}},components:[makeIcon('lock'),makeIcon('unlock')],buttonBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),receivingConfig(),Tabstopping.config({})])});const formGroup=components=>({dom:{tag:'div',classes:['tox-form__group']},components});const getFieldPart=isField1=>FormField.parts.field({factory:Input,inputClasses:['tox-textfield'],inputBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),receivingConfig(),Tabstopping.config({}),config('size-input-events',[run$1(focusin(),(component,_simulatedEvent)=>{emitWith(component,ratioEvent,{isField1});}),run$1(change(),(component,_simulatedEvent)=>{emitWith(component,formChangeEvent,{name:spec.name});})])]),selectOnFocus:false});const getLabel=label=>({dom:{tag:'label',classes:['tox-label']},components:[text$2(providersBackstage.translate(label))]});const widthField=FormCoupledInputs.parts.field1(formGroup([FormField.parts.label(getLabel('Width')),getFieldPart(true)]));const heightField=FormCoupledInputs.parts.field2(formGroup([FormField.parts.label(getLabel('Height')),getFieldPart(false)]));return FormCoupledInputs.sketch({dom:{tag:'div',classes:['tox-form__group']},components:[{dom:{tag:'div',classes:['tox-form__controls-h-stack']},components:[widthField,heightField,formGroup([getLabel(nbsp),pLock])]}],field1Name:'width',field2Name:'height',locked:true,markers:{lockClass:'tox-locked'},onLockedChange:(current,other,_lock)=>{parseSize(Representing.getValue(current)).each(size=>{converter(size).each(newSize=>{Representing.setValue(other,formatSize(newSize));});});},coupledFieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);FormCoupledInputs.getLock(comp).each(Disabling.disable);},onEnabled:comp=>{FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);FormCoupledInputs.getLock(comp).each(Disabling.enable);}}),receivingConfig(),config('size-input-events2',[run$1(ratioEvent,(component,simulatedEvent)=>{const isField1=simulatedEvent.event.isField1;const optCurrent=isField1?FormCoupledInputs.getField1(component):FormCoupledInputs.getField2(component);const optOther=isField1?FormCoupledInputs.getField2(component):FormCoupledInputs.getField1(component);const value1=optCurrent.map(Representing.getValue).getOr('');const value2=optOther.map(Representing.getValue).getOr('');converter=makeRatioConverter(value1,value2);})])])});};const renderSlider=(spec,providerBackstage,initialData)=>{const labelPart=Slider.parts.label({dom:{tag:'label',classes:['tox-label']},components:[text$2(providerBackstage.translate(spec.label))]});const spectrum=Slider.parts.spectrum({dom:{tag:'div',classes:['tox-slider__rail'],attributes:{role:'presentation'}}});const thumb=Slider.parts.thumb({dom:{tag:'div',classes:['tox-slider__handle'],attributes:{role:'presentation'}}});return Slider.sketch({dom:{tag:'div',classes:['tox-slider'],attributes:{role:'presentation'}},model:{mode:'x',minX:spec.min,maxX:spec.max,getInitialValue:constant$1(initialData.getOrThunk(()=>(Math.abs(spec.max)-Math.abs(spec.min))/2))},components:[labelPart,spectrum,thumb],sliderBehaviours:derive$1([ComposingConfigs.self(),Focusing.config({})]),onChoose:(component,thumb,value)=>{emitWith(component,formChangeEvent,{name:spec.name,value});}});};const renderTable=(spec,providersBackstage)=>{const renderTh=text=>({dom:{tag:'th',innerHtml:providersBackstage.translate(text)}});const renderHeader=header=>({dom:{tag:'thead'},components:[{dom:{tag:'tr'},components:map$2(header,renderTh)}]});const renderTd=text=>({dom:{tag:'td',innerHtml:providersBackstage.translate(text)}});const renderTr=row=>({dom:{tag:'tr'},components:map$2(row,renderTd)});const renderRows=rows=>({dom:{tag:'tbody'},components:map$2(rows,renderTr)});return{dom:{tag:'table',classes:['tox-dialog__table']},components:[renderHeader(spec.header),renderRows(spec.cells)],behaviours:derive$1([Tabstopping.config({}),Focusing.config({})])};};const renderTextField=(spec,providersBackstage)=>{const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const baseInputBehaviours=[Disabling.config({disabled:()=>spec.disabled||providersBackstage.isDisabled()}),receivingConfig(),Keying.config({mode:'execution',useEnter:spec.multiline!==true,useControlEnter:spec.multiline===true,execute:comp=>{emit(comp,formSubmitEvent);return Optional.some(true);}}),config('textfield-change',[run$1(input(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});}),run$1(postPaste(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});})]),Tabstopping.config({})];const validatingBehaviours=spec.validation.map(vl=>Invalidating.config({getRoot:input=>{return parentElement(input.element);},invalidClass:'tox-invalid',validator:{validate:input=>{const v=Representing.getValue(input);const result=vl.validator(v);return Future.pure(result===true?Result.value(v):Result.error(result));},validateOnLoad:vl.validateOnLoad}})).toArray();const placeholder=spec.placeholder.fold(constant$1({}),p=>({placeholder:providersBackstage.translate(p)}));const inputMode=spec.inputMode.fold(constant$1({}),mode=>({inputmode:mode}));const inputAttributes={...placeholder,...inputMode};const pField=FormField.parts.field({tag:spec.multiline===true?'textarea':'input',...spec.data.map(data=>({data})).getOr({}),inputAttributes,inputClasses:[spec.classname],inputBehaviours:derive$1(flatten([baseInputBehaviours,validatingBehaviours])),selectOnFocus:false,factory:Input});const pTextField=spec.multiline?{dom:{tag:'div',classes:['tox-textarea-wrap']},components:[pField]}:pField;const extraClasses=spec.flex?['tox-form__group--stretched']:[];const extraClasses2=extraClasses.concat(spec.maximized?['tox-form-group--maximize']:[]);const extraBehaviours=[Disabling.config({disabled:()=>spec.disabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}}),receivingConfig()];return renderFormFieldWith(pLabel,pTextField,extraClasses2,extraBehaviours);};const renderInput=(spec,providersBackstage,initialData)=>renderTextField({name:spec.name,multiline:false,label:spec.label,inputMode:spec.inputMode,placeholder:spec.placeholder,flex:false,disabled:!spec.enabled,classname:'tox-textfield',validation:Optional.none(),maximized:spec.maximized,data:initialData},providersBackstage);const renderTextarea=(spec,providersBackstage,initialData)=>renderTextField({name:spec.name,multiline:true,label:spec.label,inputMode:Optional.none(),placeholder:spec.placeholder,flex:true,disabled:!spec.enabled,classname:'tox-textarea',validation:Optional.none(),maximized:spec.maximized,data:initialData},providersBackstage);const getAnimationRoot=(component,slideConfig)=>slideConfig.getAnimationRoot.fold(()=>component.element,get=>get(component));const getDimensionProperty=slideConfig=>slideConfig.dimension.property;const getDimension=(slideConfig,elem)=>slideConfig.dimension.getDimension(elem);const disableTransitions=(component,slideConfig)=>{const root=getAnimationRoot(component,slideConfig);remove$1(root,[slideConfig.shrinkingClass,slideConfig.growingClass]);};const setShrunk=(component,slideConfig)=>{remove$2(component.element,slideConfig.openClass);add$2(component.element,slideConfig.closedClass);set$8(component.element,getDimensionProperty(slideConfig),'0px');reflow(component.element);};const setGrown=(component,slideConfig)=>{remove$2(component.element,slideConfig.closedClass);add$2(component.element,slideConfig.openClass);remove$6(component.element,getDimensionProperty(slideConfig));};const doImmediateShrink=(component,slideConfig,slideState,_calculatedSize)=>{slideState.setCollapsed();set$8(component.element,getDimensionProperty(slideConfig),getDimension(slideConfig,component.element));disableTransitions(component,slideConfig);setShrunk(component,slideConfig);slideConfig.onStartShrink(component);slideConfig.onShrunk(component);};const doStartShrink=(component,slideConfig,slideState,calculatedSize)=>{const size=calculatedSize.getOrThunk(()=>getDimension(slideConfig,component.element));slideState.setCollapsed();set$8(component.element,getDimensionProperty(slideConfig),size);reflow(component.element);const root=getAnimationRoot(component,slideConfig);remove$2(root,slideConfig.growingClass);add$2(root,slideConfig.shrinkingClass);setShrunk(component,slideConfig);slideConfig.onStartShrink(component);};const doStartSmartShrink=(component,slideConfig,slideState)=>{const size=getDimension(slideConfig,component.element);const shrinker=size==='0px'?doImmediateShrink:doStartShrink;shrinker(component,slideConfig,slideState,Optional.some(size));};const doStartGrow=(component,slideConfig,slideState)=>{const root=getAnimationRoot(component,slideConfig);const wasShrinking=has(root,slideConfig.shrinkingClass);const beforeSize=getDimension(slideConfig,component.element);setGrown(component,slideConfig);const fullSize=getDimension(slideConfig,component.element);const startPartialGrow=()=>{set$8(component.element,getDimensionProperty(slideConfig),beforeSize);reflow(component.element);};const startCompleteGrow=()=>{setShrunk(component,slideConfig);};const setStartSize=wasShrinking?startPartialGrow:startCompleteGrow;setStartSize();remove$2(root,slideConfig.shrinkingClass);add$2(root,slideConfig.growingClass);setGrown(component,slideConfig);set$8(component.element,getDimensionProperty(slideConfig),fullSize);slideState.setExpanded();slideConfig.onStartGrow(component);};const refresh$4=(component,slideConfig,slideState)=>{if(slideState.isExpanded()){remove$6(component.element,getDimensionProperty(slideConfig));const fullSize=getDimension(slideConfig,component.element);set$8(component.element,getDimensionProperty(slideConfig),fullSize);}};const grow=(component,slideConfig,slideState)=>{if(!slideState.isExpanded()){doStartGrow(component,slideConfig,slideState);}};const shrink=(component,slideConfig,slideState)=>{if(slideState.isExpanded()){doStartSmartShrink(component,slideConfig,slideState);}};const immediateShrink=(component,slideConfig,slideState)=>{if(slideState.isExpanded()){doImmediateShrink(component,slideConfig,slideState);}};const hasGrown=(component,slideConfig,slideState)=>slideState.isExpanded();const hasShrunk=(component,slideConfig,slideState)=>slideState.isCollapsed();const isGrowing=(component,slideConfig,_slideState)=>{const root=getAnimationRoot(component,slideConfig);return has(root,slideConfig.growingClass)===true;};const isShrinking=(component,slideConfig,_slideState)=>{const root=getAnimationRoot(component,slideConfig);return has(root,slideConfig.shrinkingClass)===true;};const isTransitioning=(component,slideConfig,slideState)=>isGrowing(component,slideConfig)||isShrinking(component,slideConfig);const toggleGrow=(component,slideConfig,slideState)=>{const f=slideState.isExpanded()?doStartSmartShrink:doStartGrow;f(component,slideConfig,slideState);};const immediateGrow=(component,slideConfig,slideState)=>{if(!slideState.isExpanded()){setGrown(component,slideConfig);set$8(component.element,getDimensionProperty(slideConfig),getDimension(slideConfig,component.element));disableTransitions(component,slideConfig);slideState.setExpanded();slideConfig.onStartGrow(component);slideConfig.onGrown(component);}};var SlidingApis=/*#__PURE__*/Object.freeze({__proto__:null,refresh:refresh$4,grow:grow,shrink:shrink,immediateShrink:immediateShrink,hasGrown:hasGrown,hasShrunk:hasShrunk,isGrowing:isGrowing,isShrinking:isShrinking,isTransitioning:isTransitioning,toggleGrow:toggleGrow,disableTransitions:disableTransitions,immediateGrow:immediateGrow});const exhibit=(base,slideConfig,_slideState)=>{const expanded=slideConfig.expanded;return expanded?nu$7({classes:[slideConfig.openClass],styles:{}}):nu$7({classes:[slideConfig.closedClass],styles:wrap$1(slideConfig.dimension.property,'0px')});};const events$6=(slideConfig,slideState)=>derive$2([runOnSource(transitionend(),(component,simulatedEvent)=>{const raw=simulatedEvent.event.raw;if(raw.propertyName===slideConfig.dimension.property){disableTransitions(component,slideConfig);if(slideState.isExpanded()){remove$6(component.element,slideConfig.dimension.property);}const notify=slideState.isExpanded()?slideConfig.onGrown:slideConfig.onShrunk;notify(component);}})]);var ActiveSliding=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit,events:events$6});var SlidingSchema=[required$1('closedClass'),required$1('openClass'),required$1('shrinkingClass'),required$1('growingClass'),option$3('getAnimationRoot'),onHandler('onShrunk'),onHandler('onStartShrink'),onHandler('onGrown'),onHandler('onStartGrow'),defaulted('expanded',false),requiredOf('dimension',choose$1('property',{width:[output$1('property','width'),output$1('getDimension',elem=>get$c(elem)+'px')],height:[output$1('property','height'),output$1('getDimension',elem=>get$d(elem)+'px')]}))];const init$9=spec=>{const state=Cell(spec.expanded);const readState=()=>'expanded: '+state.get();return nu$8({isExpanded:()=>state.get()===true,isCollapsed:()=>state.get()===false,setCollapsed:curry(state.set,false),setExpanded:curry(state.set,true),readState});};var SlidingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$9});const Sliding=create$4({fields:SlidingSchema,name:'sliding',active:ActiveSliding,apis:SlidingApis,state:SlidingState});const getMenuButtonApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state),setActive:state=>{const elm=component.element;if(state){add$2(elm,'tox-tbtn--enabled');set$9(elm,'aria-pressed',true);}else{remove$2(elm,'tox-tbtn--enabled');remove$7(elm,'aria-pressed');}},isActive:()=>has(component.element,'tox-tbtn--enabled'),setText:text=>{emitWith(component,updateMenuText,{text});},setIcon:icon=>emitWith(component,updateMenuIcon,{icon})});const renderMenuButton=(spec,prefix,backstage,role,tabstopping=true)=>{return renderCommonDropdown({text:spec.text,icon:spec.icon,tooltip:spec.tooltip,searchable:spec.search.isSome(),role,fetch:(dropdownComp,callback)=>{const fetchContext={pattern:spec.search.isSome()?getSearchPattern(dropdownComp):''};spec.fetch(items=>{callback(build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:spec.search}));},fetchContext,getMenuButtonApi(dropdownComp));},onSetup:spec.onSetup,getApi:getMenuButtonApi,columns:1,presets:'normal',classes:[],dropdownBehaviours:[...(tabstopping?[Tabstopping.config({})]:[])]},prefix,backstage.shared);};const getFetch=(items,getButton,backstage)=>{const getMenuItemAction=item=>api=>{const newValue=!api.isActive();api.setActive(newValue);item.storage.set(newValue);backstage.shared.getSink().each(sink=>{getButton().getOpt(sink).each(orig=>{focus$3(orig.element);emitWith(orig,formActionEvent,{name:item.name,value:item.storage.get()});});});};const getMenuItemSetup=item=>api=>{api.setActive(item.storage.get());};return success=>{success(map$2(items,item=>{const text=item.text.fold(()=>({}),text=>({text}));return{type:item.type,active:false,...text,onAction:getMenuItemAction(item),onSetup:getMenuItemSetup(item)};}));};};const renderLabel=text=>({dom:{tag:'span',classes:['tox-tree__label'],attributes:{'title':text,'aria-label':text}},components:[text$2(text)]});const leafLabelEventsId=generate$6('leaf-label-event-id');const renderLeafLabel=({leaf,onLeafAction,visible,treeId,selectedId,backstage})=>{const internalMenuButton=leaf.menu.map(btn=>renderMenuButton(btn,'tox-mbtn',backstage,Optional.none(),visible));const components=[renderLabel(leaf.title)];internalMenuButton.each(btn=>components.push(btn));return Button.sketch({dom:{tag:'div',classes:['tox-tree--leaf__label','tox-trbtn'].concat(visible?['tox-tree--leaf__label--visible']:[])},components,role:'treeitem',action:button=>{onLeafAction(leaf.id);button.getSystem().broadcastOn([`update-active-item-${treeId}`],{value:leaf.id});},eventOrder:{[keydown()]:[leafLabelEventsId,'keying']},buttonBehaviours:derive$1([...(visible?[Tabstopping.config({})]:[]),Toggling.config({toggleClass:'tox-trbtn--enabled',toggleOnExecute:false,aria:{mode:'selected'}}),Receiving.config({channels:{[`update-active-item-${treeId}`]:{onReceive:(comp,message)=>{(message.value===leaf.id?Toggling.on:Toggling.off)(comp);}}}}),config(leafLabelEventsId,[runOnAttached((comp,_se)=>{selectedId.each(id=>{const toggle=id===leaf.id?Toggling.on:Toggling.off;toggle(comp);});}),run$1(keydown(),(comp,se)=>{const isLeftArrowKey=se.event.raw.code==='ArrowLeft';const isRightArrowKey=se.event.raw.code==='ArrowRight';if(isLeftArrowKey){ancestor(comp.element,'.tox-tree--directory').each(dirElement=>{comp.getSystem().getByDom(dirElement).each(dirComp=>{child(dirElement,'.tox-tree--directory__label').each(dirLabelElement=>{dirComp.getSystem().getByDom(dirLabelElement).each(Focusing.focus);});});});se.stop();}else if(isRightArrowKey){se.stop();}})])])});};const renderIcon=(iconName,iconsProvider,behaviours)=>render$3(iconName,{tag:'span',classes:['tox-tree__icon-wrap','tox-icon'],behaviours},iconsProvider);const renderIconFromPack=(iconName,iconsProvider)=>renderIcon(iconName,iconsProvider,[]);const directoryLabelEventsId=generate$6('directory-label-event-id');const renderDirectoryLabel=({directory,visible,noChildren,backstage})=>{const internalMenuButton=directory.menu.map(btn=>renderMenuButton(btn,'tox-mbtn',backstage,Optional.none()));const components=[{dom:{tag:'div',classes:['tox-chevron']},components:[renderIconFromPack('chevron-right',backstage.shared.providers.icons)]},renderLabel(directory.title)];internalMenuButton.each(btn=>{components.push(btn);});const toggleExpandChildren=button=>{ancestor(button.element,'.tox-tree--directory').each(directoryEle=>{button.getSystem().getByDom(directoryEle).each(directoryComp=>{const willExpand=!Toggling.isOn(directoryComp);Toggling.toggle(directoryComp);emitWith(button,'expand-tree-node',{expanded:willExpand,node:directory.id});});});};return Button.sketch({dom:{tag:'div',classes:['tox-tree--directory__label','tox-trbtn'].concat(visible?['tox-tree--directory__label--visible']:[])},components,action:toggleExpandChildren,eventOrder:{[keydown()]:[directoryLabelEventsId,'keying']},buttonBehaviours:derive$1([...(visible?[Tabstopping.config({})]:[]),config(directoryLabelEventsId,[run$1(keydown(),(comp,se)=>{const isRightArrowKey=se.event.raw.code==='ArrowRight';const isLeftArrowKey=se.event.raw.code==='ArrowLeft';if(isRightArrowKey&&noChildren){se.stop();}if(isRightArrowKey||isLeftArrowKey){ancestor(comp.element,'.tox-tree--directory').each(directoryEle=>{comp.getSystem().getByDom(directoryEle).each(directoryComp=>{if(!Toggling.isOn(directoryComp)&&isRightArrowKey||Toggling.isOn(directoryComp)&&isLeftArrowKey){toggleExpandChildren(comp);se.stop();}else if(isLeftArrowKey&&!Toggling.isOn(directoryComp)){ancestor(directoryComp.element,'.tox-tree--directory').each(parentDirElement=>{child(parentDirElement,'.tox-tree--directory__label').each(parentDirLabelElement=>{directoryComp.getSystem().getByDom(parentDirLabelElement).each(Focusing.focus);});});se.stop();}});});}})])])});};const renderDirectoryChildren=({children,onLeafAction,visible,treeId,expandedIds,selectedId,backstage})=>{return{dom:{tag:'div',classes:['tox-tree--directory__children']},components:children.map(item=>{return item.type==='leaf'?renderLeafLabel({leaf:item,selectedId,onLeafAction,visible,treeId,backstage}):renderDirectory({directory:item,expandedIds,selectedId,onLeafAction,labelTabstopping:visible,treeId,backstage});}),behaviours:derive$1([Sliding.config({dimension:{property:'height'},closedClass:'tox-tree--directory__children--closed',openClass:'tox-tree--directory__children--open',growingClass:'tox-tree--directory__children--growing',shrinkingClass:'tox-tree--directory__children--shrinking',expanded:visible}),Replacing.config({})])};};const directoryEventsId=generate$6('directory-event-id');const renderDirectory=({directory,onLeafAction,labelTabstopping,treeId,backstage,expandedIds,selectedId})=>{const{children}=directory;const expandedIdsCell=Cell(expandedIds);const computedChildrenComponents=visible=>children.map(item=>{return item.type==='leaf'?renderLeafLabel({leaf:item,selectedId,onLeafAction,visible,treeId,backstage}):renderDirectory({directory:item,expandedIds:expandedIdsCell.get(),selectedId,onLeafAction,labelTabstopping:visible,treeId,backstage});});const childrenVisible=expandedIds.includes(directory.id);return{dom:{tag:'div',classes:['tox-tree--directory'],attributes:{role:'treeitem'}},components:[renderDirectoryLabel({directory,visible:labelTabstopping,noChildren:directory.children.length===0,backstage}),renderDirectoryChildren({children,expandedIds,selectedId,onLeafAction,visible:childrenVisible,treeId,backstage})],behaviours:derive$1([config(directoryEventsId,[runOnAttached((comp,_se)=>{Toggling.set(comp,childrenVisible);}),run$1('expand-tree-node',(_cmp,se)=>{const{expanded,node}=se.event;expandedIdsCell.set(expanded?[...expandedIdsCell.get(),node]:expandedIdsCell.get().filter(id=>id!==node));})]),Toggling.config({...(directory.children.length>0?{aria:{mode:'expanded'}}:{}),toggleClass:'tox-tree--directory--expanded',onToggled:(comp,childrenVisible)=>{const childrenComp=comp.components()[1];const newChildren=computedChildrenComponents(childrenVisible);if(childrenVisible){Sliding.grow(childrenComp);}else{Sliding.shrink(childrenComp);}Replacing.set(childrenComp,newChildren);}})])};};const treeEventsId=generate$6('tree-event-id');const renderTree=(spec,backstage)=>{const onLeafAction=spec.onLeafAction.getOr(noop);const onToggleExpand=spec.onToggleExpand.getOr(noop);const defaultExpandedIds=spec.defaultExpandedIds;const expandedIds=Cell(defaultExpandedIds);const selectedIdCell=Cell(spec.defaultSelectedId);const treeId=generate$6('tree-id');const children=(selectedId,expandedIds)=>spec.items.map(item=>{return item.type==='leaf'?renderLeafLabel({leaf:item,selectedId,onLeafAction,visible:true,treeId,backstage}):renderDirectory({directory:item,selectedId,onLeafAction,expandedIds,labelTabstopping:true,treeId,backstage});});return{dom:{tag:'div',classes:['tox-tree'],attributes:{role:'tree'}},components:children(selectedIdCell.get(),expandedIds.get()),behaviours:derive$1([Keying.config({mode:'flow',selector:'.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible',cycles:false}),config(treeEventsId,[run$1('expand-tree-node',(_cmp,se)=>{const{expanded,node}=se.event;expandedIds.set(expanded?[...expandedIds.get(),node]:expandedIds.get().filter(id=>id!==node));onToggleExpand(expandedIds.get(),{expanded,node});})]),Receiving.config({channels:{[`update-active-item-${treeId}`]:{onReceive:(comp,message)=>{selectedIdCell.set(Optional.some(message.value));Replacing.set(comp,children(Optional.some(message.value),expandedIds.get()));}}}}),Replacing.config({})])};};const events$5=(streamConfig,streamState)=>{const streams=streamConfig.stream.streams;const processor=streams.setup(streamConfig,streamState);return derive$2([run$1(streamConfig.event,processor),runOnDetached(()=>streamState.cancel())].concat(streamConfig.cancelEvent.map(e=>[run$1(e,()=>streamState.cancel())]).getOr([])));};var ActiveStreaming=/*#__PURE__*/Object.freeze({__proto__:null,events:events$5});const throttle=_config=>{const state=Cell(null);const readState=()=>({timer:state.get()!==null?'set':'unset'});const setTimer=t=>{state.set(t);};const cancel=()=>{const t=state.get();if(t!==null){t.cancel();}};return nu$8({readState,setTimer,cancel});};const init$8=spec=>spec.stream.streams.state(spec);var StreamingState=/*#__PURE__*/Object.freeze({__proto__:null,throttle:throttle,init:init$8});const setup$c=(streamInfo,streamState)=>{const sInfo=streamInfo.stream;const throttler=last(streamInfo.onStream,sInfo.delay);streamState.setTimer(throttler);return(component,simulatedEvent)=>{throttler.throttle(component,simulatedEvent);if(sInfo.stopEvent){simulatedEvent.stop();}};};var StreamingSchema=[requiredOf('stream',choose$1('mode',{throttle:[required$1('delay'),defaulted('stopEvent',true),output$1('streams',{setup:setup$c,state:throttle})]})),defaulted('event','input'),option$3('cancelEvent'),onStrictHandler('onStream')];const Streaming=create$4({fields:StreamingSchema,name:'streaming',active:ActiveStreaming,state:StreamingState});const setValueFromItem=(model,input,item)=>{const itemData=Representing.getValue(item);Representing.setValue(input,itemData);setCursorAtEnd(input);};const setSelectionOn=(input,f)=>{const el=input.element;const value=get$6(el);const node=el.dom;if(get$f(el,'type')!=='number'){f(node,value);}};const setCursorAtEnd=input=>{setSelectionOn(input,(node,value)=>node.setSelectionRange(value.length,value.length));};const setSelectionToEnd=(input,startOffset)=>{setSelectionOn(input,(node,value)=>node.setSelectionRange(startOffset,value.length));};const attemptSelectOver=(model,input,item)=>{if(!model.selectsOver){return Optional.none();}else{const currentValue=Representing.getValue(input);const inputDisplay=model.getDisplayText(currentValue);const itemValue=Representing.getValue(item);const itemDisplay=model.getDisplayText(itemValue);return itemDisplay.indexOf(inputDisplay)===0?Optional.some(()=>{setValueFromItem(model,input,item);setSelectionToEnd(input,inputDisplay.length);}):Optional.none();}};const itemExecute=constant$1('alloy.typeahead.itemexecute');const make$3=(detail,components,spec,externals)=>{const navigateList=(comp,simulatedEvent,highlighter)=>{detail.previewing.set(false);const sandbox=Coupling.getCoupled(comp,'sandbox');if(Sandboxing.isOpen(sandbox)){Composing.getCurrent(sandbox).each(menu=>{Highlighting.getHighlighted(menu).fold(()=>{highlighter(menu);},()=>{dispatchEvent(sandbox,menu.element,'keydown',simulatedEvent);});});}else{const onOpenSync=sandbox=>{Composing.getCurrent(sandbox).each(highlighter);};open(detail,mapFetch(comp),comp,sandbox,externals,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);}};const focusBehaviours$1=focusBehaviours(detail);const mapFetch=comp=>tdata=>tdata.map(data=>{const menus=values(data.menus);const items=bind$3(menus,menu=>filter$2(menu.items,item=>item.type==='item'));const repState=Representing.getState(comp);repState.update(map$2(items,item=>item.data));return data;});const getActiveMenu=sandboxComp=>Composing.getCurrent(sandboxComp);const typeaheadCustomEvents='typeaheadevents';const behaviours=[Focusing.config({}),Representing.config({onSetValue:detail.onSetValue,store:{mode:'dataset',getDataKey:comp=>get$6(comp.element),getFallbackEntry:itemString=>({value:itemString,meta:{}}),setValue:(comp,data)=>{set$5(comp.element,detail.model.getDisplayText(data));},...detail.initialData.map(d=>wrap$1('initialValue',d)).getOr({})}}),Streaming.config({stream:{mode:'throttle',delay:detail.responseTime,stopEvent:false},onStream:(component,_simulatedEvent)=>{const sandbox=Coupling.getCoupled(component,'sandbox');const focusInInput=Focusing.isFocused(component);if(focusInInput){if(get$6(component.element).length>=detail.minChars){const previousValue=getActiveMenu(sandbox).bind(activeMenu=>Highlighting.getHighlighted(activeMenu).map(Representing.getValue));detail.previewing.set(true);const onOpenSync=_sandbox=>{getActiveMenu(sandbox).each(activeMenu=>{previousValue.fold(()=>{if(detail.model.selectsOver){Highlighting.highlightFirst(activeMenu);}},pv=>{Highlighting.highlightBy(activeMenu,item=>{const itemData=Representing.getValue(item);return itemData.value===pv.value;});Highlighting.getHighlighted(activeMenu).orThunk(()=>{Highlighting.highlightFirst(activeMenu);return Optional.none();});});});};open(detail,mapFetch(component),component,sandbox,externals,onOpenSync,HighlightOnOpen.HighlightJustMenu).get(noop);}}},cancelEvent:typeaheadCancel()}),Keying.config({mode:'special',onDown:(comp,simulatedEvent)=>{navigateList(comp,simulatedEvent,Highlighting.highlightFirst);return Optional.some(true);},onEscape:comp=>{const sandbox=Coupling.getCoupled(comp,'sandbox');if(Sandboxing.isOpen(sandbox)){Sandboxing.close(sandbox);return Optional.some(true);}return Optional.none();},onUp:(comp,simulatedEvent)=>{navigateList(comp,simulatedEvent,Highlighting.highlightLast);return Optional.some(true);},onEnter:comp=>{const sandbox=Coupling.getCoupled(comp,'sandbox');const sandboxIsOpen=Sandboxing.isOpen(sandbox);if(sandboxIsOpen&&!detail.previewing.get()){return getActiveMenu(sandbox).bind(activeMenu=>Highlighting.getHighlighted(activeMenu)).map(item=>{emitWith(comp,itemExecute(),{item});return true;});}else{const currentValue=Representing.getValue(comp);emit(comp,typeaheadCancel());detail.onExecute(sandbox,comp,currentValue);if(sandboxIsOpen){Sandboxing.close(sandbox);}return Optional.some(true);}}}),Toggling.config({toggleClass:detail.markers.openClass,aria:{mode:'expanded'}}),Coupling.config({others:{sandbox:hotspot=>{return makeSandbox$1(detail,hotspot,{onOpen:()=>Toggling.on(hotspot),onClose:()=>{detail.lazyTypeaheadComp.get().each(input=>remove$7(input.element,'aria-activedescendant'));Toggling.off(hotspot);}});}}}),config(typeaheadCustomEvents,[runOnAttached(typeaheadComp=>{detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));}),runOnDetached(_typeaheadComp=>{detail.lazyTypeaheadComp.set(Optional.none());}),runOnExecute$1(comp=>{const onOpenSync=noop;togglePopup(detail,mapFetch(comp),comp,externals,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);}),run$1(itemExecute(),(comp,se)=>{const sandbox=Coupling.getCoupled(comp,'sandbox');setValueFromItem(detail.model,comp,se.event.item);emit(comp,typeaheadCancel());detail.onItemExecute(comp,sandbox,se.event.item,Representing.getValue(comp));Sandboxing.close(sandbox);setCursorAtEnd(comp);})].concat(detail.dismissOnBlur?[run$1(postBlur(),typeahead=>{const sandbox=Coupling.getCoupled(typeahead,'sandbox');if(search(sandbox.element).isNone()){Sandboxing.close(sandbox);}})]:[]))];const eventOrder={[detachedFromDom()]:[Representing.name(),Streaming.name(),typeaheadCustomEvents],...detail.eventOrder};return{uid:detail.uid,dom:dom(deepMerge(detail,{inputAttributes:{'role':'combobox','aria-autocomplete':'list','aria-haspopup':'true'}})),behaviours:{...focusBehaviours$1,...augment(detail.typeaheadBehaviours,behaviours)},eventOrder};};const schema$g=constant$1([option$3('lazySink'),required$1('fetch'),defaulted('minChars',5),defaulted('responseTime',1000),onHandler('onOpen'),defaulted('getHotspot',Optional.some),defaulted('getAnchorOverrides',constant$1({})),defaulted('layouts',Optional.none()),defaulted('eventOrder',{}),defaultedObjOf('model',{},[defaulted('getDisplayText',itemData=>itemData.meta!==undefined&&itemData.meta.text!==undefined?itemData.meta.text:itemData.value),defaulted('selectsOver',true),defaulted('populateFromBrowse',true)]),onHandler('onSetValue'),onKeyboardHandler('onExecute'),onHandler('onItemExecute'),defaulted('inputClasses',[]),defaulted('inputAttributes',{}),defaulted('inputStyles',{}),defaulted('matchWidth',true),defaulted('useMinWidth',false),defaulted('dismissOnBlur',true),markers$1(['openClass']),option$3('initialData'),field('typeaheadBehaviours',[Focusing,Representing,Streaming,Keying,Toggling,Coupling]),customField('lazyTypeaheadComp',()=>Cell(Optional.none)),customField('previewing',()=>Cell(true))].concat(schema$l()).concat(sandboxFields()));const parts$b=constant$1([external({schema:[tieredMenuMarkers()],name:'menu',overrides:detail=>{return{fakeFocus:true,onHighlightItem:(_tmenu,menu,item)=>{if(!detail.previewing.get()){detail.lazyTypeaheadComp.get().each(input=>{if(detail.model.populateFromBrowse){setValueFromItem(detail.model,input,item);}getOpt(item.element,'id').each(id=>set$9(input.element,'aria-activedescendant',id));});}else{detail.lazyTypeaheadComp.get().each(input=>{attemptSelectOver(detail.model,input,item).fold(()=>{if(detail.model.selectsOver){Highlighting.dehighlight(menu,item);detail.previewing.set(true);}else{detail.previewing.set(false);}},selectOverTextInInput=>{selectOverTextInInput();detail.previewing.set(false);});});}},onExecute:(_menu,item)=>{return detail.lazyTypeaheadComp.get().map(typeahead=>{emitWith(typeahead,itemExecute(),{item});return true;});},onHover:(menu,item)=>{detail.previewing.set(false);detail.lazyTypeaheadComp.get().each(input=>{if(detail.model.populateFromBrowse){setValueFromItem(detail.model,input,item);}});}};}})]);const Typeahead=composite({name:'Typeahead',configFields:schema$g(),partFields:parts$b(),factory:make$3});const wrap=delegate=>{const toCached=()=>{return wrap(delegate.toCached());};const bindFuture=f=>{return wrap(delegate.bind(resA=>resA.fold(err=>Future.pure(Result.error(err)),a=>f(a))));};const bindResult=f=>{return wrap(delegate.map(resA=>resA.bind(f)));};const mapResult=f=>{return wrap(delegate.map(resA=>resA.map(f)));};const mapError=f=>{return wrap(delegate.map(resA=>resA.mapError(f)));};const foldResult=(whenError,whenValue)=>{return delegate.map(res=>res.fold(whenError,whenValue));};const withTimeout=(timeout,errorThunk)=>{return wrap(Future.nu(callback=>{let timedOut=false;const timer=setTimeout(()=>{timedOut=true;callback(Result.error(errorThunk()));},timeout);delegate.get(result=>{if(!timedOut){clearTimeout(timer);callback(result);}});}));};return{...delegate,toCached,bindFuture,bindResult,mapResult,mapError,foldResult,withTimeout};};const nu$1=worker=>{return wrap(Future.nu(worker));};const value=value=>{return wrap(Future.pure(Result.value(value)));};const error=error=>{return wrap(Future.pure(Result.error(error)));};const fromResult=result=>{return wrap(Future.pure(result));};const fromFuture=future=>{return wrap(future.map(Result.value));};const fromPromise=promise=>{return nu$1(completer=>{promise.then(value=>{completer(Result.value(value));},error=>{completer(Result.error(error));});});};const FutureResult={nu:nu$1,wrap,pure:value,value,error,fromResult,fromFuture,fromPromise};const renderCommonSpec=(spec,actionOpt,extraBehaviours=[],dom,components,providersBackstage)=>{const action=actionOpt.fold(()=>({}),action=>({action}));const common={buttonBehaviours:derive$1([DisablingConfigs.button(()=>!spec.enabled||providersBackstage.isDisabled()),receivingConfig(),Tabstopping.config({}),config('button press',[preventDefault('click'),preventDefault('mousedown')])].concat(extraBehaviours)),eventOrder:{click:['button press','alloy.base.behaviour'],mousedown:['button press','alloy.base.behaviour']},...action};const domFinal=deepMerge(common,{dom});return deepMerge(domFinal,{components});};const renderIconButtonSpec=(spec,action,providersBackstage,extraBehaviours=[])=>{const tooltipAttributes=spec.tooltip.map(tooltip=>({'aria-label':providersBackstage.translate(tooltip),'title':providersBackstage.translate(tooltip)})).getOr({});const dom={tag:'button',classes:['tox-tbtn'],attributes:tooltipAttributes};const icon=spec.icon.map(iconName=>renderIconFromPack$1(iconName,providersBackstage.icons));const components=componentRenderPipeline([icon]);return renderCommonSpec(spec,action,extraBehaviours,dom,components,providersBackstage);};const calculateClassesFromButtonType=buttonType=>{switch(buttonType){case'primary':return['tox-button'];case'toolbar':return['tox-tbtn'];case'secondary':default:return['tox-button','tox-button--secondary'];}};const renderButtonSpec=(spec,action,providersBackstage,extraBehaviours=[],extraClasses=[])=>{const translatedText=providersBackstage.translate(spec.text);const icon=spec.icon.map(iconName=>renderIconFromPack$1(iconName,providersBackstage.icons));const components=[icon.getOrThunk(()=>text$2(translatedText))];const buttonType=spec.buttonType.getOr(!spec.primary&&!spec.borderless?'secondary':'primary');const baseClasses=calculateClassesFromButtonType(buttonType);const classes=[...baseClasses,...(icon.isSome()?['tox-button--icon']:[]),...(spec.borderless?['tox-button--naked']:[]),...extraClasses];const dom={tag:'button',classes,attributes:{title:translatedText}};return renderCommonSpec(spec,action,extraBehaviours,dom,components,providersBackstage);};const renderButton$1=(spec,action,providersBackstage,extraBehaviours=[],extraClasses=[])=>{const buttonSpec=renderButtonSpec(spec,Optional.some(action),providersBackstage,extraBehaviours,extraClasses);return Button.sketch(buttonSpec);};const getAction=(name,buttonType)=>comp=>{if(buttonType==='custom'){emitWith(comp,formActionEvent,{name,value:{}});}else if(buttonType==='submit'){emit(comp,formSubmitEvent);}else if(buttonType==='cancel'){emit(comp,formCancelEvent);}else{console.error('Unknown button type: ',buttonType);}};const isMenuFooterButtonSpec=(spec,buttonType)=>buttonType==='menu';const isNormalFooterButtonSpec=(spec,buttonType)=>buttonType==='custom'||buttonType==='cancel'||buttonType==='submit';const isToggleButtonSpec=(spec,buttonType)=>buttonType==='togglebutton';const renderToggleButton=(spec,providers)=>{var _a,_b;const optMemIcon=spec.icon.map(memIcon=>renderReplaceableIconFromPack(memIcon,providers.icons)).map(record);const action=comp=>{emitWith(comp,formActionEvent,{name:spec.name,value:{setIcon:newIcon=>{optMemIcon.map(memIcon=>memIcon.getOpt(comp).each(displayIcon=>{Replacing.set(displayIcon,[renderReplaceableIconFromPack(newIcon,providers.icons)]);}));}}});};const buttonType=spec.buttonType.getOr(!spec.primary?'secondary':'primary');const buttonSpec={...spec,name:(_a=spec.name)!==null&&_a!==void 0?_a:'',primary:buttonType==='primary',tooltip:Optional.from(spec.tooltip),enabled:(_b=spec.enabled)!==null&&_b!==void 0?_b:false,borderless:false};const tooltipAttributes=buttonSpec.tooltip.map(tooltip=>({'aria-label':providers.translate(tooltip),'title':providers.translate(tooltip)})).getOr({});const buttonTypeClasses=calculateClassesFromButtonType(buttonType!==null&&buttonType!==void 0?buttonType:'secondary');const showIconAndText=spec.icon.isSome()&&spec.text.isSome();const dom={tag:'button',classes:[...buttonTypeClasses.concat(spec.icon.isSome()?['tox-button--icon']:[]),...(spec.active?['tox-button--enabled']:[]),...(showIconAndText?['tox-button--icon-and-text']:[])],attributes:tooltipAttributes};const extraBehaviours=[];const translatedText=providers.translate(spec.text.getOr(''));const translatedTextComponed=text$2(translatedText);const iconComp=componentRenderPipeline([optMemIcon.map(memIcon=>memIcon.asSpec())]);const components=[...iconComp,...(spec.text.isSome()?[translatedTextComponed]:[])];const iconButtonSpec=renderCommonSpec(buttonSpec,Optional.some(action),extraBehaviours,dom,components,providers);return Button.sketch(iconButtonSpec);};const renderFooterButton=(spec,buttonType,backstage)=>{if(isMenuFooterButtonSpec(spec,buttonType)){const getButton=()=>memButton;const menuButtonSpec=spec;const fixedSpec={...spec,type:'menubutton',search:Optional.none(),onSetup:api=>{api.setEnabled(spec.enabled);return noop;},fetch:getFetch(menuButtonSpec.items,getButton,backstage)};const memButton=record(renderMenuButton(fixedSpec,'tox-tbtn',backstage,Optional.none()));return memButton.asSpec();}else if(isNormalFooterButtonSpec(spec,buttonType)){const action=getAction(spec.name,buttonType);const buttonSpec={...spec,borderless:false};return renderButton$1(buttonSpec,action,backstage.shared.providers,[]);}else if(isToggleButtonSpec(spec,buttonType)){return renderToggleButton(spec,backstage.shared.providers);}else{console.error('Unknown footer button type: ',buttonType);throw new Error('Unknown footer button type');}};const renderDialogButton=(spec,providersBackstage)=>{const action=getAction(spec.name,'custom');return renderFormField(Optional.none(),FormField.parts.field({factory:Button,...renderButtonSpec(spec,Optional.some(action),providersBackstage,[memory(''),ComposingConfigs.self()])}));};const separator$1={type:'separator'};const toMenuItem=target=>({type:'menuitem',value:target.url,text:target.title,meta:{attach:target.attach},onAction:noop});const staticMenuItem=(title,url)=>({type:'menuitem',value:url,text:title,meta:{attach:undefined},onAction:noop});const toMenuItems=targets=>map$2(targets,toMenuItem);const filterLinkTargets=(type,targets)=>filter$2(targets,target=>target.type===type);const filteredTargets=(type,targets)=>toMenuItems(filterLinkTargets(type,targets));const headerTargets=linkInfo=>filteredTargets('header',linkInfo.targets);const anchorTargets=linkInfo=>filteredTargets('anchor',linkInfo.targets);const anchorTargetTop=linkInfo=>Optional.from(linkInfo.anchorTop).map(url=>staticMenuItem('<top>',url)).toArray();const anchorTargetBottom=linkInfo=>Optional.from(linkInfo.anchorBottom).map(url=>staticMenuItem('<bottom>',url)).toArray();const historyTargets=history=>map$2(history,url=>staticMenuItem(url,url));const joinMenuLists=items=>{return foldl(items,(a,b)=>{const bothEmpty=a.length===0||b.length===0;return bothEmpty?a.concat(b):a.concat(separator$1,b);},[]);};const filterByQuery=(term,menuItems)=>{const lowerCaseTerm=term.toLowerCase();return filter$2(menuItems,item=>{var _a;const text=item.meta!==undefined&&item.meta.text!==undefined?item.meta.text:item.text;const value=(_a=item.value)!==null&&_a!==void 0?_a:'';return contains$1(text.toLowerCase(),lowerCaseTerm)||contains$1(value.toLowerCase(),lowerCaseTerm);});};const getItems=(fileType,input,urlBackstage)=>{var _a,_b;const urlInputValue=Representing.getValue(input);const term=(_b=(_a=urlInputValue===null||urlInputValue===void 0?void 0:urlInputValue.meta)===null||_a===void 0?void 0:_a.text)!==null&&_b!==void 0?_b:urlInputValue.value;const info=urlBackstage.getLinkInformation();return info.fold(()=>[],linkInfo=>{const history=filterByQuery(term,historyTargets(urlBackstage.getHistory(fileType)));return fileType==='file'?joinMenuLists([history,filterByQuery(term,headerTargets(linkInfo)),filterByQuery(term,flatten([anchorTargetTop(linkInfo),anchorTargets(linkInfo),anchorTargetBottom(linkInfo)]))]):history;});};const errorId=generate$6('aria-invalid');const renderUrlInput=(spec,backstage,urlBackstage,initialData)=>{const providersBackstage=backstage.shared.providers;const updateHistory=component=>{const urlEntry=Representing.getValue(component);urlBackstage.addToHistory(urlEntry.value,spec.filetype);};const typeaheadSpec={...initialData.map(initialData=>({initialData})).getOr({}),dismissOnBlur:true,inputClasses:['tox-textfield'],sandboxClasses:['tox-dialog__popups'],inputAttributes:{'aria-errormessage':errorId,'type':'url'},minChars:0,responseTime:0,fetch:input=>{const items=getItems(spec.filetype,input,urlBackstage);const tdata=build(items,ItemResponse$1.BUBBLE_TO_SANDBOX,backstage,{isHorizontalMenu:false,search:Optional.none()});return Future.pure(tdata);},getHotspot:comp=>memUrlBox.getOpt(comp),onSetValue:(comp,_newValue)=>{if(comp.hasConfigured(Invalidating)){Invalidating.run(comp).get(noop);}},typeaheadBehaviours:derive$1([...urlBackstage.getValidationHandler().map(handler=>Invalidating.config({getRoot:comp=>parentElement(comp.element),invalidClass:'tox-control-wrap--status-invalid',notify:{onInvalid:(comp,err)=>{memInvalidIcon.getOpt(comp).each(invalidComp=>{set$9(invalidComp.element,'title',providersBackstage.translate(err));});}},validator:{validate:input=>{const urlEntry=Representing.getValue(input);return FutureResult.nu(completer=>{handler({type:spec.filetype,url:urlEntry.value},validation=>{if(validation.status==='invalid'){const err=Result.error(validation.message);completer(err);}else{const val=Result.value(validation.message);completer(val);}});});},validateOnLoad:false}})).toArray(),Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),Tabstopping.config({}),config('urlinput-events',[run$1(input(),comp=>{const currentValue=get$6(comp.element);const trimmedValue=currentValue.trim();if(trimmedValue!==currentValue){set$5(comp.element,trimmedValue);}if(spec.filetype==='file'){emitWith(comp,formChangeEvent,{name:spec.name});}}),run$1(change(),comp=>{emitWith(comp,formChangeEvent,{name:spec.name});updateHistory(comp);}),run$1(postPaste(),comp=>{emitWith(comp,formChangeEvent,{name:spec.name});updateHistory(comp);})])]),eventOrder:{[input()]:['streaming','urlinput-events','invalidating']},model:{getDisplayText:itemData=>itemData.value,selectsOver:false,populateFromBrowse:false},markers:{openClass:'tox-textfield--popup-open'},lazySink:backstage.shared.getSink,parts:{menu:part(false,1,'normal')},onExecute:(_menu,component,_entry)=>{emitWith(component,formSubmitEvent,{});},onItemExecute:(typeahead,_sandbox,_item,_value)=>{updateHistory(typeahead);emitWith(typeahead,formChangeEvent,{name:spec.name});}};const pField=FormField.parts.field({...typeaheadSpec,factory:Typeahead});const pLabel=spec.label.map(label=>renderLabel$3(label,providersBackstage));const makeIcon=(name,errId,icon=name,label=name)=>render$3(icon,{tag:'div',classes:['tox-icon','tox-control-wrap__status-icon-'+name],attributes:{'title':providersBackstage.translate(label),'aria-live':'polite',...errId.fold(()=>({}),id=>({id}))}},providersBackstage.icons);const memInvalidIcon=record(makeIcon('invalid',Optional.some(errorId),'warning'));const memStatus=record({dom:{tag:'div',classes:['tox-control-wrap__status-icon-wrap']},components:[memInvalidIcon.asSpec()]});const optUrlPicker=urlBackstage.getUrlPicker(spec.filetype);const browseUrlEvent=generate$6('browser.url.event');const memUrlBox=record({dom:{tag:'div',classes:['tox-control-wrap']},components:[pField,memStatus.asSpec()],behaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()})])});const memUrlPickerButton=record(renderButton$1({name:spec.name,icon:Optional.some('browse'),text:spec.picker_text.or(spec.label).getOr(''),enabled:spec.enabled,primary:false,buttonType:Optional.none(),borderless:true},component=>emit(component,browseUrlEvent),providersBackstage,[],['tox-browse-url']));const controlHWrapper=()=>({dom:{tag:'div',classes:['tox-form__controls-h-stack']},components:flatten([[memUrlBox.asSpec()],optUrlPicker.map(()=>memUrlPickerButton.asSpec()).toArray()])});const openUrlPicker=comp=>{Composing.getCurrent(comp).each(field=>{const componentData=Representing.getValue(field);const urlData={fieldname:spec.name,...componentData};optUrlPicker.each(picker=>{picker(urlData).get(chosenData=>{Representing.setValue(field,chosenData);emitWith(comp,formChangeEvent,{name:spec.name});});});});};return FormField.sketch({dom:renderFormFieldDom(),components:pLabel.toArray().concat([controlHWrapper()]),fieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);memUrlPickerButton.getOpt(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);memUrlPickerButton.getOpt(comp).each(Disabling.enable);}}),receivingConfig(),config('url-input-events',[run$1(browseUrlEvent,openUrlPicker)])])});};const renderAlertBanner=(spec,providersBackstage)=>{const icon=get$2(spec.icon,providersBackstage.icons);return Container.sketch({dom:{tag:'div',attributes:{role:'alert'},classes:['tox-notification','tox-notification--in',`tox-notification--${spec.level}`]},components:[{dom:{tag:'div',classes:['tox-notification__icon'],innerHtml:!spec.url?icon:undefined},components:spec.url?[Button.sketch({dom:{tag:'button',classes:['tox-button','tox-button--naked','tox-button--icon'],innerHtml:icon,attributes:{title:providersBackstage.translate(spec.iconTooltip)}},action:comp=>emitWith(comp,formActionEvent,{name:'alert-banner',value:spec.url}),buttonBehaviours:derive$1([addFocusableBehaviour()])})]:undefined},{dom:{tag:'div',classes:['tox-notification__body'],innerHtml:providersBackstage.translate(spec.text)}}]});};const set$1=(element,status)=>{element.dom.checked=status;};const get$1=element=>element.dom.checked;const renderCheckbox=(spec,providerBackstage,initialData)=>{const toggleCheckboxHandler=comp=>{comp.element.dom.click();return Optional.some(true);};const pField=FormField.parts.field({factory:{sketch:identity},dom:{tag:'input',classes:['tox-checkbox__input'],attributes:{type:'checkbox'}},behaviours:derive$1([ComposingConfigs.self(),Disabling.config({disabled:()=>!spec.enabled||providerBackstage.isDisabled(),onDisabled:component=>{parentElement(component.element).each(element=>add$2(element,'tox-checkbox--disabled'));},onEnabled:component=>{parentElement(component.element).each(element=>remove$2(element,'tox-checkbox--disabled'));}}),Tabstopping.config({}),Focusing.config({}),withElement(initialData,get$1,set$1),Keying.config({mode:'special',onEnter:toggleCheckboxHandler,onSpace:toggleCheckboxHandler,stopSpaceKeyup:true}),config('checkbox-events',[run$1(change(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});})])])});const pLabel=FormField.parts.label({dom:{tag:'span',classes:['tox-checkbox__label']},components:[text$2(providerBackstage.translate(spec.label))],behaviours:derive$1([Unselecting.config({})])});const makeIcon=className=>{const iconName=className==='checked'?'selected':'unselected';return render$3(iconName,{tag:'span',classes:['tox-icon','tox-checkbox-icon__'+className]},providerBackstage.icons);};const memIcons=record({dom:{tag:'div',classes:['tox-checkbox__icons']},components:[makeIcon('checked'),makeIcon('unchecked')]});return FormField.sketch({dom:{tag:'label',classes:['tox-checkbox']},components:[pField,memIcons.asSpec(),pLabel],fieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providerBackstage.isDisabled()}),receivingConfig()])});};const renderHtmlPanel=spec=>{if(spec.presets==='presentation'){return Container.sketch({dom:{tag:'div',classes:['tox-form__group'],innerHtml:spec.html}});}else{return Container.sketch({dom:{tag:'div',classes:['tox-form__group'],innerHtml:spec.html,attributes:{role:'document'}},containerBehaviours:derive$1([Tabstopping.config({}),Focusing.config({})])});}};const make$2=render=>{return(parts,spec,dialogData,backstage)=>get$g(spec,'name').fold(()=>render(spec,backstage,Optional.none()),fieldName=>parts.field(fieldName,render(spec,backstage,get$g(dialogData,fieldName))));};const makeIframe=render=>(parts,spec,dialogData,backstage)=>{const iframeSpec=deepMerge(spec,{source:'dynamic'});return make$2(render)(parts,iframeSpec,dialogData,backstage);};const factories={bar:make$2((spec,backstage)=>renderBar(spec,backstage.shared)),collection:make$2((spec,backstage,data)=>renderCollection(spec,backstage.shared.providers,data)),alertbanner:make$2((spec,backstage)=>renderAlertBanner(spec,backstage.shared.providers)),input:make$2((spec,backstage,data)=>renderInput(spec,backstage.shared.providers,data)),textarea:make$2((spec,backstage,data)=>renderTextarea(spec,backstage.shared.providers,data)),label:make$2((spec,backstage)=>renderLabel$2(spec,backstage.shared)),iframe:makeIframe((spec,backstage,data)=>renderIFrame(spec,backstage.shared.providers,data)),button:make$2((spec,backstage)=>renderDialogButton(spec,backstage.shared.providers)),checkbox:make$2((spec,backstage,data)=>renderCheckbox(spec,backstage.shared.providers,data)),colorinput:make$2((spec,backstage,data)=>renderColorInput(spec,backstage.shared,backstage.colorinput,data)),colorpicker:make$2((spec,backstage,data)=>renderColorPicker(spec,backstage.shared.providers,data)),dropzone:make$2((spec,backstage,data)=>renderDropZone(spec,backstage.shared.providers,data)),grid:make$2((spec,backstage)=>renderGrid(spec,backstage.shared)),listbox:make$2((spec,backstage,data)=>renderListBox(spec,backstage,data)),selectbox:make$2((spec,backstage,data)=>renderSelectBox(spec,backstage.shared.providers,data)),sizeinput:make$2((spec,backstage)=>renderSizeInput(spec,backstage.shared.providers)),slider:make$2((spec,backstage,data)=>renderSlider(spec,backstage.shared.providers,data)),urlinput:make$2((spec,backstage,data)=>renderUrlInput(spec,backstage,backstage.urlinput,data)),customeditor:make$2(renderCustomEditor),htmlpanel:make$2(renderHtmlPanel),imagepreview:make$2((spec,_,data)=>renderImagePreview(spec,data)),table:make$2((spec,backstage)=>renderTable(spec,backstage.shared.providers)),tree:make$2((spec,backstage)=>renderTree(spec,backstage)),panel:make$2((spec,backstage)=>renderPanel(spec,backstage))};const noFormParts={field:(_name,spec)=>spec,record:constant$1([])};const interpretInForm=(parts,spec,dialogData,oldBackstage)=>{const newBackstage=deepMerge(oldBackstage,{shared:{interpreter:childSpec=>interpretParts(parts,childSpec,dialogData,newBackstage)}});return interpretParts(parts,spec,dialogData,newBackstage);};const interpretParts=(parts,spec,dialogData,backstage)=>get$g(factories,spec.type).fold(()=>{console.error(`Unknown factory type \"${spec.type}\", defaulting to container: `,spec);return spec;},factory=>factory(parts,spec,dialogData,backstage));const interpretWithoutForm=(spec,dialogData,backstage)=>interpretParts(noFormParts,spec,dialogData,backstage);const labelPrefix='layout-inset';const westEdgeX=anchor=>anchor.x;const middleX=(anchor,element)=>anchor.x+anchor.width/2-element.width/2;const eastEdgeX=(anchor,element)=>anchor.x+anchor.width-element.width;const northY=anchor=>anchor.y;const southY=(anchor,element)=>anchor.y+anchor.height-element.height;const centreY=(anchor,element)=>anchor.y+anchor.height/2-element.height/2;const southwest=(anchor,element,bubbles)=>nu$6(eastEdgeX(anchor,element),southY(anchor,element),bubbles.insetSouthwest(),northwest$3(),'southwest',boundsRestriction(anchor,{right:0,bottom:3}),labelPrefix);const southeast=(anchor,element,bubbles)=>nu$6(westEdgeX(anchor),southY(anchor,element),bubbles.insetSoutheast(),northeast$3(),'southeast',boundsRestriction(anchor,{left:1,bottom:3}),labelPrefix);const northwest=(anchor,element,bubbles)=>nu$6(eastEdgeX(anchor,element),northY(anchor),bubbles.insetNorthwest(),southwest$3(),'northwest',boundsRestriction(anchor,{right:0,top:2}),labelPrefix);const northeast=(anchor,element,bubbles)=>nu$6(westEdgeX(anchor),northY(anchor),bubbles.insetNortheast(),southeast$3(),'northeast',boundsRestriction(anchor,{left:1,top:2}),labelPrefix);const north=(anchor,element,bubbles)=>nu$6(middleX(anchor,element),northY(anchor),bubbles.insetNorth(),south$3(),'north',boundsRestriction(anchor,{top:2}),labelPrefix);const south=(anchor,element,bubbles)=>nu$6(middleX(anchor,element),southY(anchor,element),bubbles.insetSouth(),north$3(),'south',boundsRestriction(anchor,{bottom:3}),labelPrefix);const east=(anchor,element,bubbles)=>nu$6(eastEdgeX(anchor,element),centreY(anchor,element),bubbles.insetEast(),west$3(),'east',boundsRestriction(anchor,{right:0}),labelPrefix);const west=(anchor,element,bubbles)=>nu$6(westEdgeX(anchor),centreY(anchor,element),bubbles.insetWest(),east$3(),'west',boundsRestriction(anchor,{left:1}),labelPrefix);const lookupPreserveLayout=lastPlacement=>{switch(lastPlacement){case'north':return north;case'northeast':return northeast;case'northwest':return northwest;case'south':return south;case'southeast':return southeast;case'southwest':return southwest;case'east':return east;case'west':return west;}};const preserve=(anchor,element,bubbles,placee,bounds)=>{const layout=getPlacement(placee).map(lookupPreserveLayout).getOr(north);return layout(anchor,element,bubbles,placee,bounds);};const lookupFlippedLayout=lastPlacement=>{switch(lastPlacement){case'north':return south;case'northeast':return southeast;case'northwest':return southwest;case'south':return north;case'southeast':return northeast;case'southwest':return northwest;case'east':return west;case'west':return east;}};const flip=(anchor,element,bubbles,placee,bounds)=>{const layout=getPlacement(placee).map(lookupFlippedLayout).getOr(north);return layout(anchor,element,bubbles,placee,bounds);};const bubbleAlignments$2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]};const getInlineDialogAnchor=(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor)=>{const bubbleSize=12;const overrides={maxHeightFunction:expandable$1()};const editableAreaAnchor=()=>({type:'node',root:getContentContainer(getRootNode(contentAreaElement())),node:Optional.from(contentAreaElement()),bubble:nu$5(bubbleSize,bubbleSize,bubbleAlignments$2),layouts:{onRtl:()=>[northeast],onLtr:()=>[northwest]},overrides});const standardAnchor=()=>({type:'hotspot',hotspot:lazyAnchorbar(),bubble:nu$5(-bubbleSize,bubbleSize,bubbleAlignments$2),layouts:{onRtl:()=>[southeast$2,southwest$2,south$2],onLtr:()=>[southwest$2,southeast$2,south$2]},overrides});return()=>lazyUseEditableAreaAnchor()?editableAreaAnchor():standardAnchor();};const getInlineBottomDialogAnchor=(inline,contentAreaElement,lazyBottomAnchorBar,lazyUseEditableAreaAnchor)=>{const bubbleSize=12;const overrides={maxHeightFunction:expandable$1()};const editableAreaAnchor=()=>({type:'node',root:getContentContainer(getRootNode(contentAreaElement())),node:Optional.from(contentAreaElement()),bubble:nu$5(bubbleSize,bubbleSize,bubbleAlignments$2),layouts:{onRtl:()=>[north],onLtr:()=>[north]},overrides});const standardAnchor=()=>inline?{type:'node',root:getContentContainer(getRootNode(contentAreaElement())),node:Optional.from(contentAreaElement()),bubble:nu$5(0,-getOuter$2(contentAreaElement()),bubbleAlignments$2),layouts:{onRtl:()=>[north$2],onLtr:()=>[north$2]},overrides}:{type:'hotspot',hotspot:lazyBottomAnchorBar(),bubble:nu$5(0,0,bubbleAlignments$2),layouts:{onRtl:()=>[north$2],onLtr:()=>[north$2]},overrides};return()=>lazyUseEditableAreaAnchor()?editableAreaAnchor():standardAnchor();};const getBannerAnchor=(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor)=>{const editableAreaAnchor=()=>({type:'node',root:getContentContainer(getRootNode(contentAreaElement())),node:Optional.from(contentAreaElement()),layouts:{onRtl:()=>[north],onLtr:()=>[north]}});const standardAnchor=()=>({type:'hotspot',hotspot:lazyAnchorbar(),layouts:{onRtl:()=>[south$2],onLtr:()=>[south$2]}});return()=>lazyUseEditableAreaAnchor()?editableAreaAnchor():standardAnchor();};const getCursorAnchor=(editor,bodyElement)=>()=>({type:'selection',root:bodyElement(),getSelection:()=>{const rng=editor.selection.getRng();const selectedCells=editor.model.table.getSelectedCells();if(selectedCells.length>1){const firstCell=selectedCells[0];const lastCell=selectedCells[selectedCells.length-1];const selectionTableCellRange={firstCell:SugarElement.fromDom(firstCell),lastCell:SugarElement.fromDom(lastCell)};return Optional.some(selectionTableCellRange);}return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer),rng.startOffset,SugarElement.fromDom(rng.endContainer),rng.endOffset));}});const getNodeAnchor$1=bodyElement=>element=>({type:'node',root:bodyElement(),node:element});const getAnchors=(editor,lazyAnchorbar,lazyBottomAnchorBar,isToolbarTop)=>{const useFixedToolbarContainer=useFixedContainer(editor);const bodyElement=()=>SugarElement.fromDom(editor.getBody());const contentAreaElement=()=>SugarElement.fromDom(editor.getContentAreaContainer());const lazyUseEditableAreaAnchor=()=>useFixedToolbarContainer||!isToolbarTop();return{inlineDialog:getInlineDialogAnchor(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor),inlineBottomDialog:getInlineBottomDialogAnchor(editor.inline,contentAreaElement,lazyBottomAnchorBar,lazyUseEditableAreaAnchor),banner:getBannerAnchor(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor),cursor:getCursorAnchor(editor,bodyElement),node:getNodeAnchor$1(bodyElement)};};const colorPicker=editor=>(callback,value)=>{const dialog=colorPickerDialog(editor);dialog(callback,value);};const hasCustomColors=editor=>()=>hasCustomColors$1(editor);const getColors=editor=>id=>getColors$2(editor,id);const getColorCols=editor=>id=>getColorCols$1(editor,id);const ColorInputBackstage=editor=>({colorPicker:colorPicker(editor),hasCustomColors:hasCustomColors(editor),getColors:getColors(editor),getColorCols:getColorCols(editor)});const isDraggableModal=editor=>()=>isDraggableModal$1(editor);const DialogBackstage=editor=>({isDraggableModal:isDraggableModal(editor)});const HeaderBackstage=editor=>{const mode=Cell(isToolbarLocationBottom(editor)?'bottom':'top');return{isPositionedAtTop:()=>mode.get()==='top',getDockingMode:mode.get,setDockingMode:mode.set};};const isNestedFormat=format=>hasNonNullableKey(format,'items');const isFormatReference=format=>hasNonNullableKey(format,'format');const defaultStyleFormats=[{title:'Headings',items:[{title:'Heading 1',format:'h1'},{title:'Heading 2',format:'h2'},{title:'Heading 3',format:'h3'},{title:'Heading 4',format:'h4'},{title:'Heading 5',format:'h5'},{title:'Heading 6',format:'h6'}]},{title:'Inline',items:[{title:'Bold',format:'bold'},{title:'Italic',format:'italic'},{title:'Underline',format:'underline'},{title:'Strikethrough',format:'strikethrough'},{title:'Superscript',format:'superscript'},{title:'Subscript',format:'subscript'},{title:'Code',format:'code'}]},{title:'Blocks',items:[{title:'Paragraph',format:'p'},{title:'Blockquote',format:'blockquote'},{title:'Div',format:'div'},{title:'Pre',format:'pre'}]},{title:'Align',items:[{title:'Left',format:'alignleft'},{title:'Center',format:'aligncenter'},{title:'Right',format:'alignright'},{title:'Justify',format:'alignjustify'}]}];const isNestedFormats=format=>has$2(format,'items');const isBlockFormat=format=>has$2(format,'block');const isInlineFormat=format=>has$2(format,'inline');const isSelectorFormat=format=>has$2(format,'selector');const mapFormats=userFormats=>foldl(userFormats,(acc,fmt)=>{if(isNestedFormats(fmt)){const result=mapFormats(fmt.items);return{customFormats:acc.customFormats.concat(result.customFormats),formats:acc.formats.concat([{title:fmt.title,items:result.formats}])};}else if(isInlineFormat(fmt)||isBlockFormat(fmt)||isSelectorFormat(fmt)){const formatName=isString(fmt.name)?fmt.name:fmt.title.toLowerCase();const formatNameWithPrefix=`custom-${formatName}`;return{customFormats:acc.customFormats.concat([{name:formatNameWithPrefix,format:fmt}]),formats:acc.formats.concat([{title:fmt.title,format:formatNameWithPrefix,icon:fmt.icon}])};}else{return{...acc,formats:acc.formats.concat(fmt)};}},{customFormats:[],formats:[]});const registerCustomFormats=(editor,userFormats)=>{const result=mapFormats(userFormats);const registerFormats=customFormats=>{each$1(customFormats,fmt=>{if(!editor.formatter.has(fmt.name)){editor.formatter.register(fmt.name,fmt.format);}});};if(editor.formatter){registerFormats(result.customFormats);}else{editor.on('init',()=>{registerFormats(result.customFormats);});}return result.formats;};const getStyleFormats=editor=>getUserStyleFormats(editor).map(userFormats=>{const registeredUserFormats=registerCustomFormats(editor,userFormats);return shouldMergeStyleFormats(editor)?defaultStyleFormats.concat(registeredUserFormats):registeredUserFormats;}).getOr(defaultStyleFormats);const isSeparator$1=format=>{const keys$1=keys(format);return keys$1.length===1&&contains$2(keys$1,'title');};const processBasic=(item,isSelectedFor,getPreviewFor)=>({...item,type:'formatter',isSelected:isSelectedFor(item.format),getStylePreview:getPreviewFor(item.format)});const register$a=(editor,formats,isSelectedFor,getPreviewFor)=>{const enrichSupported=item=>processBasic(item,isSelectedFor,getPreviewFor);const enrichMenu=item=>{const newItems=doEnrich(item.items);return{...item,type:'submenu',getStyleItems:constant$1(newItems)};};const enrichCustom=item=>{const formatName=isString(item.name)?item.name:generate$6(item.title);const formatNameWithPrefix=`custom-${formatName}`;const newItem={...item,type:'formatter',format:formatNameWithPrefix,isSelected:isSelectedFor(formatNameWithPrefix),getStylePreview:getPreviewFor(formatNameWithPrefix)};editor.formatter.register(formatName,newItem);return newItem;};const doEnrich=items=>map$2(items,item=>{if(isNestedFormat(item)){return enrichMenu(item);}else if(isFormatReference(item)){return enrichSupported(item);}else if(isSeparator$1(item)){return{...item,type:'separator'};}else{return enrichCustom(item);}});return doEnrich(formats);};const init$7=editor=>{const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=format=>()=>{const fmt=editor.formatter.get(format);return fmt!==undefined?Optional.some({tag:fmt.length>0?fmt[0].inline||fmt[0].block||'div':'div',styles:editor.dom.parseStyle(editor.formatter.getCssText(format))}):Optional.none();};const settingsFormats=Cell([]);const eventsFormats=Cell([]);const replaceSettings=Cell(false);editor.on('PreInit',_e=>{const formats=getStyleFormats(editor);const enriched=register$a(editor,formats,isSelectedFor,getPreviewFor);settingsFormats.set(enriched);});editor.on('addStyleModifications',e=>{const modifications=register$a(editor,e.items,isSelectedFor,getPreviewFor);eventsFormats.set(modifications);replaceSettings.set(e.replace);});const getData=()=>{const fromSettings=replaceSettings.get()?[]:settingsFormats.get();const fromEvents=eventsFormats.get();return fromSettings.concat(fromEvents);};return{getData};};const isElement=node=>isNonNullable(node)&&node.nodeType===1;const trim=global$1.trim;const hasContentEditableState=value=>{return node=>{if(isElement(node)){if(node.contentEditable===value){return true;}if(node.getAttribute('data-mce-contenteditable')===value){return true;}}return false;};};const isContentEditableTrue=hasContentEditableState('true');const isContentEditableFalse=hasContentEditableState('false');const create=(type,title,url,level,attach)=>({type,title,url,level,attach});const isChildOfContentEditableTrue=node=>{let tempNode=node;while(tempNode=tempNode.parentNode){const value=tempNode.contentEditable;if(value&&value!=='inherit'){return isContentEditableTrue(tempNode);}}return false;};const select=(selector,root)=>{return map$2(descendants(SugarElement.fromDom(root),selector),element=>{return element.dom;});};const getElementText=elm=>{return elm.innerText||elm.textContent;};const getOrGenerateId=elm=>{return elm.id?elm.id:generate$6('h');};const isAnchor=elm=>{return elm&&elm.nodeName==='A'&&(elm.id||elm.name)!==undefined;};const isValidAnchor=elm=>{return isAnchor(elm)&&isEditable(elm);};const isHeader=elm=>{return elm&&/^(H[1-6])$/.test(elm.nodeName);};const isEditable=elm=>{return isChildOfContentEditableTrue(elm)&&!isContentEditableFalse(elm);};const isValidHeader=elm=>{return isHeader(elm)&&isEditable(elm);};const getLevel=elm=>{return isHeader(elm)?parseInt(elm.nodeName.substr(1),10):0;};const headerTarget=elm=>{var _a;const headerId=getOrGenerateId(elm);const attach=()=>{elm.id=headerId;};return create('header',(_a=getElementText(elm))!==null&&_a!==void 0?_a:'','#'+headerId,getLevel(elm),attach);};const anchorTarget=elm=>{const anchorId=elm.id||elm.name;const anchorText=getElementText(elm);return create('anchor',anchorText?anchorText:'#'+anchorId,'#'+anchorId,0,noop);};const getHeaderTargets=elms=>{return map$2(filter$2(elms,isValidHeader),headerTarget);};const getAnchorTargets=elms=>{return map$2(filter$2(elms,isValidAnchor),anchorTarget);};const getTargetElements=elm=>{const elms=select('h1,h2,h3,h4,h5,h6,a:not([href])',elm);return elms;};const hasTitle=target=>{return trim(target.title).length>0;};const find=elm=>{const elms=getTargetElements(elm);return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)),hasTitle);};const LinkTargets={find};const STORAGE_KEY='tinymce-url-history';const HISTORY_LENGTH=5;const isHttpUrl=url=>isString(url)&&/^https?/.test(url);const isArrayOfUrl=a=>isArray(a)&&a.length<=HISTORY_LENGTH&&forall(a,isHttpUrl);const isRecordOfUrlArray=r=>isObject(r)&&find$4(r,value=>!isArrayOfUrl(value)).isNone();const getAllHistory=()=>{const unparsedHistory=global$4.getItem(STORAGE_KEY);if(unparsedHistory===null){return{};}let history;try{history=JSON.parse(unparsedHistory);}catch(e){if(e instanceof SyntaxError){console.log('Local storage '+STORAGE_KEY+' was not valid JSON',e);return{};}throw e;}if(!isRecordOfUrlArray(history)){console.log('Local storage '+STORAGE_KEY+' was not valid format',history);return{};}return history;};const setAllHistory=history=>{if(!isRecordOfUrlArray(history)){throw new Error('Bad format for history:\\n'+JSON.stringify(history));}global$4.setItem(STORAGE_KEY,JSON.stringify(history));};const getHistory=fileType=>{const history=getAllHistory();return get$g(history,fileType).getOr([]);};const addToHistory=(url,fileType)=>{if(!isHttpUrl(url)){return;}const history=getAllHistory();const items=get$g(history,fileType).getOr([]);const itemsWithoutUrl=filter$2(items,item=>item!==url);history[fileType]=[url].concat(itemsWithoutUrl).slice(0,HISTORY_LENGTH);setAllHistory(history);};const isTruthy=value=>!!value;const makeMap=value=>map$1(global$1.makeMap(value,/[, ]/),isTruthy);const getPicker=editor=>Optional.from(getFilePickerCallback(editor));const getPickerTypes=editor=>{const optFileTypes=Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);return getPicker(editor).fold(never,_picker=>optFileTypes.fold(always,types=>keys(types).length>0?types:false));};const getPickerSetting=(editor,filetype)=>{const pickerTypes=getPickerTypes(editor);if(isBoolean(pickerTypes)){return pickerTypes?getPicker(editor):Optional.none();}else{return pickerTypes[filetype]?getPicker(editor):Optional.none();}};const getUrlPicker=(editor,filetype)=>getPickerSetting(editor,filetype).map(picker=>entry=>Future.nu(completer=>{const handler=(value,meta)=>{if(!isString(value)){throw new Error('Expected value to be string');}if(meta!==undefined&&!isObject(meta)){throw new Error('Expected meta to be a object');}const r={value,meta};completer(r);};const meta={filetype,fieldname:entry.fieldname,...Optional.from(entry.meta).getOr({})};picker.call(editor,handler,entry.value,meta);}));const getTextSetting=value=>Optional.from(value).filter(isString).getOrUndefined();const getLinkInformation=editor=>{if(!useTypeaheadUrls(editor)){return Optional.none();}return Optional.some({targets:LinkTargets.find(editor.getBody()),anchorTop:getTextSetting(getAnchorTop(editor)),anchorBottom:getTextSetting(getAnchorBottom(editor))});};const getValidationHandler=editor=>Optional.from(getFilePickerValidatorHandler(editor));const UrlInputBackstage=editor=>({getHistory,addToHistory,getLinkInformation:()=>getLinkInformation(editor),getValidationHandler:()=>getValidationHandler(editor),getUrlPicker:filetype=>getUrlPicker(editor,filetype)});const init$6=(lazySinks,editor,lazyAnchorbar,lazyBottomAnchorBar)=>{const contextMenuState=Cell(false);const toolbar=HeaderBackstage(editor);const providers={icons:()=>editor.ui.registry.getAll().icons,menuItems:()=>editor.ui.registry.getAll().menuItems,translate:global$8.translate,isDisabled:()=>editor.mode.isReadOnly()||!editor.ui.isEnabled(),getOption:editor.options.get};const urlinput=UrlInputBackstage(editor);const styles=init$7(editor);const colorinput=ColorInputBackstage(editor);const dialogSettings=DialogBackstage(editor);const isContextMenuOpen=()=>contextMenuState.get();const setContextMenuState=state=>contextMenuState.set(state);const commonBackstage={shared:{providers,anchors:getAnchors(editor,lazyAnchorbar,lazyBottomAnchorBar,toolbar.isPositionedAtTop),header:toolbar},urlinput,styles,colorinput,dialog:dialogSettings,isContextMenuOpen,setContextMenuState};const popupBackstage={...commonBackstage,shared:{...commonBackstage.shared,interpreter:s=>interpretWithoutForm(s,{},popupBackstage),getSink:lazySinks.popup}};const dialogBackstage={...commonBackstage,shared:{...commonBackstage.shared,interpreter:s=>interpretWithoutForm(s,{},dialogBackstage),getSink:lazySinks.dialog}};return{popup:popupBackstage,dialog:dialogBackstage};};const setup$b=(editor,mothership,uiMotherships)=>{const broadcastEvent=(name,evt)=>{each$1([mothership,...uiMotherships],m=>{m.broadcastEvent(name,evt);});};const broadcastOn=(channel,message)=>{each$1([mothership,...uiMotherships],m=>{m.broadcastOn([channel],message);});};const fireDismissPopups=evt=>broadcastOn(dismissPopups(),{target:evt.target});const doc=getDocument();const onTouchstart=bind(doc,'touchstart',fireDismissPopups);const onTouchmove=bind(doc,'touchmove',evt=>broadcastEvent(documentTouchmove(),evt));const onTouchend=bind(doc,'touchend',evt=>broadcastEvent(documentTouchend(),evt));const onMousedown=bind(doc,'mousedown',fireDismissPopups);const onMouseup=bind(doc,'mouseup',evt=>{if(evt.raw.button===0){broadcastOn(mouseReleased(),{target:evt.target});}});const onContentClick=raw=>broadcastOn(dismissPopups(),{target:SugarElement.fromDom(raw.target)});const onContentMouseup=raw=>{if(raw.button===0){broadcastOn(mouseReleased(),{target:SugarElement.fromDom(raw.target)});}};const onContentMousedown=()=>{each$1(editor.editorManager.get(),loopEditor=>{if(editor!==loopEditor){loopEditor.dispatch('DismissPopups',{relatedTarget:editor});}});};const onWindowScroll=evt=>broadcastEvent(windowScroll(),fromRawEvent(evt));const onWindowResize=evt=>{broadcastOn(repositionPopups(),{});broadcastEvent(windowResize(),fromRawEvent(evt));};const dos=getRootNode(SugarElement.fromDom(editor.getElement()));const onElementScroll=capture(dos,'scroll',evt=>{requestAnimationFrame(()=>{const c=editor.getContainer();if(c!==undefined&&c!==null){const optScrollingContext=detectWhenSplitUiMode(editor,mothership.element);const scrollers=optScrollingContext.map(sc=>[sc.element,...sc.others]).getOr([]);if(exists(scrollers,s=>eq(s,evt.target))){editor.dispatch('ElementScroll',{target:evt.target.dom});broadcastEvent(externalElementScroll(),evt);}}});});const onEditorResize=()=>broadcastOn(repositionPopups(),{});const onEditorProgress=evt=>{if(evt.state){broadcastOn(dismissPopups(),{target:SugarElement.fromDom(editor.getContainer())});}};const onDismissPopups=event=>{broadcastOn(dismissPopups(),{target:SugarElement.fromDom(event.relatedTarget.getContainer())});};editor.on('PostRender',()=>{editor.on('click',onContentClick);editor.on('tap',onContentClick);editor.on('mouseup',onContentMouseup);editor.on('mousedown',onContentMousedown);editor.on('ScrollWindow',onWindowScroll);editor.on('ResizeWindow',onWindowResize);editor.on('ResizeEditor',onEditorResize);editor.on('AfterProgressState',onEditorProgress);editor.on('DismissPopups',onDismissPopups);});editor.on('remove',()=>{editor.off('click',onContentClick);editor.off('tap',onContentClick);editor.off('mouseup',onContentMouseup);editor.off('mousedown',onContentMousedown);editor.off('ScrollWindow',onWindowScroll);editor.off('ResizeWindow',onWindowResize);editor.off('ResizeEditor',onEditorResize);editor.off('AfterProgressState',onEditorProgress);editor.off('DismissPopups',onDismissPopups);onMousedown.unbind();onTouchstart.unbind();onTouchmove.unbind();onTouchend.unbind();onMouseup.unbind();onElementScroll.unbind();});editor.on('detach',()=>{each$1([mothership,...uiMotherships],detachSystem);each$1([mothership,...uiMotherships],m=>m.destroy());});};const parts$a=AlloyParts;const partType=PartType;const schema$f=constant$1([defaulted('shell',false),required$1('makeItem'),defaulted('setupItem',noop),SketchBehaviours.field('listBehaviours',[Replacing])]);const customListDetail=()=>({behaviours:derive$1([Replacing.config({})])});const itemsPart=optional({name:'items',overrides:customListDetail});const parts$9=constant$1([itemsPart]);const name=constant$1('CustomList');const factory$f=(detail,components,_spec,_external)=>{const setItems=(list,items)=>{getListContainer(list).fold(()=>{console.error('Custom List was defined to not be a shell, but no item container was specified in components');throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');},container=>{const itemComps=Replacing.contents(container);const numListsRequired=items.length;const numListsToAdd=numListsRequired-itemComps.length;const itemsToAdd=numListsToAdd>0?range$2(numListsToAdd,()=>detail.makeItem()):[];const itemsToRemove=itemComps.slice(numListsRequired);each$1(itemsToRemove,item=>Replacing.remove(container,item));each$1(itemsToAdd,item=>Replacing.append(container,item));const builtLists=Replacing.contents(container);each$1(builtLists,(item,i)=>{detail.setupItem(list,item,items[i],i);});});};const extra=detail.shell?{behaviours:[Replacing.config({})],components:[]}:{behaviours:[],components};const getListContainer=component=>detail.shell?Optional.some(component):getPart(component,detail,'items');return{uid:detail.uid,dom:detail.dom,components:extra.components,behaviours:augment(detail.listBehaviours,extra.behaviours),apis:{setItems}};};const CustomList=composite({name:name(),configFields:schema$f(),partFields:parts$9(),factory:factory$f,apis:{setItems:(apis,list,items)=>{apis.setItems(list,items);}}});const schema$e=constant$1([required$1('dom'),defaulted('shell',true),field('toolbarBehaviours',[Replacing])]);const enhanceGroups=()=>({behaviours:derive$1([Replacing.config({})])});const parts$8=constant$1([optional({name:'groups',overrides:enhanceGroups})]);const factory$e=(detail,components,_spec,_externals)=>{const setGroups=(toolbar,groups)=>{getGroupContainer(toolbar).fold(()=>{console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');},container=>{Replacing.set(container,groups);});};const getGroupContainer=component=>detail.shell?Optional.some(component):getPart(component,detail,'groups');const extra=detail.shell?{behaviours:[Replacing.config({})],components:[]}:{behaviours:[],components};return{uid:detail.uid,dom:detail.dom,components:extra.components,behaviours:augment(detail.toolbarBehaviours,extra.behaviours),apis:{setGroups,refresh:noop},domModification:{attributes:{role:'group'}}};};const Toolbar=composite({name:'Toolbar',configFields:schema$e(),partFields:parts$8(),factory:factory$e,apis:{setGroups:(apis,toolbar,groups)=>{apis.setGroups(toolbar,groups);}}});const setup$a=noop;const isDocked$2=never;const getBehaviours$1=constant$1([]);var StaticHeader=/*#__PURE__*/Object.freeze({__proto__:null,setup:setup$a,isDocked:isDocked$2,getBehaviours:getBehaviours$1});const getOffsetParent=element=>{const isFixed=is$1(getRaw(element,'position'),'fixed');const offsetParent$1=isFixed?Optional.none():offsetParent(element);return offsetParent$1.orThunk(()=>{const marker=SugarElement.fromTag('span');return parent(element).bind(parent=>{append$2(parent,marker);const offsetParent$1=offsetParent(marker);remove$5(marker);return offsetParent$1;});});};const getOrigin=element=>getOffsetParent(element).map(absolute$3).getOrThunk(()=>SugarPosition(0,0));const appear=(component,contextualInfo)=>{const elem=component.element;add$2(elem,contextualInfo.transitionClass);remove$2(elem,contextualInfo.fadeOutClass);add$2(elem,contextualInfo.fadeInClass);contextualInfo.onShow(component);};const disappear=(component,contextualInfo)=>{const elem=component.element;add$2(elem,contextualInfo.transitionClass);remove$2(elem,contextualInfo.fadeInClass);add$2(elem,contextualInfo.fadeOutClass);contextualInfo.onHide(component);};const isPartiallyVisible=(box,bounds)=>box.y<bounds.bottom&&box.bottom>bounds.y;const isTopCompletelyVisible=(box,bounds)=>box.y>=bounds.y;const isBottomCompletelyVisible=(box,bounds)=>box.bottom<=bounds.bottom;const forceTopPosition=(winBox,leftX,viewport)=>({location:'top',leftX,topY:viewport.bounds.y-winBox.y});const forceBottomPosition=(winBox,leftX,viewport)=>({location:'bottom',leftX,bottomY:winBox.bottom-viewport.bounds.bottom});const getDockedLeftPosition=bounds=>{return bounds.box.x-bounds.win.x;};const tryDockingPosition=(modes,bounds,viewport)=>{const winBox=bounds.win;const box=bounds.box;const leftX=getDockedLeftPosition(bounds);return findMap(modes,mode=>{switch(mode){case'bottom':return!isBottomCompletelyVisible(box,viewport.bounds)?Optional.some(forceBottomPosition(winBox,leftX,viewport)):Optional.none();case'top':return!isTopCompletelyVisible(box,viewport.bounds)?Optional.some(forceTopPosition(winBox,leftX,viewport)):Optional.none();default:return Optional.none();}}).getOr({location:'no-dock'});};const isVisibleForModes=(modes,box,viewport)=>forall(modes,mode=>{switch(mode){case'bottom':return isBottomCompletelyVisible(box,viewport.bounds);case'top':return isTopCompletelyVisible(box,viewport.bounds);}});const getXYForRestoring=(pos,viewport)=>{const priorY=viewport.optScrollEnv.fold(constant$1(pos.bounds.y),scrollEnv=>scrollEnv.scrollElmTop+(pos.bounds.y-scrollEnv.currentScrollTop));return SugarPosition(pos.bounds.x,priorY);};const getXYForSaving=(box,viewport)=>{const priorY=viewport.optScrollEnv.fold(constant$1(box.y),scrollEnv=>box.y+scrollEnv.currentScrollTop-scrollEnv.scrollElmTop);return SugarPosition(box.x,priorY);};const getPrior=(elem,viewport,state)=>state.getInitialPos().map(pos=>{const xy=getXYForRestoring(pos,viewport);return{box:bounds(xy.left,xy.top,get$c(elem),get$d(elem)),location:pos.location};});const storePrior=(elem,box,viewport,state,decision)=>{const xy=getXYForSaving(box,viewport);const bounds$1=bounds(xy.left,xy.top,box.width,box.height);state.setInitialPos({style:getAllRaw(elem),position:get$e(elem,'position')||'static',bounds:bounds$1,location:decision.location});};const storePriorIfNone=(elem,box,viewport,state,decision)=>{state.getInitialPos().fold(()=>storePrior(elem,box,viewport,state,decision),()=>noop);};const revertToOriginal=(elem,box,state)=>state.getInitialPos().bind(position=>{var _a;state.clearInitialPos();switch(position.position){case'static':return Optional.some({morph:'static'});case'absolute':const offsetParent=getOffsetParent(elem).getOr(body());const offsetBox=box$1(offsetParent);const scrollDelta=(_a=offsetParent.dom.scrollTop)!==null&&_a!==void 0?_a:0;return Optional.some({morph:'absolute',positionCss:NuPositionCss('absolute',get$g(position.style,'left').map(_left=>box.x-offsetBox.x),get$g(position.style,'top').map(_top=>box.y-offsetBox.y+scrollDelta),get$g(position.style,'right').map(_right=>offsetBox.right-box.right),get$g(position.style,'bottom').map(_bottom=>offsetBox.bottom-box.bottom))});default:return Optional.none();}});const tryMorphToOriginal=(elem,viewport,state)=>getPrior(elem,viewport,state).filter(({box})=>isVisibleForModes(state.getModes(),box,viewport)).bind(({box})=>revertToOriginal(elem,box,state));const tryDecisionToFixedMorph=decision=>{switch(decision.location){case'top':{return Optional.some({morph:'fixed',positionCss:NuPositionCss('fixed',Optional.some(decision.leftX),Optional.some(decision.topY),Optional.none(),Optional.none())});}case'bottom':{return Optional.some({morph:'fixed',positionCss:NuPositionCss('fixed',Optional.some(decision.leftX),Optional.none(),Optional.none(),Optional.some(decision.bottomY))});}default:return Optional.none();}};const tryMorphToFixed=(elem,viewport,state)=>{const box=box$1(elem);const winBox=win();const decision=tryDockingPosition(state.getModes(),{win:winBox,box},viewport);if(decision.location==='top'||decision.location==='bottom'){storePrior(elem,box,viewport,state,decision);return tryDecisionToFixedMorph(decision);}else{return Optional.none();}};const tryMorphToOriginalOrUpdateFixed=(elem,viewport,state)=>{return tryMorphToOriginal(elem,viewport,state).orThunk(()=>{return viewport.optScrollEnv.bind(_=>getPrior(elem,viewport,state)).bind(({box,location})=>{const winBox=win();const leftX=getDockedLeftPosition({win:winBox,box});const decision=location==='top'?forceTopPosition(winBox,leftX,viewport):forceBottomPosition(winBox,leftX,viewport);return tryDecisionToFixedMorph(decision);});});};const tryMorph=(component,viewport,state)=>{const elem=component.element;const isDocked=is$1(getRaw(elem,'position'),'fixed');return isDocked?tryMorphToOriginalOrUpdateFixed(elem,viewport,state):tryMorphToFixed(elem,viewport,state);};const calculateMorphToOriginal=(component,viewport,state)=>{const elem=component.element;return getPrior(elem,viewport,state).bind(({box})=>revertToOriginal(elem,box,state));};const forceDockWith=(elem,viewport,state,getDecision)=>{const box=box$1(elem);const winBox=win();const leftX=getDockedLeftPosition({win:winBox,box});const decision=getDecision(winBox,leftX,viewport);if(decision.location==='bottom'||decision.location==='top'){storePriorIfNone(elem,box,viewport,state,decision);return tryDecisionToFixedMorph(decision);}else{return Optional.none();}};const morphToStatic=(component,config,state)=>{state.setDocked(false);each$1(['left','right','top','bottom','position'],prop=>remove$6(component.element,prop));config.onUndocked(component);};const morphToCoord=(component,config,state,position)=>{const isDocked=position.position==='fixed';state.setDocked(isDocked);applyPositionCss(component.element,position);const method=isDocked?config.onDocked:config.onUndocked;method(component);};const updateVisibility=(component,config,state,viewport,morphToDocked=false)=>{config.contextual.each(contextInfo=>{contextInfo.lazyContext(component).each(box=>{const isVisible=isPartiallyVisible(box,viewport.bounds);if(isVisible!==state.isVisible()){state.setVisible(isVisible);if(morphToDocked&&!isVisible){add$1(component.element,[contextInfo.fadeOutClass]);contextInfo.onHide(component);}else{const method=isVisible?appear:disappear;method(component,contextInfo);}}});});};const applyFixedMorph=(component,config,state,viewport,morph)=>{updateVisibility(component,config,state,viewport,true);morphToCoord(component,config,state,morph.positionCss);};const applyMorph=(component,config,state,viewport,morph)=>{switch(morph.morph){case'static':{return morphToStatic(component,config,state);}case'absolute':{return morphToCoord(component,config,state,morph.positionCss);}case'fixed':{return applyFixedMorph(component,config,state,viewport,morph);}}};const refreshInternal=(component,config,state)=>{const viewport=config.lazyViewport(component);updateVisibility(component,config,state,viewport);tryMorph(component,viewport,state).each(morph=>{applyMorph(component,config,state,viewport,morph);});};const resetInternal=(component,config,state)=>{const elem=component.element;state.setDocked(false);const viewport=config.lazyViewport(component);calculateMorphToOriginal(component,viewport,state).each(staticOrAbsoluteMorph=>{switch(staticOrAbsoluteMorph.morph){case'static':{morphToStatic(component,config,state);break;}case'absolute':{morphToCoord(component,config,state,staticOrAbsoluteMorph.positionCss);break;}}});state.setVisible(true);config.contextual.each(contextInfo=>{remove$1(elem,[contextInfo.fadeInClass,contextInfo.fadeOutClass,contextInfo.transitionClass]);contextInfo.onShow(component);});refresh$3(component,config,state);};const refresh$3=(component,config,state)=>{if(component.getSystem().isConnected()){refreshInternal(component,config,state);}};const reset=(component,config,state)=>{if(state.isDocked()){resetInternal(component,config,state);}};const forceDockWithDecision=getDecision=>(component,config,state)=>{const viewport=config.lazyViewport(component);const optMorph=forceDockWith(component.element,viewport,state,getDecision);optMorph.each(morph=>{applyFixedMorph(component,config,state,viewport,morph);});};const forceDockToTop=forceDockWithDecision(forceTopPosition);const forceDockToBottom=forceDockWithDecision(forceBottomPosition);const isDocked$1=(component,config,state)=>state.isDocked();const setModes=(component,config,state,modes)=>state.setModes(modes);const getModes=(component,config,state)=>state.getModes();var DockingApis=/*#__PURE__*/Object.freeze({__proto__:null,refresh:refresh$3,reset:reset,isDocked:isDocked$1,getModes:getModes,setModes:setModes,forceDockToTop:forceDockToTop,forceDockToBottom:forceDockToBottom});const events$4=(dockInfo,dockState)=>derive$2([runOnSource(transitionend(),(component,simulatedEvent)=>{dockInfo.contextual.each(contextInfo=>{if(has(component.element,contextInfo.transitionClass)){remove$1(component.element,[contextInfo.transitionClass,contextInfo.fadeInClass]);const notify=dockState.isVisible()?contextInfo.onShown:contextInfo.onHidden;notify(component);}simulatedEvent.stop();});}),run$1(windowScroll(),(component,_)=>{refresh$3(component,dockInfo,dockState);}),run$1(externalElementScroll(),(component,_)=>{refresh$3(component,dockInfo,dockState);}),run$1(windowResize(),(component,_)=>{reset(component,dockInfo,dockState);})]);var ActiveDocking=/*#__PURE__*/Object.freeze({__proto__:null,events:events$4});var DockingSchema=[optionObjOf('contextual',[requiredString('fadeInClass'),requiredString('fadeOutClass'),requiredString('transitionClass'),requiredFunction('lazyContext'),onHandler('onShow'),onHandler('onShown'),onHandler('onHide'),onHandler('onHidden')]),defaultedFunction('lazyViewport',()=>({bounds:win(),optScrollEnv:Optional.none()})),defaultedArrayOf('modes',['top','bottom'],string),onHandler('onDocked'),onHandler('onUndocked')];const init$5=spec=>{const docked=Cell(false);const visible=Cell(true);const initialBounds=value$2();const modes=Cell(spec.modes);const readState=()=>`docked:  ${docked.get()}, visible: ${visible.get()}, modes: ${modes.get().join(',')}`;return nu$8({isDocked:docked.get,setDocked:docked.set,getInitialPos:initialBounds.get,setInitialPos:initialBounds.set,clearInitialPos:initialBounds.clear,isVisible:visible.get,setVisible:visible.set,getModes:modes.get,setModes:modes.set,readState});};var DockingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$5});const Docking=create$4({fields:DockingSchema,name:'docking',active:ActiveDocking,apis:DockingApis,state:DockingState});const toolbarHeightChange=constant$1(generate$6('toolbar-height-change'));const visibility={fadeInClass:'tox-editor-dock-fadein',fadeOutClass:'tox-editor-dock-fadeout',transitionClass:'tox-editor-dock-transition'};const editorStickyOnClass='tox-tinymce--toolbar-sticky-on';const editorStickyOffClass='tox-tinymce--toolbar-sticky-off';const scrollFromBehindHeader=(e,containerHeader)=>{const doc=owner$4(containerHeader);const win=defaultView(containerHeader);const viewHeight=win.dom.innerHeight;const scrollPos=get$b(doc);const markerElement=SugarElement.fromDom(e.elm);const markerPos=absolute$2(markerElement);const markerHeight=get$d(markerElement);const markerTop=markerPos.y;const markerBottom=markerTop+markerHeight;const editorHeaderPos=absolute$3(containerHeader);const editorHeaderHeight=get$d(containerHeader);const editorHeaderTop=editorHeaderPos.top;const editorHeaderBottom=editorHeaderTop+editorHeaderHeight;const editorHeaderDockedAtTop=Math.abs(editorHeaderTop-scrollPos.top)<2;const editorHeaderDockedAtBottom=Math.abs(editorHeaderBottom-(scrollPos.top+viewHeight))<2;if(editorHeaderDockedAtTop&&markerTop<editorHeaderBottom){to(scrollPos.left,markerTop-editorHeaderHeight,doc);}else if(editorHeaderDockedAtBottom&&markerBottom>editorHeaderTop){const y=markerTop-viewHeight+markerHeight+editorHeaderHeight;to(scrollPos.left,y,doc);}};const isDockedMode=(header,mode)=>contains$2(Docking.getModes(header),mode);const updateIframeContentFlow=header=>{const getOccupiedHeight=elm=>getOuter$2(elm)+(parseInt(get$e(elm,'margin-top'),10)||0)+(parseInt(get$e(elm,'margin-bottom'),10)||0);const elm=header.element;parentElement(elm).each(parentElem=>{const padding='padding-'+Docking.getModes(header)[0];if(Docking.isDocked(header)){const parentWidth=get$c(parentElem);set$8(elm,'width',parentWidth+'px');set$8(parentElem,padding,getOccupiedHeight(elm)+'px');}else{remove$6(elm,'width');remove$6(parentElem,padding);}});};const updateSinkVisibility=(sinkElem,visible)=>{if(visible){remove$2(sinkElem,visibility.fadeOutClass);add$1(sinkElem,[visibility.transitionClass,visibility.fadeInClass]);}else{remove$2(sinkElem,visibility.fadeInClass);add$1(sinkElem,[visibility.fadeOutClass,visibility.transitionClass]);}};const updateEditorClasses=(editor,docked)=>{const editorContainer=SugarElement.fromDom(editor.getContainer());if(docked){add$2(editorContainer,editorStickyOnClass);remove$2(editorContainer,editorStickyOffClass);}else{add$2(editorContainer,editorStickyOffClass);remove$2(editorContainer,editorStickyOnClass);}};const restoreFocus=(headerElem,focusedElem)=>{const ownerDoc=owner$4(focusedElem);active$1(ownerDoc).filter(activeElm=>!eq(focusedElem,activeElm)).filter(activeElm=>eq(activeElm,SugarElement.fromDom(ownerDoc.dom.body))||contains(headerElem,activeElm)).each(()=>focus$3(focusedElem));};const findFocusedElem=(rootElm,lazySink)=>search(rootElm).orThunk(()=>lazySink().toOptional().bind(sink=>search(sink.element)));const setup$9=(editor,sharedBackstage,lazyHeader)=>{if(!editor.inline){if(!sharedBackstage.header.isPositionedAtTop()){editor.on('ResizeEditor',()=>{lazyHeader().each(Docking.reset);});}editor.on('ResizeWindow ResizeEditor',()=>{lazyHeader().each(updateIframeContentFlow);});editor.on('SkinLoaded',()=>{lazyHeader().each(comp=>{Docking.isDocked(comp)?Docking.reset(comp):Docking.refresh(comp);});});editor.on('FullscreenStateChanged',()=>{lazyHeader().each(Docking.reset);});}editor.on('AfterScrollIntoView',e=>{lazyHeader().each(header=>{Docking.refresh(header);const headerElem=header.element;if(isVisible(headerElem)){scrollFromBehindHeader(e,headerElem);}});});editor.on('PostRender',()=>{updateEditorClasses(editor,false);});};const isDocked=lazyHeader=>lazyHeader().map(Docking.isDocked).getOr(false);const getIframeBehaviours=()=>[Receiving.config({channels:{[toolbarHeightChange()]:{onReceive:updateIframeContentFlow}}})];const getBehaviours=(editor,sharedBackstage)=>{const focusedElm=value$2();const lazySink=sharedBackstage.getSink;const runOnSinkElement=f=>{lazySink().each(sink=>f(sink.element));};const onDockingSwitch=comp=>{if(!editor.inline){updateIframeContentFlow(comp);}updateEditorClasses(editor,Docking.isDocked(comp));comp.getSystem().broadcastOn([repositionPopups()],{});lazySink().each(sink=>sink.getSystem().broadcastOn([repositionPopups()],{}));};const additionalBehaviours=editor.inline?[]:getIframeBehaviours();return[Focusing.config({}),Docking.config({contextual:{lazyContext:comp=>{const headerHeight=getOuter$2(comp.element);const container=editor.inline?editor.getContentAreaContainer():editor.getContainer();return Optional.from(container).map(c=>{const box=box$1(SugarElement.fromDom(c));const optScrollingContext=detectWhenSplitUiMode(editor,comp.element);return optScrollingContext.fold(()=>{const boxHeight=box.height-headerHeight;const topBound=box.y+(isDockedMode(comp,'top')?0:headerHeight);return bounds(box.x,topBound,box.width,boxHeight);},scrollEnv=>{const constrainedBounds=constrain(box,getBoundsFrom(scrollEnv));const constrainedBoundsY=isDockedMode(comp,'top')?constrainedBounds.y:constrainedBounds.y+headerHeight;return bounds(constrainedBounds.x,constrainedBoundsY,constrainedBounds.width,constrainedBounds.height-headerHeight);});});},onShow:()=>{runOnSinkElement(elem=>updateSinkVisibility(elem,true));},onShown:comp=>{runOnSinkElement(elem=>remove$1(elem,[visibility.transitionClass,visibility.fadeInClass]));focusedElm.get().each(elem=>{restoreFocus(comp.element,elem);focusedElm.clear();});},onHide:comp=>{findFocusedElem(comp.element,lazySink).fold(focusedElm.clear,focusedElm.set);runOnSinkElement(elem=>updateSinkVisibility(elem,false));},onHidden:()=>{runOnSinkElement(elem=>remove$1(elem,[visibility.transitionClass]));},...visibility},lazyViewport:comp=>{const optScrollingContext=detectWhenSplitUiMode(editor,comp.element);return optScrollingContext.fold(()=>{const boundsWithoutOffset=win();const offset=getStickyToolbarOffset(editor);const top=boundsWithoutOffset.y+(isDockedMode(comp,'top')?offset:0);const height=boundsWithoutOffset.height-(isDockedMode(comp,'bottom')?offset:0);return{bounds:bounds(boundsWithoutOffset.x,top,boundsWithoutOffset.width,height),optScrollEnv:Optional.none()};},sc=>{const combinedBounds=getBoundsFrom(sc);return{bounds:combinedBounds,optScrollEnv:Optional.some({currentScrollTop:sc.element.dom.scrollTop,scrollElmTop:absolute$3(sc.element).top})};});},modes:[sharedBackstage.header.getDockingMode()],onDocked:onDockingSwitch,onUndocked:onDockingSwitch}),...additionalBehaviours];};var StickyHeader=/*#__PURE__*/Object.freeze({__proto__:null,setup:setup$9,isDocked:isDocked,getBehaviours:getBehaviours});const renderHeader=spec=>{const editor=spec.editor;const getBehaviours$2=spec.sticky?getBehaviours:getBehaviours$1;return{uid:spec.uid,dom:spec.dom,components:spec.components,behaviours:derive$1(getBehaviours$2(editor,spec.sharedBackstage))};};const groupToolbarButtonSchema=objOf([type,requiredOf('items',oneOf([arrOfObj([name$1,requiredArrayOf('items',string)]),string]))].concat(baseToolbarButtonFields));const createGroupToolbarButton=spec=>asRaw('GroupToolbarButton',groupToolbarButtonSchema,spec);const baseMenuButtonFields=[optionString('text'),optionString('tooltip'),optionString('icon'),defaultedOf('search',false,oneOf([boolean,objOf([optionString('placeholder')])],x=>{if(isBoolean(x)){return x?Optional.some({placeholder:Optional.none()}):Optional.none();}else{return Optional.some(x);}})),requiredFunction('fetch'),defaultedFunction('onSetup',()=>noop)];const MenuButtonSchema=objOf([type,...baseMenuButtonFields]);const createMenuButton=spec=>asRaw('menubutton',MenuButtonSchema,spec);const splitButtonSchema=objOf([type,optionalTooltip,optionalIcon,optionalText,optionalSelect,fetch$1,onSetup,defaultedStringEnum('presets','normal',['normal','color','listpreview']),defaultedColumns(1),onAction,onItemAction]);const createSplitButton=spec=>asRaw('SplitButton',splitButtonSchema,spec);const factory$d=(detail,spec)=>{const setMenus=(comp,menus)=>{const newMenus=map$2(menus,m=>{const buttonSpec={type:'menubutton',text:m.text,fetch:callback=>{callback(m.getItems());}};const internal=createMenuButton(buttonSpec).mapError(errInfo=>formatError(errInfo)).getOrDie();return renderMenuButton(internal,'tox-mbtn',spec.backstage,Optional.some('menuitem'));});Replacing.set(comp,newMenus);};const apis={focus:Keying.focusIn,setMenus};return{uid:detail.uid,dom:detail.dom,components:[],behaviours:derive$1([Replacing.config({}),config('menubar-events',[runOnAttached(component=>{detail.onSetup(component);}),run$1(mouseover(),(comp,se)=>{descendant(comp.element,'.'+'tox-mbtn--active').each(activeButton=>{closest$1(se.event.target,'.'+'tox-mbtn').each(hoveredButton=>{if(!eq(activeButton,hoveredButton)){comp.getSystem().getByDom(activeButton).each(activeComp=>{comp.getSystem().getByDom(hoveredButton).each(hoveredComp=>{Dropdown.expand(hoveredComp);Dropdown.close(activeComp);Focusing.focus(hoveredComp);});});}});});}),run$1(focusShifted(),(comp,se)=>{se.event.prevFocus.bind(prev=>comp.getSystem().getByDom(prev).toOptional()).each(prev=>{se.event.newFocus.bind(nu=>comp.getSystem().getByDom(nu).toOptional()).each(nu=>{if(Dropdown.isOpen(prev)){Dropdown.expand(nu);Dropdown.close(prev);}});});})]),Keying.config({mode:'flow',selector:'.'+'tox-mbtn',onEscape:comp=>{detail.onEscape(comp);return Optional.some(true);}}),Tabstopping.config({})]),apis,domModification:{attributes:{role:'menubar'}}};};var SilverMenubar=single({factory:factory$d,name:'silver.Menubar',configFields:[required$1('dom'),required$1('uid'),required$1('onEscape'),required$1('backstage'),defaulted('onSetup',noop)],apis:{focus:(apis,comp)=>{apis.focus(comp);},setMenus:(apis,comp,menus)=>{apis.setMenus(comp,menus);}}});const promotionMessage='\\u26A1\\ufe0fUpgrade';const promotionLink='https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral';const renderPromotion=spec=>{return{uid:spec.uid,dom:spec.dom,components:[{dom:{tag:'a',attributes:{'href':promotionLink,'rel':'noopener','target':'_blank','aria-hidden':'true'},classes:['tox-promotion-link'],innerHtml:promotionMessage}}]};};const owner='container';const schema$d=[field('slotBehaviours',[])];const getPartName=name=>'<alloy.field.'+name+'>';const sketch=sSpec=>{const parts=(()=>{const record=[];const slot=(name,config)=>{record.push(name);return generateOne$1(owner,getPartName(name),config);};return{slot,record:constant$1(record)};})();const spec=sSpec(parts);const partNames=parts.record();const fieldParts=map$2(partNames,n=>required({name:n,pname:getPartName(n)}));return composite$1(owner,schema$d,fieldParts,make$1,spec);};const make$1=(detail,components)=>{const getSlotNames=_=>getAllPartNames(detail);const getSlot=(container,key)=>getPart(container,detail,key);const onSlot=(f,def)=>(container,key)=>getPart(container,detail,key).map(slot=>f(slot,key)).getOr(def);const onSlots=f=>(container,keys)=>{each$1(keys,key=>f(container,key));};const doShowing=(comp,_key)=>get$f(comp.element,'aria-hidden')!=='true';const doShow=(comp,key)=>{if(!doShowing(comp)){const element=comp.element;remove$6(element,'display');remove$7(element,'aria-hidden');emitWith(comp,slotVisibility(),{name:key,visible:true});}};const doHide=(comp,key)=>{if(doShowing(comp)){const element=comp.element;set$8(element,'display','none');set$9(element,'aria-hidden','true');emitWith(comp,slotVisibility(),{name:key,visible:false});}};const isShowing=onSlot(doShowing,false);const hideSlot=onSlot(doHide);const hideSlots=onSlots(hideSlot);const hideAllSlots=container=>hideSlots(container,getSlotNames());const showSlot=onSlot(doShow);const apis={getSlotNames,getSlot,isShowing,hideSlot,hideAllSlots,showSlot};return{uid:detail.uid,dom:detail.dom,components,behaviours:get$3(detail.slotBehaviours),apis};};const slotApis=map$1({getSlotNames:(apis,c)=>apis.getSlotNames(c),getSlot:(apis,c,key)=>apis.getSlot(c,key),isShowing:(apis,c,key)=>apis.isShowing(c,key),hideSlot:(apis,c,key)=>apis.hideSlot(c,key),hideAllSlots:(apis,c)=>apis.hideAllSlots(c),showSlot:(apis,c,key)=>apis.showSlot(c,key)},value=>makeApi(value));const SlotContainer={...slotApis,...{sketch}};const sidebarSchema=objOf([optionalIcon,optionalTooltip,defaultedFunction('onShow',noop),defaultedFunction('onHide',noop),onSetup]);const createSidebar=spec=>asRaw('sidebar',sidebarSchema,spec);const setup$8=editor=>{const{sidebars}=editor.ui.registry.getAll();each$1(keys(sidebars),name=>{const spec=sidebars[name];const isActive=()=>is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')),name);editor.ui.registry.addToggleButton(name,{icon:spec.icon,tooltip:spec.tooltip,onAction:buttonApi=>{editor.execCommand('ToggleSidebar',false,name);buttonApi.setActive(isActive());},onSetup:buttonApi=>{buttonApi.setActive(isActive());const handleToggle=()=>buttonApi.setActive(isActive());editor.on('ToggleSidebar',handleToggle);return()=>{editor.off('ToggleSidebar',handleToggle);};}});});};const getApi=comp=>({element:()=>comp.element.dom});const makePanels=(parts,panelConfigs)=>{const specs=map$2(keys(panelConfigs),name=>{const spec=panelConfigs[name];const bridged=getOrDie(createSidebar(spec));return{name,getApi,onSetup:bridged.onSetup,onShow:bridged.onShow,onHide:bridged.onHide};});return map$2(specs,spec=>{const editorOffCell=Cell(noop);return parts.slot(spec.name,{dom:{tag:'div',classes:['tox-sidebar__pane']},behaviours:SimpleBehaviours.unnamedEvents([onControlAttached(spec,editorOffCell),onControlDetached(spec,editorOffCell),run$1(slotVisibility(),(sidepanel,se)=>{const data=se.event;const optSidePanelSpec=find$5(specs,config=>config.name===data.name);optSidePanelSpec.each(sidePanelSpec=>{const handler=data.visible?sidePanelSpec.onShow:sidePanelSpec.onHide;handler(sidePanelSpec.getApi(sidepanel));});})])});});};const makeSidebar=panelConfigs=>SlotContainer.sketch(parts=>({dom:{tag:'div',classes:['tox-sidebar__pane-container']},components:makePanels(parts,panelConfigs),slotBehaviours:SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer=>SlotContainer.hideAllSlots(slotContainer))])}));const setSidebar=(sidebar,panelConfigs,showSidebar)=>{const optSlider=Composing.getCurrent(sidebar);optSlider.each(slider=>{Replacing.set(slider,[makeSidebar(panelConfigs)]);const configKey=showSidebar===null||showSidebar===void 0?void 0:showSidebar.toLowerCase();if(isString(configKey)&&has$2(panelConfigs,configKey)){Composing.getCurrent(slider).each(slotContainer=>{SlotContainer.showSlot(slotContainer,configKey);Sliding.immediateGrow(slider);remove$6(slider.element,'width');updateSidebarRoleOnToggle(sidebar.element,'region');});}});};const updateSidebarRoleOnToggle=(sidebar,sidebarState)=>{set$9(sidebar,'role',sidebarState);};const toggleSidebar=(sidebar,name)=>{const optSlider=Composing.getCurrent(sidebar);optSlider.each(slider=>{const optSlotContainer=Composing.getCurrent(slider);optSlotContainer.each(slotContainer=>{if(Sliding.hasGrown(slider)){if(SlotContainer.isShowing(slotContainer,name)){Sliding.shrink(slider);updateSidebarRoleOnToggle(sidebar.element,'presentation');}else{SlotContainer.hideAllSlots(slotContainer);SlotContainer.showSlot(slotContainer,name);updateSidebarRoleOnToggle(sidebar.element,'region');}}else{SlotContainer.hideAllSlots(slotContainer);SlotContainer.showSlot(slotContainer,name);Sliding.grow(slider);updateSidebarRoleOnToggle(sidebar.element,'region');}});});};const whichSidebar=sidebar=>{const optSlider=Composing.getCurrent(sidebar);return optSlider.bind(slider=>{const sidebarOpen=Sliding.isGrowing(slider)||Sliding.hasGrown(slider);if(sidebarOpen){const optSlotContainer=Composing.getCurrent(slider);return optSlotContainer.bind(slotContainer=>find$5(SlotContainer.getSlotNames(slotContainer),name=>SlotContainer.isShowing(slotContainer,name)));}else{return Optional.none();}});};const fixSize=generate$6('FixSizeEvent');const autoSize=generate$6('AutoSizeEvent');const renderSidebar=spec=>({uid:spec.uid,dom:{tag:'div',classes:['tox-sidebar'],attributes:{role:'presentation'}},components:[{dom:{tag:'div',classes:['tox-sidebar__slider']},components:[],behaviours:derive$1([Tabstopping.config({}),Focusing.config({}),Sliding.config({dimension:{property:'width'},closedClass:'tox-sidebar--sliding-closed',openClass:'tox-sidebar--sliding-open',shrinkingClass:'tox-sidebar--sliding-shrinking',growingClass:'tox-sidebar--sliding-growing',onShrunk:slider=>{const optSlotContainer=Composing.getCurrent(slider);optSlotContainer.each(SlotContainer.hideAllSlots);emit(slider,autoSize);},onGrown:slider=>{emit(slider,autoSize);},onStartGrow:slider=>{emitWith(slider,fixSize,{width:getRaw(slider.element,'width').getOr('')});},onStartShrink:slider=>{emitWith(slider,fixSize,{width:get$c(slider.element)+'px'});}}),Replacing.config({}),Composing.config({find:comp=>{const children=Replacing.contents(comp);return head(children);}})])}],behaviours:derive$1([ComposingConfigs.childAt(0),config('sidebar-sliding-events',[run$1(fixSize,(comp,se)=>{set$8(comp.element,'width',se.event.width);}),run$1(autoSize,(comp,_se)=>{remove$6(comp.element,'width');})])])});const block=(component,config,state,getBusySpec)=>{set$9(component.element,'aria-busy',true);const root=config.getRoot(component).getOr(component);const blockerBehaviours=derive$1([Keying.config({mode:'special',onTab:()=>Optional.some(true),onShiftTab:()=>Optional.some(true)}),Focusing.config({})]);const blockSpec=getBusySpec(root,blockerBehaviours);const blocker=root.getSystem().build(blockSpec);Replacing.append(root,premade(blocker));if(blocker.hasConfigured(Keying)&&config.focus){Keying.focusIn(blocker);}if(!state.isBlocked()){config.onBlock(component);}state.blockWith(()=>Replacing.remove(root,blocker));};const unblock=(component,config,state)=>{remove$7(component.element,'aria-busy');if(state.isBlocked()){config.onUnblock(component);}state.clear();};const isBlocked=(component,blockingConfig,blockingState)=>blockingState.isBlocked();var BlockingApis=/*#__PURE__*/Object.freeze({__proto__:null,block:block,unblock:unblock,isBlocked:isBlocked});var BlockingSchema=[defaultedFunction('getRoot',Optional.none),defaultedBoolean('focus',true),onHandler('onBlock'),onHandler('onUnblock')];const init$4=()=>{const blocker=destroyable();const blockWith=destroy=>{blocker.set({destroy});};return nu$8({readState:blocker.isSet,blockWith,clear:blocker.clear,isBlocked:blocker.isSet});};var BlockingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$4});const Blocking=create$4({fields:BlockingSchema,name:'blocking',apis:BlockingApis,state:BlockingState});const getBusySpec$1=providerBackstage=>(_root,_behaviours)=>({dom:{tag:'div',attributes:{'aria-label':providerBackstage.translate('Loading...'),'tabindex':'0'},classes:['tox-throbber__busy-spinner']},components:[{dom:fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')}]});const focusBusyComponent=throbber=>Composing.getCurrent(throbber).each(comp=>focus$3(comp.element,true));const toggleEditorTabIndex=(editor,state)=>{const tabIndexAttr='tabindex';const dataTabIndexAttr=`data-mce-${tabIndexAttr}`;Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe=>{if(state){getOpt(iframe,tabIndexAttr).each(tabIndex=>set$9(iframe,dataTabIndexAttr,tabIndex));set$9(iframe,tabIndexAttr,-1);}else{remove$7(iframe,tabIndexAttr);getOpt(iframe,dataTabIndexAttr).each(tabIndex=>{set$9(iframe,tabIndexAttr,tabIndex);remove$7(iframe,dataTabIndexAttr);});}});};const toggleThrobber=(editor,comp,state,providerBackstage)=>{const element=comp.element;toggleEditorTabIndex(editor,state);if(state){Blocking.block(comp,getBusySpec$1(providerBackstage));remove$6(element,'display');remove$7(element,'aria-hidden');if(editor.hasFocus()){focusBusyComponent(comp);}}else{const throbberFocus=Composing.getCurrent(comp).exists(busyComp=>hasFocus(busyComp.element));Blocking.unblock(comp);set$8(element,'display','none');set$9(element,'aria-hidden','true');if(throbberFocus){editor.focus();}}};const renderThrobber=spec=>({uid:spec.uid,dom:{tag:'div',attributes:{'aria-hidden':'true'},classes:['tox-throbber'],styles:{display:'none'}},behaviours:derive$1([Replacing.config({}),Blocking.config({focus:false}),Composing.config({find:comp=>head(comp.components())})]),components:[]});const isFocusEvent=event=>event.type==='focusin';const isPasteBinTarget=event=>{if(isFocusEvent(event)){const node=event.composed?head(event.composedPath()):Optional.from(event.target);return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm=>has(targetElm,'mce-pastebin'));}else{return false;}};const setup$7=(editor,lazyThrobber,sharedBackstage)=>{const throbberState=Cell(false);const timer=value$2();const stealFocus=e=>{if(throbberState.get()&&!isPasteBinTarget(e)){e.preventDefault();focusBusyComponent(lazyThrobber());editor.editorManager.setActive(editor);}};if(!editor.inline){editor.on('PreInit',()=>{editor.dom.bind(editor.getWin(),'focusin',stealFocus);editor.on('BeforeExecCommand',e=>{if(e.command.toLowerCase()==='mcefocus'&&e.value!==true){stealFocus(e);}});});}const toggle=state=>{if(state!==throbberState.get()){throbberState.set(state);toggleThrobber(editor,lazyThrobber(),state,sharedBackstage.providers);fireAfterProgressState(editor,state);}};editor.on('ProgressState',e=>{timer.on(clearTimeout);if(isNumber(e.time)){const timerId=global$9.setEditorTimeout(editor,()=>toggle(e.state),e.time);timer.set(timerId);}else{toggle(e.state);timer.clear();}});};const generate$1=(xs,f)=>{const init={len:0,list:[]};const r=foldl(xs,(b,a)=>{const value=f(a,b.len);return value.fold(constant$1(b),v=>({len:v.finish,list:b.list.concat([v])}));},init);return r.list;};const output=(within,extra,withinWidth)=>({within,extra,withinWidth});const apportion=(units,total,len)=>{const parray=generate$1(units,(unit,current)=>{const width=len(unit);return Optional.some({element:unit,start:current,finish:current+width,width});});const within=filter$2(parray,unit=>unit.finish<=total);const withinWidth=foldr(within,(acc,el)=>acc+el.width,0);const extra=parray.slice(within.length);return{within,extra,withinWidth};};const toUnit=parray=>map$2(parray,unit=>unit.element);const fitLast=(within,extra,withinWidth)=>{const fits=toUnit(within.concat(extra));return output(fits,[],withinWidth);};const overflow=(within,extra,overflower,withinWidth)=>{const fits=toUnit(within).concat([overflower]);return output(fits,toUnit(extra),withinWidth);};const fitAll=(within,extra,withinWidth)=>output(toUnit(within),[],withinWidth);const tryFit=(total,units,len)=>{const divide=apportion(units,total,len);return divide.extra.length===0?Optional.some(divide):Optional.none();};const partition=(total,units,len,overflower)=>{const divide=tryFit(total,units,len).getOrThunk(()=>apportion(units,total-len(overflower),len));const within=divide.within;const extra=divide.extra;const withinWidth=divide.withinWidth;if(extra.length===1&&extra[0].width<=len(overflower)){return fitLast(within,extra,withinWidth);}else if(extra.length>=1){return overflow(within,extra,overflower,withinWidth);}else{return fitAll(within,extra,withinWidth);}};const setGroups$1=(toolbar,storedGroups)=>{const bGroups=map$2(storedGroups,g=>premade(g));Toolbar.setGroups(toolbar,bGroups);};const findFocusedComp=comps=>findMap(comps,comp=>search(comp.element).bind(focusedElm=>comp.getSystem().getByDom(focusedElm).toOptional()));const refresh$2=(toolbar,detail,setOverflow)=>{const builtGroups=detail.builtGroups.get();if(builtGroups.length===0){return;}const primary=getPartOrDie(toolbar,detail,'primary');const overflowGroup=Coupling.getCoupled(toolbar,'overflowGroup');set$8(primary.element,'visibility','hidden');const groups=builtGroups.concat([overflowGroup]);const focusedComp=findFocusedComp(groups);setOverflow([]);setGroups$1(primary,groups);const availableWidth=get$c(primary.element);const overflows=partition(availableWidth,detail.builtGroups.get(),comp=>get$c(comp.element),overflowGroup);if(overflows.extra.length===0){Replacing.remove(primary,overflowGroup);setOverflow([]);}else{setGroups$1(primary,overflows.within);setOverflow(overflows.extra);}remove$6(primary.element,'visibility');reflow(primary.element);focusedComp.each(Focusing.focus);};const schema$c=constant$1([field('splitToolbarBehaviours',[Coupling]),customField('builtGroups',()=>Cell([]))]);const schema$b=constant$1([markers$1(['overflowToggledClass']),optionFunction('getOverflowBounds'),required$1('lazySink'),customField('overflowGroups',()=>Cell([])),onHandler('onOpened'),onHandler('onClosed')].concat(schema$c()));const parts$7=constant$1([required({factory:Toolbar,schema:schema$e(),name:'primary'}),external({schema:schema$e(),name:'overflow'}),external({name:'overflow-button'}),external({name:'overflow-group'})]);const expandable=constant$1((element,available)=>{setMax(element,Math.floor(available));});const schema$a=constant$1([markers$1(['toggledClass']),required$1('lazySink'),requiredFunction('fetch'),optionFunction('getBounds'),optionObjOf('fireDismissalEventInstead',[defaulted('event',dismissRequested())]),schema$y(),onHandler('onToggled')]);const parts$6=constant$1([external({name:'button',overrides:detail=>({dom:{attributes:{'aria-haspopup':'true'}},buttonBehaviours:derive$1([Toggling.config({toggleClass:detail.markers.toggledClass,aria:{mode:'expanded'},toggleOnExecute:false,onToggled:detail.onToggled})])})}),external({factory:Toolbar,schema:schema$e(),name:'toolbar',overrides:detail=>{return{toolbarBehaviours:derive$1([Keying.config({mode:'cyclic',onEscape:comp=>{getPart(comp,detail,'button').each(Focusing.focus);return Optional.none();}})])};}})]);const shouldSkipFocus=value$2();const toggleWithoutFocusing=(button,externals)=>{shouldSkipFocus.set(true);toggle(button,externals);shouldSkipFocus.clear();};const toggle=(button,externals)=>{const toolbarSandbox=Coupling.getCoupled(button,'toolbarSandbox');if(Sandboxing.isOpen(toolbarSandbox)){Sandboxing.close(toolbarSandbox);}else{Sandboxing.open(toolbarSandbox,externals.toolbar());}};const position=(button,toolbar,detail,layouts)=>{const bounds=detail.getBounds.map(bounder=>bounder());const sink=detail.lazySink(button).getOrDie();Positioning.positionWithinBounds(sink,toolbar,{anchor:{type:'hotspot',hotspot:button,layouts,overrides:{maxWidthFunction:expandable()}}},bounds);};const setGroups=(button,toolbar,detail,layouts,groups)=>{Toolbar.setGroups(toolbar,groups);position(button,toolbar,detail,layouts);Toggling.on(button);};const makeSandbox=(button,spec,detail)=>{const ariaControls=manager();const onOpen=(sandbox,toolbar)=>{const skipFocus=shouldSkipFocus.get().getOr(false);detail.fetch().get(groups=>{setGroups(button,toolbar,detail,spec.layouts,groups);ariaControls.link(button.element);if(!skipFocus){Keying.focusIn(toolbar);}});};const onClose=()=>{Toggling.off(button);if(!shouldSkipFocus.get().getOr(false)){Focusing.focus(button);}ariaControls.unlink(button.element);};return{dom:{tag:'div',attributes:{id:ariaControls.id}},behaviours:derive$1([Keying.config({mode:'special',onEscape:comp=>{Sandboxing.close(comp);return Optional.some(true);}}),Sandboxing.config({onOpen,onClose,isPartOf:(container,data,queryElem)=>{return isPartOf$1(data,queryElem)||isPartOf$1(button,queryElem);},getAttachPoint:()=>{return detail.lazySink(button).getOrDie();}}),Receiving.config({channels:{...receivingChannel$1({isExtraPart:never,...detail.fireDismissalEventInstead.map(fe=>({fireEventInstead:{event:fe.event}})).getOr({})}),...receivingChannel({doReposition:()=>{Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox')).each(toolbar=>{position(button,toolbar,detail,spec.layouts);});}})}})])};};const factory$c=(detail,components,spec,externals)=>({...Button.sketch({...externals.button(),action:button=>{toggle(button,externals);},buttonBehaviours:SketchBehaviours.augment({dump:externals.button().buttonBehaviours},[Coupling.config({others:{toolbarSandbox:button=>{return makeSandbox(button,spec,detail);}}})])}),apis:{setGroups:(button,groups)=>{Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox')).each(toolbar=>{setGroups(button,toolbar,detail,spec.layouts,groups);});},reposition:button=>{Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox')).each(toolbar=>{position(button,toolbar,detail,spec.layouts);});},toggle:button=>{toggle(button,externals);},toggleWithoutFocusing:button=>{toggleWithoutFocusing(button,externals);},getToolbar:button=>{return Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox'));},isOpen:button=>{return Sandboxing.isOpen(Coupling.getCoupled(button,'toolbarSandbox'));}}});const FloatingToolbarButton=composite({name:'FloatingToolbarButton',factory:factory$c,configFields:schema$a(),partFields:parts$6(),apis:{setGroups:(apis,button,groups)=>{apis.setGroups(button,groups);},reposition:(apis,button)=>{apis.reposition(button);},toggle:(apis,button)=>{apis.toggle(button);},toggleWithoutFocusing:(apis,button)=>{apis.toggleWithoutFocusing(button);},getToolbar:(apis,button)=>apis.getToolbar(button),isOpen:(apis,button)=>apis.isOpen(button)}});const schema$9=constant$1([required$1('items'),markers$1(['itemSelector']),field('tgroupBehaviours',[Keying])]);const parts$5=constant$1([group({name:'items',unit:'item'})]);const factory$b=(detail,components,_spec,_externals)=>({uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.tgroupBehaviours,[Keying.config({mode:'flow',selector:detail.markers.itemSelector})]),domModification:{attributes:{role:'toolbar'}}});const ToolbarGroup=composite({name:'ToolbarGroup',configFields:schema$9(),partFields:parts$5(),factory:factory$b});const buildGroups=comps=>map$2(comps,g=>premade(g));const refresh$1=(toolbar,memFloatingToolbarButton,detail)=>{refresh$2(toolbar,detail,overflowGroups=>{detail.overflowGroups.set(overflowGroups);memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton=>{FloatingToolbarButton.setGroups(floatingToolbarButton,buildGroups(overflowGroups));});});};const factory$a=(detail,components,spec,externals)=>{const memFloatingToolbarButton=record(FloatingToolbarButton.sketch({fetch:()=>Future.nu(resolve=>{resolve(buildGroups(detail.overflowGroups.get()));}),layouts:{onLtr:()=>[southwest$2,southeast$2],onRtl:()=>[southeast$2,southwest$2],onBottomLtr:()=>[northwest$2,northeast$2],onBottomRtl:()=>[northeast$2,northwest$2]},getBounds:spec.getOverflowBounds,lazySink:detail.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:detail.markers.overflowToggledClass},parts:{button:externals['overflow-button'](),toolbar:externals.overflow()},onToggled:(comp,state)=>detail[state?'onOpened':'onClosed'](comp)}));return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.splitToolbarBehaviours,[Coupling.config({others:{overflowGroup:()=>{return ToolbarGroup.sketch({...externals['overflow-group'](),items:[memFloatingToolbarButton.asSpec()]});}}})]),apis:{setGroups:(toolbar,groups)=>{detail.builtGroups.set(map$2(groups,toolbar.getSystem().build));refresh$1(toolbar,memFloatingToolbarButton,detail);},refresh:toolbar=>refresh$1(toolbar,memFloatingToolbarButton,detail),toggle:toolbar=>{memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton=>{FloatingToolbarButton.toggle(floatingToolbarButton);});},toggleWithoutFocusing:toolbar=>{memFloatingToolbarButton.getOpt(toolbar).each(FloatingToolbarButton.toggleWithoutFocusing);},isOpen:toolbar=>memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),reposition:toolbar=>{memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton=>{FloatingToolbarButton.reposition(floatingToolbarButton);});},getOverflow:toolbar=>memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)},domModification:{attributes:{role:'group'}}};};const SplitFloatingToolbar=composite({name:'SplitFloatingToolbar',configFields:schema$b(),partFields:parts$7(),factory:factory$a,apis:{setGroups:(apis,toolbar,groups)=>{apis.setGroups(toolbar,groups);},refresh:(apis,toolbar)=>{apis.refresh(toolbar);},reposition:(apis,toolbar)=>{apis.reposition(toolbar);},toggle:(apis,toolbar)=>{apis.toggle(toolbar);},toggleWithoutFocusing:(apis,toolbar)=>{apis.toggle(toolbar);},isOpen:(apis,toolbar)=>apis.isOpen(toolbar),getOverflow:(apis,toolbar)=>apis.getOverflow(toolbar)}});const schema$8=constant$1([markers$1(['closedClass','openClass','shrinkingClass','growingClass','overflowToggledClass']),onHandler('onOpened'),onHandler('onClosed')].concat(schema$c()));const parts$4=constant$1([required({factory:Toolbar,schema:schema$e(),name:'primary'}),required({factory:Toolbar,schema:schema$e(),name:'overflow',overrides:detail=>{return{toolbarBehaviours:derive$1([Sliding.config({dimension:{property:'height'},closedClass:detail.markers.closedClass,openClass:detail.markers.openClass,shrinkingClass:detail.markers.shrinkingClass,growingClass:detail.markers.growingClass,onShrunk:comp=>{getPart(comp,detail,'overflow-button').each(button=>{Toggling.off(button);Focusing.focus(button);});detail.onClosed(comp);},onGrown:comp=>{Keying.focusIn(comp);detail.onOpened(comp);},onStartGrow:comp=>{getPart(comp,detail,'overflow-button').each(Toggling.on);}}),Keying.config({mode:'acyclic',onEscape:comp=>{getPart(comp,detail,'overflow-button').each(Focusing.focus);return Optional.some(true);}})])};}}),external({name:'overflow-button',overrides:detail=>({buttonBehaviours:derive$1([Toggling.config({toggleClass:detail.markers.overflowToggledClass,aria:{mode:'pressed'},toggleOnExecute:false})])})}),external({name:'overflow-group'})]);const isOpen=(toolbar,detail)=>getPart(toolbar,detail,'overflow').map(Sliding.hasGrown).getOr(false);const toggleToolbar=(toolbar,detail)=>{getPart(toolbar,detail,'overflow-button').bind(()=>getPart(toolbar,detail,'overflow')).each(overf=>{refresh(toolbar,detail);Sliding.toggleGrow(overf);});};const refresh=(toolbar,detail)=>{getPart(toolbar,detail,'overflow').each(overflow=>{refresh$2(toolbar,detail,groups=>{const builtGroups=map$2(groups,g=>premade(g));Toolbar.setGroups(overflow,builtGroups);});getPart(toolbar,detail,'overflow-button').each(button=>{if(Sliding.hasGrown(overflow)){Toggling.on(button);}});Sliding.refresh(overflow);});};const factory$9=(detail,components,spec,externals)=>{const toolbarToggleEvent='alloy.toolbar.toggle';const doSetGroups=(toolbar,groups)=>{const built=map$2(groups,toolbar.getSystem().build);detail.builtGroups.set(built);};return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.splitToolbarBehaviours,[Coupling.config({others:{overflowGroup:toolbar=>{return ToolbarGroup.sketch({...externals['overflow-group'](),items:[Button.sketch({...externals['overflow-button'](),action:_button=>{emit(toolbar,toolbarToggleEvent);}})]});}}}),config('toolbar-toggle-events',[run$1(toolbarToggleEvent,toolbar=>{toggleToolbar(toolbar,detail);})])]),apis:{setGroups:(toolbar,groups)=>{doSetGroups(toolbar,groups);refresh(toolbar,detail);},refresh:toolbar=>refresh(toolbar,detail),toggle:toolbar=>toggleToolbar(toolbar,detail),isOpen:toolbar=>isOpen(toolbar,detail)},domModification:{attributes:{role:'group'}}};};const SplitSlidingToolbar=composite({name:'SplitSlidingToolbar',configFields:schema$8(),partFields:parts$4(),factory:factory$9,apis:{setGroups:(apis,toolbar,groups)=>{apis.setGroups(toolbar,groups);},refresh:(apis,toolbar)=>{apis.refresh(toolbar);},toggle:(apis,toolbar)=>{apis.toggle(toolbar);},isOpen:(apis,toolbar)=>apis.isOpen(toolbar)}});const renderToolbarGroupCommon=toolbarGroup=>{const attributes=toolbarGroup.title.fold(()=>({}),title=>({attributes:{title}}));return{dom:{tag:'div',classes:['tox-toolbar__group'],...attributes},components:[ToolbarGroup.parts.items({})],items:toolbarGroup.items,markers:{itemSelector:'*:not(.tox-split-button) > .tox-tbtn:not([disabled]), '+'.tox-split-button:not([disabled]), '+'.tox-toolbar-nav-js:not([disabled]), '+'.tox-number-input:not([disabled])'},tgroupBehaviours:derive$1([Tabstopping.config({}),Focusing.config({})])};};const renderToolbarGroup=toolbarGroup=>ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));const getToolbarBehaviours=(toolbarSpec,modeName)=>{const onAttached=runOnAttached(component=>{const groups=map$2(toolbarSpec.initGroups,renderToolbarGroup);Toolbar.setGroups(component,groups);});return derive$1([DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),receivingConfig(),Keying.config({mode:modeName,onEscape:toolbarSpec.onEscape,selector:'.tox-toolbar__group'}),config('toolbar-events',[onAttached])]);};const renderMoreToolbarCommon=toolbarSpec=>{const modeName=toolbarSpec.cyclicKeying?'cyclic':'acyclic';return{uid:toolbarSpec.uid,dom:{tag:'div',classes:['tox-toolbar-overlord']},parts:{'overflow-group':renderToolbarGroupCommon({title:Optional.none(),items:[]}),'overflow-button':renderIconButtonSpec({name:'more',icon:Optional.some('more-drawer'),enabled:true,tooltip:Optional.some('Reveal or hide additional toolbar items'),primary:false,buttonType:Optional.none(),borderless:false},Optional.none(),toolbarSpec.providers)},splitToolbarBehaviours:getToolbarBehaviours(toolbarSpec,modeName)};};const renderFloatingMoreToolbar=toolbarSpec=>{const baseSpec=renderMoreToolbarCommon(toolbarSpec);const overflowXOffset=4;const primary=SplitFloatingToolbar.parts.primary({dom:{tag:'div',classes:['tox-toolbar__primary']}});return SplitFloatingToolbar.sketch({...baseSpec,lazySink:toolbarSpec.getSink,getOverflowBounds:()=>{const headerElem=toolbarSpec.moreDrawerData.lazyHeader().element;const headerBounds=absolute$2(headerElem);const docElem=documentElement(headerElem);const docBounds=absolute$2(docElem);const height=Math.max(docElem.dom.scrollHeight,docBounds.height);return bounds(headerBounds.x+overflowXOffset,docBounds.y,headerBounds.width-overflowXOffset*2,height);},parts:{...baseSpec.parts,overflow:{dom:{tag:'div',classes:['tox-toolbar__overflow'],attributes:toolbarSpec.attributes}}},components:[primary],markers:{overflowToggledClass:'tox-tbtn--enabled'},onOpened:comp=>toolbarSpec.onToggled(comp,true),onClosed:comp=>toolbarSpec.onToggled(comp,false)});};const renderSlidingMoreToolbar=toolbarSpec=>{const primary=SplitSlidingToolbar.parts.primary({dom:{tag:'div',classes:['tox-toolbar__primary']}});const overflow=SplitSlidingToolbar.parts.overflow({dom:{tag:'div',classes:['tox-toolbar__overflow']}});const baseSpec=renderMoreToolbarCommon(toolbarSpec);return SplitSlidingToolbar.sketch({...baseSpec,components:[primary,overflow],markers:{openClass:'tox-toolbar__overflow--open',closedClass:'tox-toolbar__overflow--closed',growingClass:'tox-toolbar__overflow--growing',shrinkingClass:'tox-toolbar__overflow--shrinking',overflowToggledClass:'tox-tbtn--enabled'},onOpened:comp=>{comp.getSystem().broadcastOn([toolbarHeightChange()],{type:'opened'});toolbarSpec.onToggled(comp,true);},onClosed:comp=>{comp.getSystem().broadcastOn([toolbarHeightChange()],{type:'closed'});toolbarSpec.onToggled(comp,false);}});};const renderToolbar=toolbarSpec=>{const modeName=toolbarSpec.cyclicKeying?'cyclic':'acyclic';return Toolbar.sketch({uid:toolbarSpec.uid,dom:{tag:'div',classes:['tox-toolbar'].concat(toolbarSpec.type===ToolbarMode$1.scrolling?['tox-toolbar--scrolling']:[])},components:[Toolbar.parts.groups({})],toolbarBehaviours:getToolbarBehaviours(toolbarSpec,modeName)});};const baseButtonFields=[optionalText,optionalIcon,optionString('tooltip'),defaultedStringEnum('buttonType','secondary',['primary','secondary']),defaultedBoolean('borderless',false),requiredFunction('onAction')];const normalButtonFields=[...baseButtonFields,text,requiredStringEnum('type',['button'])];const toggleButtonFields=[...baseButtonFields,defaultedBoolean('active',false),requiredStringEnum('type',['togglebutton'])];const schemaWithoutGroupButton={button:normalButtonFields,togglebutton:toggleButtonFields};const groupFields=[requiredStringEnum('type',['group']),defaultedArrayOf('buttons',[],choose$1('type',schemaWithoutGroupButton))];const viewButtonSchema=choose$1('type',{...schemaWithoutGroupButton,group:groupFields});const viewSchema=objOf([defaultedArrayOf('buttons',[],viewButtonSchema),requiredFunction('onShow'),requiredFunction('onHide')]);const createView=spec=>asRaw('view',viewSchema,spec);const renderButton=(spec,providers)=>{var _a,_b;const isToggleButton=spec.type==='togglebutton';const optMemIcon=spec.icon.map(memIcon=>renderReplaceableIconFromPack(memIcon,providers.icons)).map(record);const getAction=()=>comp=>{const setIcon=newIcon=>{optMemIcon.map(memIcon=>memIcon.getOpt(comp).each(displayIcon=>{Replacing.set(displayIcon,[renderReplaceableIconFromPack(newIcon,providers.icons)]);}));};const setActive=state=>{const elm=comp.element;if(state){add$2(elm,'tox-button--enabled');set$9(elm,'aria-pressed',true);}else{remove$2(elm,'tox-button--enabled');remove$7(elm,'aria-pressed');}};const isActive=()=>has(comp.element,'tox-button--enabled');if(isToggleButton){return spec.onAction({setIcon,setActive,isActive});}if(spec.type==='button'){return spec.onAction({setIcon});}};const action=getAction();const buttonSpec={...spec,name:isToggleButton?spec.text.getOr(spec.icon.getOr('')):(_a=spec.text)!==null&&_a!==void 0?_a:spec.icon.getOr(''),primary:spec.buttonType==='primary',buttonType:Optional.from(spec.buttonType),tooltip:spec.tooltip,icon:spec.icon,enabled:true,borderless:spec.borderless};const buttonTypeClasses=calculateClassesFromButtonType((_b=spec.buttonType)!==null&&_b!==void 0?_b:'secondary');const optTranslatedText=isToggleButton?spec.text.map(providers.translate):Optional.some(providers.translate(spec.text));const optTranslatedTextComponed=optTranslatedText.map(text$2);const tooltipAttributes=buttonSpec.tooltip.or(optTranslatedText).map(tooltip=>({'aria-label':providers.translate(tooltip),'title':providers.translate(tooltip)})).getOr({});const optIconSpec=optMemIcon.map(memIcon=>memIcon.asSpec());const components=componentRenderPipeline([optIconSpec,optTranslatedTextComponed]);const hasIconAndText=spec.icon.isSome()&&optTranslatedTextComponed.isSome();const dom={tag:'button',classes:buttonTypeClasses.concat(...(spec.icon.isSome()&&!hasIconAndText?['tox-button--icon']:[])).concat(...(hasIconAndText?['tox-button--icon-and-text']:[])).concat(...(spec.borderless?['tox-button--naked']:[])).concat(...(spec.type==='togglebutton'&&spec.active?['tox-button--enabled']:[])),attributes:tooltipAttributes};const extraBehaviours=[];const iconButtonSpec=renderCommonSpec(buttonSpec,Optional.some(action),extraBehaviours,dom,components,providers);return Button.sketch(iconButtonSpec);};const renderViewButton=(spec,providers)=>renderButton(spec,providers);const renderButtonsGroup=(spec,providers)=>{return{dom:{tag:'div',classes:['tox-view__toolbar__group']},components:map$2(spec.buttons,button=>renderViewButton(button,providers))};};const deviceDetection=detect$2().deviceType;const isPhone=deviceDetection.isPhone();const isTablet=deviceDetection.isTablet();const renderViewHeader=spec=>{let hasGroups=false;const endButtons=map$2(spec.buttons,btnspec=>{if(btnspec.type==='group'){hasGroups=true;return renderButtonsGroup(btnspec,spec.providers);}else{return renderViewButton(btnspec,spec.providers);}});return{uid:spec.uid,dom:{tag:'div',classes:[!hasGroups?'tox-view__header':'tox-view__toolbar',...(isPhone||isTablet?['tox-view--mobile','tox-view--scrolling']:[])]},behaviours:derive$1([Focusing.config({}),Keying.config({mode:'flow',selector:'button, .tox-button',focusInside:FocusInsideModes.OnEnterOrSpaceMode})]),components:hasGroups?endButtons:[Container.sketch({dom:{tag:'div',classes:['tox-view__header-start']},components:[]}),Container.sketch({dom:{tag:'div',classes:['tox-view__header-end']},components:endButtons})]};};const renderViewPane=spec=>{return{uid:spec.uid,dom:{tag:'div',classes:['tox-view__pane']}};};const factory$8=(detail,components,_spec,_externals)=>{const apis={getPane:comp=>parts$a.getPart(comp,detail,'pane'),getOnShow:_comp=>detail.viewConfig.onShow,getOnHide:_comp=>detail.viewConfig.onHide};return{uid:detail.uid,dom:detail.dom,components,apis};};var View=composite({name:'silver.View',configFields:[required$1('viewConfig')],partFields:[optional({factory:{sketch:renderViewHeader},schema:[required$1('buttons'),required$1('providers')],name:'header'}),optional({factory:{sketch:renderViewPane},schema:[],name:'pane'})],factory:factory$8,apis:{getPane:(apis,comp)=>apis.getPane(comp),getOnShow:(apis,comp)=>apis.getOnShow(comp),getOnHide:(apis,comp)=>apis.getOnHide(comp)}});const makeViews=(parts,viewConfigs,providers)=>{return mapToArray(viewConfigs,(config,name)=>{const internalViewConfig=getOrDie(createView(config));return parts.slot(name,View.sketch({dom:{tag:'div',classes:['tox-view']},viewConfig:internalViewConfig,components:[...(internalViewConfig.buttons.length>0?[View.parts.header({buttons:internalViewConfig.buttons,providers})]:[]),View.parts.pane({})]}));});};const makeSlotContainer=(viewConfigs,providers)=>SlotContainer.sketch(parts=>({dom:{tag:'div',classes:['tox-view-wrap__slot-container']},components:makeViews(parts,viewConfigs,providers),slotBehaviours:SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer=>SlotContainer.hideAllSlots(slotContainer))])}));const getCurrentName=slotContainer=>{return find$5(SlotContainer.getSlotNames(slotContainer),name=>SlotContainer.isShowing(slotContainer,name));};const hideContainer=comp=>{const element=comp.element;set$8(element,'display','none');set$9(element,'aria-hidden','true');};const showContainer=comp=>{const element=comp.element;remove$6(element,'display');remove$7(element,'aria-hidden');};const makeViewInstanceApi=slot=>({getContainer:constant$1(slot)});const runOnPaneWithInstanceApi=(slotContainer,name,get)=>{SlotContainer.getSlot(slotContainer,name).each(view=>{View.getPane(view).each(pane=>{const onCallback=get(view);onCallback(makeViewInstanceApi(pane.element.dom));});});};const runOnShow=(slotContainer,name)=>runOnPaneWithInstanceApi(slotContainer,name,View.getOnShow);const runOnHide=(slotContainer,name)=>runOnPaneWithInstanceApi(slotContainer,name,View.getOnHide);const factory$7=(detail,spec)=>{const setViews=(comp,viewConfigs)=>{Replacing.set(comp,[makeSlotContainer(viewConfigs,spec.backstage.shared.providers)]);};const whichView=comp=>{return Composing.getCurrent(comp).bind(getCurrentName);};const toggleView=(comp,showMainView,hideMainView,name)=>{return Composing.getCurrent(comp).exists(slotContainer=>{const optCurrentSlotName=getCurrentName(slotContainer);const isTogglingCurrentView=optCurrentSlotName.exists(current=>name===current);const exists=SlotContainer.getSlot(slotContainer,name).isSome();if(exists){SlotContainer.hideAllSlots(slotContainer);if(!isTogglingCurrentView){hideMainView();showContainer(comp);SlotContainer.showSlot(slotContainer,name);runOnShow(slotContainer,name);}else{hideContainer(comp);showMainView();}optCurrentSlotName.each(prevName=>runOnHide(slotContainer,prevName));}return exists;});};const apis={setViews,whichView,toggleView};return{uid:detail.uid,dom:{tag:'div',classes:['tox-view-wrap'],attributes:{'aria-hidden':'true'},styles:{display:'none'}},components:[],behaviours:derive$1([Replacing.config({}),Composing.config({find:comp=>{const children=Replacing.contents(comp);return head(children);}})]),apis};};var ViewWrapper=single({factory:factory$7,name:'silver.ViewWrapper',configFields:[required$1('backstage')],apis:{setViews:(apis,comp,views)=>apis.setViews(comp,views),toggleView:(apis,comp,outerContainer,editorCont,name)=>apis.toggleView(comp,outerContainer,editorCont,name),whichView:(apis,comp)=>apis.whichView(comp)}});const factory$6=(detail,components,_spec)=>{let toolbarDrawerOpenState=false;const apis={getSocket:comp=>{return parts$a.getPart(comp,detail,'socket');},setSidebar:(comp,panelConfigs,showSidebar)=>{parts$a.getPart(comp,detail,'sidebar').each(sidebar=>setSidebar(sidebar,panelConfigs,showSidebar));},toggleSidebar:(comp,name)=>{parts$a.getPart(comp,detail,'sidebar').each(sidebar=>toggleSidebar(sidebar,name));},whichSidebar:comp=>{return parts$a.getPart(comp,detail,'sidebar').bind(whichSidebar).getOrNull();},getHeader:comp=>{return parts$a.getPart(comp,detail,'header');},getToolbar:comp=>{return parts$a.getPart(comp,detail,'toolbar');},setToolbar:(comp,groups)=>{parts$a.getPart(comp,detail,'toolbar').each(toolbar=>{const renderedGroups=map$2(groups,renderToolbarGroup);toolbar.getApis().setGroups(toolbar,renderedGroups);});},setToolbars:(comp,toolbars)=>{parts$a.getPart(comp,detail,'multiple-toolbar').each(mToolbar=>{const renderedToolbars=map$2(toolbars,g=>map$2(g,renderToolbarGroup));CustomList.setItems(mToolbar,renderedToolbars);});},refreshToolbar:comp=>{const toolbar=parts$a.getPart(comp,detail,'toolbar');toolbar.each(toolbar=>toolbar.getApis().refresh(toolbar));},toggleToolbarDrawer:comp=>{parts$a.getPart(comp,detail,'toolbar').each(toolbar=>{mapFrom(toolbar.getApis().toggle,toggle=>toggle(toolbar));});},toggleToolbarDrawerWithoutFocusing:comp=>{parts$a.getPart(comp,detail,'toolbar').each(toolbar=>{mapFrom(toolbar.getApis().toggleWithoutFocusing,toggleWithoutFocusing=>toggleWithoutFocusing(toolbar));});},isToolbarDrawerToggled:comp=>{return parts$a.getPart(comp,detail,'toolbar').bind(toolbar=>Optional.from(toolbar.getApis().isOpen).map(isOpen=>isOpen(toolbar))).getOr(false);},getThrobber:comp=>{return parts$a.getPart(comp,detail,'throbber');},focusToolbar:comp=>{const optToolbar=parts$a.getPart(comp,detail,'toolbar').orThunk(()=>parts$a.getPart(comp,detail,'multiple-toolbar'));optToolbar.each(toolbar=>{Keying.focusIn(toolbar);});},setMenubar:(comp,menus)=>{parts$a.getPart(comp,detail,'menubar').each(menubar=>{SilverMenubar.setMenus(menubar,menus);});},focusMenubar:comp=>{parts$a.getPart(comp,detail,'menubar').each(menubar=>{SilverMenubar.focus(menubar);});},setViews:(comp,viewConfigs)=>{parts$a.getPart(comp,detail,'viewWrapper').each(wrapper=>{ViewWrapper.setViews(wrapper,viewConfigs);});},toggleView:(comp,name)=>{return parts$a.getPart(comp,detail,'viewWrapper').exists(wrapper=>ViewWrapper.toggleView(wrapper,()=>apis.showMainView(comp),()=>apis.hideMainView(comp),name));},whichView:comp=>{return parts$a.getPart(comp,detail,'viewWrapper').bind(ViewWrapper.whichView).getOrNull();},hideMainView:comp=>{toolbarDrawerOpenState=apis.isToolbarDrawerToggled(comp);if(toolbarDrawerOpenState){apis.toggleToolbarDrawer(comp);}parts$a.getPart(comp,detail,'editorContainer').each(editorContainer=>{const element=editorContainer.element;set$8(element,'display','none');set$9(element,'aria-hidden','true');});},showMainView:comp=>{if(toolbarDrawerOpenState){apis.toggleToolbarDrawer(comp);}parts$a.getPart(comp,detail,'editorContainer').each(editorContainer=>{const element=editorContainer.element;remove$6(element,'display');remove$7(element,'aria-hidden');});}};return{uid:detail.uid,dom:detail.dom,components,apis,behaviours:detail.behaviours};};const partMenubar=partType.optional({factory:SilverMenubar,name:'menubar',schema:[required$1('backstage')]});const toolbarFactory=spec=>{if(spec.type===ToolbarMode$1.sliding){return renderSlidingMoreToolbar;}else if(spec.type===ToolbarMode$1.floating){return renderFloatingMoreToolbar;}else{return renderToolbar;}};const partMultipleToolbar=partType.optional({factory:{sketch:spec=>CustomList.sketch({uid:spec.uid,dom:spec.dom,listBehaviours:derive$1([Keying.config({mode:'acyclic',selector:'.tox-toolbar'})]),makeItem:()=>renderToolbar({type:spec.type,uid:generate$6('multiple-toolbar-item'),cyclicKeying:false,initGroups:[],providers:spec.providers,onEscape:()=>{spec.onEscape();return Optional.some(true);}}),setupItem:(_mToolbar,tc,data,_index)=>{Toolbar.setGroups(tc,data);},shell:true})},name:'multiple-toolbar',schema:[required$1('dom'),required$1('onEscape')]});const partToolbar=partType.optional({factory:{sketch:spec=>{const renderer=toolbarFactory(spec);const toolbarSpec={type:spec.type,uid:spec.uid,onEscape:()=>{spec.onEscape();return Optional.some(true);},onToggled:(_comp,state)=>spec.onToolbarToggled(state),cyclicKeying:false,initGroups:[],getSink:spec.getSink,providers:spec.providers,moreDrawerData:{lazyToolbar:spec.lazyToolbar,lazyMoreButton:spec.lazyMoreButton,lazyHeader:spec.lazyHeader},attributes:spec.attributes};return renderer(toolbarSpec);}},name:'toolbar',schema:[required$1('dom'),required$1('onEscape'),required$1('getSink')]});const partHeader=partType.optional({factory:{sketch:renderHeader},name:'header',schema:[required$1('dom')]});const partPromotion=partType.optional({factory:{sketch:renderPromotion},name:'promotion',schema:[required$1('dom')]});const partSocket=partType.optional({name:'socket',schema:[required$1('dom')]});const partSidebar=partType.optional({factory:{sketch:renderSidebar},name:'sidebar',schema:[required$1('dom')]});const partThrobber=partType.optional({factory:{sketch:renderThrobber},name:'throbber',schema:[required$1('dom')]});const partViewWrapper=partType.optional({factory:ViewWrapper,name:'viewWrapper',schema:[required$1('backstage')]});const renderEditorContainer=spec=>({uid:spec.uid,dom:{tag:'div',classes:['tox-editor-container']},components:spec.components});const partEditorContainer=partType.optional({factory:{sketch:renderEditorContainer},name:'editorContainer',schema:[]});var OuterContainer=composite({name:'OuterContainer',factory:factory$6,configFields:[required$1('dom'),required$1('behaviours')],partFields:[partHeader,partMenubar,partToolbar,partMultipleToolbar,partSocket,partSidebar,partPromotion,partThrobber,partViewWrapper,partEditorContainer],apis:{getSocket:(apis,comp)=>{return apis.getSocket(comp);},setSidebar:(apis,comp,panelConfigs,showSidebar)=>{apis.setSidebar(comp,panelConfigs,showSidebar);},toggleSidebar:(apis,comp,name)=>{apis.toggleSidebar(comp,name);},whichSidebar:(apis,comp)=>{return apis.whichSidebar(comp);},getHeader:(apis,comp)=>{return apis.getHeader(comp);},getToolbar:(apis,comp)=>{return apis.getToolbar(comp);},setToolbar:(apis,comp,groups)=>{apis.setToolbar(comp,groups);},setToolbars:(apis,comp,toolbars)=>{apis.setToolbars(comp,toolbars);},refreshToolbar:(apis,comp)=>{return apis.refreshToolbar(comp);},toggleToolbarDrawer:(apis,comp)=>{apis.toggleToolbarDrawer(comp);},toggleToolbarDrawerWithoutFocusing:(apis,comp)=>{apis.toggleToolbarDrawerWithoutFocusing(comp);},isToolbarDrawerToggled:(apis,comp)=>{return apis.isToolbarDrawerToggled(comp);},getThrobber:(apis,comp)=>{return apis.getThrobber(comp);},setMenubar:(apis,comp,menus)=>{apis.setMenubar(comp,menus);},focusMenubar:(apis,comp)=>{apis.focusMenubar(comp);},focusToolbar:(apis,comp)=>{apis.focusToolbar(comp);},setViews:(apis,comp,views)=>{apis.setViews(comp,views);},toggleView:(apis,comp,name)=>{return apis.toggleView(comp,name);},whichView:(apis,comp)=>{return apis.whichView(comp);}}});const defaultMenubar='file edit view insert format tools table help';const defaultMenus={file:{title:'File',items:'newdocument restoredraft | preview | export print | deleteallconversations'},edit:{title:'Edit',items:'undo redo | cut copy paste pastetext | selectall | searchreplace'},view:{title:'View',items:'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'},insert:{title:'Insert',items:'image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'},format:{title:'Format',items:'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'},tools:{title:'Tools',items:'aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate'},table:{title:'Table',items:'inserttable | cell row column | advtablesort | tableprops deletetable'},help:{title:'Help',items:'help'}};const make=(menu,registry,editor)=>{const removedMenuItems=getRemovedMenuItems(editor).split(/[ ,]/);return{text:menu.title,getItems:()=>bind$3(menu.items,i=>{const itemName=i.toLowerCase();if(itemName.trim().length===0){return[];}else if(exists(removedMenuItems,removedMenuItem=>removedMenuItem===itemName)){return[];}else if(itemName==='separator'||itemName==='|'){return[{type:'separator'}];}else if(registry.menuItems[itemName]){return[registry.menuItems[itemName]];}else{return[];}})};};const parseItemsString=items=>{return items.split(' ');};const identifyMenus=(editor,registry)=>{const rawMenuData={...defaultMenus,...registry.menus};const userDefinedMenus=keys(registry.menus).length>0;const menubar=registry.menubar===undefined||registry.menubar===true?parseItemsString(defaultMenubar):parseItemsString(registry.menubar===false?'':registry.menubar);const validMenus=filter$2(menubar,menuName=>{const isDefaultMenu=has$2(defaultMenus,menuName);if(userDefinedMenus){return isDefaultMenu||get$g(registry.menus,menuName).exists(menu=>has$2(menu,'items'));}else{return isDefaultMenu;}});const menus=map$2(validMenus,menuName=>{const menuData=rawMenuData[menuName];return make({title:menuData.title,items:parseItemsString(menuData.items)},registry,editor);});return filter$2(menus,menu=>{const isNotSeparator=item=>isString(item)||item.type!=='separator';return menu.getItems().length>0&&exists(menu.getItems(),isNotSeparator);});};const fireSkinLoaded=editor=>{const done=()=>{editor._skinLoaded=true;fireSkinLoaded$1(editor);};return()=>{if(editor.initialized){done();}else{editor.on('init',done);}};};const fireSkinLoadError=(editor,err)=>()=>fireSkinLoadError$1(editor,{message:err});const loadStylesheet=(editor,stylesheetUrl,styleSheetLoader)=>{editor.on('remove',()=>styleSheetLoader.unload(stylesheetUrl));return styleSheetLoader.load(stylesheetUrl);};const loadRawCss=(editor,key,css,styleSheetLoader)=>{editor.on('remove',()=>styleSheetLoader.unloadRawCss(key));return styleSheetLoader.loadRawCss(key,css);};const loadUiSkins=async(editor,skinUrl)=>{const skinResourceIdentifier=getSkinUrlOption(editor).getOr('default');const skinUiCss='ui/'+skinResourceIdentifier+'/skin.css';const css=tinymce.Resource.get(skinUiCss);if(isString(css)){return Promise.resolve(loadRawCss(editor,skinUiCss,css,editor.ui.styleSheetLoader));}else{const skinUiCss=skinUrl+'/skin.min.css';return loadStylesheet(editor,skinUiCss,editor.ui.styleSheetLoader);}};const loadShadowDomUiSkins=async(editor,skinUrl)=>{const isInShadowRoot$1=isInShadowRoot(SugarElement.fromDom(editor.getElement()));if(isInShadowRoot$1){const skinResourceIdentifier=getSkinUrlOption(editor).getOr('default');const shadowDomSkinCss='ui/'+skinResourceIdentifier+'/skin.shadowdom.css';const css=tinymce.Resource.get(shadowDomSkinCss);if(isString(css)){loadRawCss(editor,shadowDomSkinCss,css,global$7.DOM.styleSheetLoader);return Promise.resolve();}else{const shadowDomSkinCss=skinUrl+'/skin.shadowdom.min.css';return loadStylesheet(editor,shadowDomSkinCss,global$7.DOM.styleSheetLoader);}}};const loadUrlSkin=async(isInline,editor)=>{getSkinUrlOption(editor).fold(()=>{const skinResourceIdentifier=getSkinUrl(editor);if(skinResourceIdentifier){editor.contentCSS.push(skinResourceIdentifier+(isInline?'/content.inline':'/content')+'.min.css');}},skinUrl=>{const skinContentCss='ui/'+skinUrl+(isInline?'/content.inline':'/content')+'.css';const css=tinymce.Resource.get(skinContentCss);if(isString(css)){loadRawCss(editor,skinContentCss,css,editor.ui.styleSheetLoader);}else{const skinResourceIdentifier=getSkinUrl(editor);if(skinResourceIdentifier){editor.contentCSS.push(skinResourceIdentifier+(isInline?'/content.inline':'/content')+'.min.css');}}});const skinUrl=getSkinUrl(editor);if(!isSkinDisabled(editor)&&isString(skinUrl)){return Promise.all([loadUiSkins(editor,skinUrl),loadShadowDomUiSkins(editor,skinUrl)]).then();}};const loadSkin=(isInline,editor)=>{return loadUrlSkin(isInline,editor).then(fireSkinLoaded(editor),fireSkinLoadError(editor,'Skin could not be loaded'));};const iframe=curry(loadSkin,false);const inline=curry(loadSkin,true);const makeTooltipText=(editor,labelWithPlaceholder,value)=>editor.translate([labelWithPlaceholder,editor.translate(value)]);const generateSelectItems=(backstage,spec)=>{const generateItem=(rawItem,response,invalid,value)=>{const translatedText=backstage.shared.providers.translate(rawItem.title);if(rawItem.type==='separator'){return Optional.some({type:'separator',text:translatedText});}else if(rawItem.type==='submenu'){const items=bind$3(rawItem.getStyleItems(),si=>validate(si,response,value));if(response===0&&items.length<=0){return Optional.none();}else{return Optional.some({type:'nestedmenuitem',text:translatedText,enabled:items.length>0,getSubmenuItems:()=>bind$3(rawItem.getStyleItems(),si=>validate(si,response,value))});}}else{return Optional.some({type:'togglemenuitem',text:translatedText,icon:rawItem.icon,active:rawItem.isSelected(value),enabled:!invalid,onAction:spec.onAction(rawItem),...rawItem.getStylePreview().fold(()=>({}),preview=>({meta:{style:preview}}))});}};const validate=(item,response,value)=>{const invalid=item.type==='formatter'&&spec.isInvalid(item);if(response===0){return invalid?[]:generateItem(item,response,false,value).toArray();}else{return generateItem(item,response,invalid,value).toArray();}};const validateItems=preItems=>{const value=spec.getCurrentValue();const response=spec.shouldHide?0:1;return bind$3(preItems,item=>validate(item,response,value));};const getFetch=(backstage,getStyleItems)=>(comp,callback)=>{const preItems=getStyleItems();const items=validateItems(preItems);const menu=build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:Optional.none()});callback(menu);};return{validateItems,getFetch};};const createMenuItems=(editor,backstage,spec)=>{const dataset=spec.dataset;const getStyleItems=dataset.type==='basic'?()=>map$2(dataset.data,d=>processBasic(d,spec.isSelectedFor,spec.getPreviewFor)):dataset.getData;return{items:generateSelectItems(backstage,spec),getStyleItems};};const createSelectButton=(editor,backstage,spec,tooltipWithPlaceholder,textUpdateEventName)=>{const{items,getStyleItems}=createMenuItems(editor,backstage,spec);const getApi=comp=>({getComponent:constant$1(comp),setTooltip:tooltip=>{const translatedTooltip=backstage.shared.providers.translate(tooltip);setAll$1(comp.element,{'aria-label':translatedTooltip,'title':translatedTooltip});}});const onSetup=api=>{const handler=e=>api.setTooltip(makeTooltipText(editor,tooltipWithPlaceholder,e.value));editor.on(textUpdateEventName,handler);return composeUnbinders(onSetupEvent(editor,'NodeChange',api=>{const comp=api.getComponent();spec.updateText(comp);Disabling.set(api.getComponent(),!editor.selection.isEditable());})(api),()=>editor.off(textUpdateEventName,handler));};return renderCommonDropdown({text:spec.icon.isSome()?Optional.none():spec.text,icon:spec.icon,tooltip:Optional.from(spec.tooltip),role:Optional.none(),fetch:items.getFetch(backstage,getStyleItems),onSetup,getApi,columns:1,presets:'normal',classes:spec.icon.isSome()?[]:['bespoke'],dropdownBehaviours:[]},'tox-tbtn',backstage.shared);};const process=rawFormats=>map$2(rawFormats,item=>{let title=item,format=item;const values=item.split('=');if(values.length>1){title=values[0];format=values[1];}return{title,format};});const buildBasicStaticDataset=data=>({type:'basic',data});var Delimiter;(function(Delimiter){Delimiter[Delimiter['SemiColon']=0]='SemiColon';Delimiter[Delimiter['Space']=1]='Space';})(Delimiter||(Delimiter={}));const split=(rawFormats,delimiter)=>{if(delimiter===Delimiter.SemiColon){return rawFormats.replace(/;$/,'').split(';');}else{return rawFormats.split(' ');}};const buildBasicSettingsDataset=(editor,settingName,delimiter)=>{const rawFormats=editor.options.get(settingName);const data=process(split(rawFormats,delimiter));return{type:'basic',data};};const menuTitle$4='Align';const btnTooltip$4='Alignment {0}';const fallbackAlignment='left';const alignMenuItems=[{title:'Left',icon:'align-left',format:'alignleft',command:'JustifyLeft'},{title:'Center',icon:'align-center',format:'aligncenter',command:'JustifyCenter'},{title:'Right',icon:'align-right',format:'alignright',command:'JustifyRight'},{title:'Justify',icon:'align-justify',format:'alignjustify',command:'JustifyFull'}];const getSpec$4=editor=>{const getMatchingValue=()=>find$5(alignMenuItems,item=>editor.formatter.match(item.format));const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=_format=>Optional.none;const updateSelectMenuIcon=comp=>{const match=getMatchingValue();const alignment=match.fold(constant$1(fallbackAlignment),item=>item.title.toLowerCase());emitWith(comp,updateMenuIcon,{icon:`align-${alignment}`});fireAlignTextUpdate(editor,{value:alignment});};const dataset=buildBasicStaticDataset(alignMenuItems);const onAction=rawItem=>()=>find$5(alignMenuItems,item=>item.format===rawItem.format).each(item=>editor.execCommand(item.command));return{tooltip:makeTooltipText(editor,btnTooltip$4,fallbackAlignment),text:Optional.none(),icon:Optional.some('align-left'),isSelectedFor,getCurrentValue:Optional.none,getPreviewFor,onAction,updateText:updateSelectMenuIcon,dataset,shouldHide:false,isInvalid:item=>!editor.formatter.canApply(item.format)};};const createAlignButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$4(editor),btnTooltip$4,'AlignTextUpdate');const createAlignMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$4(editor));editor.ui.registry.addNestedMenuItem('align',{text:backstage.shared.providers.translate(menuTitle$4),onSetup:onSetupEditableToggle(editor),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const findNearest=(editor,getStyles)=>{const styles=getStyles();const formats=map$2(styles,style=>style.format);return Optional.from(editor.formatter.closest(formats)).bind(fmt=>find$5(styles,data=>data.format===fmt)).orThunk(()=>someIf(editor.formatter.match('p'),{title:'Paragraph',format:'p'}));};const menuTitle$3='Blocks';const btnTooltip$3='Block {0}';const fallbackFormat='Paragraph';const getSpec$3=editor=>{const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=format=>()=>{const fmt=editor.formatter.get(format);if(fmt){return Optional.some({tag:fmt.length>0?fmt[0].inline||fmt[0].block||'div':'div',styles:editor.dom.parseStyle(editor.formatter.getCssText(format))});}else{return Optional.none();}};const updateSelectMenuText=comp=>{const detectedFormat=findNearest(editor,()=>dataset.data);const text=detectedFormat.fold(constant$1(fallbackFormat),fmt=>fmt.title);emitWith(comp,updateMenuText,{text});fireBlocksTextUpdate(editor,{value:text});};const dataset=buildBasicSettingsDataset(editor,'block_formats',Delimiter.SemiColon);return{tooltip:makeTooltipText(editor,btnTooltip$3,fallbackFormat),text:Optional.some(fallbackFormat),icon:Optional.none(),isSelectedFor,getCurrentValue:Optional.none,getPreviewFor,onAction:onActionToggleFormat$1(editor),updateText:updateSelectMenuText,dataset,shouldHide:false,isInvalid:item=>!editor.formatter.canApply(item.format)};};const createBlocksButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$3(editor),btnTooltip$3,'BlocksTextUpdate');const createBlocksMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$3(editor));editor.ui.registry.addNestedMenuItem('blocks',{text:menuTitle$3,onSetup:onSetupEditableToggle(editor),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const menuTitle$2='Fonts';const btnTooltip$2='Font {0}';const systemFont='System Font';const systemStackFonts=['-apple-system','Segoe UI','Roboto','Helvetica Neue','sans-serif'];const splitFonts=fontFamily=>{const fonts=fontFamily.split(/\\s*,\\s*/);return map$2(fonts,font=>font.replace(/^['\"]+|['\"]+$/g,''));};const matchesStack=(fonts,stack)=>stack.length>0&&forall(stack,font=>fonts.indexOf(font.toLowerCase())>-1);const isSystemFontStack=(fontFamily,userStack)=>{if(fontFamily.indexOf('-apple-system')===0||userStack.length>0){const fonts=splitFonts(fontFamily.toLowerCase());return matchesStack(fonts,systemStackFonts)||matchesStack(fonts,userStack);}else{return false;}};const getSpec$2=editor=>{const getMatchingValue=()=>{const getFirstFont=fontFamily=>fontFamily?splitFonts(fontFamily)[0]:'';const fontFamily=editor.queryCommandValue('FontName');const items=dataset.data;const font=fontFamily?fontFamily.toLowerCase():'';const userStack=getDefaultFontStack(editor);const matchOpt=find$5(items,item=>{const format=item.format;return format.toLowerCase()===font||getFirstFont(format).toLowerCase()===getFirstFont(font).toLowerCase();}).orThunk(()=>{return someIf(isSystemFontStack(font,userStack),{title:systemFont,format:font});});return{matchOpt,font:fontFamily};};const isSelectedFor=item=>valueOpt=>valueOpt.exists(value=>value.format===item);const getCurrentValue=()=>{const{matchOpt}=getMatchingValue();return matchOpt;};const getPreviewFor=item=>()=>Optional.some({tag:'div',styles:item.indexOf('dings')===-1?{'font-family':item}:{}});const onAction=rawItem=>()=>{editor.undoManager.transact(()=>{editor.focus();editor.execCommand('FontName',false,rawItem.format);});};const updateSelectMenuText=comp=>{const{matchOpt,font}=getMatchingValue();const text=matchOpt.fold(constant$1(font),item=>item.title);emitWith(comp,updateMenuText,{text});fireFontFamilyTextUpdate(editor,{value:text});};const dataset=buildBasicSettingsDataset(editor,'font_family_formats',Delimiter.SemiColon);return{tooltip:makeTooltipText(editor,btnTooltip$2,systemFont),text:Optional.some(systemFont),icon:Optional.none(),isSelectedFor,getCurrentValue,getPreviewFor,onAction,updateText:updateSelectMenuText,dataset,shouldHide:false,isInvalid:never};};const createFontFamilyButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$2(editor),btnTooltip$2,'FontFamilyTextUpdate');const createFontFamilyMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$2(editor));editor.ui.registry.addNestedMenuItem('fontfamily',{text:backstage.shared.providers.translate(menuTitle$2),onSetup:onSetupEditableToggle(editor),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const units={unsupportedLength:['em','ex','cap','ch','ic','rem','lh','rlh','vw','vh','vi','vb','vmin','vmax','cm','mm','Q','in','pc','pt','px'],fixed:['px','pt'],relative:['%'],empty:['']};const pattern=(()=>{const decimalDigits='[0-9]+';const signedInteger='[+-]?'+decimalDigits;const exponentPart='[eE]'+signedInteger;const dot='\\\\.';const opt=input=>`(?:${input})?`;const unsignedDecimalLiteral=['Infinity',decimalDigits+dot+opt(decimalDigits)+opt(exponentPart),dot+decimalDigits+opt(exponentPart),decimalDigits+opt(exponentPart)].join('|');const float=`[+-]?(?:${unsignedDecimalLiteral})`;return new RegExp(`^(${float})(.*)$`);})();const isUnit=(unit,accepted)=>exists(accepted,acc=>exists(units[acc],check=>unit===check));const parse=(input,accepted)=>{const match=Optional.from(pattern.exec(input));return match.bind(array=>{const value=Number(array[1]);const unitRaw=array[2];if(isUnit(unitRaw,accepted)){return Optional.some({value,unit:unitRaw});}else{return Optional.none();}});};const normalise=(input,accepted)=>parse(input,accepted).map(({value,unit})=>value+unit);const Keys={tab:constant$1(9),escape:constant$1(27),enter:constant$1(13),backspace:constant$1(8),delete:constant$1(46),left:constant$1(37),up:constant$1(38),right:constant$1(39),down:constant$1(40),space:constant$1(32),home:constant$1(36),end:constant$1(35),pageUp:constant$1(33),pageDown:constant$1(34)};const createBespokeNumberInput=(editor,backstage,spec)=>{let currentComp=Optional.none();const getValueFromCurrentComp=comp=>comp.map(alloyComp=>Representing.getValue(alloyComp)).getOr('');const onSetup=onSetupEvent(editor,'NodeChange SwitchMode',api=>{const comp=api.getComponent();currentComp=Optional.some(comp);spec.updateInputValue(comp);Disabling.set(comp,!editor.selection.isEditable());});const getApi=comp=>({getComponent:constant$1(comp)});const editorOffCell=Cell(noop);const customEvents=generate$6('custom-number-input-events');const changeValue=(f,fromInput,focusBack)=>{const text=getValueFromCurrentComp(currentComp);const newValue=spec.getNewValue(text,f);const lenghtDelta=text.length-`${newValue}`.length;const oldStart=currentComp.map(comp=>comp.element.dom.selectionStart-lenghtDelta);const oldEnd=currentComp.map(comp=>comp.element.dom.selectionEnd-lenghtDelta);spec.onAction(newValue,focusBack);currentComp.each(comp=>{Representing.setValue(comp,newValue);if(fromInput){oldStart.each(oldStart=>comp.element.dom.selectionStart=oldStart);oldEnd.each(oldEnd=>comp.element.dom.selectionEnd=oldEnd);}});};const decrease=(fromInput,focusBack)=>changeValue((n,s)=>n-s,fromInput,focusBack);const increase=(fromInput,focusBack)=>changeValue((n,s)=>n+s,fromInput,focusBack);const goToParent=comp=>parentElement(comp.element).fold(Optional.none,parent=>{focus$3(parent);return Optional.some(true);});const focusInput=comp=>{if(hasFocus(comp.element)){firstChild(comp.element).each(input=>focus$3(input));return Optional.some(true);}else{return Optional.none();}};const makeStepperButton=(action,title,tooltip,classes)=>{const editorOffCellStepButton=Cell(noop);const translatedTooltip=backstage.shared.providers.translate(tooltip);const altExecuting=generate$6('altExecuting');const onSetup=onSetupEvent(editor,'NodeChange SwitchMode',api=>{Disabling.set(api.getComponent(),!editor.selection.isEditable());});const onClick=comp=>{if(!Disabling.isDisabled(comp)){action(true);}};return Button.sketch({dom:{tag:'button',attributes:{'title':translatedTooltip,'aria-label':translatedTooltip},classes:classes.concat(title)},components:[renderIconFromPack$1(title,backstage.shared.providers.icons)],buttonBehaviours:derive$1([Disabling.config({}),config(altExecuting,[onControlAttached({onSetup,getApi},editorOffCellStepButton),onControlDetached({getApi},editorOffCellStepButton),run$1(keydown(),(comp,se)=>{if(se.event.raw.keyCode===Keys.space()||se.event.raw.keyCode===Keys.enter()){if(!Disabling.isDisabled(comp)){action(false);}}}),run$1(click(),onClick),run$1(touchend(),onClick)])]),eventOrder:{[keydown()]:[altExecuting,'keying'],[click()]:[altExecuting,'alloy.base.behaviour'],[touchend()]:[altExecuting,'alloy.base.behaviour']}});};const memMinus=record(makeStepperButton(focusBack=>decrease(false,focusBack),'minus','Decrease font size',[]));const memPlus=record(makeStepperButton(focusBack=>increase(false,focusBack),'plus','Increase font size',[]));const memInput=record({dom:{tag:'div',classes:['tox-input-wrapper']},components:[Input.sketch({inputBehaviours:derive$1([Disabling.config({}),config(customEvents,[onControlAttached({onSetup,getApi},editorOffCell),onControlDetached({getApi},editorOffCell)]),config('input-update-display-text',[run$1(updateMenuText,(comp,se)=>{Representing.setValue(comp,se.event.text);}),run$1(focusout(),comp=>{spec.onAction(Representing.getValue(comp));}),run$1(change(),comp=>{spec.onAction(Representing.getValue(comp));})]),Keying.config({mode:'special',onEnter:_comp=>{changeValue(identity,true,true);return Optional.some(true);},onEscape:goToParent,onUp:_comp=>{increase(true,false);return Optional.some(true);},onDown:_comp=>{decrease(true,false);return Optional.some(true);},onLeft:(_comp,se)=>{se.cut();return Optional.none();},onRight:(_comp,se)=>{se.cut();return Optional.none();}})])})],behaviours:derive$1([Focusing.config({}),Keying.config({mode:'special',onEnter:focusInput,onSpace:focusInput,onEscape:goToParent}),config('input-wrapper-events',[run$1(mouseover(),comp=>{each$1([memMinus,memPlus],button=>{const buttonNode=SugarElement.fromDom(button.get(comp).element.dom);if(hasFocus(buttonNode)){blur$1(buttonNode);}});})])])});return{dom:{tag:'div',classes:['tox-number-input']},components:[memMinus.asSpec(),memInput.asSpec(),memPlus.asSpec()],behaviours:derive$1([Focusing.config({}),Keying.config({mode:'flow',focusInside:FocusInsideModes.OnEnterOrSpaceMode,cycles:false,selector:'button, .tox-input-wrapper',onEscape:wrapperComp=>{if(hasFocus(wrapperComp.element)){return Optional.none();}else{focus$3(wrapperComp.element);return Optional.some(true);}}})])};};const menuTitle$1='Font sizes';const btnTooltip$1='Font size {0}';const fallbackFontSize='12pt';const legacyFontSizes={'8pt':'1','10pt':'2','12pt':'3','14pt':'4','18pt':'5','24pt':'6','36pt':'7'};const keywordFontSizes={'xx-small':'7pt','x-small':'8pt','small':'10pt','medium':'12pt','large':'14pt','x-large':'18pt','xx-large':'24pt'};const round=(number,precision)=>{const factor=Math.pow(10,precision);return Math.round(number*factor)/factor;};const toPt=(fontSize,precision)=>{if(/[0-9.]+px$/.test(fontSize)){return round(parseInt(fontSize,10)*72/96,precision||0)+'pt';}else{return get$g(keywordFontSizes,fontSize).getOr(fontSize);}};const toLegacy=fontSize=>get$g(legacyFontSizes,fontSize).getOr('');const getSpec$1=editor=>{const getMatchingValue=()=>{let matchOpt=Optional.none();const items=dataset.data;const fontSize=editor.queryCommandValue('FontSize');if(fontSize){for(let precision=3;matchOpt.isNone()&&precision>=0;precision--){const pt=toPt(fontSize,precision);const legacy=toLegacy(pt);matchOpt=find$5(items,item=>item.format===fontSize||item.format===pt||item.format===legacy);}}return{matchOpt,size:fontSize};};const isSelectedFor=item=>valueOpt=>valueOpt.exists(value=>value.format===item);const getCurrentValue=()=>{const{matchOpt}=getMatchingValue();return matchOpt;};const getPreviewFor=constant$1(Optional.none);const onAction=rawItem=>()=>{editor.undoManager.transact(()=>{editor.focus();editor.execCommand('FontSize',false,rawItem.format);});};const updateSelectMenuText=comp=>{const{matchOpt,size}=getMatchingValue();const text=matchOpt.fold(constant$1(size),match=>match.title);emitWith(comp,updateMenuText,{text});fireFontSizeTextUpdate(editor,{value:text});};const dataset=buildBasicSettingsDataset(editor,'font_size_formats',Delimiter.Space);return{tooltip:makeTooltipText(editor,btnTooltip$1,fallbackFontSize),text:Optional.some(fallbackFontSize),icon:Optional.none(),isSelectedFor,getPreviewFor,getCurrentValue,onAction,updateText:updateSelectMenuText,dataset,shouldHide:false,isInvalid:never};};const createFontSizeButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$1(editor),btnTooltip$1,'FontSizeTextUpdate');const getConfigFromUnit=unit=>{var _a;const baseConfig={step:1};const configs={em:{step:0.1},cm:{step:0.1},in:{step:0.1},pc:{step:0.1},ch:{step:0.1},rem:{step:0.1}};return(_a=configs[unit])!==null&&_a!==void 0?_a:baseConfig;};const defaultValue=16;const isValidValue=value=>value>=0;const getNumberInputSpec=editor=>{const getCurrentValue=()=>editor.queryCommandValue('FontSize');const updateInputValue=comp=>emitWith(comp,updateMenuText,{text:getCurrentValue()});return{updateInputValue,onAction:(format,focusBack)=>editor.execCommand('FontSize',false,format,{skip_focus:!focusBack}),getNewValue:(text,updateFunction)=>{parse(text,['unsupportedLength','empty']);const currentValue=getCurrentValue();const parsedText=parse(text,['unsupportedLength','empty']).or(parse(currentValue,['unsupportedLength','empty']));const value=parsedText.map(res=>res.value).getOr(defaultValue);const defaultUnit=getFontSizeInputDefaultUnit(editor);const unit=parsedText.map(res=>res.unit).filter(u=>u!=='').getOr(defaultUnit);const newValue=updateFunction(value,getConfigFromUnit(unit).step);const res=`${isValidValue(newValue)?newValue:value}${unit}`;if(res!==currentValue){fireFontSizeInputTextUpdate(editor,{value:res});}return res;}};};const createFontSizeInputButton=(editor,backstage)=>createBespokeNumberInput(editor,backstage,getNumberInputSpec(editor));const createFontSizeMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$1(editor));editor.ui.registry.addNestedMenuItem('fontsize',{text:menuTitle$1,onSetup:onSetupEditableToggle(editor),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const menuTitle='Formats';const btnTooltip='Format {0}';const getSpec=(editor,dataset)=>{const fallbackFormat='Paragraph';const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=format=>()=>{const fmt=editor.formatter.get(format);return fmt!==undefined?Optional.some({tag:fmt.length>0?fmt[0].inline||fmt[0].block||'div':'div',styles:editor.dom.parseStyle(editor.formatter.getCssText(format))}):Optional.none();};const updateSelectMenuText=comp=>{const getFormatItems=fmt=>{if(isNestedFormat(fmt)){return bind$3(fmt.items,getFormatItems);}else if(isFormatReference(fmt)){return[{title:fmt.title,format:fmt.format}];}else{return[];}};const flattenedItems=bind$3(getStyleFormats(editor),getFormatItems);const detectedFormat=findNearest(editor,constant$1(flattenedItems));const text=detectedFormat.fold(constant$1(fallbackFormat),fmt=>fmt.title);emitWith(comp,updateMenuText,{text});fireStylesTextUpdate(editor,{value:text});};return{tooltip:makeTooltipText(editor,btnTooltip,fallbackFormat),text:Optional.some(fallbackFormat),icon:Optional.none(),isSelectedFor,getCurrentValue:Optional.none,getPreviewFor,onAction:onActionToggleFormat$1(editor),updateText:updateSelectMenuText,shouldHide:shouldAutoHideStyleFormats(editor),isInvalid:item=>!editor.formatter.canApply(item.format),dataset};};const createStylesButton=(editor,backstage)=>{const dataset={type:'advanced',...backstage.styles};return createSelectButton(editor,backstage,getSpec(editor,dataset),btnTooltip,'StylesTextUpdate');};const createStylesMenu=(editor,backstage)=>{const dataset={type:'advanced',...backstage.styles};const menuItems=createMenuItems(editor,backstage,getSpec(editor,dataset));editor.ui.registry.addNestedMenuItem('styles',{text:menuTitle,onSetup:onSetupEditableToggle(editor),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const schema$7=constant$1([required$1('toggleClass'),required$1('fetch'),onStrictHandler('onExecute'),defaulted('getHotspot',Optional.some),defaulted('getAnchorOverrides',constant$1({})),schema$y(),onStrictHandler('onItemExecute'),option$3('lazySink'),required$1('dom'),onHandler('onOpen'),field('splitDropdownBehaviours',[Coupling,Keying,Focusing]),defaulted('matchWidth',false),defaulted('useMinWidth',false),defaulted('eventOrder',{}),option$3('role')].concat(sandboxFields()));const arrowPart=required({factory:Button,schema:[required$1('dom')],name:'arrow',defaults:()=>{return{buttonBehaviours:derive$1([Focusing.revoke()])};},overrides:detail=>{return{dom:{tag:'span',attributes:{role:'presentation'}},action:arrow=>{arrow.getSystem().getByUid(detail.uid).each(emitExecute);},buttonBehaviours:derive$1([Toggling.config({toggleOnExecute:false,toggleClass:detail.toggleClass})])};}});const buttonPart=required({factory:Button,schema:[required$1('dom')],name:'button',defaults:()=>{return{buttonBehaviours:derive$1([Focusing.revoke()])};},overrides:detail=>{return{dom:{tag:'span',attributes:{role:'presentation'}},action:btn=>{btn.getSystem().getByUid(detail.uid).each(splitDropdown=>{detail.onExecute(splitDropdown,btn);});}};}});const parts$3=constant$1([arrowPart,buttonPart,optional({factory:{sketch:spec=>{return{uid:spec.uid,dom:{tag:'span',styles:{display:'none'},attributes:{'aria-hidden':'true'},innerHtml:spec.text}};}},schema:[required$1('text')],name:'aria-descriptor'}),external({schema:[tieredMenuMarkers()],name:'menu',defaults:detail=>{return{onExecute:(tmenu,item)=>{tmenu.getSystem().getByUid(detail.uid).each(splitDropdown=>{detail.onItemExecute(splitDropdown,tmenu,item);});}};}}),partType$1()]);const factory$5=(detail,components,spec,externals)=>{const switchToMenu=sandbox=>{Composing.getCurrent(sandbox).each(current=>{Highlighting.highlightFirst(current);Keying.focusIn(current);});};const action=component=>{const onOpenSync=switchToMenu;togglePopup(detail,identity,component,externals,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);};const openMenu=comp=>{action(comp);return Optional.some(true);};const executeOnButton=comp=>{const button=getPartOrDie(comp,detail,'button');emitExecute(button);return Optional.some(true);};const buttonEvents={...derive$2([runOnAttached((component,_simulatedEvent)=>{const ariaDescriptor=getPart(component,detail,'aria-descriptor');ariaDescriptor.each(descriptor=>{const descriptorId=generate$6('aria');set$9(descriptor.element,'id',descriptorId);set$9(component.element,'aria-describedby',descriptorId);});})]),...events$a(Optional.some(action))};const apis={repositionMenus:comp=>{if(Toggling.isOn(comp)){repositionMenus(comp);}}};return{uid:detail.uid,dom:detail.dom,components,apis,eventOrder:{...detail.eventOrder,[execute$5()]:['disabling','toggling','alloy.base.behaviour']},events:buttonEvents,behaviours:augment(detail.splitDropdownBehaviours,[Coupling.config({others:{sandbox:hotspot=>{const arrow=getPartOrDie(hotspot,detail,'arrow');const extras={onOpen:()=>{Toggling.on(arrow);Toggling.on(hotspot);},onClose:()=>{Toggling.off(arrow);Toggling.off(hotspot);}};return makeSandbox$1(detail,hotspot,extras);}}}),Keying.config({mode:'special',onSpace:executeOnButton,onEnter:executeOnButton,onDown:openMenu}),Focusing.config({}),Toggling.config({toggleOnExecute:false,aria:{mode:'expanded'}})]),domModification:{attributes:{'role':detail.role.getOr('button'),'aria-haspopup':true}}};};const SplitDropdown=composite({name:'SplitDropdown',configFields:schema$7(),partFields:parts$3(),factory:factory$5,apis:{repositionMenus:(apis,comp)=>apis.repositionMenus(comp)}});const getButtonApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state),setText:text=>emitWith(component,updateMenuText,{text}),setIcon:icon=>emitWith(component,updateMenuIcon,{icon})});const getToggleApi=component=>({setActive:state=>{Toggling.set(component,state);},isActive:()=>Toggling.isOn(component),isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state),setText:text=>emitWith(component,updateMenuText,{text}),setIcon:icon=>emitWith(component,updateMenuIcon,{icon})});const getTooltipAttributes=(tooltip,providersBackstage)=>tooltip.map(tooltip=>({'aria-label':providersBackstage.translate(tooltip),'title':providersBackstage.translate(tooltip)})).getOr({});const focusButtonEvent=generate$6('focus-button');const renderCommonStructure=(optIcon,optText,tooltip,behaviours,providersBackstage)=>{const optMemDisplayText=optText.map(text=>record(renderLabel$1(text,'tox-tbtn',providersBackstage)));const optMemDisplayIcon=optIcon.map(icon=>record(renderReplaceableIconFromPack(icon,providersBackstage.icons)));return{dom:{tag:'button',classes:['tox-tbtn'].concat(optText.isSome()?['tox-tbtn--select']:[]),attributes:getTooltipAttributes(tooltip,providersBackstage)},components:componentRenderPipeline([optMemDisplayIcon.map(mem=>mem.asSpec()),optMemDisplayText.map(mem=>mem.asSpec())]),eventOrder:{[mousedown()]:['focusing','alloy.base.behaviour',commonButtonDisplayEvent],[attachedToDom()]:[commonButtonDisplayEvent,'toolbar-group-button-events']},buttonBehaviours:derive$1([DisablingConfigs.toolbarButton(providersBackstage.isDisabled),receivingConfig(),config(commonButtonDisplayEvent,[runOnAttached((comp,_se)=>forceInitialSize(comp)),run$1(updateMenuText,(comp,se)=>{optMemDisplayText.bind(mem=>mem.getOpt(comp)).each(displayText=>{Replacing.set(displayText,[text$2(providersBackstage.translate(se.event.text))]);});}),run$1(updateMenuIcon,(comp,se)=>{optMemDisplayIcon.bind(mem=>mem.getOpt(comp)).each(displayIcon=>{Replacing.set(displayIcon,[renderReplaceableIconFromPack(se.event.icon,providersBackstage.icons)]);});}),run$1(mousedown(),(button,se)=>{se.event.prevent();emit(button,focusButtonEvent);})])].concat(behaviours.getOr([])))};};const renderFloatingToolbarButton=(spec,backstage,identifyButtons,attributes)=>{const sharedBackstage=backstage.shared;const editorOffCell=Cell(noop);const specialisation={toolbarButtonBehaviours:[],getApi:getButtonApi,onSetup:spec.onSetup};const behaviours=[config('toolbar-group-button-events',[onControlAttached(specialisation,editorOffCell),onControlDetached(specialisation,editorOffCell)])];return FloatingToolbarButton.sketch({lazySink:sharedBackstage.getSink,fetch:()=>Future.nu(resolve=>{resolve(map$2(identifyButtons(spec.items),renderToolbarGroup));}),markers:{toggledClass:'tox-tbtn--enabled'},parts:{button:renderCommonStructure(spec.icon,spec.text,spec.tooltip,Optional.some(behaviours),sharedBackstage.providers),toolbar:{dom:{tag:'div',classes:['tox-toolbar__overflow'],attributes}}}});};const renderCommonToolbarButton=(spec,specialisation,providersBackstage)=>{var _d;const editorOffCell=Cell(noop);const structure=renderCommonStructure(spec.icon,spec.text,spec.tooltip,Optional.none(),providersBackstage);return Button.sketch({dom:structure.dom,components:structure.components,eventOrder:toolbarButtonEventOrder,buttonBehaviours:{...derive$1([config('toolbar-button-events',[onToolbarButtonExecute({onAction:spec.onAction,getApi:specialisation.getApi}),onControlAttached(specialisation,editorOffCell),onControlDetached(specialisation,editorOffCell)]),DisablingConfigs.toolbarButton(()=>!spec.enabled||providersBackstage.isDisabled()),receivingConfig()].concat(specialisation.toolbarButtonBehaviours)),[commonButtonDisplayEvent]:(_d=structure.buttonBehaviours)===null||_d===void 0?void 0:_d[commonButtonDisplayEvent]}});};const renderToolbarButton=(spec,providersBackstage)=>renderToolbarButtonWith(spec,providersBackstage,[]);const renderToolbarButtonWith=(spec,providersBackstage,bonusEvents)=>renderCommonToolbarButton(spec,{toolbarButtonBehaviours:bonusEvents.length>0?[config('toolbarButtonWith',bonusEvents)]:[],getApi:getButtonApi,onSetup:spec.onSetup},providersBackstage);const renderToolbarToggleButton=(spec,providersBackstage)=>renderToolbarToggleButtonWith(spec,providersBackstage,[]);const renderToolbarToggleButtonWith=(spec,providersBackstage,bonusEvents)=>renderCommonToolbarButton(spec,{toolbarButtonBehaviours:[Replacing.config({}),Toggling.config({toggleClass:'tox-tbtn--enabled',aria:{mode:'pressed'},toggleOnExecute:false})].concat(bonusEvents.length>0?[config('toolbarToggleButtonWith',bonusEvents)]:[]),getApi:getToggleApi,onSetup:spec.onSetup},providersBackstage);const fetchChoices=(getApi,spec,providersBackstage)=>comp=>Future.nu(callback=>spec.fetch(callback)).map(items=>Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'),items,value=>{spec.onItemAction(getApi(comp),value);},spec.columns,spec.presets,ItemResponse$1.CLOSE_ON_EXECUTE,spec.select.getOr(never),providersBackstage),{movement:deriveMenuMovement(spec.columns,spec.presets),menuBehaviours:SimpleBehaviours.unnamedEvents(spec.columns!=='auto'?[]:[runOnAttached((comp,_se)=>{detectSize(comp,4,classForPreset(spec.presets)).each(({numRows,numColumns})=>{Keying.setGridSize(comp,numRows,numColumns);});})])}))));const renderSplitButton=(spec,sharedBackstage)=>{const getApi=comp=>({isEnabled:()=>!Disabling.isDisabled(comp),setEnabled:state=>Disabling.set(comp,!state),setIconFill:(id,value)=>{descendant(comp.element,`svg path[class=\"${id}\"], rect[class=\"${id}\"]`).each(underlinePath=>{set$9(underlinePath,'fill',value);});},setActive:state=>{set$9(comp.element,'aria-pressed',state);descendant(comp.element,'span').each(button=>{comp.getSystem().getByDom(button).each(buttonComp=>Toggling.set(buttonComp,state));});},isActive:()=>descendant(comp.element,'span').exists(button=>comp.getSystem().getByDom(button).exists(Toggling.isOn)),setText:text=>descendant(comp.element,'span').each(button=>comp.getSystem().getByDom(button).each(buttonComp=>emitWith(buttonComp,updateMenuText,{text}))),setIcon:icon=>descendant(comp.element,'span').each(button=>comp.getSystem().getByDom(button).each(buttonComp=>emitWith(buttonComp,updateMenuIcon,{icon}))),setTooltip:tooltip=>{const translatedTooltip=sharedBackstage.providers.translate(tooltip);setAll$1(comp.element,{'aria-label':translatedTooltip,'title':translatedTooltip});}});const editorOffCell=Cell(noop);const specialisation={getApi,onSetup:spec.onSetup};return SplitDropdown.sketch({dom:{tag:'div',classes:['tox-split-button'],attributes:{'aria-pressed':false,...getTooltipAttributes(spec.tooltip,sharedBackstage.providers)}},onExecute:button=>{const api=getApi(button);if(api.isEnabled()){spec.onAction(api);}},onItemExecute:(_a,_b,_c)=>{},splitDropdownBehaviours:derive$1([DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),receivingConfig(),config('split-dropdown-events',[runOnAttached((comp,_se)=>forceInitialSize(comp)),run$1(focusButtonEvent,Focusing.focus),onControlAttached(specialisation,editorOffCell),onControlDetached(specialisation,editorOffCell)]),Unselecting.config({})]),eventOrder:{[attachedToDom()]:['alloy.base.behaviour','split-dropdown-events']},toggleClass:'tox-tbtn--enabled',lazySink:sharedBackstage.getSink,fetch:fetchChoices(getApi,spec,sharedBackstage.providers),parts:{menu:part(false,spec.columns,spec.presets)},components:[SplitDropdown.parts.button(renderCommonStructure(spec.icon,spec.text,Optional.none(),Optional.some([Toggling.config({toggleClass:'tox-tbtn--enabled',toggleOnExecute:false})]),sharedBackstage.providers)),SplitDropdown.parts.arrow({dom:{tag:'button',classes:['tox-tbtn','tox-split-button__chevron'],innerHtml:get$2('chevron-down',sharedBackstage.providers.icons)},buttonBehaviours:derive$1([DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),receivingConfig(),addFocusableBehaviour()])}),SplitDropdown.parts['aria-descriptor']({text:sharedBackstage.providers.translate('To open the popup, press Shift+Enter')})]});};const defaultToolbar=[{name:'history',items:['undo','redo']},{name:'ai',items:['aidialog','aishortcuts']},{name:'styles',items:['styles']},{name:'formatting',items:['bold','italic']},{name:'alignment',items:['alignleft','aligncenter','alignright','alignjustify']},{name:'indentation',items:['outdent','indent']},{name:'permanent pen',items:['permanentpen']},{name:'comments',items:['addcomment']}];const renderFromBridge=(bridgeBuilder,render)=>(spec,backstage,editor)=>{const internal=bridgeBuilder(spec).mapError(errInfo=>formatError(errInfo)).getOrDie();return render(internal,backstage,editor);};const types={button:renderFromBridge(createToolbarButton,(s,backstage)=>renderToolbarButton(s,backstage.shared.providers)),togglebutton:renderFromBridge(createToggleButton,(s,backstage)=>renderToolbarToggleButton(s,backstage.shared.providers)),menubutton:renderFromBridge(createMenuButton,(s,backstage)=>renderMenuButton(s,'tox-tbtn',backstage,Optional.none(),false)),splitbutton:renderFromBridge(createSplitButton,(s,backstage)=>renderSplitButton(s,backstage.shared)),grouptoolbarbutton:renderFromBridge(createGroupToolbarButton,(s,backstage,editor)=>{const buttons=editor.ui.registry.getAll().buttons;const identify=toolbar=>identifyButtons(editor,{buttons,toolbar,allowToolbarGroups:false},backstage,Optional.none());const attributes={[Attribute]:backstage.shared.header.isPositionedAtTop()?AttributeValue.TopToBottom:AttributeValue.BottomToTop};switch(getToolbarMode(editor)){case ToolbarMode$1.floating:return renderFloatingToolbarButton(s,backstage,identify,attributes);default:throw new Error('Toolbar groups are only supported when using floating toolbar mode');}})};const extractFrom=(spec,backstage,editor)=>get$g(types,spec.type).fold(()=>{console.error('skipping button defined by',spec);return Optional.none();},render=>Optional.some(render(spec,backstage,editor)));const bespokeButtons={styles:createStylesButton,fontsize:createFontSizeButton,fontsizeinput:createFontSizeInputButton,fontfamily:createFontFamilyButton,blocks:createBlocksButton,align:createAlignButton};const removeUnusedDefaults=buttons=>{const filteredItemGroups=map$2(defaultToolbar,group=>{const items=filter$2(group.items,subItem=>has$2(buttons,subItem)||has$2(bespokeButtons,subItem));return{name:group.name,items};});return filter$2(filteredItemGroups,group=>group.items.length>0);};const convertStringToolbar=strToolbar=>{const groupsStrings=strToolbar.split('|');return map$2(groupsStrings,g=>({items:g.trim().split(' ')}));};const isToolbarGroupSettingArray=toolbar=>isArrayOf(toolbar,t=>has$2(t,'name')&&has$2(t,'items'));const createToolbar=toolbarConfig=>{const toolbar=toolbarConfig.toolbar;const buttons=toolbarConfig.buttons;if(toolbar===false){return[];}else if(toolbar===undefined||toolbar===true){return removeUnusedDefaults(buttons);}else if(isString(toolbar)){return convertStringToolbar(toolbar);}else if(isToolbarGroupSettingArray(toolbar)){return toolbar;}else{console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');return[];}};const lookupButton=(editor,buttons,toolbarItem,allowToolbarGroups,backstage,prefixes)=>get$g(buttons,toolbarItem.toLowerCase()).orThunk(()=>prefixes.bind(ps=>findMap(ps,prefix=>get$g(buttons,prefix+toolbarItem.toLowerCase())))).fold(()=>get$g(bespokeButtons,toolbarItem.toLowerCase()).map(r=>r(editor,backstage)),spec=>{if(spec.type==='grouptoolbarbutton'&&!allowToolbarGroups){console.warn(`Ignoring the '${toolbarItem}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);return Optional.none();}else{return extractFrom(spec,backstage,editor);}});const identifyButtons=(editor,toolbarConfig,backstage,prefixes)=>{const toolbarGroups=createToolbar(toolbarConfig);const groups=map$2(toolbarGroups,group=>{const items=bind$3(group.items,toolbarItem=>{return toolbarItem.trim().length===0?[]:lookupButton(editor,toolbarConfig.buttons,toolbarItem,toolbarConfig.allowToolbarGroups,backstage,prefixes).toArray();});return{title:Optional.from(editor.translate(group.name)),items};});return filter$2(groups,group=>group.items.length>0);};const setToolbar=(editor,uiRefs,rawUiConfig,backstage)=>{const outerContainer=uiRefs.mainUi.outerContainer;const toolbarConfig=rawUiConfig.toolbar;const toolbarButtonsConfig=rawUiConfig.buttons;if(isArrayOf(toolbarConfig,isString)){const toolbars=toolbarConfig.map(t=>{const config={toolbar:t,buttons:toolbarButtonsConfig,allowToolbarGroups:rawUiConfig.allowToolbarGroups};return identifyButtons(editor,config,backstage,Optional.none());});OuterContainer.setToolbars(outerContainer,toolbars);}else{OuterContainer.setToolbar(outerContainer,identifyButtons(editor,rawUiConfig,backstage,Optional.none()));}};const detection=detect$2();const isiOS12=detection.os.isiOS()&&detection.os.version.major<=12;const setupEvents$1=(editor,uiRefs)=>{const{uiMotherships}=uiRefs;const dom=editor.dom;let contentWindow=editor.getWin();const initialDocEle=editor.getDoc().documentElement;const lastWindowDimensions=Cell(SugarPosition(contentWindow.innerWidth,contentWindow.innerHeight));const lastDocumentDimensions=Cell(SugarPosition(initialDocEle.offsetWidth,initialDocEle.offsetHeight));const resizeWindow=()=>{const outer=lastWindowDimensions.get();if(outer.left!==contentWindow.innerWidth||outer.top!==contentWindow.innerHeight){lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth,contentWindow.innerHeight));fireResizeContent(editor);}};const resizeDocument=()=>{const docEle=editor.getDoc().documentElement;const inner=lastDocumentDimensions.get();if(inner.left!==docEle.offsetWidth||inner.top!==docEle.offsetHeight){lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth,docEle.offsetHeight));fireResizeContent(editor);}};const scroll=e=>{fireScrollContent(editor,e);};dom.bind(contentWindow,'resize',resizeWindow);dom.bind(contentWindow,'scroll',scroll);const elementLoad=capture(SugarElement.fromDom(editor.getBody()),'load',resizeDocument);editor.on('hide',()=>{each$1(uiMotherships,m=>{set$8(m.element,'display','none');});});editor.on('show',()=>{each$1(uiMotherships,m=>{remove$6(m.element,'display');});});editor.on('NodeChange',resizeDocument);editor.on('remove',()=>{elementLoad.unbind();dom.unbind(contentWindow,'resize',resizeWindow);dom.unbind(contentWindow,'scroll',scroll);contentWindow=null;});};const attachUiMotherships=(editor,uiRoot,uiRefs)=>{if(isSplitUiMode(editor)){attachSystemAfter(uiRefs.mainUi.mothership.element,uiRefs.popupUi.mothership);}attachSystem(uiRoot,uiRefs.dialogUi.mothership);};const render$1=(editor,uiRefs,rawUiConfig,backstage,args)=>{const{mainUi,uiMotherships}=uiRefs;const lastToolbarWidth=Cell(0);const outerContainer=mainUi.outerContainer;iframe(editor);const eTargetNode=SugarElement.fromDom(args.targetNode);const uiRoot=getContentContainer(getRootNode(eTargetNode));attachSystemAfter(eTargetNode,mainUi.mothership);attachUiMotherships(editor,uiRoot,uiRefs);editor.on('SkinLoaded',()=>{OuterContainer.setSidebar(outerContainer,rawUiConfig.sidebar,getSidebarShow(editor));setToolbar(editor,uiRefs,rawUiConfig,backstage);lastToolbarWidth.set(editor.getWin().innerWidth);OuterContainer.setMenubar(outerContainer,identifyMenus(editor,rawUiConfig));OuterContainer.setViews(outerContainer,rawUiConfig.views);setupEvents$1(editor,uiRefs);});const socket=OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');if(isiOS12){setAll(socket.element,{'overflow':'scroll','-webkit-overflow-scrolling':'touch'});const limit=first(()=>{editor.dispatch('ScrollContent');},20);const unbinder=bind(socket.element,'scroll',limit.throttle);editor.on('remove',unbinder.unbind);}setupReadonlyModeSwitch(editor,uiRefs);editor.addCommand('ToggleSidebar',(_ui,value)=>{OuterContainer.toggleSidebar(outerContainer,value);editor.dispatch('ToggleSidebar');});editor.addQueryValueHandler('ToggleSidebar',()=>{var _a;return(_a=OuterContainer.whichSidebar(outerContainer))!==null&&_a!==void 0?_a:'';});editor.addCommand('ToggleView',(_ui,value)=>{if(OuterContainer.toggleView(outerContainer,value)){const target=outerContainer.element;mainUi.mothership.broadcastOn([dismissPopups()],{target});each$1(uiMotherships,m=>{m.broadcastOn([dismissPopups()],{target});});if(isNull(OuterContainer.whichView(outerContainer))){editor.focus();editor.nodeChanged();OuterContainer.refreshToolbar(outerContainer);}}});editor.addQueryValueHandler('ToggleView',()=>{var _a;return(_a=OuterContainer.whichView(outerContainer))!==null&&_a!==void 0?_a:'';});const toolbarMode=getToolbarMode(editor);const refreshDrawer=()=>{OuterContainer.refreshToolbar(uiRefs.mainUi.outerContainer);};if(toolbarMode===ToolbarMode$1.sliding||toolbarMode===ToolbarMode$1.floating){editor.on('ResizeWindow ResizeEditor ResizeContent',()=>{const width=editor.getWin().innerWidth;if(width!==lastToolbarWidth.get()){refreshDrawer();lastToolbarWidth.set(width);}});}const api={setEnabled:state=>{broadcastReadonly(uiRefs,!state);},isEnabled:()=>!Disabling.isDisabled(outerContainer)};return{iframeContainer:socket.element.dom,editorContainer:outerContainer.element.dom,api};};var Iframe=/*#__PURE__*/Object.freeze({__proto__:null,render:render$1});const parseToInt=val=>{const re=/^[0-9\\.]+(|px)$/i;if(re.test(''+val)){return Optional.some(parseInt(''+val,10));}return Optional.none();};const numToPx=val=>isNumber(val)?val+'px':val;const calcCappedSize=(size,minSize,maxSize)=>{const minOverride=minSize.filter(min=>size<min);const maxOverride=maxSize.filter(max=>size>max);return minOverride.or(maxOverride).getOr(size);};const getHeight=editor=>{const baseHeight=getHeightOption(editor);const minHeight=getMinHeightOption(editor);const maxHeight=getMaxHeightOption(editor);return parseToInt(baseHeight).map(height=>calcCappedSize(height,minHeight,maxHeight));};const getHeightWithFallback=editor=>{const height=getHeight(editor);return height.getOr(getHeightOption(editor));};const getWidth=editor=>{const baseWidth=getWidthOption(editor);const minWidth=getMinWidthOption(editor);const maxWidth=getMaxWidthOption(editor);return parseToInt(baseWidth).map(width=>calcCappedSize(width,minWidth,maxWidth));};const getWidthWithFallback=editor=>{const width=getWidth(editor);return width.getOr(getWidthOption(editor));};const{ToolbarLocation,ToolbarMode}=Options;const maximumDistanceToEdge=40;const InlineHeader=(editor,targetElm,uiRefs,backstage,floatContainer)=>{const{mainUi,uiMotherships}=uiRefs;const DOM=global$7.DOM;const useFixedToolbarContainer=useFixedContainer(editor);const isSticky=isStickyToolbar(editor);const editorMaxWidthOpt=getMaxWidthOption(editor).or(getWidth(editor));const headerBackstage=backstage.shared.header;const isPositionedAtTop=headerBackstage.isPositionedAtTop;const toolbarMode=getToolbarMode(editor);const isSplitToolbar=toolbarMode===ToolbarMode.sliding||toolbarMode===ToolbarMode.floating;const visible=Cell(false);const isVisible=()=>visible.get()&&!editor.removed;const calcToolbarOffset=toolbar=>isSplitToolbar?toolbar.fold(constant$1(0),tbar=>tbar.components().length>1?get$d(tbar.components()[1].element):0):0;const calcMode=container=>{switch(getToolbarLocation(editor)){case ToolbarLocation.auto:const toolbar=OuterContainer.getToolbar(mainUi.outerContainer);const offset=calcToolbarOffset(toolbar);const toolbarHeight=get$d(container.element)-offset;const targetBounds=box$1(targetElm);const roomAtTop=targetBounds.y>toolbarHeight;if(roomAtTop){return'top';}else{const doc=documentElement(targetElm);const docHeight=Math.max(doc.dom.scrollHeight,get$d(doc));const roomAtBottom=targetBounds.bottom<docHeight-toolbarHeight;if(roomAtBottom){return'bottom';}else{const winBounds=win();const isRoomAtBottomViewport=winBounds.bottom<targetBounds.bottom-toolbarHeight;return isRoomAtBottomViewport?'bottom':'top';}}case ToolbarLocation.bottom:return'bottom';case ToolbarLocation.top:default:return'top';}};const setupMode=mode=>{floatContainer.on(container=>{Docking.setModes(container,[mode]);headerBackstage.setDockingMode(mode);const verticalDir=isPositionedAtTop()?AttributeValue.TopToBottom:AttributeValue.BottomToTop;set$9(container.element,Attribute,verticalDir);});};const updateChromeWidth=()=>{floatContainer.on(container=>{const maxWidth=editorMaxWidthOpt.getOrThunk(()=>{const bodyMargin=parseToInt(get$e(body(),'margin-left')).getOr(0);return get$c(body())-absolute$3(targetElm).left+bodyMargin;});set$8(container.element,'max-width',maxWidth+'px');});};const updateChromePosition=optToolbarWidth=>{floatContainer.on(container=>{const toolbar=OuterContainer.getToolbar(mainUi.outerContainer);const offset=calcToolbarOffset(toolbar);const targetBounds=box$1(targetElm);const{top,left}=getOffsetParent$1(editor,mainUi.outerContainer.element).fold(()=>{return{top:isPositionedAtTop()?Math.max(targetBounds.y-get$d(container.element)+offset,0):targetBounds.bottom,left:targetBounds.x};},offsetParent=>{var _a;const offsetBox=box$1(offsetParent);const scrollDelta=(_a=offsetParent.dom.scrollTop)!==null&&_a!==void 0?_a:0;const isOffsetParentBody=eq(offsetParent,body());const topValue=isOffsetParentBody?Math.max(targetBounds.y-get$d(container.element)+offset,0):targetBounds.y-offsetBox.y+scrollDelta-get$d(container.element)+offset;return{top:isPositionedAtTop()?topValue:targetBounds.bottom,left:isOffsetParentBody?targetBounds.x:targetBounds.x-offsetBox.x};});const baseProperties={position:'absolute',left:Math.round(left)+'px',top:Math.round(top)+'px'};const widthProperties=optToolbarWidth.map(toolbarWidth=>{const scroll=get$b();const minimumToolbarWidth=150;const availableWidth=window.innerWidth-(left-scroll.left);const width=Math.max(Math.min(toolbarWidth,availableWidth),minimumToolbarWidth);return{width:width+'px'};}).getOr({});setAll(mainUi.outerContainer.element,{...baseProperties,...widthProperties});});};const getOffsetParent$1=(editor,element)=>isSplitUiMode(editor)?getOffsetParent(element):Optional.none();const repositionPopups$1=()=>{each$1(uiMotherships,m=>{m.broadcastOn([repositionPopups()],{});});};const restoreAndGetCompleteOuterContainerWidth=()=>{if(!useFixedToolbarContainer){const toolbarCurrentRightsidePosition=absolute$3(mainUi.outerContainer.element).left+getOuter$1(mainUi.outerContainer.element);if(toolbarCurrentRightsidePosition>=window.innerWidth-maximumDistanceToEdge||getRaw(mainUi.outerContainer.element,'width').isSome()){set$8(mainUi.outerContainer.element,'position','absolute');set$8(mainUi.outerContainer.element,'left','0px');remove$6(mainUi.outerContainer.element,'width');const w=getOuter$1(mainUi.outerContainer.element);return Optional.some(w);}else{return Optional.none();}}else{return Optional.none();}};const update=stickyAction=>{if(!isVisible()){return;}if(!useFixedToolbarContainer){updateChromeWidth();}const optToolbarWidth=useFixedToolbarContainer?Optional.none():restoreAndGetCompleteOuterContainerWidth();if(isSplitToolbar){OuterContainer.refreshToolbar(mainUi.outerContainer);}if(!useFixedToolbarContainer){updateChromePosition(optToolbarWidth);}if(isSticky){floatContainer.on(stickyAction);}repositionPopups$1();};const doUpdateMode=()=>{if(useFixedToolbarContainer||!isSticky||!isVisible()){return false;}return floatContainer.get().exists(fc=>{const currentMode=headerBackstage.getDockingMode();const newMode=calcMode(fc);if(newMode!==currentMode){setupMode(newMode);return true;}else{return false;}});};const show=()=>{visible.set(true);set$8(mainUi.outerContainer.element,'display','flex');DOM.addClass(editor.getBody(),'mce-edit-focus');each$1(uiMotherships,m=>{remove$6(m.element,'display');});doUpdateMode();if(isSplitUiMode(editor)){update(elem=>Docking.isDocked(elem)?Docking.reset(elem):Docking.refresh(elem));}else{update(Docking.refresh);}};const hide=()=>{visible.set(false);set$8(mainUi.outerContainer.element,'display','none');DOM.removeClass(editor.getBody(),'mce-edit-focus');each$1(uiMotherships,m=>{set$8(m.element,'display','none');});};const updateMode=()=>{const changedMode=doUpdateMode();if(changedMode){update(Docking.reset);}};return{isVisible,isPositionedAtTop,show,hide,update,updateMode,repositionPopups:repositionPopups$1};};const getTargetPosAndBounds=(targetElm,isToolbarTop)=>{const bounds=box$1(targetElm);return{pos:isToolbarTop?bounds.y:bounds.bottom,bounds};};const setupEvents=(editor,targetElm,ui,toolbarPersist)=>{const prevPosAndBounds=Cell(getTargetPosAndBounds(targetElm,ui.isPositionedAtTop()));const resizeContent=e=>{const{pos,bounds}=getTargetPosAndBounds(targetElm,ui.isPositionedAtTop());const{pos:prevPos,bounds:prevBounds}=prevPosAndBounds.get();const hasResized=bounds.height!==prevBounds.height||bounds.width!==prevBounds.width;prevPosAndBounds.set({pos,bounds});if(hasResized){fireResizeContent(editor,e);}if(ui.isVisible()){if(prevPos!==pos){ui.update(Docking.reset);}else if(hasResized){ui.updateMode();ui.repositionPopups();}}};if(!toolbarPersist){editor.on('activate',ui.show);editor.on('deactivate',ui.hide);}editor.on('SkinLoaded ResizeWindow',()=>ui.update(Docking.reset));editor.on('NodeChange keydown',e=>{requestAnimationFrame(()=>resizeContent(e));});let lastScrollX=0;const updateUi=last(()=>ui.update(Docking.refresh),33);editor.on('ScrollWindow',()=>{const newScrollX=get$b().left;if(newScrollX!==lastScrollX){lastScrollX=newScrollX;updateUi.throttle();}ui.updateMode();});if(isSplitUiMode(editor)){editor.on('ElementScroll',_args=>{ui.update(Docking.refresh);});}const elementLoad=unbindable();elementLoad.set(capture(SugarElement.fromDom(editor.getBody()),'load',e=>resizeContent(e.raw)));editor.on('remove',()=>{elementLoad.clear();});};const render=(editor,uiRefs,rawUiConfig,backstage,args)=>{const{mainUi}=uiRefs;const floatContainer=value$2();const targetElm=SugarElement.fromDom(args.targetNode);const ui=InlineHeader(editor,targetElm,uiRefs,backstage,floatContainer);const toolbarPersist=isToolbarPersist(editor);inline(editor);const render=()=>{if(floatContainer.isSet()){ui.show();return;}floatContainer.set(OuterContainer.getHeader(mainUi.outerContainer).getOrDie());const uiContainer=getUiContainer(editor);if(isSplitUiMode(editor)){attachSystemAfter(targetElm,mainUi.mothership);attachSystemAfter(targetElm,uiRefs.popupUi.mothership);}else{attachSystem(uiContainer,mainUi.mothership);}attachSystem(uiContainer,uiRefs.dialogUi.mothership);setToolbar(editor,uiRefs,rawUiConfig,backstage);OuterContainer.setMenubar(mainUi.outerContainer,identifyMenus(editor,rawUiConfig));ui.show();setupEvents(editor,targetElm,ui,toolbarPersist);editor.nodeChanged();};editor.on('show',render);editor.on('hide',ui.hide);if(!toolbarPersist){editor.on('focus',render);editor.on('blur',ui.hide);}editor.on('init',()=>{if(editor.hasFocus()||toolbarPersist){render();}});setupReadonlyModeSwitch(editor,uiRefs);const api={show:render,hide:ui.hide,setEnabled:state=>{broadcastReadonly(uiRefs,!state);},isEnabled:()=>!Disabling.isDisabled(mainUi.outerContainer)};return{editorContainer:mainUi.outerContainer.element.dom,api};};var Inline=/*#__PURE__*/Object.freeze({__proto__:null,render:render});const LazyUiReferences=()=>{const dialogUi=value$2();const popupUi=value$2();const mainUi=value$2();const lazyGetInOuterOrDie=(label,f)=>()=>mainUi.get().bind(oc=>f(oc.outerContainer)).getOrDie(`Could not find ${label} element in OuterContainer`);const getUiMotherships=()=>{const optDialogMothership=dialogUi.get().map(ui=>ui.mothership);const optPopupMothership=popupUi.get().map(ui=>ui.mothership);return optDialogMothership.fold(()=>optPopupMothership.toArray(),dm=>optPopupMothership.fold(()=>[dm],pm=>eq(dm.element,pm.element)?[dm]:[dm,pm]));};return{dialogUi,popupUi,mainUi,getUiMotherships,lazyGetInOuterOrDie};};const showContextToolbarEvent='contexttoolbar-show';const hideContextToolbarEvent='contexttoolbar-hide';const getFormApi=input=>({hide:()=>emit(input,sandboxClose()),getValue:()=>Representing.getValue(input)});const runOnExecute=(memInput,original)=>run$1(internalToolbarButtonExecute,(comp,se)=>{const input=memInput.get(comp);const formApi=getFormApi(input);original.onAction(formApi,se.event.buttonApi);});const renderContextButton=(memInput,button,providers)=>{const{primary,...rest}=button.original;const bridged=getOrDie(createToolbarButton({...rest,type:'button',onAction:noop}));return renderToolbarButtonWith(bridged,providers,[runOnExecute(memInput,button)]);};const renderContextToggleButton=(memInput,button,providers)=>{const{primary,...rest}=button.original;const bridged=getOrDie(createToggleButton({...rest,type:'togglebutton',onAction:noop}));return renderToolbarToggleButtonWith(bridged,providers,[runOnExecute(memInput,button)]);};const isToggleButton=button=>button.type==='contextformtogglebutton';const generateOne=(memInput,button,providersBackstage)=>{if(isToggleButton(button)){return renderContextToggleButton(memInput,button,providersBackstage);}else{return renderContextButton(memInput,button,providersBackstage);}};const generate=(memInput,buttons,providersBackstage)=>{const mementos=map$2(buttons,button=>record(generateOne(memInput,button,providersBackstage)));const asSpecs=()=>map$2(mementos,mem=>mem.asSpec());const findPrimary=compInSystem=>findMap(buttons,(button,i)=>{if(button.primary){return Optional.from(mementos[i]).bind(mem=>mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));}else{return Optional.none();}});return{asSpecs,findPrimary};};const buildInitGroups=(ctx,providers)=>{const inputAttributes=ctx.label.fold(()=>({}),label=>({'aria-label':label}));const memInput=record(Input.sketch({inputClasses:['tox-toolbar-textfield','tox-toolbar-nav-js'],data:ctx.initValue(),inputAttributes,selectOnFocus:true,inputBehaviours:derive$1([Keying.config({mode:'special',onEnter:input=>commands.findPrimary(input).map(primary=>{emitExecute(primary);return true;}),onLeft:(comp,se)=>{se.cut();return Optional.none();},onRight:(comp,se)=>{se.cut();return Optional.none();}})])}));const commands=generate(memInput,ctx.commands,providers);return[{title:Optional.none(),items:[memInput.asSpec()]},{title:Optional.none(),items:commands.asSpecs()}];};const renderContextForm=(toolbarType,ctx,providers)=>renderToolbar({type:toolbarType,uid:generate$6('context-toolbar'),initGroups:buildInitGroups(ctx,providers),onEscape:Optional.none,cyclicKeying:true,providers});const ContextForm={renderContextForm,buildInitGroups};const isVerticalOverlap=(a,b,threshold)=>b.bottom-a.y>=threshold&&a.bottom-b.y>=threshold;const getRangeRect=rng=>{const rect=rng.getBoundingClientRect();if(rect.height<=0&&rect.width<=0){const leaf$1=leaf(SugarElement.fromDom(rng.startContainer),rng.startOffset).element;const elm=isText(leaf$1)?parent(leaf$1):Optional.some(leaf$1);return elm.filter(isElement$1).map(e=>e.dom.getBoundingClientRect()).getOr(rect);}else{return rect;}};const getSelectionBounds=editor=>{const rng=editor.selection.getRng();const rect=getRangeRect(rng);if(editor.inline){const scroll=get$b();return bounds(scroll.left+rect.left,scroll.top+rect.top,rect.width,rect.height);}else{const bodyPos=absolute$2(SugarElement.fromDom(editor.getBody()));return bounds(bodyPos.x+rect.left,bodyPos.y+rect.top,rect.width,rect.height);}};const getAnchorElementBounds=(editor,lastElement)=>lastElement.filter(elem=>inBody(elem)&&isHTMLElement(elem)).map(absolute$2).getOrThunk(()=>getSelectionBounds(editor));const getHorizontalBounds=(contentAreaBox,viewportBounds,margin)=>{const x=Math.max(contentAreaBox.x+margin,viewportBounds.x);const right=Math.min(contentAreaBox.right-margin,viewportBounds.right);return{x,width:right-x};};const getVerticalBounds=(editor,contentAreaBox,viewportBounds,isToolbarLocationTop,toolbarType,margin)=>{const container=SugarElement.fromDom(editor.getContainer());const header=descendant(container,'.tox-editor-header').getOr(container);const headerBox=box$1(header);const isToolbarBelowContentArea=headerBox.y>=contentAreaBox.bottom;const isToolbarAbove=isToolbarLocationTop&&!isToolbarBelowContentArea;if(editor.inline&&isToolbarAbove){return{y:Math.max(headerBox.bottom+margin,viewportBounds.y),bottom:viewportBounds.bottom};}if(editor.inline&&!isToolbarAbove){return{y:viewportBounds.y,bottom:Math.min(headerBox.y-margin,viewportBounds.bottom)};}const containerBounds=toolbarType==='line'?box$1(container):contentAreaBox;if(isToolbarAbove){return{y:Math.max(headerBox.bottom+margin,viewportBounds.y),bottom:Math.min(containerBounds.bottom-margin,viewportBounds.bottom)};}return{y:Math.max(containerBounds.y+margin,viewportBounds.y),bottom:Math.min(headerBox.y-margin,viewportBounds.bottom)};};const getContextToolbarBounds=(editor,sharedBackstage,toolbarType,margin=0)=>{const viewportBounds=getBounds$3(window);const contentAreaBox=box$1(SugarElement.fromDom(editor.getContentAreaContainer()));const toolbarOrMenubarEnabled=isMenubarEnabled(editor)||isToolbarEnabled(editor)||isMultipleToolbars(editor);const{x,width}=getHorizontalBounds(contentAreaBox,viewportBounds,margin);if(editor.inline&&!toolbarOrMenubarEnabled){return bounds(x,viewportBounds.y,width,viewportBounds.height);}else{const isToolbarTop=sharedBackstage.header.isPositionedAtTop();const{y,bottom}=getVerticalBounds(editor,contentAreaBox,viewportBounds,isToolbarTop,toolbarType,margin);return bounds(x,y,width,bottom-y);}};const bubbleSize$1=12;const bubbleAlignments$1={valignCentre:[],alignCentre:[],alignLeft:['tox-pop--align-left'],alignRight:['tox-pop--align-right'],right:['tox-pop--right'],left:['tox-pop--left'],bottom:['tox-pop--bottom'],top:['tox-pop--top'],inset:['tox-pop--inset']};const anchorOverrides={maxHeightFunction:expandable$1(),maxWidthFunction:expandable()};const isEntireElementSelected=(editor,elem)=>{const rng=editor.selection.getRng();const leaf$1=leaf(SugarElement.fromDom(rng.startContainer),rng.startOffset);return rng.startContainer===rng.endContainer&&rng.startOffset===rng.endOffset-1&&eq(leaf$1.element,elem);};const preservePosition=(elem,position,f)=>{const currentPosition=getRaw(elem,'position');set$8(elem,'position',position);const result=f(elem);currentPosition.each(pos=>set$8(elem,'position',pos));return result;};const shouldUseInsetLayouts=position=>position==='node';const determineInsetLayout=(editor,contextbar,elem,data,bounds)=>{const selectionBounds=getSelectionBounds(editor);const isSameAnchorElement=data.lastElement().exists(prev=>eq(elem,prev));if(isEntireElementSelected(editor,elem)){return isSameAnchorElement?preserve:north;}else if(isSameAnchorElement){return preservePosition(contextbar,data.getMode(),()=>{const isOverlapping=isVerticalOverlap(selectionBounds,box$1(contextbar),-20);return isOverlapping&&!data.isReposition()?flip:preserve;});}else{const yBounds=data.getMode()==='fixed'?bounds.y+get$b().top:bounds.y;const contextbarHeight=get$d(contextbar)+bubbleSize$1;return yBounds+contextbarHeight<=selectionBounds.y?north:south;}};const getAnchorSpec$2=(editor,mobile,data,position)=>{const smartInsetLayout=elem=>(anchor,element,bubbles,placee,bounds)=>{const layout=determineInsetLayout(editor,placee,elem,data,bounds);const newAnchor={...anchor,y:bounds.y,height:bounds.height};return{...layout(newAnchor,element,bubbles,placee,bounds),alwaysFit:true};};const getInsetLayouts=elem=>shouldUseInsetLayouts(position)?[smartInsetLayout(elem)]:[];const desktopAnchorSpecLayouts={onLtr:elem=>[north$2,south$2,northeast$2,southeast$2,northwest$2,southwest$2].concat(getInsetLayouts(elem)),onRtl:elem=>[north$2,south$2,northwest$2,southwest$2,northeast$2,southeast$2].concat(getInsetLayouts(elem))};const mobileAnchorSpecLayouts={onLtr:elem=>[south$2,southeast$2,southwest$2,northeast$2,northwest$2,north$2].concat(getInsetLayouts(elem)),onRtl:elem=>[south$2,southwest$2,southeast$2,northwest$2,northeast$2,north$2].concat(getInsetLayouts(elem))};return mobile?mobileAnchorSpecLayouts:desktopAnchorSpecLayouts;};const getAnchorLayout=(editor,position,isTouch,data)=>{if(position==='line'){return{bubble:nu$5(bubbleSize$1,0,bubbleAlignments$1),layouts:{onLtr:()=>[east$2],onRtl:()=>[west$2]},overrides:anchorOverrides};}else{return{bubble:nu$5(0,bubbleSize$1,bubbleAlignments$1,1/bubbleSize$1),layouts:getAnchorSpec$2(editor,isTouch,data,position),overrides:anchorOverrides};}};const matchTargetWith=(elem,candidates)=>{const ctxs=filter$2(candidates,toolbarApi=>toolbarApi.predicate(elem.dom));const{pass,fail}=partition$3(ctxs,t=>t.type==='contexttoolbar');return{contextToolbars:pass,contextForms:fail};};const filterByPositionForStartNode=toolbars=>{if(toolbars.length<=1){return toolbars;}else{const doesPositionExist=value=>exists(toolbars,t=>t.position===value);const filterToolbarsByPosition=value=>filter$2(toolbars,t=>t.position===value);const hasSelectionToolbars=doesPositionExist('selection');const hasNodeToolbars=doesPositionExist('node');if(hasSelectionToolbars||hasNodeToolbars){if(hasNodeToolbars&&hasSelectionToolbars){const nodeToolbars=filterToolbarsByPosition('node');const selectionToolbars=map$2(filterToolbarsByPosition('selection'),t=>({...t,position:'node'}));return nodeToolbars.concat(selectionToolbars);}else{return hasSelectionToolbars?filterToolbarsByPosition('selection'):filterToolbarsByPosition('node');}}else{return filterToolbarsByPosition('line');}}};const filterByPositionForAncestorNode=toolbars=>{if(toolbars.length<=1){return toolbars;}else{const findPosition=value=>find$5(toolbars,t=>t.position===value);const basePosition=findPosition('selection').orThunk(()=>findPosition('node')).orThunk(()=>findPosition('line')).map(t=>t.position);return basePosition.fold(()=>[],pos=>filter$2(toolbars,t=>t.position===pos));}};const matchStartNode=(elem,nodeCandidates,editorCandidates)=>{const nodeMatches=matchTargetWith(elem,nodeCandidates);if(nodeMatches.contextForms.length>0){return Optional.some({elem,toolbars:[nodeMatches.contextForms[0]]});}else{const editorMatches=matchTargetWith(elem,editorCandidates);if(editorMatches.contextForms.length>0){return Optional.some({elem,toolbars:[editorMatches.contextForms[0]]});}else if(nodeMatches.contextToolbars.length>0||editorMatches.contextToolbars.length>0){const toolbars=filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));return Optional.some({elem,toolbars});}else{return Optional.none();}}};const matchAncestor=(isRoot,startNode,scopes)=>{if(isRoot(startNode)){return Optional.none();}else{return ancestor$2(startNode,ancestorElem=>{if(isElement$1(ancestorElem)){const{contextToolbars,contextForms}=matchTargetWith(ancestorElem,scopes.inNodeScope);const toolbars=contextForms.length>0?contextForms:filterByPositionForAncestorNode(contextToolbars);return toolbars.length>0?Optional.some({elem:ancestorElem,toolbars}):Optional.none();}else{return Optional.none();}},isRoot);}};const lookup$1=(scopes,editor)=>{const rootElem=SugarElement.fromDom(editor.getBody());const isRoot=elem=>eq(elem,rootElem);const isOutsideRoot=startNode=>!isRoot(startNode)&&!contains(rootElem,startNode);const startNode=SugarElement.fromDom(editor.selection.getNode());if(isOutsideRoot(startNode)){return Optional.none();}return matchStartNode(startNode,scopes.inNodeScope,scopes.inEditorScope).orThunk(()=>matchAncestor(isRoot,startNode,scopes));};const categorise=(contextToolbars,navigate)=>{const forms={};const inNodeScope=[];const inEditorScope=[];const formNavigators={};const lookupTable={};const registerForm=(key,toolbarSpec)=>{const contextForm=getOrDie(createContextForm(toolbarSpec));forms[key]=contextForm;contextForm.launch.map(launch=>{formNavigators['form:'+key+'']={...toolbarSpec.launch,type:launch.type==='contextformtogglebutton'?'togglebutton':'button',onAction:()=>{navigate(contextForm);}};});if(contextForm.scope==='editor'){inEditorScope.push(contextForm);}else{inNodeScope.push(contextForm);}lookupTable[key]=contextForm;};const registerToolbar=(key,toolbarSpec)=>{createContextToolbar(toolbarSpec).each(contextToolbar=>{if(toolbarSpec.scope==='editor'){inEditorScope.push(contextToolbar);}else{inNodeScope.push(contextToolbar);}lookupTable[key]=contextToolbar;});};const keys$1=keys(contextToolbars);each$1(keys$1,key=>{const toolbarApi=contextToolbars[key];if(toolbarApi.type==='contextform'){registerForm(key,toolbarApi);}else if(toolbarApi.type==='contexttoolbar'){registerToolbar(key,toolbarApi);}});return{forms,inNodeScope,inEditorScope,lookupTable,formNavigators};};const forwardSlideEvent=generate$6('forward-slide');const backSlideEvent=generate$6('backward-slide');const changeSlideEvent=generate$6('change-slide-event');const resizingClass='tox-pop--resizing';const renderContextToolbar=spec=>{const stack=Cell([]);return InlineView.sketch({dom:{tag:'div',classes:['tox-pop']},fireDismissalEventInstead:{event:'doNotDismissYet'},onShow:comp=>{stack.set([]);InlineView.getContent(comp).each(c=>{remove$6(c.element,'visibility');});remove$2(comp.element,resizingClass);remove$6(comp.element,'width');},inlineBehaviours:derive$1([config('context-toolbar-events',[runOnSource(transitionend(),(comp,se)=>{if(se.event.raw.propertyName==='width'){remove$2(comp.element,resizingClass);remove$6(comp.element,'width');}}),run$1(changeSlideEvent,(comp,se)=>{const elem=comp.element;remove$6(elem,'width');const currentWidth=get$c(elem);InlineView.setContent(comp,se.event.contents);add$2(elem,resizingClass);const newWidth=get$c(elem);set$8(elem,'width',currentWidth+'px');InlineView.getContent(comp).each(newContents=>{se.event.focus.bind(f=>{focus$3(f);return search(elem);}).orThunk(()=>{Keying.focusIn(newContents);return active$1(getRootNode(elem));});});setTimeout(()=>{set$8(comp.element,'width',newWidth+'px');},0);}),run$1(forwardSlideEvent,(comp,se)=>{InlineView.getContent(comp).each(oldContents=>{stack.set(stack.get().concat([{bar:oldContents,focus:active$1(getRootNode(comp.element))}]));});emitWith(comp,changeSlideEvent,{contents:se.event.forwardContents,focus:Optional.none()});}),run$1(backSlideEvent,(comp,_se)=>{last$1(stack.get()).each(last=>{stack.set(stack.get().slice(0,stack.get().length-1));emitWith(comp,changeSlideEvent,{contents:premade(last.bar),focus:last.focus});});})]),Keying.config({mode:'special',onEscape:comp=>last$1(stack.get()).fold(()=>spec.onEscape(),_=>{emit(comp,backSlideEvent);return Optional.some(true);})})]),lazySink:()=>Result.value(spec.sink)});};const transitionClass='tox-pop--transition';const register$9=(editor,registryContextToolbars,sink,extras)=>{const backstage=extras.backstage;const sharedBackstage=backstage.shared;const isTouch=detect$2().deviceType.isTouch;const lastElement=value$2();const lastTrigger=value$2();const lastContextPosition=value$2();const contextbar=build$1(renderContextToolbar({sink,onEscape:()=>{editor.focus();return Optional.some(true);}}));const getBounds=()=>{const position=lastContextPosition.get().getOr('node');const margin=shouldUseInsetLayouts(position)?1:0;return getContextToolbarBounds(editor,sharedBackstage,position,margin);};const canLaunchToolbar=()=>{return!editor.removed&&!(isTouch()&&backstage.isContextMenuOpen());};const isSameLaunchElement=elem=>is$1(lift2(elem,lastElement.get(),eq),true);const shouldContextToolbarHide=()=>{if(!canLaunchToolbar()){return true;}else{const contextToolbarBounds=getBounds();const anchorBounds=is$1(lastContextPosition.get(),'node')?getAnchorElementBounds(editor,lastElement.get()):getSelectionBounds(editor);return contextToolbarBounds.height<=0||!isVerticalOverlap(anchorBounds,contextToolbarBounds,0.01);}};const close=()=>{lastElement.clear();lastTrigger.clear();lastContextPosition.clear();InlineView.hide(contextbar);};const hideOrRepositionIfNecessary=()=>{if(InlineView.isOpen(contextbar)){const contextBarEle=contextbar.element;remove$6(contextBarEle,'display');if(shouldContextToolbarHide()){set$8(contextBarEle,'display','none');}else{lastTrigger.set(0);InlineView.reposition(contextbar);}}};const wrapInPopDialog=toolbarSpec=>({dom:{tag:'div',classes:['tox-pop__dialog']},components:[toolbarSpec],behaviours:derive$1([Keying.config({mode:'acyclic'}),config('pop-dialog-wrap-events',[runOnAttached(comp=>{editor.shortcuts.add('ctrl+F9','focus statusbar',()=>Keying.focusIn(comp));}),runOnDetached(_comp=>{editor.shortcuts.remove('ctrl+F9');})])])});const getScopes=cached(()=>categorise(registryContextToolbars,toolbarApi=>{const alloySpec=buildToolbar([toolbarApi]);emitWith(contextbar,forwardSlideEvent,{forwardContents:wrapInPopDialog(alloySpec)});}));const buildContextToolbarGroups=(allButtons,ctx)=>identifyButtons(editor,{buttons:allButtons,toolbar:ctx.items,allowToolbarGroups:false},extras.backstage,Optional.some(['form:']));const buildContextFormGroups=(ctx,providers)=>ContextForm.buildInitGroups(ctx,providers);const buildToolbar=toolbars=>{const{buttons}=editor.ui.registry.getAll();const scopes=getScopes();const allButtons={...buttons,...scopes.formNavigators};const toolbarType=getToolbarMode(editor)===ToolbarMode$1.scrolling?ToolbarMode$1.scrolling:ToolbarMode$1.default;const initGroups=flatten(map$2(toolbars,ctx=>ctx.type==='contexttoolbar'?buildContextToolbarGroups(allButtons,ctx):buildContextFormGroups(ctx,sharedBackstage.providers)));return renderToolbar({type:toolbarType,uid:generate$6('context-toolbar'),initGroups,onEscape:Optional.none,cyclicKeying:true,providers:sharedBackstage.providers});};const getAnchor=(position,element)=>{const anchorage=position==='node'?sharedBackstage.anchors.node(element):sharedBackstage.anchors.cursor();const anchorLayout=getAnchorLayout(editor,position,isTouch(),{lastElement:lastElement.get,isReposition:()=>is$1(lastTrigger.get(),0),getMode:()=>Positioning.getMode(sink)});return deepMerge(anchorage,anchorLayout);};const launchContext=(toolbarApi,elem)=>{launchContextToolbar.cancel();if(!canLaunchToolbar()){return;}const toolbarSpec=buildToolbar(toolbarApi);const position=toolbarApi[0].position;const anchor=getAnchor(position,elem);lastContextPosition.set(position);lastTrigger.set(1);const contextBarEle=contextbar.element;remove$6(contextBarEle,'display');if(!isSameLaunchElement(elem)){remove$2(contextBarEle,transitionClass);Positioning.reset(sink,contextbar);}InlineView.showWithinBounds(contextbar,wrapInPopDialog(toolbarSpec),{anchor,transition:{classes:[transitionClass],mode:'placement'}},()=>Optional.some(getBounds()));elem.fold(lastElement.clear,lastElement.set);if(shouldContextToolbarHide()){set$8(contextBarEle,'display','none');}};let isDragging=false;const launchContextToolbar=last(()=>{if(!editor.hasFocus()||editor.removed||isDragging){return;}if(has(contextbar.element,transitionClass)){launchContextToolbar.throttle();}else{const scopes=getScopes();lookup$1(scopes,editor).fold(close,info=>{launchContext(info.toolbars,Optional.some(info.elem));});}},17);editor.on('init',()=>{editor.on('remove',close);editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress',hideOrRepositionIfNecessary);editor.on('click keyup focus SetContent',launchContextToolbar.throttle);editor.on(hideContextToolbarEvent,close);editor.on(showContextToolbarEvent,e=>{const scopes=getScopes();get$g(scopes.lookupTable,e.toolbarKey).each(ctx=>{launchContext([ctx],someIf(e.target!==editor,e.target));InlineView.getContent(contextbar).each(Keying.focusIn);});});editor.on('focusout',_e=>{global$9.setEditorTimeout(editor,()=>{if(search(sink.element).isNone()&&search(contextbar.element).isNone()){close();}},0);});editor.on('SwitchMode',()=>{if(editor.mode.isReadOnly()){close();}});editor.on('AfterProgressState',event=>{if(event.state){close();}else if(editor.hasFocus()){launchContextToolbar.throttle();}});editor.on('dragstart',()=>{isDragging=true;});editor.on('dragend drop',()=>{isDragging=false;});editor.on('NodeChange',_e=>{search(contextbar.element).fold(launchContextToolbar.throttle,noop);});});};const register$8=editor=>{const alignToolbarButtons=[{name:'alignleft',text:'Align left',cmd:'JustifyLeft',icon:'align-left'},{name:'aligncenter',text:'Align center',cmd:'JustifyCenter',icon:'align-center'},{name:'alignright',text:'Align right',cmd:'JustifyRight',icon:'align-right'},{name:'alignjustify',text:'Justify',cmd:'JustifyFull',icon:'align-justify'}];each$1(alignToolbarButtons,item=>{editor.ui.registry.addToggleButton(item.name,{tooltip:item.text,icon:item.icon,onAction:onActionExecCommand(editor,item.cmd),onSetup:onSetupStateToggle(editor,item.name)});});editor.ui.registry.addButton('alignnone',{tooltip:'No alignment',icon:'align-none',onSetup:onSetupEditableToggle(editor),onAction:onActionExecCommand(editor,'JustifyNone')});};const registerController=(editor,spec)=>{const getMenuItems=()=>{const options=spec.getOptions(editor);const initial=spec.getCurrent(editor).map(spec.hash);const current=value$2();return map$2(options,value=>({type:'togglemenuitem',text:spec.display(value),onSetup:api=>{const setActive=active=>{if(active){current.on(oldApi=>oldApi.setActive(false));current.set(api);}api.setActive(active);};setActive(is$1(initial,spec.hash(value)));const unbindWatcher=spec.watcher(editor,value,setActive);return()=>{current.clear();unbindWatcher();};},onAction:()=>spec.setCurrent(editor,value)}));};editor.ui.registry.addMenuButton(spec.name,{tooltip:spec.text,icon:spec.icon,fetch:callback=>callback(getMenuItems()),onSetup:spec.onToolbarSetup});editor.ui.registry.addNestedMenuItem(spec.name,{type:'nestedmenuitem',text:spec.text,getSubmenuItems:getMenuItems,onSetup:spec.onMenuSetup});};const lineHeightSpec=editor=>({name:'lineheight',text:'Line height',icon:'line-height',getOptions:getLineHeightFormats,hash:input=>normalise(input,['fixed','relative','empty']).getOr(input),display:identity,watcher:(editor,value,callback)=>editor.formatter.formatChanged('lineheight',callback,false,{value}).unbind,getCurrent:editor=>Optional.from(editor.queryCommandValue('LineHeight')),setCurrent:(editor,value)=>editor.execCommand('LineHeight',false,value),onToolbarSetup:onSetupEditableToggle(editor),onMenuSetup:onSetupEditableToggle(editor)});const languageSpec=editor=>{const settingsOpt=Optional.from(getContentLanguages(editor));return settingsOpt.map(settings=>({name:'language',text:'Language',icon:'language',getOptions:constant$1(settings),hash:input=>isUndefined(input.customCode)?input.code:`${input.code}/${input.customCode}`,display:input=>input.title,watcher:(editor,value,callback)=>{var _a;return editor.formatter.formatChanged('lang',callback,false,{value:value.code,customValue:(_a=value.customCode)!==null&&_a!==void 0?_a:null}).unbind;},getCurrent:editor=>{const node=SugarElement.fromDom(editor.selection.getNode());return closest$4(node,n=>Optional.some(n).filter(isElement$1).bind(ele=>{const codeOpt=getOpt(ele,'lang');return codeOpt.map(code=>{const customCode=getOpt(ele,'data-mce-lang').getOrUndefined();return{code,customCode,title:''};});}));},setCurrent:(editor,lang)=>editor.execCommand('Lang',false,lang),onToolbarSetup:api=>{const unbinder=unbindable();api.setActive(editor.formatter.match('lang',{},undefined,true));unbinder.set(editor.formatter.formatChanged('lang',api.setActive,true));return composeUnbinders(unbinder.clear,onSetupEditableToggle(editor)(api));},onMenuSetup:onSetupEditableToggle(editor)}));};const register$7=editor=>{registerController(editor,lineHeightSpec(editor));languageSpec(editor).each(spec=>registerController(editor,spec));};const register$6=(editor,backstage)=>{createAlignMenu(editor,backstage);createFontFamilyMenu(editor,backstage);createStylesMenu(editor,backstage);createBlocksMenu(editor,backstage);createFontSizeMenu(editor,backstage);};const onSetupOutdentState=editor=>onSetupEvent(editor,'NodeChange',api=>{api.setEnabled(editor.queryCommandState('outdent')&&editor.selection.isEditable());});const registerButtons$2=editor=>{editor.ui.registry.addButton('outdent',{tooltip:'Decrease indent',icon:'outdent',onSetup:onSetupOutdentState(editor),onAction:onActionExecCommand(editor,'outdent')});editor.ui.registry.addButton('indent',{tooltip:'Increase indent',icon:'indent',onSetup:onSetupEditableToggle(editor),onAction:onActionExecCommand(editor,'indent')});};const register$5=editor=>{registerButtons$2(editor);};const makeSetupHandler=(editor,pasteAsText)=>api=>{api.setActive(pasteAsText.get());const pastePlainTextToggleHandler=e=>{pasteAsText.set(e.state);api.setActive(e.state);};editor.on('PastePlainTextToggle',pastePlainTextToggleHandler);return composeUnbinders(()=>editor.off('PastePlainTextToggle',pastePlainTextToggleHandler),onSetupEditableToggle(editor)(api));};const register$4=editor=>{const pasteAsText=Cell(getPasteAsText(editor));const onAction=()=>editor.execCommand('mceTogglePlainTextPaste');editor.ui.registry.addToggleButton('pastetext',{active:false,icon:'paste-text',tooltip:'Paste as text',onAction,onSetup:makeSetupHandler(editor,pasteAsText)});editor.ui.registry.addToggleMenuItem('pastetext',{text:'Paste as text',icon:'paste-text',onAction,onSetup:makeSetupHandler(editor,pasteAsText)});};const onActionToggleFormat=(editor,fmt)=>()=>{editor.execCommand('mceToggleFormat',false,fmt);};const registerFormatButtons=editor=>{global$1.each([{name:'bold',text:'Bold',icon:'bold'},{name:'italic',text:'Italic',icon:'italic'},{name:'underline',text:'Underline',icon:'underline'},{name:'strikethrough',text:'Strikethrough',icon:'strike-through'},{name:'subscript',text:'Subscript',icon:'subscript'},{name:'superscript',text:'Superscript',icon:'superscript'}],(btn,_idx)=>{editor.ui.registry.addToggleButton(btn.name,{tooltip:btn.text,icon:btn.icon,onSetup:onSetupStateToggle(editor,btn.name),onAction:onActionToggleFormat(editor,btn.name)});});for(let i=1;i<=6;i++){const name='h'+i;editor.ui.registry.addToggleButton(name,{text:name.toUpperCase(),tooltip:'Heading '+i,onSetup:onSetupStateToggle(editor,name),onAction:onActionToggleFormat(editor,name)});}};const registerCommandButtons=editor=>{global$1.each([{name:'copy',text:'Copy',action:'Copy',icon:'copy'},{name:'help',text:'Help',action:'mceHelp',icon:'help'},{name:'selectall',text:'Select all',action:'SelectAll',icon:'select-all'},{name:'newdocument',text:'New document',action:'mceNewDocument',icon:'new-document'},{name:'print',text:'Print',action:'mcePrint',icon:'print'}],btn=>{editor.ui.registry.addButton(btn.name,{tooltip:btn.text,icon:btn.icon,onAction:onActionExecCommand(editor,btn.action)});});global$1.each([{name:'cut',text:'Cut',action:'Cut',icon:'cut'},{name:'paste',text:'Paste',action:'Paste',icon:'paste'},{name:'removeformat',text:'Clear formatting',action:'RemoveFormat',icon:'remove-formatting'},{name:'remove',text:'Remove',action:'Delete',icon:'remove'},{name:'hr',text:'Horizontal line',action:'InsertHorizontalRule',icon:'horizontal-rule'}],btn=>{editor.ui.registry.addButton(btn.name,{tooltip:btn.text,icon:btn.icon,onSetup:onSetupEditableToggle(editor),onAction:onActionExecCommand(editor,btn.action)});});};const registerCommandToggleButtons=editor=>{global$1.each([{name:'blockquote',text:'Blockquote',action:'mceBlockQuote',icon:'quote'}],btn=>{editor.ui.registry.addToggleButton(btn.name,{tooltip:btn.text,icon:btn.icon,onAction:onActionExecCommand(editor,btn.action),onSetup:onSetupStateToggle(editor,btn.name)});});};const registerButtons$1=editor=>{registerFormatButtons(editor);registerCommandButtons(editor);registerCommandToggleButtons(editor);};const registerMenuItems$2=editor=>{global$1.each([{name:'newdocument',text:'New document',action:'mceNewDocument',icon:'new-document'},{name:'copy',text:'Copy',action:'Copy',icon:'copy',shortcut:'Meta+C'},{name:'selectall',text:'Select all',action:'SelectAll',icon:'select-all',shortcut:'Meta+A'},{name:'print',text:'Print...',action:'mcePrint',icon:'print',shortcut:'Meta+P'}],menuitem=>{editor.ui.registry.addMenuItem(menuitem.name,{text:menuitem.text,icon:menuitem.icon,shortcut:menuitem.shortcut,onAction:onActionExecCommand(editor,menuitem.action)});});global$1.each([{name:'bold',text:'Bold',action:'Bold',icon:'bold',shortcut:'Meta+B'},{name:'italic',text:'Italic',action:'Italic',icon:'italic',shortcut:'Meta+I'},{name:'underline',text:'Underline',action:'Underline',icon:'underline',shortcut:'Meta+U'},{name:'strikethrough',text:'Strikethrough',action:'Strikethrough',icon:'strike-through'},{name:'subscript',text:'Subscript',action:'Subscript',icon:'subscript'},{name:'superscript',text:'Superscript',action:'Superscript',icon:'superscript'},{name:'removeformat',text:'Clear formatting',action:'RemoveFormat',icon:'remove-formatting'},{name:'cut',text:'Cut',action:'Cut',icon:'cut',shortcut:'Meta+X'},{name:'paste',text:'Paste',action:'Paste',icon:'paste',shortcut:'Meta+V'},{name:'hr',text:'Horizontal line',action:'InsertHorizontalRule',icon:'horizontal-rule'}],menuitem=>{editor.ui.registry.addMenuItem(menuitem.name,{text:menuitem.text,icon:menuitem.icon,shortcut:menuitem.shortcut,onSetup:onSetupEditableToggle(editor),onAction:onActionExecCommand(editor,menuitem.action)});});editor.ui.registry.addMenuItem('codeformat',{text:'Code',icon:'sourcecode',onSetup:onSetupEditableToggle(editor),onAction:onActionToggleFormat(editor,'code')});};const register$3=editor=>{registerButtons$1(editor);registerMenuItems$2(editor);};const onSetupUndoRedoState=(editor,type)=>onSetupEvent(editor,'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode',api=>{api.setEnabled(!editor.mode.isReadOnly()&&editor.undoManager[type]());});const registerMenuItems$1=editor=>{editor.ui.registry.addMenuItem('undo',{text:'Undo',icon:'undo',shortcut:'Meta+Z',onSetup:onSetupUndoRedoState(editor,'hasUndo'),onAction:onActionExecCommand(editor,'undo')});editor.ui.registry.addMenuItem('redo',{text:'Redo',icon:'redo',shortcut:'Meta+Y',onSetup:onSetupUndoRedoState(editor,'hasRedo'),onAction:onActionExecCommand(editor,'redo')});};const registerButtons=editor=>{editor.ui.registry.addButton('undo',{tooltip:'Undo',icon:'undo',enabled:false,onSetup:onSetupUndoRedoState(editor,'hasUndo'),onAction:onActionExecCommand(editor,'undo')});editor.ui.registry.addButton('redo',{tooltip:'Redo',icon:'redo',enabled:false,onSetup:onSetupUndoRedoState(editor,'hasRedo'),onAction:onActionExecCommand(editor,'redo')});};const register$2=editor=>{registerMenuItems$1(editor);registerButtons(editor);};const onSetupVisualAidState=editor=>onSetupEvent(editor,'VisualAid',api=>{api.setActive(editor.hasVisual);});const registerMenuItems=editor=>{editor.ui.registry.addToggleMenuItem('visualaid',{text:'Visual aids',onSetup:onSetupVisualAidState(editor),onAction:onActionExecCommand(editor,'mceToggleVisualAid')});};const registerToolbarButton=editor=>{editor.ui.registry.addButton('visualaid',{tooltip:'Visual aids',text:'Visual aids',onAction:onActionExecCommand(editor,'mceToggleVisualAid')});};const register$1=editor=>{registerToolbarButton(editor);registerMenuItems(editor);};const setup$6=(editor,backstage)=>{register$8(editor);register$3(editor);register$6(editor,backstage);register$2(editor);register$c(editor);register$1(editor);register$5(editor);register$7(editor);register$4(editor);};const patchPipeConfig=config=>isString(config)?config.split(/[ ,]/):config;const option=name=>editor=>editor.options.get(name);const register=editor=>{const registerOption=editor.options.register;registerOption('contextmenu_avoid_overlap',{processor:'string',default:''});registerOption('contextmenu_never_use_native',{processor:'boolean',default:false});registerOption('contextmenu',{processor:value=>{if(value===false){return{value:[],valid:true};}else if(isString(value)||isArrayOf(value,isString)){return{value:patchPipeConfig(value),valid:true};}else{return{valid:false,message:'Must be false or a string.'};}},default:'link linkchecker image editimage table spellchecker configurepermanentpen'});};const shouldNeverUseNative=option('contextmenu_never_use_native');const getAvoidOverlapSelector=option('contextmenu_avoid_overlap');const isContextMenuDisabled=editor=>getContextMenu(editor).length===0;const getContextMenu=editor=>{const contextMenus=editor.ui.registry.getAll().contextMenus;const contextMenu=editor.options.get('contextmenu');if(editor.options.isSet('contextmenu')){return contextMenu;}else{return filter$2(contextMenu,item=>has$2(contextMenus,item));}};const nu=(x,y)=>({type:'makeshift',x,y});const transpose=(pos,dx,dy)=>{return nu(pos.x+dx,pos.y+dy);};const isTouchEvent$1=e=>e.type==='longpress'||e.type.indexOf('touch')===0;const fromPageXY=e=>{if(isTouchEvent$1(e)){const touch=e.touches[0];return nu(touch.pageX,touch.pageY);}else{return nu(e.pageX,e.pageY);}};const fromClientXY=e=>{if(isTouchEvent$1(e)){const touch=e.touches[0];return nu(touch.clientX,touch.clientY);}else{return nu(e.clientX,e.clientY);}};const transposeContentAreaContainer=(element,pos)=>{const containerPos=global$7.DOM.getPos(element);return transpose(pos,containerPos.x,containerPos.y);};const getPointAnchor=(editor,e)=>{if(e.type==='contextmenu'||e.type==='longpress'){if(editor.inline){return fromPageXY(e);}else{return transposeContentAreaContainer(editor.getContentAreaContainer(),fromClientXY(e));}}else{return getSelectionAnchor(editor);}};const getSelectionAnchor=editor=>{return{type:'selection',root:SugarElement.fromDom(editor.selection.getNode())};};const getNodeAnchor=editor=>({type:'node',node:Optional.some(SugarElement.fromDom(editor.selection.getNode())),root:SugarElement.fromDom(editor.getBody())});const getAnchorSpec$1=(editor,e,anchorType)=>{switch(anchorType){case'node':return getNodeAnchor(editor);case'point':return getPointAnchor(editor,e);case'selection':return getSelectionAnchor(editor);}};const initAndShow$1=(editor,e,buildMenu,backstage,contextmenu,anchorType)=>{const items=buildMenu();const anchorSpec=getAnchorSpec$1(editor,e,anchorType);build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:Optional.none()}).map(menuData=>{e.preventDefault();InlineView.showMenuAt(contextmenu,{anchor:anchorSpec},{menu:{markers:markers('normal')},data:menuData});});};const layouts={onLtr:()=>[south$2,southeast$2,southwest$2,northeast$2,northwest$2,north$2,north,south,northeast,southeast,northwest,southwest],onRtl:()=>[south$2,southwest$2,southeast$2,northwest$2,northeast$2,north$2,north,south,northwest,southwest,northeast,southeast]};const bubbleSize=12;const bubbleAlignments={valignCentre:[],alignCentre:[],alignLeft:['tox-pop--align-left'],alignRight:['tox-pop--align-right'],right:['tox-pop--right'],left:['tox-pop--left'],bottom:['tox-pop--bottom'],top:['tox-pop--top']};const isTouchWithinSelection=(editor,e)=>{const selection=editor.selection;if(selection.isCollapsed()||e.touches.length<1){return false;}else{const touch=e.touches[0];const rng=selection.getRng();const rngRectOpt=getFirstRect(editor.getWin(),SimSelection.domRange(rng));return rngRectOpt.exists(rngRect=>rngRect.left<=touch.clientX&&rngRect.right>=touch.clientX&&rngRect.top<=touch.clientY&&rngRect.bottom>=touch.clientY);}};const setupiOSOverrides=editor=>{const originalSelection=editor.selection.getRng();const selectionReset=()=>{global$9.setEditorTimeout(editor,()=>{editor.selection.setRng(originalSelection);},10);unbindEventListeners();};editor.once('touchend',selectionReset);const preventMousedown=e=>{e.preventDefault();e.stopImmediatePropagation();};editor.on('mousedown',preventMousedown,true);const clearSelectionReset=()=>unbindEventListeners();editor.once('longpresscancel',clearSelectionReset);const unbindEventListeners=()=>{editor.off('touchend',selectionReset);editor.off('longpresscancel',clearSelectionReset);editor.off('mousedown',preventMousedown);};};const getAnchorSpec=(editor,e,anchorType)=>{const anchorSpec=getAnchorSpec$1(editor,e,anchorType);const bubbleYOffset=anchorType==='point'?bubbleSize:0;return{bubble:nu$5(0,bubbleYOffset,bubbleAlignments),layouts,overrides:{maxWidthFunction:expandable(),maxHeightFunction:expandable$1()},...anchorSpec};};const show=(editor,e,items,backstage,contextmenu,anchorType,highlightImmediately)=>{const anchorSpec=getAnchorSpec(editor,e,anchorType);build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:true,search:Optional.none()}).map(menuData=>{e.preventDefault();const highlightOnOpen=highlightImmediately?HighlightOnOpen.HighlightMenuAndItem:HighlightOnOpen.HighlightNone;InlineView.showMenuWithinBounds(contextmenu,{anchor:anchorSpec},{menu:{markers:markers('normal'),highlightOnOpen},data:menuData,type:'horizontal'},()=>Optional.some(getContextToolbarBounds(editor,backstage.shared,anchorType==='node'?'node':'selection')));editor.dispatch(hideContextToolbarEvent);});};const initAndShow=(editor,e,buildMenu,backstage,contextmenu,anchorType)=>{const detection=detect$2();const isiOS=detection.os.isiOS();const isMacOS=detection.os.isMacOS();const isAndroid=detection.os.isAndroid();const isTouch=detection.deviceType.isTouch();const shouldHighlightImmediately=()=>!(isAndroid||isiOS||isMacOS&&isTouch);const open=()=>{const items=buildMenu();show(editor,e,items,backstage,contextmenu,anchorType,shouldHighlightImmediately());};if((isMacOS||isiOS)&&anchorType!=='node'){const openiOS=()=>{setupiOSOverrides(editor);open();};if(isTouchWithinSelection(editor,e)){openiOS();}else{editor.once('selectionchange',openiOS);editor.once('touchend',()=>editor.off('selectionchange',openiOS));}}else{open();}};const isSeparator=item=>isString(item)?item==='|':item.type==='separator';const separator={type:'separator'};const makeContextItem=item=>{const commonMenuItem=item=>({text:item.text,icon:item.icon,enabled:item.enabled,shortcut:item.shortcut});if(isString(item)){return item;}else{switch(item.type){case'separator':return separator;case'submenu':return{type:'nestedmenuitem',...commonMenuItem(item),getSubmenuItems:()=>{const items=item.getSubmenuItems();if(isString(items)){return items;}else{return map$2(items,makeContextItem);}}};default:const commonItem=item;return{type:'menuitem',...commonMenuItem(commonItem),onAction:noarg(commonItem.onAction)};}}};const addContextMenuGroup=(xs,groupItems)=>{if(groupItems.length===0){return xs;}const lastMenuItem=last$1(xs).filter(item=>!isSeparator(item));const before=lastMenuItem.fold(()=>[],_=>[separator]);return xs.concat(before).concat(groupItems).concat([separator]);};const generateContextMenu=(contextMenus,menuConfig,selectedElement)=>{const sections=foldl(menuConfig,(acc,name)=>{return get$g(contextMenus,name.toLowerCase()).map(menu=>{const items=menu.update(selectedElement);if(isString(items)&&isNotEmpty(trim$1(items))){return addContextMenuGroup(acc,items.split(' '));}else if(isArray(items)&&items.length>0){const allItems=map$2(items,makeContextItem);return addContextMenuGroup(acc,allItems);}else{return acc;}}).getOrThunk(()=>acc.concat([name]));},[]);if(sections.length>0&&isSeparator(sections[sections.length-1])){sections.pop();}return sections;};const isNativeOverrideKeyEvent=(editor,e)=>e.ctrlKey&&!shouldNeverUseNative(editor);const isTouchEvent=e=>e.type==='longpress'||has$2(e,'touches');const isTriggeredByKeyboard=(editor,e)=>!isTouchEvent(e)&&(e.button!==2||e.target===editor.getBody()&&e.pointerType==='');const getSelectedElement=(editor,e)=>isTriggeredByKeyboard(editor,e)?editor.selection.getStart(true):e.target;const getAnchorType=(editor,e)=>{const selector=getAvoidOverlapSelector(editor);const anchorType=isTriggeredByKeyboard(editor,e)?'selection':'point';if(isNotEmpty(selector)){const target=getSelectedElement(editor,e);const selectorExists=closest(SugarElement.fromDom(target),selector);return selectorExists?'node':anchorType;}else{return anchorType;}};const setup$5=(editor,lazySink,backstage)=>{const detection=detect$2();const isTouch=detection.deviceType.isTouch;const contextmenu=build$1(InlineView.sketch({dom:{tag:'div'},lazySink,onEscape:()=>editor.focus(),onShow:()=>backstage.setContextMenuState(true),onHide:()=>backstage.setContextMenuState(false),fireDismissalEventInstead:{},inlineBehaviours:derive$1([config('dismissContextMenu',[run$1(dismissRequested(),(comp,_se)=>{Sandboxing.close(comp);editor.focus();})])])}));const hideContextMenu=()=>InlineView.hide(contextmenu);const showContextMenu=e=>{if(shouldNeverUseNative(editor)){e.preventDefault();}if(isNativeOverrideKeyEvent(editor,e)||isContextMenuDisabled(editor)){return;}const anchorType=getAnchorType(editor,e);const buildMenu=()=>{const selectedElement=getSelectedElement(editor,e);const registry=editor.ui.registry.getAll();const menuConfig=getContextMenu(editor);return generateContextMenu(registry.contextMenus,menuConfig,selectedElement);};const initAndShow$2=isTouch()?initAndShow:initAndShow$1;initAndShow$2(editor,e,buildMenu,backstage,contextmenu,anchorType);};editor.on('init',()=>{const hideEvents='ResizeEditor ScrollContent ScrollWindow longpresscancel'+(isTouch()?'':' ResizeWindow');editor.on(hideEvents,hideContextMenu);editor.on('longpress contextmenu',showContextMenu);});};const adt=Adt.generate([{offset:['x','y']},{absolute:['x','y']},{fixed:['x','y']}]);const subtract=change=>point=>point.translate(-change.left,-change.top);const add=change=>point=>point.translate(change.left,change.top);const transform=changes=>(x,y)=>foldl(changes,(rest,f)=>f(rest),SugarPosition(x,y));const asFixed=(coord,scroll,origin)=>coord.fold(transform([add(origin),subtract(scroll)]),transform([subtract(scroll)]),transform([]));const asAbsolute=(coord,scroll,origin)=>coord.fold(transform([add(origin)]),transform([]),transform([add(scroll)]));const asOffset=(coord,scroll,origin)=>coord.fold(transform([]),transform([subtract(origin)]),transform([add(scroll),subtract(origin)]));const withinRange=(coord1,coord2,xRange,yRange,scroll,origin)=>{const a1=asAbsolute(coord1,scroll,origin);const a2=asAbsolute(coord2,scroll,origin);return Math.abs(a1.left-a2.left)<=xRange&&Math.abs(a1.top-a2.top)<=yRange;};const getDeltas=(coord1,coord2,xRange,yRange,scroll,origin)=>{const a1=asAbsolute(coord1,scroll,origin);const a2=asAbsolute(coord2,scroll,origin);const left=Math.abs(a1.left-a2.left);const top=Math.abs(a1.top-a2.top);return SugarPosition(left,top);};const toStyles=(coord,scroll,origin)=>{const stylesOpt=coord.fold((x,y)=>({position:Optional.some('absolute'),left:Optional.some(x+'px'),top:Optional.some(y+'px')}),(x,y)=>({position:Optional.some('absolute'),left:Optional.some(x-origin.left+'px'),top:Optional.some(y-origin.top+'px')}),(x,y)=>({position:Optional.some('fixed'),left:Optional.some(x+'px'),top:Optional.some(y+'px')}));return{right:Optional.none(),bottom:Optional.none(),...stylesOpt};};const translate=(coord,deltaX,deltaY)=>coord.fold((x,y)=>offset(x+deltaX,y+deltaY),(x,y)=>absolute(x+deltaX,y+deltaY),(x,y)=>fixed(x+deltaX,y+deltaY));const absorb=(partialCoord,originalCoord,scroll,origin)=>{const absorbOne=(stencil,nu)=>(optX,optY)=>{const original=stencil(originalCoord,scroll,origin);return nu(optX.getOr(original.left),optY.getOr(original.top));};return partialCoord.fold(absorbOne(asOffset,offset),absorbOne(asAbsolute,absolute),absorbOne(asFixed,fixed));};const offset=adt.offset;const absolute=adt.absolute;const fixed=adt.fixed;const parseAttrToInt=(element,name)=>{const value=get$f(element,name);return isUndefined(value)?NaN:parseInt(value,10);};const get=(component,snapsInfo)=>{const element=component.element;const x=parseAttrToInt(element,snapsInfo.leftAttr);const y=parseAttrToInt(element,snapsInfo.topAttr);return isNaN(x)||isNaN(y)?Optional.none():Optional.some(SugarPosition(x,y));};const set=(component,snapsInfo,pt)=>{const element=component.element;set$9(element,snapsInfo.leftAttr,pt.left+'px');set$9(element,snapsInfo.topAttr,pt.top+'px');};const clear=(component,snapsInfo)=>{const element=component.element;remove$7(element,snapsInfo.leftAttr);remove$7(element,snapsInfo.topAttr);};const getCoords=(component,snapInfo,coord,delta)=>get(component,snapInfo).fold(()=>coord,fixed$1=>fixed(fixed$1.left+delta.left,fixed$1.top+delta.top));const moveOrSnap=(component,snapInfo,coord,delta,scroll,origin)=>{const newCoord=getCoords(component,snapInfo,coord,delta);const snap=snapInfo.mustSnap?findClosestSnap(component,snapInfo,newCoord,scroll,origin):findSnap(component,snapInfo,newCoord,scroll,origin);const fixedCoord=asFixed(newCoord,scroll,origin);set(component,snapInfo,fixedCoord);return snap.fold(()=>({coord:fixed(fixedCoord.left,fixedCoord.top),extra:Optional.none()}),spanned=>({coord:spanned.output,extra:spanned.extra}));};const stopDrag=(component,snapInfo)=>{clear(component,snapInfo);};const findMatchingSnap=(snaps,newCoord,scroll,origin)=>findMap(snaps,snap=>{const sensor=snap.sensor;const inRange=withinRange(newCoord,sensor,snap.range.left,snap.range.top,scroll,origin);return inRange?Optional.some({output:absorb(snap.output,newCoord,scroll,origin),extra:snap.extra}):Optional.none();});const findClosestSnap=(component,snapInfo,newCoord,scroll,origin)=>{const snaps=snapInfo.getSnapPoints(component);const matchSnap=findMatchingSnap(snaps,newCoord,scroll,origin);return matchSnap.orThunk(()=>{const bestSnap=foldl(snaps,(acc,snap)=>{const sensor=snap.sensor;const deltas=getDeltas(newCoord,sensor,snap.range.left,snap.range.top,scroll,origin);return acc.deltas.fold(()=>({deltas:Optional.some(deltas),snap:Optional.some(snap)}),bestDeltas=>{const currAvg=(deltas.left+deltas.top)/2;const bestAvg=(bestDeltas.left+bestDeltas.top)/2;if(currAvg<=bestAvg){return{deltas:Optional.some(deltas),snap:Optional.some(snap)};}else{return acc;}});},{deltas:Optional.none(),snap:Optional.none()});return bestSnap.snap.map(snap=>({output:absorb(snap.output,newCoord,scroll,origin),extra:snap.extra}));});};const findSnap=(component,snapInfo,newCoord,scroll,origin)=>{const snaps=snapInfo.getSnapPoints(component);return findMatchingSnap(snaps,newCoord,scroll,origin);};const snapTo$1=(snap,scroll,origin)=>({coord:absorb(snap.output,snap.output,scroll,origin),extra:snap.extra});const snapTo=(component,dragConfig,_state,snap)=>{const target=dragConfig.getTarget(component.element);if(dragConfig.repositionTarget){const doc=owner$4(component.element);const scroll=get$b(doc);const origin=getOrigin(target);const snapPin=snapTo$1(snap,scroll,origin);const styles=toStyles(snapPin.coord,scroll,origin);setOptions(target,styles);}};var DraggingApis=/*#__PURE__*/Object.freeze({__proto__:null,snapTo:snapTo});const initialAttribute='data-initial-z-index';const resetZIndex=blocker=>{parent(blocker.element).filter(isElement$1).each(root=>{getOpt(root,initialAttribute).fold(()=>remove$6(root,'z-index'),zIndex=>set$8(root,'z-index',zIndex));remove$7(root,initialAttribute);});};const changeZIndex=blocker=>{parent(blocker.element).filter(isElement$1).each(root=>{getRaw(root,'z-index').each(zindex=>{set$9(root,initialAttribute,zindex);});set$8(root,'z-index',get$e(blocker.element,'z-index'));});};const instigate=(anyComponent,blocker)=>{anyComponent.getSystem().addToGui(blocker);changeZIndex(blocker);};const discard=blocker=>{resetZIndex(blocker);blocker.getSystem().removeFromGui(blocker);};const createComponent=(component,blockerClass,blockerEvents)=>component.getSystem().build(Container.sketch({dom:{styles:{'left':'0px','top':'0px','width':'100%','height':'100%','position':'fixed','z-index':'1000000000000000'},classes:[blockerClass]},events:blockerEvents}));var SnapSchema=optionObjOf('snaps',[required$1('getSnapPoints'),onHandler('onSensor'),required$1('leftAttr'),required$1('topAttr'),defaulted('lazyViewport',win),defaulted('mustSnap',false)]);const schema$6=[defaulted('useFixed',never),required$1('blockerClass'),defaulted('getTarget',identity),defaulted('onDrag',noop),defaulted('repositionTarget',true),defaulted('onDrop',noop),defaultedFunction('getBounds',win),SnapSchema];const getCurrentCoord=target=>lift3(getRaw(target,'left'),getRaw(target,'top'),getRaw(target,'position'),(left,top,position)=>{const nu=position==='fixed'?fixed:offset;return nu(parseInt(left,10),parseInt(top,10));}).getOrThunk(()=>{const location=absolute$3(target);return absolute(location.left,location.top);});const clampCoords=(component,coords,scroll,origin,startData)=>{const bounds=startData.bounds;const absoluteCoord=asAbsolute(coords,scroll,origin);const newX=clamp(absoluteCoord.left,bounds.x,bounds.x+bounds.width-startData.width);const newY=clamp(absoluteCoord.top,bounds.y,bounds.y+bounds.height-startData.height);const newCoords=absolute(newX,newY);return coords.fold(()=>{const offset$1=asOffset(newCoords,scroll,origin);return offset(offset$1.left,offset$1.top);},constant$1(newCoords),()=>{const fixed$1=asFixed(newCoords,scroll,origin);return fixed(fixed$1.left,fixed$1.top);});};const calcNewCoord=(component,optSnaps,currentCoord,scroll,origin,delta,startData)=>{const newCoord=optSnaps.fold(()=>{const translated=translate(currentCoord,delta.left,delta.top);const fixedCoord=asFixed(translated,scroll,origin);return fixed(fixedCoord.left,fixedCoord.top);},snapInfo=>{const snapping=moveOrSnap(component,snapInfo,currentCoord,delta,scroll,origin);snapping.extra.each(extra=>{snapInfo.onSensor(component,extra);});return snapping.coord;});return clampCoords(component,newCoord,scroll,origin,startData);};const dragBy=(component,dragConfig,startData,delta)=>{const target=dragConfig.getTarget(component.element);if(dragConfig.repositionTarget){const doc=owner$4(component.element);const scroll=get$b(doc);const origin=getOrigin(target);const currentCoord=getCurrentCoord(target);const newCoord=calcNewCoord(component,dragConfig.snaps,currentCoord,scroll,origin,delta,startData);const styles=toStyles(newCoord,scroll,origin);setOptions(target,styles);}dragConfig.onDrag(component,target,delta);};const calcStartData=(dragConfig,comp)=>({bounds:dragConfig.getBounds(),height:getOuter$2(comp.element),width:getOuter$1(comp.element)});const move=(component,dragConfig,dragState,dragMode,event)=>{const delta=dragState.update(dragMode,event);const dragStartData=dragState.getStartData().getOrThunk(()=>calcStartData(dragConfig,component));delta.each(dlt=>{dragBy(component,dragConfig,dragStartData,dlt);});};const stop=(component,blocker,dragConfig,dragState)=>{blocker.each(discard);dragConfig.snaps.each(snapInfo=>{stopDrag(component,snapInfo);});const target=dragConfig.getTarget(component.element);dragState.reset();dragConfig.onDrop(component,target);};const handlers=events=>(dragConfig,dragState)=>{const updateStartState=comp=>{dragState.setStartData(calcStartData(dragConfig,comp));};return derive$2([run$1(windowScroll(),comp=>{dragState.getStartData().each(()=>updateStartState(comp));}),...events(dragConfig,dragState,updateStartState)]);};const init$3=dragApi=>derive$2([run$1(mousedown(),dragApi.forceDrop),run$1(mouseup(),dragApi.drop),run$1(mousemove(),(comp,simulatedEvent)=>{dragApi.move(simulatedEvent.event);}),run$1(mouseout(),dragApi.delayDrop)]);const getData$1=event=>Optional.from(SugarPosition(event.x,event.y));const getDelta$1=(old,nu)=>SugarPosition(nu.left-old.left,nu.top-old.top);var MouseData=/*#__PURE__*/Object.freeze({__proto__:null,getData:getData$1,getDelta:getDelta$1});const events$3=(dragConfig,dragState,updateStartState)=>[run$1(mousedown(),(component,simulatedEvent)=>{const raw=simulatedEvent.event.raw;if(raw.button!==0){return;}simulatedEvent.stop();const stop$1=()=>stop(component,Optional.some(blocker),dragConfig,dragState);const delayDrop=DelayedFunction(stop$1,200);const dragApi={drop:stop$1,delayDrop:delayDrop.schedule,forceDrop:stop$1,move:event=>{delayDrop.cancel();move(component,dragConfig,dragState,MouseData,event);}};const blocker=createComponent(component,dragConfig.blockerClass,init$3(dragApi));const start=()=>{updateStartState(component);instigate(component,blocker);};start();})];const schema$5=[...schema$6,output$1('dragger',{handlers:handlers(events$3)})];const init$2=dragApi=>derive$2([run$1(touchstart(),dragApi.forceDrop),run$1(touchend(),dragApi.drop),run$1(touchcancel(),dragApi.drop),run$1(touchmove(),(comp,simulatedEvent)=>{dragApi.move(simulatedEvent.event);})]);const getDataFrom=touches=>{const touch=touches[0];return Optional.some(SugarPosition(touch.clientX,touch.clientY));};const getData=event=>{const raw=event.raw;const touches=raw.touches;return touches.length===1?getDataFrom(touches):Optional.none();};const getDelta=(old,nu)=>SugarPosition(nu.left-old.left,nu.top-old.top);var TouchData=/*#__PURE__*/Object.freeze({__proto__:null,getData:getData,getDelta:getDelta});const events$2=(dragConfig,dragState,updateStartState)=>{const blockerSingleton=value$2();const stopBlocking=component=>{stop(component,blockerSingleton.get(),dragConfig,dragState);blockerSingleton.clear();};return[run$1(touchstart(),(component,simulatedEvent)=>{simulatedEvent.stop();const stop=()=>stopBlocking(component);const dragApi={drop:stop,delayDrop:noop,forceDrop:stop,move:event=>{move(component,dragConfig,dragState,TouchData,event);}};const blocker=createComponent(component,dragConfig.blockerClass,init$2(dragApi));blockerSingleton.set(blocker);const start=()=>{updateStartState(component);instigate(component,blocker);};start();}),run$1(touchmove(),(component,simulatedEvent)=>{simulatedEvent.stop();move(component,dragConfig,dragState,TouchData,simulatedEvent.event);}),run$1(touchend(),(component,simulatedEvent)=>{simulatedEvent.stop();stopBlocking(component);}),run$1(touchcancel(),stopBlocking)];};const schema$4=[...schema$6,output$1('dragger',{handlers:handlers(events$2)})];const events$1=(dragConfig,dragState,updateStartState)=>[...events$3(dragConfig,dragState,updateStartState),...events$2(dragConfig,dragState,updateStartState)];const schema$3=[...schema$6,output$1('dragger',{handlers:handlers(events$1)})];const mouse=schema$5;const touch=schema$4;const mouseOrTouch=schema$3;var DraggingBranches=/*#__PURE__*/Object.freeze({__proto__:null,mouse:mouse,touch:touch,mouseOrTouch:mouseOrTouch});const init$1=()=>{let previous=Optional.none();let startData=Optional.none();const reset=()=>{previous=Optional.none();startData=Optional.none();};const calculateDelta=(mode,nu)=>{const result=previous.map(old=>mode.getDelta(old,nu));previous=Optional.some(nu);return result;};const update=(mode,dragEvent)=>mode.getData(dragEvent).bind(nuData=>calculateDelta(mode,nuData));const setStartData=data=>{startData=Optional.some(data);};const getStartData=()=>startData;const readState=constant$1({});return nu$8({readState,reset,update,getStartData,setStartData});};var DragState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$1});const Dragging=createModes({branchKey:'mode',branches:DraggingBranches,name:'dragging',active:{events:(dragConfig,dragState)=>{const dragger=dragConfig.dragger;return dragger.handlers(dragConfig,dragState);}},extra:{snap:sConfig=>({sensor:sConfig.sensor,range:sConfig.range,output:sConfig.output,extra:Optional.from(sConfig.extra)})},state:DragState,apis:DraggingApis});const snapWidth=40;const snapOffset=snapWidth/2;const calcSnap=(selectorOpt,td,x,y,width,height)=>selectorOpt.fold(()=>Dragging.snap({sensor:absolute(x-snapOffset,y-snapOffset),range:SugarPosition(width,height),output:absolute(Optional.some(x),Optional.some(y)),extra:{td}}),selectorHandle=>{const sensorLeft=x-snapOffset;const sensorTop=y-snapOffset;const sensorWidth=snapWidth;const sensorHeight=snapWidth;const rect=selectorHandle.element.dom.getBoundingClientRect();return Dragging.snap({sensor:absolute(sensorLeft,sensorTop),range:SugarPosition(sensorWidth,sensorHeight),output:absolute(Optional.some(x-rect.width/2),Optional.some(y-rect.height/2)),extra:{td}});});const getSnapsConfig=(getSnapPoints,cell,onChange)=>{const isSameCell=(cellOpt,td)=>cellOpt.exists(currentTd=>eq(currentTd,td));return{getSnapPoints,leftAttr:'data-drag-left',topAttr:'data-drag-top',onSensor:(component,extra)=>{const td=extra.td;if(!isSameCell(cell.get(),td)){cell.set(td);onChange(td);}},mustSnap:true};};const createSelector=snaps=>record(Button.sketch({dom:{tag:'div',classes:['tox-selector']},buttonBehaviours:derive$1([Dragging.config({mode:'mouseOrTouch',blockerClass:'blocker',snaps}),Unselecting.config({})]),eventOrder:{mousedown:['dragging','alloy.base.behaviour'],touchstart:['dragging','alloy.base.behaviour']}}));const setup$4=(editor,sink)=>{const tlTds=Cell([]);const brTds=Cell([]);const isVisible=Cell(false);const startCell=value$2();const finishCell=value$2();const getTopLeftSnap=td=>{const box=absolute$2(td);return calcSnap(memTopLeft.getOpt(sink),td,box.x,box.y,box.width,box.height);};const getTopLeftSnaps=()=>map$2(tlTds.get(),td=>getTopLeftSnap(td));const getBottomRightSnap=td=>{const box=absolute$2(td);return calcSnap(memBottomRight.getOpt(sink),td,box.right,box.bottom,box.width,box.height);};const getBottomRightSnaps=()=>map$2(brTds.get(),td=>getBottomRightSnap(td));const topLeftSnaps=getSnapsConfig(getTopLeftSnaps,startCell,start=>{finishCell.get().each(finish=>{editor.dispatch('TableSelectorChange',{start,finish});});});const bottomRightSnaps=getSnapsConfig(getBottomRightSnaps,finishCell,finish=>{startCell.get().each(start=>{editor.dispatch('TableSelectorChange',{start,finish});});});const memTopLeft=createSelector(topLeftSnaps);const memBottomRight=createSelector(bottomRightSnaps);const topLeft=build$1(memTopLeft.asSpec());const bottomRight=build$1(memBottomRight.asSpec());const showOrHideHandle=(selector,cell,isAbove,isBelow)=>{const cellRect=cell.dom.getBoundingClientRect();remove$6(selector.element,'display');const viewportHeight=defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;const aboveViewport=isAbove(cellRect);const belowViewport=isBelow(cellRect,viewportHeight);if(aboveViewport||belowViewport){set$8(selector.element,'display','none');}};const snapTo=(selector,cell,getSnapConfig,pos)=>{const snap=getSnapConfig(cell);Dragging.snapTo(selector,snap);const isAbove=rect=>rect[pos]<0;const isBelow=(rect,viewportHeight)=>rect[pos]>viewportHeight;showOrHideHandle(selector,cell,isAbove,isBelow);};const snapTopLeft=cell=>snapTo(topLeft,cell,getTopLeftSnap,'top');const snapLastTopLeft=()=>startCell.get().each(snapTopLeft);const snapBottomRight=cell=>snapTo(bottomRight,cell,getBottomRightSnap,'bottom');const snapLastBottomRight=()=>finishCell.get().each(snapBottomRight);if(detect$2().deviceType.isTouch()){editor.on('TableSelectionChange',e=>{if(!isVisible.get()){attach(sink,topLeft);attach(sink,bottomRight);isVisible.set(true);}startCell.set(e.start);finishCell.set(e.finish);e.otherCells.each(otherCells=>{tlTds.set(otherCells.upOrLeftCells);brTds.set(otherCells.downOrRightCells);snapTopLeft(e.start);snapBottomRight(e.finish);});});editor.on('ResizeEditor ResizeWindow ScrollContent',()=>{snapLastTopLeft();snapLastBottomRight();});editor.on('TableSelectionClear',()=>{if(isVisible.get()){detach(topLeft);detach(bottomRight);isVisible.set(false);}startCell.clear();finishCell.clear();});}};var Logo=\"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";const isHidden=elm=>elm.nodeName==='BR'||!!elm.getAttribute('data-mce-bogus')||elm.getAttribute('data-mce-type')==='bookmark';const renderElementPath=(editor,settings,providersBackstage)=>{var _a;const delimiter=(_a=settings.delimiter)!==null&&_a!==void 0?_a:'\\u203A';const renderElement=(name,element,index)=>Button.sketch({dom:{tag:'div',classes:['tox-statusbar__path-item'],attributes:{'data-index':index,'aria-level':index+1}},components:[text$2(name)],action:_btn=>{editor.focus();editor.selection.select(element);editor.nodeChanged();},buttonBehaviours:derive$1([DisablingConfigs.button(providersBackstage.isDisabled),receivingConfig()])});const renderDivider=()=>({dom:{tag:'div',classes:['tox-statusbar__path-divider'],attributes:{'aria-hidden':true}},components:[text$2(` ${delimiter} `)]});const renderPathData=data=>foldl(data,(acc,path,index)=>{const element=renderElement(path.name,path.element,index);if(index===0){return acc.concat([element]);}else{return acc.concat([renderDivider(),element]);}},[]);const updatePath=parents=>{const newPath=[];let i=parents.length;while(i-->0){const parent=parents[i];if(parent.nodeType===1&&!isHidden(parent)){const args=fireResolveName(editor,parent);if(!args.isDefaultPrevented()){newPath.push({name:args.name,element:parent});}if(args.isPropagationStopped()){break;}}}return newPath;};return{dom:{tag:'div',classes:['tox-statusbar__path'],attributes:{role:'navigation'}},behaviours:derive$1([Keying.config({mode:'flow',selector:'div[role=button]'}),Disabling.config({disabled:providersBackstage.isDisabled}),receivingConfig(),Tabstopping.config({}),Replacing.config({}),config('elementPathEvents',[runOnAttached((comp,_e)=>{editor.shortcuts.add('alt+F11','focus statusbar elementpath',()=>Keying.focusIn(comp));editor.on('NodeChange',e=>{const newPath=updatePath(e.parents);const newChildren=newPath.length>0?renderPathData(newPath):[];Replacing.set(comp,newChildren);});})])]),components:[]};};var ResizeTypes;(function(ResizeTypes){ResizeTypes[ResizeTypes['None']=0]='None';ResizeTypes[ResizeTypes['Both']=1]='Both';ResizeTypes[ResizeTypes['Vertical']=2]='Vertical';})(ResizeTypes||(ResizeTypes={}));const getDimensions=(editor,deltas,resizeType,originalHeight,originalWidth)=>{const dimensions={height:calcCappedSize(originalHeight+deltas.top,getMinHeightOption(editor),getMaxHeightOption(editor))};if(resizeType===ResizeTypes.Both){dimensions.width=calcCappedSize(originalWidth+deltas.left,getMinWidthOption(editor),getMaxWidthOption(editor));}return dimensions;};const resize=(editor,deltas,resizeType)=>{const container=SugarElement.fromDom(editor.getContainer());const dimensions=getDimensions(editor,deltas,resizeType,get$d(container),get$c(container));each(dimensions,(val,dim)=>{if(isNumber(val)){set$8(container,dim,numToPx(val));}});fireResizeEditor(editor);};const getResizeType=editor=>{const resize=getResize(editor);if(resize===false){return ResizeTypes.None;}else if(resize==='both'){return ResizeTypes.Both;}else{return ResizeTypes.Vertical;}};const keyboardHandler=(editor,resizeType,x,y)=>{const scale=20;const delta=SugarPosition(x*scale,y*scale);resize(editor,delta,resizeType);return Optional.some(true);};const renderResizeHandler=(editor,providersBackstage)=>{const resizeType=getResizeType(editor);if(resizeType===ResizeTypes.None){return Optional.none();}const resizeLabel=resizeType===ResizeTypes.Both?'Press the arrow keys to resize the editor.':'Press the Up and Down arrow keys to resize the editor.';return Optional.some(render$3('resize-handle',{tag:'div',classes:['tox-statusbar__resize-handle'],attributes:{'title':providersBackstage.translate('Resize'),'aria-label':providersBackstage.translate(resizeLabel)},behaviours:[Dragging.config({mode:'mouse',repositionTarget:false,onDrag:(_comp,_target,delta)=>resize(editor,delta,resizeType),blockerClass:'tox-blocker'}),Keying.config({mode:'special',onLeft:()=>keyboardHandler(editor,resizeType,-1,0),onRight:()=>keyboardHandler(editor,resizeType,1,0),onUp:()=>keyboardHandler(editor,resizeType,0,-1),onDown:()=>keyboardHandler(editor,resizeType,0,1)}),Tabstopping.config({}),Focusing.config({})]},providersBackstage.icons));};const renderWordCount=(editor,providersBackstage)=>{const replaceCountText=(comp,count,mode)=>Replacing.set(comp,[text$2(providersBackstage.translate(['{0} '+mode,count[mode]]))]);return Button.sketch({dom:{tag:'button',classes:['tox-statusbar__wordcount']},components:[],buttonBehaviours:derive$1([DisablingConfigs.button(providersBackstage.isDisabled),receivingConfig(),Tabstopping.config({}),Replacing.config({}),Representing.config({store:{mode:'memory',initialValue:{mode:'words',count:{words:0,characters:0}}}}),config('wordcount-events',[runOnExecute$1(comp=>{const currentVal=Representing.getValue(comp);const newMode=currentVal.mode==='words'?'characters':'words';Representing.setValue(comp,{mode:newMode,count:currentVal.count});replaceCountText(comp,currentVal.count,newMode);}),runOnAttached(comp=>{editor.on('wordCountUpdate',e=>{const{mode}=Representing.getValue(comp);Representing.setValue(comp,{mode,count:e.wordCount});replaceCountText(comp,e.wordCount,mode);});})])]),eventOrder:{[execute$5()]:['disabling','alloy.base.behaviour','wordcount-events']}});};const renderStatusbar=(editor,providersBackstage)=>{const renderBranding=()=>{return{dom:{tag:'span',classes:['tox-statusbar__branding']},components:[{dom:{tag:'a',attributes:{'href':'https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6','rel':'noopener','target':'_blank','aria-label':global$8.translate(['Powered by {0}','Tiny'])},innerHtml:Logo.trim()},behaviours:derive$1([Focusing.config({})])}]};};const renderHelpAccessibility=()=>{const shortcutText=convertText('Alt+0');const text=`Press {0} for help`;return{dom:{tag:'div',classes:['tox-statusbar__help-text']},components:[text$2(global$8.translate([text,shortcutText]))]};};const renderRightContainer=()=>{const components=[];if(editor.hasPlugin('wordcount')){components.push(renderWordCount(editor,providersBackstage));}if(useBranding(editor)){components.push(renderBranding());}return{dom:{tag:'div',classes:['tox-statusbar__right-container']},components};};const getTextComponents=()=>{const components=[];const shouldRenderHelp=useHelpAccessibility(editor);const shouldRenderElementPath=useElementPath(editor);const shouldRenderRightContainer=useBranding(editor)||editor.hasPlugin('wordcount');const getTextComponentClasses=()=>{const flexStart='tox-statusbar__text-container--flex-start';const flexEnd='tox-statusbar__text-container--flex-end';const spaceAround='tox-statusbar__text-container--space-around';if(shouldRenderHelp){const container3Columns='tox-statusbar__text-container-3-cols';if(!shouldRenderRightContainer&&!shouldRenderElementPath){return[container3Columns,spaceAround];}if(shouldRenderRightContainer&&!shouldRenderElementPath){return[container3Columns,flexEnd];}return[container3Columns,flexStart];}return[shouldRenderRightContainer&&!shouldRenderElementPath?flexEnd:flexStart];};if(shouldRenderElementPath){components.push(renderElementPath(editor,{},providersBackstage));}if(shouldRenderHelp){components.push(renderHelpAccessibility());}if(shouldRenderRightContainer){components.push(renderRightContainer());}if(components.length>0){return[{dom:{tag:'div',classes:['tox-statusbar__text-container',...getTextComponentClasses()]},components}];}return[];};const getComponents=()=>{const components=getTextComponents();const resizeHandler=renderResizeHandler(editor,providersBackstage);return components.concat(resizeHandler.toArray());};return{dom:{tag:'div',classes:['tox-statusbar']},components:getComponents()};};const getLazyMothership=(label,singleton)=>singleton.get().getOrDie(`UI for ${label} has not been rendered`);const setup$3=(editor,setupForTheme)=>{const isInline=editor.inline;const mode=isInline?Inline:Iframe;const header=isStickyToolbar(editor)?StickyHeader:StaticHeader;const lazyUiRefs=LazyUiReferences();const lazyMothership=value$2();const lazyDialogMothership=value$2();const lazyPopupMothership=value$2();const platform=detect$2();const isTouch=platform.deviceType.isTouch();const touchPlatformClass='tox-platform-touch';const deviceClasses=isTouch?[touchPlatformClass]:[];const isToolbarBottom=isToolbarLocationBottom(editor);const toolbarMode=getToolbarMode(editor);const memAnchorBar=record({dom:{tag:'div',classes:['tox-anchorbar']}});const memBottomAnchorBar=record({dom:{tag:'div',classes:['tox-bottom-anchorbar']}});const lazyHeader=()=>lazyUiRefs.mainUi.get().map(ui=>ui.outerContainer).bind(OuterContainer.getHeader);const lazyDialogSinkResult=()=>Result.fromOption(lazyUiRefs.dialogUi.get().map(ui=>ui.sink),'UI has not been rendered');const lazyPopupSinkResult=()=>Result.fromOption(lazyUiRefs.popupUi.get().map(ui=>ui.sink),'(popup) UI has not been rendered');const lazyAnchorBar=lazyUiRefs.lazyGetInOuterOrDie('anchor bar',memAnchorBar.getOpt);const lazyBottomAnchorBar=lazyUiRefs.lazyGetInOuterOrDie('bottom anchor bar',memBottomAnchorBar.getOpt);const lazyToolbar=lazyUiRefs.lazyGetInOuterOrDie('toolbar',OuterContainer.getToolbar);const lazyThrobber=lazyUiRefs.lazyGetInOuterOrDie('throbber',OuterContainer.getThrobber);const backstages=init$6({popup:lazyPopupSinkResult,dialog:lazyDialogSinkResult},editor,lazyAnchorBar,lazyBottomAnchorBar);const makeHeaderPart=()=>{const verticalDirAttributes={attributes:{[Attribute]:isToolbarBottom?AttributeValue.BottomToTop:AttributeValue.TopToBottom}};const partMenubar=OuterContainer.parts.menubar({dom:{tag:'div',classes:['tox-menubar']},backstage:backstages.popup,onEscape:()=>{editor.focus();}});const partToolbar=OuterContainer.parts.toolbar({dom:{tag:'div',classes:['tox-toolbar']},getSink:backstages.popup.shared.getSink,providers:backstages.popup.shared.providers,onEscape:()=>{editor.focus();},onToolbarToggled:state=>{fireToggleToolbarDrawer(editor,state);},type:toolbarMode,lazyToolbar,lazyHeader:()=>lazyHeader().getOrDie('Could not find header element'),...verticalDirAttributes});const partMultipleToolbar=OuterContainer.parts['multiple-toolbar']({dom:{tag:'div',classes:['tox-toolbar-overlord']},providers:backstages.popup.shared.providers,onEscape:()=>{editor.focus();},type:toolbarMode});const hasMultipleToolbar=isMultipleToolbars(editor);const hasToolbar=isToolbarEnabled(editor);const hasMenubar=isMenubarEnabled(editor);const shouldHavePromotion=promotionEnabled(editor);const partPromotion=makePromotion();const hasAnyContents=hasMultipleToolbar||hasToolbar||hasMenubar;const getPartToolbar=()=>{if(hasMultipleToolbar){return[partMultipleToolbar];}else if(hasToolbar){return[partToolbar];}else{return[];}};const menubarCollection=shouldHavePromotion?[partPromotion,partMenubar]:[partMenubar];return OuterContainer.parts.header({dom:{tag:'div',classes:['tox-editor-header'].concat(hasAnyContents?[]:['tox-editor-header--empty']),...verticalDirAttributes},components:flatten([hasMenubar?menubarCollection:[],getPartToolbar(),useFixedContainer(editor)?[]:[memAnchorBar.asSpec()]]),sticky:isStickyToolbar(editor),editor,sharedBackstage:backstages.popup.shared});};const makePromotion=()=>{return OuterContainer.parts.promotion({dom:{tag:'div',classes:['tox-promotion']}});};const makeSidebarDefinition=()=>{const partSocket=OuterContainer.parts.socket({dom:{tag:'div',classes:['tox-edit-area']}});const partSidebar=OuterContainer.parts.sidebar({dom:{tag:'div',classes:['tox-sidebar']}});return{dom:{tag:'div',classes:['tox-sidebar-wrap']},components:[partSocket,partSidebar]};};const renderDialogUi=()=>{const uiContainer=getUiContainer(editor);const isGridUiContainer=eq(body(),uiContainer)&&get$e(uiContainer,'display')==='grid';const sinkSpec={dom:{tag:'div',classes:['tox','tox-silver-sink','tox-tinymce-aux'].concat(deviceClasses),attributes:{...(global$8.isRtl()?{dir:'rtl'}:{})}},behaviours:derive$1([Positioning.config({useFixed:()=>header.isDocked(lazyHeader)})])};const reactiveWidthSpec={dom:{styles:{width:document.body.clientWidth+'px'}},events:derive$2([run$1(windowResize(),comp=>{set$8(comp.element,'width',document.body.clientWidth+'px');})])};const sink=build$1(deepMerge(sinkSpec,isGridUiContainer?reactiveWidthSpec:{}));const uiMothership=takeover(sink);lazyDialogMothership.set(uiMothership);return{sink,mothership:uiMothership};};const renderPopupUi=()=>{const sinkSpec={dom:{tag:'div',classes:['tox','tox-silver-sink','tox-silver-popup-sink','tox-tinymce-aux'].concat(deviceClasses),attributes:{...(global$8.isRtl()?{dir:'rtl'}:{})}},behaviours:derive$1([Positioning.config({useFixed:()=>header.isDocked(lazyHeader),getBounds:()=>setupForTheme.getPopupSinkBounds()})])};const sink=build$1(sinkSpec);const uiMothership=takeover(sink);lazyPopupMothership.set(uiMothership);return{sink,mothership:uiMothership};};const renderMainUi=()=>{const partHeader=makeHeaderPart();const sidebarContainer=makeSidebarDefinition();const partThrobber=OuterContainer.parts.throbber({dom:{tag:'div',classes:['tox-throbber']},backstage:backstages.popup});const partViewWrapper=OuterContainer.parts.viewWrapper({backstage:backstages.popup});const statusbar=useStatusBar(editor)&&!isInline?Optional.some(renderStatusbar(editor,backstages.popup.shared.providers)):Optional.none();const editorComponents=flatten([isToolbarBottom?[]:[partHeader],isInline?[]:[sidebarContainer],isToolbarBottom?[partHeader]:[]]);const editorContainer=OuterContainer.parts.editorContainer({components:flatten([editorComponents,isInline?[]:[memBottomAnchorBar.asSpec(),...statusbar.toArray()]])});const isHidden=isDistractionFree(editor);const attributes={role:'application',...(global$8.isRtl()?{dir:'rtl'}:{}),...(isHidden?{'aria-hidden':'true'}:{})};const outerContainer=build$1(OuterContainer.sketch({dom:{tag:'div',classes:['tox','tox-tinymce'].concat(isInline?['tox-tinymce-inline']:[]).concat(isToolbarBottom?['tox-tinymce--toolbar-bottom']:[]).concat(deviceClasses),styles:{visibility:'hidden',...(isHidden?{opacity:'0',border:'0'}:{})},attributes},components:[editorContainer,...(isInline?[]:[partViewWrapper]),partThrobber],behaviours:derive$1([receivingConfig(),Disabling.config({disableClass:'tox-tinymce--disabled'}),Keying.config({mode:'cyclic',selector:'.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'})])}));const mothership=takeover(outerContainer);lazyMothership.set(mothership);return{mothership,outerContainer};};const setEditorSize=outerContainer=>{const parsedHeight=numToPx(getHeightWithFallback(editor));const parsedWidth=numToPx(getWidthWithFallback(editor));if(!editor.inline){if(isValidValue$1('div','width',parsedWidth)){set$8(outerContainer.element,'width',parsedWidth);}if(isValidValue$1('div','height',parsedHeight)){set$8(outerContainer.element,'height',parsedHeight);}else{set$8(outerContainer.element,'height','400px');}}return parsedHeight;};const setupShortcutsAndCommands=outerContainer=>{editor.addShortcut('alt+F9','focus menubar',()=>{OuterContainer.focusMenubar(outerContainer);});editor.addShortcut('alt+F10','focus toolbar',()=>{OuterContainer.focusToolbar(outerContainer);});editor.addCommand('ToggleToolbarDrawer',(_ui,options)=>{if(options===null||options===void 0?void 0:options.skipFocus){OuterContainer.toggleToolbarDrawerWithoutFocusing(outerContainer);}else{OuterContainer.toggleToolbarDrawer(outerContainer);}});editor.addQueryStateHandler('ToggleToolbarDrawer',()=>OuterContainer.isToolbarDrawerToggled(outerContainer));};const renderUIWithRefs=uiRefs=>{const{mainUi,popupUi,uiMotherships}=uiRefs;map$1(getToolbarGroups(editor),(toolbarGroupButtonConfig,name)=>{editor.ui.registry.addGroupToolbarButton(name,toolbarGroupButtonConfig);});const{buttons,menuItems,contextToolbars,sidebars,views}=editor.ui.registry.getAll();const toolbarOpt=getMultipleToolbarsOption(editor);const rawUiConfig={menuItems,menus:getMenus(editor),menubar:getMenubar(editor),toolbar:toolbarOpt.getOrThunk(()=>getToolbar(editor)),allowToolbarGroups:toolbarMode===ToolbarMode$1.floating,buttons,sidebar:sidebars,views};setupShortcutsAndCommands(mainUi.outerContainer);setup$b(editor,mainUi.mothership,uiMotherships);header.setup(editor,backstages.popup.shared,lazyHeader);setup$6(editor,backstages.popup);setup$5(editor,backstages.popup.shared.getSink,backstages.popup);setup$8(editor);setup$7(editor,lazyThrobber,backstages.popup.shared);register$9(editor,contextToolbars,popupUi.sink,{backstage:backstages.popup});setup$4(editor,popupUi.sink);const elm=editor.getElement();const height=setEditorSize(mainUi.outerContainer);const args={targetNode:elm,height};return mode.render(editor,uiRefs,rawUiConfig,backstages.popup,args);};const reuseDialogUiForPopuUi=dialogUi=>{lazyPopupMothership.set(dialogUi.mothership);return dialogUi;};const renderUI=()=>{const mainUi=renderMainUi();const dialogUi=renderDialogUi();const popupUi=isSplitUiMode(editor)?renderPopupUi():reuseDialogUiForPopuUi(dialogUi);lazyUiRefs.dialogUi.set(dialogUi);lazyUiRefs.popupUi.set(popupUi);lazyUiRefs.mainUi.set(mainUi);const uiRefs={popupUi,dialogUi,mainUi,uiMotherships:lazyUiRefs.getUiMotherships()};return renderUIWithRefs(uiRefs);};return{popups:{backstage:backstages.popup,getMothership:()=>getLazyMothership('popups',lazyPopupMothership)},dialogs:{backstage:backstages.dialog,getMothership:()=>getLazyMothership('dialogs',lazyDialogMothership)},renderUI};};const labelledBy=(labelledElement,labelElement)=>{const labelId=getOpt(labelledElement,'id').fold(()=>{const id=generate$6('dialog-label');set$9(labelElement,'id',id);return id;},identity);set$9(labelledElement,'aria-labelledby',labelId);};const schema$2=constant$1([required$1('lazySink'),option$3('dragBlockClass'),defaultedFunction('getBounds',win),defaulted('useTabstopAt',always),defaulted('firstTabstop',0),defaulted('eventOrder',{}),field('modalBehaviours',[Keying]),onKeyboardHandler('onExecute'),onStrictKeyboardHandler('onEscape')]);const basic={sketch:identity};const parts$2=constant$1([optional({name:'draghandle',overrides:(detail,spec)=>{return{behaviours:derive$1([Dragging.config({mode:'mouse',getTarget:handle=>{return ancestor(handle,'[role=\"dialog\"]').getOr(handle);},blockerClass:detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n'+JSON.stringify(spec,null,2)).message),getBounds:detail.getDragBounds})])};}}),required({schema:[required$1('dom')],name:'title'}),required({factory:basic,schema:[required$1('dom')],name:'close'}),required({factory:basic,schema:[required$1('dom')],name:'body'}),optional({factory:basic,schema:[required$1('dom')],name:'footer'}),external({factory:{sketch:(spec,detail)=>({...spec,dom:detail.dom,components:detail.components})},schema:[defaulted('dom',{tag:'div',styles:{position:'fixed',left:'0px',top:'0px',right:'0px',bottom:'0px'}}),defaulted('components',[])],name:'blocker'})]);const factory$4=(detail,components,spec,externals)=>{const dialogComp=value$2();const showDialog=dialog=>{dialogComp.set(dialog);const sink=detail.lazySink(dialog).getOrDie();const externalBlocker=externals.blocker();const blocker=sink.getSystem().build({...externalBlocker,components:externalBlocker.components.concat([premade(dialog)]),behaviours:derive$1([Focusing.config({}),config('dialog-blocker-events',[runOnSource(focusin(),()=>{Blocking.isBlocked(dialog)?noop():Keying.focusIn(dialog);})])])});attach(sink,blocker);Keying.focusIn(dialog);};const hideDialog=dialog=>{dialogComp.clear();parent(dialog.element).each(blockerDom=>{dialog.getSystem().getByDom(blockerDom).each(blocker=>{detach(blocker);});});};const getDialogBody=dialog=>getPartOrDie(dialog,detail,'body');const getDialogFooter=dialog=>getPart(dialog,detail,'footer');const setBusy=(dialog,getBusySpec)=>{Blocking.block(dialog,getBusySpec);};const setIdle=dialog=>{Blocking.unblock(dialog);};const modalEventsId=generate$6('modal-events');const eventOrder={...detail.eventOrder,[attachedToDom()]:[modalEventsId].concat(detail.eventOrder['alloy.system.attached']||[])};return{uid:detail.uid,dom:detail.dom,components,apis:{show:showDialog,hide:hideDialog,getBody:getDialogBody,getFooter:getDialogFooter,setIdle,setBusy},eventOrder,domModification:{attributes:{'role':'dialog','aria-modal':'true'}},behaviours:augment(detail.modalBehaviours,[Replacing.config({}),Keying.config({mode:'cyclic',onEnter:detail.onExecute,onEscape:detail.onEscape,useTabstopAt:detail.useTabstopAt,firstTabstop:detail.firstTabstop}),Blocking.config({getRoot:dialogComp.get}),config(modalEventsId,[runOnAttached(c=>{labelledBy(c.element,getPartOrDie(c,detail,'title').element);})])])};};const ModalDialog=composite({name:'ModalDialog',configFields:schema$2(),partFields:parts$2(),factory:factory$4,apis:{show:(apis,dialog)=>{apis.show(dialog);},hide:(apis,dialog)=>{apis.hide(dialog);},getBody:(apis,dialog)=>apis.getBody(dialog),getFooter:(apis,dialog)=>apis.getFooter(dialog),setBusy:(apis,dialog,getBusySpec)=>{apis.setBusy(dialog,getBusySpec);},setIdle:(apis,dialog)=>{apis.setIdle(dialog);}}});const dialogToggleMenuItemSchema=objOf([type,name$1].concat(commonMenuItemFields));const dialogToggleMenuItemDataProcessor=boolean;const baseFooterButtonFields=[generatedName('button'),optionalIcon,defaultedStringEnum('align','end',['start','end']),primary,enabled,optionStringEnum('buttonType',['primary','secondary'])];const dialogFooterButtonFields=[...baseFooterButtonFields,text];const normalFooterButtonFields=[requiredStringEnum('type',['submit','cancel','custom']),...dialogFooterButtonFields];const menuFooterButtonFields=[requiredStringEnum('type',['menu']),optionalText,optionalTooltip,optionalIcon,requiredArrayOf('items',dialogToggleMenuItemSchema),...baseFooterButtonFields];const toggleButtonSpecFields=[...baseFooterButtonFields,requiredStringEnum('type',['togglebutton']),requiredString('tooltip'),optionalIcon,optionalText,defaultedBoolean('active',false)];const dialogFooterButtonSchema=choose$1('type',{submit:normalFooterButtonFields,cancel:normalFooterButtonFields,custom:normalFooterButtonFields,menu:menuFooterButtonFields,togglebutton:toggleButtonSpecFields});const alertBannerFields=[type,text,requiredStringEnum('level',['info','warn','error','success']),icon,defaulted('url','')];const alertBannerSchema=objOf(alertBannerFields);const createBarFields=itemsField=>[type,itemsField];const buttonFields=[type,text,enabled,generatedName('button'),optionalIcon,borderless,optionStringEnum('buttonType',['primary','secondary','toolbar']),primary];const buttonSchema=objOf(buttonFields);const formComponentFields=[type,name$1];const formComponentWithLabelFields=formComponentFields.concat([optionalLabel]);const checkboxFields=formComponentFields.concat([label,enabled]);const checkboxSchema=objOf(checkboxFields);const checkboxDataProcessor=boolean;const collectionFields=formComponentWithLabelFields.concat([defaultedColumns('auto')]);const collectionSchema=objOf(collectionFields);const collectionDataProcessor=arrOfObj([value$1,text,icon]);const colorInputFields=formComponentWithLabelFields.concat([defaultedString('storageKey','default')]);const colorInputSchema=objOf(colorInputFields);const colorInputDataProcessor=string;const colorPickerFields=formComponentWithLabelFields;const colorPickerSchema=objOf(colorPickerFields);const colorPickerDataProcessor=string;const customEditorFields=formComponentFields.concat([defaultedString('tag','textarea'),requiredString('scriptId'),requiredString('scriptUrl'),defaultedPostMsg('settings',undefined)]);const customEditorFieldsOld=formComponentFields.concat([defaultedString('tag','textarea'),requiredFunction('init')]);const customEditorSchema=valueOf(v=>asRaw('customeditor.old',objOfOnly(customEditorFieldsOld),v).orThunk(()=>asRaw('customeditor.new',objOfOnly(customEditorFields),v)));const customEditorDataProcessor=string;const dropZoneFields=formComponentWithLabelFields;const dropZoneSchema=objOf(dropZoneFields);const dropZoneDataProcessor=arrOfVal();const createGridFields=itemsField=>[type,requiredNumber('columns'),itemsField];const htmlPanelFields=[type,requiredString('html'),defaultedStringEnum('presets','presentation',['presentation','document'])];const htmlPanelSchema=objOf(htmlPanelFields);const iframeFields=formComponentWithLabelFields.concat([defaultedBoolean('border',false),defaultedBoolean('sandboxed',true),defaultedBoolean('streamContent',false),defaultedBoolean('transparent',true)]);const iframeSchema=objOf(iframeFields);const iframeDataProcessor=string;const imagePreviewSchema=objOf(formComponentFields.concat([optionString('height')]));const imagePreviewDataProcessor=objOf([requiredString('url'),optionNumber('zoom'),optionNumber('cachedWidth'),optionNumber('cachedHeight')]);const inputFields=formComponentWithLabelFields.concat([optionString('inputMode'),optionString('placeholder'),defaultedBoolean('maximized',false),enabled]);const inputSchema=objOf(inputFields);const inputDataProcessor=string;const createLabelFields=itemsField=>[type,label,itemsField,defaultedStringEnum('align','start',['start','center','end'])];const listBoxSingleItemFields=[text,value$1];const listBoxNestedItemFields=[text,requiredArrayOf('items',thunkOf('items',()=>listBoxItemSchema))];const listBoxItemSchema=oneOf([objOf(listBoxSingleItemFields),objOf(listBoxNestedItemFields)]);const listBoxFields=formComponentWithLabelFields.concat([requiredArrayOf('items',listBoxItemSchema),enabled]);const listBoxSchema=objOf(listBoxFields);const listBoxDataProcessor=string;const selectBoxFields=formComponentWithLabelFields.concat([requiredArrayOfObj('items',[text,value$1]),defaultedNumber('size',1),enabled]);const selectBoxSchema=objOf(selectBoxFields);const selectBoxDataProcessor=string;const sizeInputFields=formComponentWithLabelFields.concat([defaultedBoolean('constrain',true),enabled]);const sizeInputSchema=objOf(sizeInputFields);const sizeInputDataProcessor=objOf([requiredString('width'),requiredString('height')]);const sliderFields=formComponentFields.concat([label,defaultedNumber('min',0),defaultedNumber('max',0)]);const sliderSchema=objOf(sliderFields);const sliderInputDataProcessor=number;const tableFields=[type,requiredArrayOf('header',string),requiredArrayOf('cells',arrOf(string))];const tableSchema=objOf(tableFields);const textAreaFields=formComponentWithLabelFields.concat([optionString('placeholder'),defaultedBoolean('maximized',false),enabled]);const textAreaSchema=objOf(textAreaFields);const textAreaDataProcessor=string;const baseTreeItemFields=[requiredStringEnum('type',['directory','leaf']),title,requiredString('id'),optionOf('menu',MenuButtonSchema)];const treeItemLeafFields=baseTreeItemFields;const treeItemLeafSchema=objOf(treeItemLeafFields);const treeItemDirectoryFields=baseTreeItemFields.concat([requiredArrayOf('children',thunkOf('children',()=>{return choose$2('type',{directory:treeItemDirectorySchema,leaf:treeItemLeafSchema});}))]);const treeItemDirectorySchema=objOf(treeItemDirectoryFields);const treeItemSchema=choose$2('type',{directory:treeItemDirectorySchema,leaf:treeItemLeafSchema});const treeFields=[type,requiredArrayOf('items',treeItemSchema),optionFunction('onLeafAction'),optionFunction('onToggleExpand'),defaultedArrayOf('defaultExpandedIds',[],string),optionString('defaultSelectedId')];const treeSchema=objOf(treeFields);const urlInputFields=formComponentWithLabelFields.concat([defaultedStringEnum('filetype','file',['image','media','file']),enabled,optionString('picker_text')]);const urlInputSchema=objOf(urlInputFields);const urlInputDataProcessor=objOf([value$1,defaultedMeta]);const createItemsField=name=>field$1('items','items',required$2(),arrOf(valueOf(v=>asRaw(`Checking item of ${name}`,itemSchema,v).fold(sErr=>Result.error(formatError(sErr)),passValue=>Result.value(passValue)))));const itemSchema=valueThunk(()=>choose$2('type',{alertbanner:alertBannerSchema,bar:objOf(createBarFields(createItemsField('bar'))),button:buttonSchema,checkbox:checkboxSchema,colorinput:colorInputSchema,colorpicker:colorPickerSchema,dropzone:dropZoneSchema,grid:objOf(createGridFields(createItemsField('grid'))),iframe:iframeSchema,input:inputSchema,listbox:listBoxSchema,selectbox:selectBoxSchema,sizeinput:sizeInputSchema,slider:sliderSchema,textarea:textAreaSchema,urlinput:urlInputSchema,customeditor:customEditorSchema,htmlpanel:htmlPanelSchema,imagepreview:imagePreviewSchema,collection:collectionSchema,label:objOf(createLabelFields(createItemsField('label'))),table:tableSchema,tree:treeSchema,panel:panelSchema}));const panelFields=[type,defaulted('classes',[]),requiredArrayOf('items',itemSchema)];const panelSchema=objOf(panelFields);const tabFields=[generatedName('tab'),title,requiredArrayOf('items',itemSchema)];const tabPanelFields=[type,requiredArrayOfObj('tabs',tabFields)];const tabPanelSchema=objOf(tabPanelFields);const dialogButtonFields=dialogFooterButtonFields;const dialogButtonSchema=dialogFooterButtonSchema;const dialogSchema=objOf([requiredString('title'),requiredOf('body',choose$2('type',{panel:panelSchema,tabpanel:tabPanelSchema})),defaultedString('size','normal'),defaultedArrayOf('buttons',[],dialogButtonSchema),defaulted('initialData',{}),defaultedFunction('onAction',noop),defaultedFunction('onChange',noop),defaultedFunction('onSubmit',noop),defaultedFunction('onClose',noop),defaultedFunction('onCancel',noop),defaultedFunction('onTabChange',noop)]);const createDialog=spec=>asRaw('dialog',dialogSchema,spec);const urlDialogButtonSchema=objOf([requiredStringEnum('type',['cancel','custom']),...dialogButtonFields]);const urlDialogSchema=objOf([requiredString('title'),requiredString('url'),optionNumber('height'),optionNumber('width'),optionArrayOf('buttons',urlDialogButtonSchema),defaultedFunction('onAction',noop),defaultedFunction('onCancel',noop),defaultedFunction('onClose',noop),defaultedFunction('onMessage',noop)]);const createUrlDialog=spec=>asRaw('dialog',urlDialogSchema,spec);const getAllObjects=obj=>{if(isObject(obj)){return[obj].concat(bind$3(values(obj),getAllObjects));}else if(isArray(obj)){return bind$3(obj,getAllObjects);}else{return[];}};const isNamedItem=obj=>isString(obj.type)&&isString(obj.name);const dataProcessors={checkbox:checkboxDataProcessor,colorinput:colorInputDataProcessor,colorpicker:colorPickerDataProcessor,dropzone:dropZoneDataProcessor,input:inputDataProcessor,iframe:iframeDataProcessor,imagepreview:imagePreviewDataProcessor,selectbox:selectBoxDataProcessor,sizeinput:sizeInputDataProcessor,slider:sliderInputDataProcessor,listbox:listBoxDataProcessor,size:sizeInputDataProcessor,textarea:textAreaDataProcessor,urlinput:urlInputDataProcessor,customeditor:customEditorDataProcessor,collection:collectionDataProcessor,togglemenuitem:dialogToggleMenuItemDataProcessor};const getDataProcessor=item=>Optional.from(dataProcessors[item.type]);const getNamedItems=structure=>filter$2(getAllObjects(structure),isNamedItem);const createDataValidator=structure=>{const namedItems=getNamedItems(structure);const fields=bind$3(namedItems,item=>getDataProcessor(item).fold(()=>[],schema=>[requiredOf(item.name,schema)]));return objOf(fields);};const extract=structure=>{var _a;const internalDialog=getOrDie(createDialog(structure));const dataValidator=createDataValidator(structure);const initialData=(_a=structure.initialData)!==null&&_a!==void 0?_a:{};return{internalDialog,dataValidator,initialData};};const DialogManager={open:(factory,structure)=>{const extraction=extract(structure);return factory(extraction.internalDialog,extraction.initialData,extraction.dataValidator);},openUrl:(factory,structure)=>{const internalDialog=getOrDie(createUrlDialog(structure));return factory(internalDialog);},redial:structure=>extract(structure)};const events=(reflectingConfig,reflectingState)=>{const update=(component,data)=>{reflectingConfig.updateState.each(updateState=>{const newState=updateState(component,data);reflectingState.set(newState);});reflectingConfig.renderComponents.each(renderComponents=>{const newComponents=renderComponents(data,reflectingState.get());const replacer=reflectingConfig.reuseDom?withReuse:withoutReuse;replacer(component,newComponents);});};return derive$2([run$1(receive(),(component,message)=>{const receivingData=message;if(!receivingData.universal){const channel=reflectingConfig.channel;if(contains$2(receivingData.channels,channel)){update(component,receivingData.data);}}}),runOnAttached((comp,_se)=>{reflectingConfig.initialData.each(rawData=>{update(comp,rawData);});})]);};var ActiveReflecting=/*#__PURE__*/Object.freeze({__proto__:null,events:events});const getState=(component,replaceConfig,reflectState)=>reflectState;var ReflectingApis=/*#__PURE__*/Object.freeze({__proto__:null,getState:getState});var ReflectingSchema=[required$1('channel'),option$3('renderComponents'),option$3('updateState'),option$3('initialData'),defaultedBoolean('reuseDom',true)];const init=()=>{const cell=Cell(Optional.none());const clear=()=>cell.set(Optional.none());const readState=()=>cell.get().getOr('none');return{readState,get:cell.get,set:cell.set,clear};};var ReflectingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init});const Reflecting=create$4({fields:ReflectingSchema,name:'reflecting',active:ActiveReflecting,apis:ReflectingApis,state:ReflectingState});const toValidValues=values=>{const errors=[];const result={};each(values,(value,name)=>{value.fold(()=>{errors.push(name);},v=>{result[name]=v;});});return errors.length>0?Result.error(errors):Result.value(result);};const renderBodyPanel=(spec,dialogData,backstage)=>{const memForm=record(Form.sketch(parts=>({dom:{tag:'div',classes:['tox-form'].concat(spec.classes)},components:map$2(spec.items,item=>interpretInForm(parts,item,dialogData,backstage))})));return{dom:{tag:'div',classes:['tox-dialog__body']},components:[{dom:{tag:'div',classes:['tox-dialog__body-content']},components:[memForm.asSpec()]}],behaviours:derive$1([Keying.config({mode:'acyclic',useTabstopAt:not(isPseudoStop)}),ComposingConfigs.memento(memForm),memento(memForm,{postprocess:formValue=>toValidValues(formValue).fold(err=>{console.error(err);return{};},identity)}),config('dialog-body-panel',[run$1(focusin(),(comp,se)=>{comp.getSystem().broadcastOn([dialogFocusShiftedChannel],{newFocus:Optional.some(se.event.target)});})])])};};const factory$3=(detail,_spec)=>({uid:detail.uid,dom:detail.dom,components:detail.components,events:events$a(detail.action),behaviours:augment(detail.tabButtonBehaviours,[Focusing.config({}),Keying.config({mode:'execution',useSpace:true,useEnter:true}),Representing.config({store:{mode:'memory',initialValue:detail.value}})]),domModification:detail.domModification});const TabButton=single({name:'TabButton',configFields:[defaulted('uid',undefined),required$1('value'),field$1('dom','dom',mergeWithThunk(()=>({attributes:{'role':'tab','id':generate$6('aria'),'aria-selected':'false'}})),anyValue()),option$3('action'),defaulted('domModification',{}),field('tabButtonBehaviours',[Focusing,Keying,Representing]),required$1('view')],factory:factory$3});const schema$1=constant$1([required$1('tabs'),required$1('dom'),defaulted('clickToDismiss',false),field('tabbarBehaviours',[Highlighting,Keying]),markers$1(['tabClass','selectedClass'])]);const tabsPart=group({factory:TabButton,name:'tabs',unit:'tab',overrides:barDetail=>{const dismissTab$1=(tabbar,button)=>{Highlighting.dehighlight(tabbar,button);emitWith(tabbar,dismissTab(),{tabbar,button});};const changeTab$1=(tabbar,button)=>{Highlighting.highlight(tabbar,button);emitWith(tabbar,changeTab(),{tabbar,button});};return{action:button=>{const tabbar=button.getSystem().getByUid(barDetail.uid).getOrDie();const activeButton=Highlighting.isHighlighted(tabbar,button);const response=(()=>{if(activeButton&&barDetail.clickToDismiss){return dismissTab$1;}else if(!activeButton){return changeTab$1;}else{return noop;}})();response(tabbar,button);},domModification:{classes:[barDetail.markers.tabClass]}};}});const parts$1=constant$1([tabsPart]);const factory$2=(detail,components,_spec,_externals)=>({'uid':detail.uid,'dom':detail.dom,components,'debug.sketcher':'Tabbar','domModification':{attributes:{role:'tablist'}},'behaviours':augment(detail.tabbarBehaviours,[Highlighting.config({highlightClass:detail.markers.selectedClass,itemClass:detail.markers.tabClass,onHighlight:(tabbar,tab)=>{set$9(tab.element,'aria-selected','true');},onDehighlight:(tabbar,tab)=>{set$9(tab.element,'aria-selected','false');}}),Keying.config({mode:'flow',getInitial:tabbar=>{return Highlighting.getHighlighted(tabbar).map(tab=>tab.element);},selector:'.'+detail.markers.tabClass,executeOnMove:true})])});const Tabbar=composite({name:'Tabbar',configFields:schema$1(),partFields:parts$1(),factory:factory$2});const factory$1=(detail,_spec)=>({uid:detail.uid,dom:detail.dom,behaviours:augment(detail.tabviewBehaviours,[Replacing.config({})]),domModification:{attributes:{role:'tabpanel'}}});const Tabview=single({name:'Tabview',configFields:[field('tabviewBehaviours',[Replacing])],factory:factory$1});const schema=constant$1([defaulted('selectFirst',true),onHandler('onChangeTab'),onHandler('onDismissTab'),defaulted('tabs',[]),field('tabSectionBehaviours',[])]);const barPart=required({factory:Tabbar,schema:[required$1('dom'),requiredObjOf('markers',[required$1('tabClass'),required$1('selectedClass')])],name:'tabbar',defaults:detail=>{return{tabs:detail.tabs};}});const viewPart=required({factory:Tabview,name:'tabview'});const parts=constant$1([barPart,viewPart]);const factory=(detail,components,_spec,_externals)=>{const changeTab$1=button=>{const tabValue=Representing.getValue(button);getPart(button,detail,'tabview').each(tabview=>{const tabWithValue=find$5(detail.tabs,t=>t.value===tabValue);tabWithValue.each(tabData=>{const panel=tabData.view();getOpt(button.element,'id').each(id=>{set$9(tabview.element,'aria-labelledby',id);});Replacing.set(tabview,panel);detail.onChangeTab(tabview,button,panel);});});};const changeTabBy=(section,byPred)=>{getPart(section,detail,'tabbar').each(tabbar=>{byPred(tabbar).each(emitExecute);});};return{uid:detail.uid,dom:detail.dom,components,behaviours:get$3(detail.tabSectionBehaviours),events:derive$2(flatten([detail.selectFirst?[runOnAttached((section,_simulatedEvent)=>{changeTabBy(section,Highlighting.getFirst);})]:[],[run$1(changeTab(),(section,simulatedEvent)=>{const button=simulatedEvent.event.button;changeTab$1(button);}),run$1(dismissTab(),(section,simulatedEvent)=>{const button=simulatedEvent.event.button;detail.onDismissTab(section,button);})]])),apis:{getViewItems:section=>{return getPart(section,detail,'tabview').map(tabview=>Replacing.contents(tabview)).getOr([]);},showTab:(section,tabKey)=>{const getTabIfNotActive=tabbar=>{const candidates=Highlighting.getCandidates(tabbar);const optTab=find$5(candidates,c=>Representing.getValue(c)===tabKey);return optTab.filter(tab=>!Highlighting.isHighlighted(tabbar,tab));};changeTabBy(section,getTabIfNotActive);}}};};const TabSection=composite({name:'TabSection',configFields:schema(),partFields:parts(),factory,apis:{getViewItems:(apis,component)=>apis.getViewItems(component),showTab:(apis,component,tabKey)=>{apis.showTab(component,tabKey);}}});const measureHeights=(allTabs,tabview,tabviewComp)=>map$2(allTabs,(_tab,i)=>{Replacing.set(tabviewComp,allTabs[i].view());const rect=tabview.dom.getBoundingClientRect();Replacing.set(tabviewComp,[]);return rect.height;});const getMaxHeight=heights=>head(sort(heights,(a,b)=>{if(a>b){return-1;}else if(a<b){return+1;}else{return 0;}}));const getMaxTabviewHeight=(dialog,tabview,tablist)=>{const documentElement$1=documentElement(dialog).dom;const rootElm=ancestor(dialog,'.tox-dialog-wrap').getOr(dialog);const isFixed=get$e(rootElm,'position')==='fixed';let maxHeight;if(isFixed){maxHeight=Math.max(documentElement$1.clientHeight,window.innerHeight);}else{maxHeight=Math.max(documentElement$1.offsetHeight,documentElement$1.scrollHeight);}const tabviewHeight=get$d(tabview);const isTabListBeside=tabview.dom.offsetLeft>=tablist.dom.offsetLeft+get$c(tablist);const currentTabHeight=isTabListBeside?Math.max(get$d(tablist),tabviewHeight):tabviewHeight;const dialogTopMargin=parseInt(get$e(dialog,'margin-top'),10)||0;const dialogBottomMargin=parseInt(get$e(dialog,'margin-bottom'),10)||0;const dialogHeight=get$d(dialog)+dialogTopMargin+dialogBottomMargin;const chromeHeight=dialogHeight-currentTabHeight;return maxHeight-chromeHeight;};const showTab=(allTabs,comp)=>{head(allTabs).each(tab=>TabSection.showTab(comp,tab.value));};const setTabviewHeight=(tabview,height)=>{set$8(tabview,'height',height+'px');set$8(tabview,'flex-basis',height+'px');};const updateTabviewHeight=(dialogBody,tabview,maxTabHeight)=>{ancestor(dialogBody,'[role=\"dialog\"]').each(dialog=>{descendant(dialog,'[role=\"tablist\"]').each(tablist=>{maxTabHeight.get().map(height=>{set$8(tabview,'height','0');set$8(tabview,'flex-basis','0');return Math.min(height,getMaxTabviewHeight(dialog,tabview,tablist));}).each(height=>{setTabviewHeight(tabview,height);});});});};const getTabview=dialog=>descendant(dialog,'[role=\"tabpanel\"]');const smartMode=allTabs=>{const maxTabHeight=value$2();const extraEvents=[runOnAttached(comp=>{const dialog=comp.element;getTabview(dialog).each(tabview=>{set$8(tabview,'visibility','hidden');comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp=>{const heights=measureHeights(allTabs,tabview,tabviewComp);const maxTabHeightOpt=getMaxHeight(heights);maxTabHeightOpt.fold(maxTabHeight.clear,maxTabHeight.set);});updateTabviewHeight(dialog,tabview,maxTabHeight);remove$6(tabview,'visibility');showTab(allTabs,comp);requestAnimationFrame(()=>{updateTabviewHeight(dialog,tabview,maxTabHeight);});});}),run$1(windowResize(),comp=>{const dialog=comp.element;getTabview(dialog).each(tabview=>{updateTabviewHeight(dialog,tabview,maxTabHeight);});}),run$1(formResizeEvent,(comp,_se)=>{const dialog=comp.element;getTabview(dialog).each(tabview=>{const oldFocus=active$1(getRootNode(tabview));set$8(tabview,'visibility','hidden');const oldHeight=getRaw(tabview,'height').map(h=>parseInt(h,10));remove$6(tabview,'height');remove$6(tabview,'flex-basis');const newHeight=tabview.dom.getBoundingClientRect().height;const hasGrown=oldHeight.forall(h=>newHeight>h);if(hasGrown){maxTabHeight.set(newHeight);updateTabviewHeight(dialog,tabview,maxTabHeight);}else{oldHeight.each(h=>{setTabviewHeight(tabview,h);});}remove$6(tabview,'visibility');oldFocus.each(focus$3);});})];const selectFirst=false;return{extraEvents,selectFirst};};const SendDataToSectionChannel='send-data-to-section';const SendDataToViewChannel='send-data-to-view';const renderTabPanel=(spec,dialogData,backstage)=>{const storedValue=Cell({});const updateDataWithForm=form=>{const formData=Representing.getValue(form);const validData=toValidValues(formData).getOr({});const currentData=storedValue.get();const newData=deepMerge(currentData,validData);storedValue.set(newData);};const setDataOnForm=form=>{const tabData=storedValue.get();Representing.setValue(form,tabData);};const oldTab=Cell(null);const allTabs=map$2(spec.tabs,tab=>{return{value:tab.name,dom:{tag:'div',classes:['tox-dialog__body-nav-item']},components:[text$2(backstage.shared.providers.translate(tab.title))],view:()=>{return[Form.sketch(parts=>({dom:{tag:'div',classes:['tox-form']},components:map$2(tab.items,item=>interpretInForm(parts,item,dialogData,backstage)),formBehaviours:derive$1([Keying.config({mode:'acyclic',useTabstopAt:not(isPseudoStop)}),config('TabView.form.events',[runOnAttached(setDataOnForm),runOnDetached(updateDataWithForm)]),Receiving.config({channels:wrapAll([{key:SendDataToSectionChannel,value:{onReceive:updateDataWithForm}},{key:SendDataToViewChannel,value:{onReceive:setDataOnForm}}])})])}))];}};});const tabMode=smartMode(allTabs);return TabSection.sketch({dom:{tag:'div',classes:['tox-dialog__body']},onChangeTab:(section,button,_viewItems)=>{const name=Representing.getValue(button);emitWith(section,formTabChangeEvent,{name,oldName:oldTab.get()});oldTab.set(name);},tabs:allTabs,components:[TabSection.parts.tabbar({dom:{tag:'div',classes:['tox-dialog__body-nav']},components:[Tabbar.parts.tabs({})],markers:{tabClass:'tox-tab',selectedClass:'tox-dialog__body-nav-item--active'},tabbarBehaviours:derive$1([Tabstopping.config({})])}),TabSection.parts.tabview({dom:{tag:'div',classes:['tox-dialog__body-content']}})],selectFirst:tabMode.selectFirst,tabSectionBehaviours:derive$1([config('tabpanel',tabMode.extraEvents),Keying.config({mode:'acyclic'}),Composing.config({find:comp=>head(TabSection.getViewItems(comp))}),withComp(Optional.none(),tsection=>{tsection.getSystem().broadcastOn([SendDataToSectionChannel],{});return storedValue.get();},(tsection,value)=>{storedValue.set(value);tsection.getSystem().broadcastOn([SendDataToViewChannel],{});})])});};const renderBody=(spec,dialogId,contentId,backstage,ariaAttrs)=>{const renderComponents=incoming=>{const body=incoming.body;switch(body.type){case'tabpanel':{return[renderTabPanel(body,incoming.initialData,backstage)];}default:{return[renderBodyPanel(body,incoming.initialData,backstage)];}}};const updateState=(_comp,incoming)=>Optional.some({isTabPanel:()=>incoming.body.type==='tabpanel'});const ariaAttributes={'aria-live':'polite'};return{dom:{tag:'div',classes:['tox-dialog__content-js'],attributes:{...contentId.map(x=>({id:x})).getOr({}),...(ariaAttrs?ariaAttributes:{})}},components:[],behaviours:derive$1([ComposingConfigs.childAt(0),Reflecting.config({channel:`${bodyChannel}-${dialogId}`,updateState,renderComponents,initialData:spec})])};};const renderInlineBody=(spec,dialogId,contentId,backstage,ariaAttrs)=>renderBody(spec,dialogId,Optional.some(contentId),backstage,ariaAttrs);const renderModalBody=(spec,dialogId,backstage)=>{const bodySpec=renderBody(spec,dialogId,Optional.none(),backstage,false);return ModalDialog.parts.body(bodySpec);};const renderIframeBody=spec=>{const bodySpec={dom:{tag:'div',classes:['tox-dialog__content-js']},components:[{dom:{tag:'div',classes:['tox-dialog__body-iframe']},components:[craft(Optional.none(),{dom:{tag:'iframe',attributes:{src:spec.url}},behaviours:derive$1([Tabstopping.config({}),Focusing.config({})])})]}],behaviours:derive$1([Keying.config({mode:'acyclic',useTabstopAt:not(isPseudoStop)})])};return ModalDialog.parts.body(bodySpec);};const isTouch=global$5.deviceType.isTouch();const hiddenHeader=(title,close)=>({dom:{tag:'div',styles:{display:'none'},classes:['tox-dialog__header']},components:[title,close]});const pClose=(onClose,providersBackstage)=>ModalDialog.parts.close(Button.sketch({dom:{tag:'button',classes:['tox-button','tox-button--icon','tox-button--naked'],attributes:{'type':'button','aria-label':providersBackstage.translate('Close')}},action:onClose,buttonBehaviours:derive$1([Tabstopping.config({})])}));const pUntitled=()=>ModalDialog.parts.title({dom:{tag:'div',classes:['tox-dialog__title'],innerHtml:'',styles:{display:'none'}}});const pBodyMessage=(message,providersBackstage)=>ModalDialog.parts.body({dom:{tag:'div',classes:['tox-dialog__body']},components:[{dom:{tag:'div',classes:['tox-dialog__body-content']},components:[{dom:fromHtml(`<p>${sanitizeHtmlString(providersBackstage.translate(message))}</p>`)}]}]});const pFooter=buttons=>ModalDialog.parts.footer({dom:{tag:'div',classes:['tox-dialog__footer']},components:buttons});const pFooterGroup=(startButtons,endButtons)=>[Container.sketch({dom:{tag:'div',classes:['tox-dialog__footer-start']},components:startButtons}),Container.sketch({dom:{tag:'div',classes:['tox-dialog__footer-end']},components:endButtons})];const renderDialog$1=spec=>{const dialogClass='tox-dialog';const blockerClass=dialogClass+'-wrap';const blockerBackdropClass=blockerClass+'__backdrop';const scrollLockClass=dialogClass+'__disable-scroll';return ModalDialog.sketch({lazySink:spec.lazySink,onEscape:comp=>{spec.onEscape(comp);return Optional.some(true);},useTabstopAt:elem=>!isPseudoStop(elem),firstTabstop:spec.firstTabstop,dom:{tag:'div',classes:[dialogClass].concat(spec.extraClasses),styles:{position:'relative',...spec.extraStyles}},components:[spec.header,spec.body,...spec.footer.toArray()],parts:{blocker:{dom:fromHtml(`<div class=\"${blockerClass}\"></div>`),components:[{dom:{tag:'div',classes:isTouch?[blockerBackdropClass,blockerBackdropClass+'--opaque']:[blockerBackdropClass]}}]}},dragBlockClass:blockerClass,modalBehaviours:derive$1([Focusing.config({}),config('dialog-events',spec.dialogEvents.concat([runOnSource(focusin(),(comp,_se)=>{Blocking.isBlocked(comp)?noop():Keying.focusIn(comp);}),run$1(focusShifted(),(comp,se)=>{comp.getSystem().broadcastOn([dialogFocusShiftedChannel],{newFocus:se.event.newFocus});})])),config('scroll-lock',[runOnAttached(()=>{add$2(body(),scrollLockClass);}),runOnDetached(()=>{remove$2(body(),scrollLockClass);})]),...spec.extraBehaviours]),eventOrder:{[execute$5()]:['dialog-events'],[attachedToDom()]:['scroll-lock','dialog-events','alloy.base.behaviour'],[detachedFromDom()]:['alloy.base.behaviour','dialog-events','scroll-lock'],...spec.eventOrder}});};const renderClose=providersBackstage=>Button.sketch({dom:{tag:'button',classes:['tox-button','tox-button--icon','tox-button--naked'],attributes:{'type':'button','aria-label':providersBackstage.translate('Close'),'title':providersBackstage.translate('Close')}},buttonBehaviours:derive$1([Tabstopping.config({})]),components:[render$3('close',{tag:'span',classes:['tox-icon']},providersBackstage.icons)],action:comp=>{emit(comp,formCancelEvent);}});const renderTitle=(spec,dialogId,titleId,providersBackstage)=>{const renderComponents=data=>[text$2(providersBackstage.translate(data.title))];return{dom:{tag:'div',classes:['tox-dialog__title'],attributes:{...titleId.map(x=>({id:x})).getOr({})}},components:[],behaviours:derive$1([Reflecting.config({channel:`${titleChannel}-${dialogId}`,initialData:spec,renderComponents})])};};const renderDragHandle=()=>({dom:fromHtml('<div class=\"tox-dialog__draghandle\"></div>')});const renderInlineHeader=(spec,dialogId,titleId,providersBackstage)=>Container.sketch({dom:fromHtml('<div class=\"tox-dialog__header\"></div>'),components:[renderTitle(spec,dialogId,Optional.some(titleId),providersBackstage),renderDragHandle(),renderClose(providersBackstage)],containerBehaviours:derive$1([Dragging.config({mode:'mouse',blockerClass:'blocker',getTarget:handle=>{return closest$1(handle,'[role=\"dialog\"]').getOrDie();},snaps:{getSnapPoints:()=>[],leftAttr:'data-drag-left',topAttr:'data-drag-top'}})])});const renderModalHeader=(spec,dialogId,providersBackstage)=>{const pTitle=ModalDialog.parts.title(renderTitle(spec,dialogId,Optional.none(),providersBackstage));const pHandle=ModalDialog.parts.draghandle(renderDragHandle());const pClose=ModalDialog.parts.close(renderClose(providersBackstage));const components=[pTitle].concat(spec.draggable?[pHandle]:[]).concat([pClose]);return Container.sketch({dom:fromHtml('<div class=\"tox-dialog__header\"></div>'),components});};const getHeader=(title,dialogId,backstage)=>renderModalHeader({title:backstage.shared.providers.translate(title),draggable:backstage.dialog.isDraggableModal()},dialogId,backstage.shared.providers);const getBusySpec=(message,bs,providers,headerHeight)=>({dom:{tag:'div',classes:['tox-dialog__busy-spinner'],attributes:{'aria-label':providers.translate(message)},styles:{left:'0px',right:'0px',bottom:'0px',top:`${headerHeight.getOr(0)}px`,position:'absolute'}},behaviours:bs,components:[{dom:fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')}]});const getEventExtras=(lazyDialog,providers,extra)=>({onClose:()=>extra.closeWindow(),onBlock:blockEvent=>{const headerHeight=descendant(lazyDialog().element,'.tox-dialog__header').map(header=>get$d(header));ModalDialog.setBusy(lazyDialog(),(_comp,bs)=>getBusySpec(blockEvent.message,bs,providers,headerHeight));},onUnblock:()=>{ModalDialog.setIdle(lazyDialog());}});const fullscreenClass='tox-dialog--fullscreen';const largeDialogClass='tox-dialog--width-lg';const mediumDialogClass='tox-dialog--width-md';const getDialogSizeClass=size=>{switch(size){case'large':return Optional.some(largeDialogClass);case'medium':return Optional.some(mediumDialogClass);default:return Optional.none();}};const updateDialogSizeClass=(size,component)=>{const dialogBody=SugarElement.fromDom(component.element.dom);if(!has(dialogBody,fullscreenClass)){remove$1(dialogBody,[largeDialogClass,mediumDialogClass]);getDialogSizeClass(size).each(dialogSizeClass=>add$2(dialogBody,dialogSizeClass));}};const toggleFullscreen=(comp,currentSize)=>{const dialogBody=SugarElement.fromDom(comp.element.dom);const classes=get$7(dialogBody);const currentSizeClass=find$5(classes,c=>c===largeDialogClass||c===mediumDialogClass).or(getDialogSizeClass(currentSize));toggle$3(dialogBody,[fullscreenClass,...currentSizeClass.toArray()]);};const renderModalDialog=(spec,dialogEvents,backstage)=>build$1(renderDialog$1({...spec,firstTabstop:1,lazySink:backstage.shared.getSink,extraBehaviours:[memory({}),...spec.extraBehaviours],onEscape:comp=>{emit(comp,formCancelEvent);},dialogEvents,eventOrder:{[receive()]:[Reflecting.name(),Receiving.name()],[attachedToDom()]:['scroll-lock',Reflecting.name(),'messages','dialog-events','alloy.base.behaviour'],[detachedFromDom()]:['alloy.base.behaviour','dialog-events','messages',Reflecting.name(),'scroll-lock']}}));const mapMenuButtons=(buttons,menuItemStates={})=>{const mapItems=button=>{const items=map$2(button.items,item=>{const cell=get$g(menuItemStates,item.name).getOr(Cell(false));return{...item,storage:cell};});return{...button,items};};return map$2(buttons,button=>{return button.type==='menu'?mapItems(button):button;});};const extractCellsToObject=buttons=>foldl(buttons,(acc,button)=>{if(button.type==='menu'){const menuButton=button;return foldl(menuButton.items,(innerAcc,item)=>{innerAcc[item.name]=item.storage;return innerAcc;},acc);}return acc;},{});const initCommonEvents=(fireApiEvent,extras)=>[runWithTarget(focusin(),onFocus),fireApiEvent(formCloseEvent,(_api,spec,_event,self)=>{active$1(getRootNode(self.element)).fold(noop,blur$1);extras.onClose();spec.onClose();}),fireApiEvent(formCancelEvent,(api,spec,_event,self)=>{spec.onCancel(api);emit(self,formCloseEvent);}),run$1(formUnblockEvent,(_c,_se)=>extras.onUnblock()),run$1(formBlockEvent,(_c,se)=>extras.onBlock(se.event))];const initUrlDialog=(getInstanceApi,extras)=>{const fireApiEvent=(eventName,f)=>run$1(eventName,(c,se)=>{withSpec(c,(spec,_c)=>{f(getInstanceApi(),spec,se.event,c);});});const withSpec=(c,f)=>{Reflecting.getState(c).get().each(currentDialog=>{f(currentDialog,c);});};return[...initCommonEvents(fireApiEvent,extras),fireApiEvent(formActionEvent,(api,spec,event)=>{spec.onAction(api,{name:event.name});})];};const initDialog=(getInstanceApi,extras,getSink)=>{const fireApiEvent=(eventName,f)=>run$1(eventName,(c,se)=>{withSpec(c,(spec,_c)=>{f(getInstanceApi(),spec,se.event,c);});});const withSpec=(c,f)=>{Reflecting.getState(c).get().each(currentDialogInit=>{f(currentDialogInit.internalDialog,c);});};return[...initCommonEvents(fireApiEvent,extras),fireApiEvent(formSubmitEvent,(api,spec)=>spec.onSubmit(api)),fireApiEvent(formChangeEvent,(api,spec,event)=>{spec.onChange(api,{name:event.name});}),fireApiEvent(formActionEvent,(api,spec,event,component)=>{const focusIn=()=>component.getSystem().isConnected()?Keying.focusIn(component):undefined;const isDisabled=focused=>has$1(focused,'disabled')||getOpt(focused,'aria-disabled').exists(val=>val==='true');const rootNode=getRootNode(component.element);const current=active$1(rootNode);spec.onAction(api,{name:event.name,value:event.value});active$1(rootNode).fold(focusIn,focused=>{if(isDisabled(focused)){focusIn();}else if(current.exists(cur=>contains(focused,cur)&&isDisabled(cur))){focusIn();}else{getSink().toOptional().filter(sink=>!contains(sink.element,focused)).each(focusIn);}});}),fireApiEvent(formTabChangeEvent,(api,spec,event)=>{spec.onTabChange(api,{newTabName:event.name,oldTabName:event.oldName});}),runOnDetached(component=>{const api=getInstanceApi();Representing.setValue(component,api.getData());})];};const makeButton=(button,backstage)=>renderFooterButton(button,button.type,backstage);const lookup=(compInSystem,footerButtons,buttonName)=>find$5(footerButtons,button=>button.name===buttonName).bind(memButton=>memButton.memento.getOpt(compInSystem));const renderComponents=(_data,state)=>{const footerButtons=state.map(s=>s.footerButtons).getOr([]);const buttonGroups=partition$3(footerButtons,button=>button.align==='start');const makeGroup=(edge,buttons)=>Container.sketch({dom:{tag:'div',classes:[`tox-dialog__footer-${edge}`]},components:map$2(buttons,button=>button.memento.asSpec())});const startButtons=makeGroup('start',buttonGroups.pass);const endButtons=makeGroup('end',buttonGroups.fail);return[startButtons,endButtons];};const renderFooter=(initSpec,dialogId,backstage)=>{const updateState=(comp,data)=>{const footerButtons=map$2(data.buttons,button=>{const memButton=record(makeButton(button,backstage));return{name:button.name,align:button.align,memento:memButton};});const lookupByName=buttonName=>lookup(comp,footerButtons,buttonName);return Optional.some({lookupByName,footerButtons});};return{dom:fromHtml('<div class=\"tox-dialog__footer\"></div>'),components:[],behaviours:derive$1([Reflecting.config({channel:`${footerChannel}-${dialogId}`,initialData:initSpec,updateState,renderComponents})])};};const renderInlineFooter=(initSpec,dialogId,backstage)=>renderFooter(initSpec,dialogId,backstage);const renderModalFooter=(initSpec,dialogId,backstage)=>ModalDialog.parts.footer(renderFooter(initSpec,dialogId,backstage));const getCompByName=(access,name)=>{const root=access.getRoot();if(root.getSystem().isConnected()){const form=Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());return Form.getField(form,name).orThunk(()=>{const footer=access.getFooter();const footerState=footer.bind(f=>Reflecting.getState(f).get());return footerState.bind(f=>f.lookupByName(name));});}else{return Optional.none();}};const validateData$1=(access,data)=>{const root=access.getRoot();return Reflecting.getState(root).get().map(dialogState=>getOrDie(asRaw('data',dialogState.dataValidator,data))).getOr(data);};const getDialogApi=(access,doRedial,menuItemStates)=>{const withRoot=f=>{const root=access.getRoot();if(root.getSystem().isConnected()){f(root);}};const getData=()=>{const root=access.getRoot();const valueComp=root.getSystem().isConnected()?access.getFormWrapper():root;const representedValues=Representing.getValue(valueComp);const menuItemCurrentState=map$1(menuItemStates,cell=>cell.get());return{...representedValues,...menuItemCurrentState};};const setData=newData=>{withRoot(_=>{const prevData=instanceApi.getData();const mergedData=deepMerge(prevData,newData);const newInternalData=validateData$1(access,mergedData);const form=access.getFormWrapper();Representing.setValue(form,newInternalData);each(menuItemStates,(v,k)=>{if(has$2(mergedData,k)){v.set(mergedData[k]);}});});};const setEnabled=(name,state)=>{getCompByName(access,name).each(state?Disabling.enable:Disabling.disable);};const focus=name=>{getCompByName(access,name).each(Focusing.focus);};const block=message=>{if(!isString(message)){throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');}withRoot(root=>{emitWith(root,formBlockEvent,{message});});};const unblock=()=>{withRoot(root=>{emit(root,formUnblockEvent);});};const showTab=name=>{withRoot(_=>{const body=access.getBody();const bodyState=Reflecting.getState(body);if(bodyState.get().exists(b=>b.isTabPanel())){Composing.getCurrent(body).each(tabSection=>{TabSection.showTab(tabSection,name);});}});};const redial=d=>{withRoot(root=>{const id=access.getId();const dialogInit=doRedial(d);const storedMenuButtons=mapMenuButtons(dialogInit.internalDialog.buttons,menuItemStates);root.getSystem().broadcastOn([`${dialogChannel}-${id}`],dialogInit);root.getSystem().broadcastOn([`${titleChannel}-${id}`],dialogInit.internalDialog);root.getSystem().broadcastOn([`${bodyChannel}-${id}`],dialogInit.internalDialog);root.getSystem().broadcastOn([`${footerChannel}-${id}`],{...dialogInit.internalDialog,buttons:storedMenuButtons});instanceApi.setData(dialogInit.initialData);});};const close=()=>{withRoot(root=>{emit(root,formCloseEvent);});};const instanceApi={getData,setData,setEnabled,focus,block,unblock,showTab,redial,close,toggleFullscreen:access.toggleFullscreen};return instanceApi;};const renderDialog=(dialogInit,extra,backstage)=>{const dialogId=generate$6('dialog');const internalDialog=dialogInit.internalDialog;const header=getHeader(internalDialog.title,dialogId,backstage);const dialogSize=Cell(internalDialog.size);const dialogSizeClasses=getDialogSizeClass(dialogSize.get()).toArray();const updateState=(comp,incoming)=>{dialogSize.set(incoming.internalDialog.size);updateDialogSizeClass(incoming.internalDialog.size,comp);return Optional.some(incoming);};const body=renderModalBody({body:internalDialog.body,initialData:internalDialog.initialData},dialogId,backstage);const storedMenuButtons=mapMenuButtons(internalDialog.buttons);const objOfCells=extractCellsToObject(storedMenuButtons);const footer=someIf(storedMenuButtons.length!==0,renderModalFooter({buttons:storedMenuButtons},dialogId,backstage));const dialogEvents=initDialog(()=>instanceApi,getEventExtras(()=>dialog,backstage.shared.providers,extra),backstage.shared.getSink);const spec={id:dialogId,header,body,footer,extraClasses:dialogSizeClasses,extraBehaviours:[Reflecting.config({channel:`${dialogChannel}-${dialogId}`,updateState,initialData:dialogInit})],extraStyles:{}};const dialog=renderModalDialog(spec,dialogEvents,backstage);const modalAccess=(()=>{const getForm=()=>{const outerForm=ModalDialog.getBody(dialog);return Composing.getCurrent(outerForm).getOr(outerForm);};const toggleFullscreen$1=()=>{toggleFullscreen(dialog,dialogSize.get());};return{getId:constant$1(dialogId),getRoot:constant$1(dialog),getBody:()=>ModalDialog.getBody(dialog),getFooter:()=>ModalDialog.getFooter(dialog),getFormWrapper:getForm,toggleFullscreen:toggleFullscreen$1};})();const instanceApi=getDialogApi(modalAccess,extra.redial,objOfCells);return{dialog,instanceApi};};const renderInlineDialog=(dialogInit,extra,backstage,ariaAttrs=false,refreshDocking)=>{const dialogId=generate$6('dialog');const dialogLabelId=generate$6('dialog-label');const dialogContentId=generate$6('dialog-content');const internalDialog=dialogInit.internalDialog;const dialogSize=Cell(internalDialog.size);const dialogSizeClass=getDialogSizeClass(dialogSize.get()).toArray();const updateState=(comp,incoming)=>{dialogSize.set(incoming.internalDialog.size);updateDialogSizeClass(incoming.internalDialog.size,comp);refreshDocking();return Optional.some(incoming);};const memHeader=record(renderInlineHeader({title:internalDialog.title,draggable:true},dialogId,dialogLabelId,backstage.shared.providers));const memBody=record(renderInlineBody({body:internalDialog.body,initialData:internalDialog.initialData},dialogId,dialogContentId,backstage,ariaAttrs));const storagedMenuButtons=mapMenuButtons(internalDialog.buttons);const objOfCells=extractCellsToObject(storagedMenuButtons);const optMemFooter=someIf(storagedMenuButtons.length!==0,record(renderInlineFooter({buttons:storagedMenuButtons},dialogId,backstage)));const dialogEvents=initDialog(()=>instanceApi,{onBlock:event=>{Blocking.block(dialog,(_comp,bs)=>{const headerHeight=memHeader.getOpt(dialog).map(dialog=>get$d(dialog.element));return getBusySpec(event.message,bs,backstage.shared.providers,headerHeight);});},onUnblock:()=>{Blocking.unblock(dialog);},onClose:()=>extra.closeWindow()},backstage.shared.getSink);const inlineClass='tox-dialog-inline';const dialog=build$1({dom:{tag:'div',classes:['tox-dialog',inlineClass,...dialogSizeClass],attributes:{role:'dialog',['aria-labelledby']:dialogLabelId}},eventOrder:{[receive()]:[Reflecting.name(),Receiving.name()],[execute$5()]:['execute-on-form'],[attachedToDom()]:['reflecting','execute-on-form']},behaviours:derive$1([Keying.config({mode:'cyclic',onEscape:c=>{emit(c,formCloseEvent);return Optional.some(true);},useTabstopAt:elem=>!isPseudoStop(elem)&&(name$3(elem)!=='button'||get$f(elem,'disabled')!=='disabled'),firstTabstop:1}),Reflecting.config({channel:`${dialogChannel}-${dialogId}`,updateState,initialData:dialogInit}),Focusing.config({}),config('execute-on-form',dialogEvents.concat([runOnSource(focusin(),(comp,_se)=>{Keying.focusIn(comp);}),run$1(focusShifted(),(comp,se)=>{comp.getSystem().broadcastOn([dialogFocusShiftedChannel],{newFocus:se.event.newFocus});})])),Blocking.config({getRoot:()=>Optional.some(dialog)}),Replacing.config({}),memory({})]),components:[memHeader.asSpec(),memBody.asSpec(),...optMemFooter.map(memFooter=>memFooter.asSpec()).toArray()]});const toggleFullscreen$1=()=>{toggleFullscreen(dialog,dialogSize.get());};const instanceApi=getDialogApi({getId:constant$1(dialogId),getRoot:constant$1(dialog),getFooter:()=>optMemFooter.map(memFooter=>memFooter.get(dialog)),getBody:()=>memBody.get(dialog),getFormWrapper:()=>{const body=memBody.get(dialog);return Composing.getCurrent(body).getOr(body);},toggleFullscreen:toggleFullscreen$1},extra.redial,objOfCells);return{dialog,instanceApi};};var global=tinymce.util.Tools.resolve('tinymce.util.URI');const getUrlDialogApi=root=>{const withRoot=f=>{if(root.getSystem().isConnected()){f(root);}};const block=message=>{if(!isString(message)){throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');}withRoot(root=>{emitWith(root,formBlockEvent,{message});});};const unblock=()=>{withRoot(root=>{emit(root,formUnblockEvent);});};const close=()=>{withRoot(root=>{emit(root,formCloseEvent);});};const sendMessage=data=>{withRoot(root=>{root.getSystem().broadcastOn([bodySendMessageChannel],data);});};return{block,unblock,close,sendMessage};};const SUPPORTED_MESSAGE_ACTIONS=['insertContent','setContent','execCommand','close','block','unblock'];const isSupportedMessage=data=>isObject(data)&&SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction)!==-1;const isCustomMessage=data=>!isSupportedMessage(data)&&isObject(data)&&has$2(data,'mceAction');const handleMessage=(editor,api,data)=>{switch(data.mceAction){case'insertContent':editor.insertContent(data.content);break;case'setContent':editor.setContent(data.content);break;case'execCommand':const ui=isBoolean(data.ui)?data.ui:false;editor.execCommand(data.cmd,ui,data.value);break;case'close':api.close();break;case'block':api.block(data.message);break;case'unblock':api.unblock();break;}};const renderUrlDialog=(internalDialog,extra,editor,backstage)=>{const dialogId=generate$6('dialog');const header=getHeader(internalDialog.title,dialogId,backstage);const body=renderIframeBody(internalDialog);const footer=internalDialog.buttons.bind(buttons=>{if(buttons.length===0){return Optional.none();}else{return Optional.some(renderModalFooter({buttons},dialogId,backstage));}});const dialogEvents=initUrlDialog(()=>instanceApi,getEventExtras(()=>dialog,backstage.shared.providers,extra));const styles={...internalDialog.height.fold(()=>({}),height=>({'height':height+'px','max-height':height+'px'})),...internalDialog.width.fold(()=>({}),width=>({'width':width+'px','max-width':width+'px'}))};const classes=internalDialog.width.isNone()&&internalDialog.height.isNone()?['tox-dialog--width-lg']:[];const iframeUri=new global(internalDialog.url,{base_uri:new global(window.location.href)});const iframeDomain=`${iframeUri.protocol}://${iframeUri.host}${iframeUri.port?':'+iframeUri.port:''}`;const messageHandlerUnbinder=unbindable();const updateState=(_comp,incoming)=>Optional.some(incoming);const extraBehaviours=[Reflecting.config({channel:`${dialogChannel}-${dialogId}`,updateState,initialData:internalDialog}),config('messages',[runOnAttached(()=>{const unbind=bind(SugarElement.fromDom(window),'message',e=>{if(iframeUri.isSameOrigin(new global(e.raw.origin))){const data=e.raw.data;if(isSupportedMessage(data)){handleMessage(editor,instanceApi,data);}else if(isCustomMessage(data)){internalDialog.onMessage(instanceApi,data);}}});messageHandlerUnbinder.set(unbind);}),runOnDetached(messageHandlerUnbinder.clear)]),Receiving.config({channels:{[bodySendMessageChannel]:{onReceive:(comp,data)=>{descendant(comp.element,'iframe').each(iframeEle=>{const iframeWin=iframeEle.dom.contentWindow;if(isNonNullable(iframeWin)){iframeWin.postMessage(data,iframeDomain);}});}}}})];const spec={id:dialogId,header,body,footer,extraClasses:classes,extraBehaviours,extraStyles:styles};const dialog=renderModalDialog(spec,dialogEvents,backstage);const instanceApi=getUrlDialogApi(dialog);return{dialog,instanceApi};};const setup$2=backstage=>{const sharedBackstage=backstage.shared;const open=(message,callback)=>{const closeDialog=()=>{ModalDialog.hide(alertDialog);callback();};const memFooterClose=record(renderFooterButton({name:'close-alert',text:'OK',primary:true,buttonType:Optional.some('primary'),align:'end',enabled:true,icon:Optional.none()},'cancel',backstage));const titleSpec=pUntitled();const closeSpec=pClose(closeDialog,sharedBackstage.providers);const alertDialog=build$1(renderDialog$1({lazySink:()=>sharedBackstage.getSink(),header:hiddenHeader(titleSpec,closeSpec),body:pBodyMessage(message,sharedBackstage.providers),footer:Optional.some(pFooter(pFooterGroup([],[memFooterClose.asSpec()]))),onEscape:closeDialog,extraClasses:['tox-alert-dialog'],extraBehaviours:[],extraStyles:{},dialogEvents:[run$1(formCancelEvent,closeDialog)],eventOrder:{}}));ModalDialog.show(alertDialog);const footerCloseButton=memFooterClose.get(alertDialog);Focusing.focus(footerCloseButton);};return{open};};const setup$1=backstage=>{const sharedBackstage=backstage.shared;const open=(message,callback)=>{const closeDialog=state=>{ModalDialog.hide(confirmDialog);callback(state);};const memFooterYes=record(renderFooterButton({name:'yes',text:'Yes',primary:true,buttonType:Optional.some('primary'),align:'end',enabled:true,icon:Optional.none()},'submit',backstage));const footerNo=renderFooterButton({name:'no',text:'No',primary:false,buttonType:Optional.some('secondary'),align:'end',enabled:true,icon:Optional.none()},'cancel',backstage);const titleSpec=pUntitled();const closeSpec=pClose(()=>closeDialog(false),sharedBackstage.providers);const confirmDialog=build$1(renderDialog$1({lazySink:()=>sharedBackstage.getSink(),header:hiddenHeader(titleSpec,closeSpec),body:pBodyMessage(message,sharedBackstage.providers),footer:Optional.some(pFooter(pFooterGroup([],[footerNo,memFooterYes.asSpec()]))),onEscape:()=>closeDialog(false),extraClasses:['tox-confirm-dialog'],extraBehaviours:[],extraStyles:{},dialogEvents:[run$1(formCancelEvent,()=>closeDialog(false)),run$1(formSubmitEvent,()=>closeDialog(true))],eventOrder:{}}));ModalDialog.show(confirmDialog);const footerYesButton=memFooterYes.get(confirmDialog);Focusing.focus(footerYesButton);};return{open};};const validateData=(data,validator)=>getOrDie(asRaw('data',validator,data));const isAlertOrConfirmDialog=target=>closest(target,'.tox-alert-dialog')||closest(target,'.tox-confirm-dialog');const inlineAdditionalBehaviours=(editor,isStickyToolbar,isToolbarLocationTop)=>{if(isStickyToolbar&&isToolbarLocationTop){return[];}else{return[Docking.config({contextual:{lazyContext:()=>Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),fadeInClass:'tox-dialog-dock-fadein',fadeOutClass:'tox-dialog-dock-fadeout',transitionClass:'tox-dialog-dock-transition'},modes:['top'],lazyViewport:comp=>{const optScrollingContext=detectWhenSplitUiMode(editor,comp.element);return optScrollingContext.map(sc=>{const combinedBounds=getBoundsFrom(sc);return{bounds:combinedBounds,optScrollEnv:Optional.some({currentScrollTop:sc.element.dom.scrollTop,scrollElmTop:absolute$3(sc.element).top})};}).getOrThunk(()=>({bounds:win(),optScrollEnv:Optional.none()}));}})];}};const setup=extras=>{const editor=extras.editor;const isStickyToolbar$1=isStickyToolbar(editor);const alertDialog=setup$2(extras.backstages.dialog);const confirmDialog=setup$1(extras.backstages.dialog);const open=(config,params,closeWindow)=>{if(!isUndefined(params)){if(params.inline==='toolbar'){return openInlineDialog(config,extras.backstages.popup.shared.anchors.inlineDialog(),closeWindow,params);}else if(params.inline==='bottom'){return openBottomInlineDialog(config,extras.backstages.popup.shared.anchors.inlineBottomDialog(),closeWindow,params);}else if(params.inline==='cursor'){return openInlineDialog(config,extras.backstages.popup.shared.anchors.cursor(),closeWindow,params);}}return openModalDialog(config,closeWindow);};const openUrl=(config,closeWindow)=>openModalUrlDialog(config,closeWindow);const openModalUrlDialog=(config,closeWindow)=>{const factory=contents=>{const dialog=renderUrlDialog(contents,{closeWindow:()=>{ModalDialog.hide(dialog.dialog);closeWindow(dialog.instanceApi);}},editor,extras.backstages.dialog);ModalDialog.show(dialog.dialog);return dialog.instanceApi;};return DialogManager.openUrl(factory,config);};const openModalDialog=(config,closeWindow)=>{const factory=(contents,internalInitialData,dataValidator)=>{const initialData=internalInitialData;const dialogInit={dataValidator,initialData,internalDialog:contents};const dialog=renderDialog(dialogInit,{redial:DialogManager.redial,closeWindow:()=>{ModalDialog.hide(dialog.dialog);closeWindow(dialog.instanceApi);}},extras.backstages.dialog);ModalDialog.show(dialog.dialog);dialog.instanceApi.setData(initialData);return dialog.instanceApi;};return DialogManager.open(factory,config);};const openInlineDialog=(config$1,anchor,closeWindow,windowParams)=>{const factory=(contents,internalInitialData,dataValidator)=>{const initialData=validateData(internalInitialData,dataValidator);const inlineDialog=value$2();const isToolbarLocationTop=extras.backstages.popup.shared.header.isPositionedAtTop();const dialogInit={dataValidator,initialData,internalDialog:contents};const refreshDocking=()=>inlineDialog.on(dialog=>{InlineView.reposition(dialog);if(!isStickyToolbar$1||!isToolbarLocationTop){Docking.refresh(dialog);}});const dialogUi=renderInlineDialog(dialogInit,{redial:DialogManager.redial,closeWindow:()=>{inlineDialog.on(InlineView.hide);editor.off('ResizeEditor',refreshDocking);inlineDialog.clear();closeWindow(dialogUi.instanceApi);}},extras.backstages.popup,windowParams.ariaAttrs,refreshDocking);const inlineDialogComp=build$1(InlineView.sketch({lazySink:extras.backstages.popup.shared.getSink,dom:{tag:'div',classes:[]},fireDismissalEventInstead:windowParams.persistent?{event:'doNotDismissYet'}:{},...(isToolbarLocationTop?{}:{fireRepositionEventInstead:{}}),inlineBehaviours:derive$1([config('window-manager-inline-events',[run$1(dismissRequested(),(_comp,_se)=>{emit(dialogUi.dialog,formCancelEvent);})]),...inlineAdditionalBehaviours(editor,isStickyToolbar$1,isToolbarLocationTop)]),isExtraPart:(_comp,target)=>isAlertOrConfirmDialog(target)}));inlineDialog.set(inlineDialogComp);const getInlineDialogBounds=()=>{const elem=editor.inline?body():SugarElement.fromDom(editor.getContainer());const bounds=box$1(elem);return Optional.some(bounds);};InlineView.showWithinBounds(inlineDialogComp,premade(dialogUi.dialog),{anchor},getInlineDialogBounds);if(!isStickyToolbar$1||!isToolbarLocationTop){Docking.refresh(inlineDialogComp);editor.on('ResizeEditor',refreshDocking);}dialogUi.instanceApi.setData(initialData);Keying.focusIn(dialogUi.dialog);return dialogUi.instanceApi;};return DialogManager.open(factory,config$1);};const openBottomInlineDialog=(config$1,anchor,closeWindow,windowParams)=>{const factory=(contents,internalInitialData,dataValidator)=>{const initialData=validateData(internalInitialData,dataValidator);const inlineDialog=value$2();const isToolbarLocationTop=extras.backstages.popup.shared.header.isPositionedAtTop();const dialogInit={dataValidator,initialData,internalDialog:contents};const refreshDocking=()=>inlineDialog.on(dialog=>{InlineView.reposition(dialog);Docking.refresh(dialog);});const dialogUi=renderInlineDialog(dialogInit,{redial:DialogManager.redial,closeWindow:()=>{inlineDialog.on(InlineView.hide);editor.off('ResizeEditor ScrollWindow ElementScroll',refreshDocking);inlineDialog.clear();closeWindow(dialogUi.instanceApi);}},extras.backstages.popup,windowParams.ariaAttrs,refreshDocking);const inlineDialogComp=build$1(InlineView.sketch({lazySink:extras.backstages.popup.shared.getSink,dom:{tag:'div',classes:[]},fireDismissalEventInstead:windowParams.persistent?{event:'doNotDismissYet'}:{},...(isToolbarLocationTop?{}:{fireRepositionEventInstead:{}}),inlineBehaviours:derive$1([config('window-manager-inline-events',[run$1(dismissRequested(),(_comp,_se)=>{emit(dialogUi.dialog,formCancelEvent);})]),Docking.config({contextual:{lazyContext:()=>Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),fadeInClass:'tox-dialog-dock-fadein',fadeOutClass:'tox-dialog-dock-fadeout',transitionClass:'tox-dialog-dock-transition'},modes:['top','bottom'],lazyViewport:comp=>{const optScrollingContext=detectWhenSplitUiMode(editor,comp.element);return optScrollingContext.map(sc=>{const combinedBounds=getBoundsFrom(sc);return{bounds:combinedBounds,optScrollEnv:Optional.some({currentScrollTop:sc.element.dom.scrollTop,scrollElmTop:absolute$3(sc.element).top})};}).getOrThunk(()=>({bounds:win(),optScrollEnv:Optional.none()}));}})]),isExtraPart:(_comp,target)=>isAlertOrConfirmDialog(target)}));inlineDialog.set(inlineDialogComp);const getInlineDialogBounds=()=>{return extras.backstages.popup.shared.getSink().toOptional().bind(s=>{const optScrollingContext=detectWhenSplitUiMode(editor,s.element);const margin=15;const bounds$1=optScrollingContext.map(sc=>getBoundsFrom(sc)).getOr(win());const contentAreaContainer=box$1(SugarElement.fromDom(editor.getContentAreaContainer()));const constrainedBounds=constrain(contentAreaContainer,bounds$1);return Optional.some(bounds(constrainedBounds.x,constrainedBounds.y,constrainedBounds.width,constrainedBounds.height-margin));});};InlineView.showWithinBounds(inlineDialogComp,premade(dialogUi.dialog),{anchor},getInlineDialogBounds);Docking.refresh(inlineDialogComp);editor.on('ResizeEditor ScrollWindow ElementScroll ResizeWindow',refreshDocking);dialogUi.instanceApi.setData(initialData);Keying.focusIn(dialogUi.dialog);return dialogUi.instanceApi;};return DialogManager.open(factory,config$1);};const confirm=(message,callback)=>{confirmDialog.open(message,callback);};const alert=(message,callback)=>{alertDialog.open(message,callback);};const close=instanceApi=>{instanceApi.close();};return{open,openUrl,alert,close,confirm};};const registerOptions=editor=>{register$e(editor);register$d(editor);register(editor);};var Theme=()=>{global$a.add('silver',editor=>{registerOptions(editor);let popupSinkBounds=()=>win();const{dialogs,popups,renderUI:renderModeUI}=setup$3(editor,{getPopupSinkBounds:()=>popupSinkBounds()});const renderUI=()=>{const renderResult=renderModeUI();const optScrollingContext=detectWhenSplitUiMode(editor,popups.getMothership().element);optScrollingContext.each(sc=>{popupSinkBounds=()=>{return getBoundsFrom(sc);};});return renderResult;};Autocompleter.register(editor,popups.backstage.shared);const windowMgr=setup({editor,backstages:{popup:popups.backstage,dialog:dialogs.backstage}});const getNotificationManagerImpl=()=>NotificationManagerImpl(editor,{backstage:popups.backstage},popups.getMothership());return{renderUI,getWindowManagerImpl:constant$1(windowMgr),getNotificationManagerImpl};});};Theme();})();","map":{"version":3,"names":["getPrototypeOf$2","Object","getPrototypeOf","hasProto","v","constructor","predicate","_a","prototype","name","typeOf","x","t","Array","isArray","String","o","proto","isPrototypeOf","isType$1","type","value","isSimpleType","eq$1","a","is$2","isObject","isString","isPlainObject","isNull","isBoolean","isUndefined","undefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","noarg","f","compose","fa","fb","args","apply","compose1","fbc","fab","constant$1","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","apply$1","never","always","Optional","tag","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","from","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","call","xs","r","contains$2","range$2","num","chunk$1","array","size","s","map$2","each$1","eachr","partition$3","pass","fail","arr","filter$2","foldr","acc","foldl","findUntil","until","find$5","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$h","head","last$1","findMap","keys","hasOwnProperty","obj","props","k","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","bifilter","filter$1","mapToArray","find$4","values","get$g","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","equals","lift2","cat","sequence","oa","ob","lift3","oc","mapFrom","someIf","addToEnd","str","suffix","removeFromStart","numChars","substring","checkRange","substr","start","removeLeading","prefix","startsWith","ensureTrailing","endsWith","contains$1","end","idx","blank","replace","trim$1","isNotEmpty","isEmpty","isSupported$1","dom","style","getPropertyValue","fromHtml$2","html","scope","doc","document","div","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromDom","fromTag","node","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","SugarElement","fromHtml","Global","window","Function","path$1","parts","resolve","p","split","unsafe","getOrDie$1","actual","getPrototypeOf$1","sandHTMLElement","test","DOCUMENT","DOCUMENT_FRAGMENT","ELEMENT","TEXT","name$3","element","nodeName","toLowerCase","type$1","nodeType","isType","isHTMLElement","isElement$1","isText","isDocument","isDocumentFragment","isTag","e","is","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","all$3","base","querySelectorAll","one","querySelector","eq","e1","e2","contains","d1","d2","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","parents","isRoot","stop","ret","rawParent","offsetParent","nextSibling","children","child$2","index","cs","firstChild","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported","getContentContainer","body","isInShadowRoot","getShadowRoot","getShadowHost","getOriginalEventTarget","event","target","el","isOpenShadowHost","composed","composedPath","shadowRoot","inBody","getBody","rawSet","setAttribute","set$9","setAll$1","attrs","get$f","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","clone$2","attributes","attr","internalSet","property","setProperty","internalRemove","removeProperty","set$8","setAll","css","setOptions","get$e","styles","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue$1","remove$6","reflow","offsetWidth","Dimension","getOffset","set","h","match","get","parseFloat","getOuter","aggregate","properties","val","parseInt","isNaN","max","cumulativeInclusions","absoluteMax","api$2","getBoundingClientRect","height","offsetHeight","get$d","getOuter$2","setMax$1","inclusions","absMax","r$1","top","translate","SugarPosition","boxPosition","box","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","api$1","set$7","get$c","getOuter$1","setMax","cached","called","DeviceType","os","browser","userAgent","mediaMatch","isiPad","isiOS","isiPhone","isMobile","isAndroid","isTouch","isTablet","isPhone","iOSwebview","isSafari","isDesktop","isWebView","firstMatch","regexes","find$3","agent","major","minor","group","Number","nu$d","detect$5","versionRegexes","cleanedAgent","unknown$3","Version","nu","detect","unknown","detectBrowser$1","browsers","userAgentData","brands","uaBrand","lcBrand","brand","info","current","version","detect$4","candidates","candidate","search","detectBrowser","detectOs","oses","normalVersionRegex","checkContains","uastring","PlatformInfo","edge","chromium","ie","opera","firefox","safari","unknown$2","nu$c","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","Browser","windows","ios","android","linux","macos","solaris","freebsd","chromeos","unknown$1","nu$b","isOS","isWindows","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","detect$3","userAgentDataOpt","deviceType","PlatformDetection","query","matchMedia","platform","navigator","detect$2","mkEvent","prevent","kill","fromRawEvent$1","rawEvent","stopPropagation","preventDefault","clientX","clientY","handle","handler","useCapture","wrapped","addEventListener","unbind","bind$2","capture$1","removeEventListener","before$1","marker","parent$1","insertBefore","after$2","sibling","append$2","prepend$1","firstChild$1","appendChild","appendAt","append$1","elements","empty","textContent","rogue","remove$5","removeChild","get$b","_DOC","to","scrollTo","get$a","_win","visualViewport","bounds$1","width","right","bottom","getBounds$3","scroll","clientWidth","clientHeight","Math","pageLeft","pageTop","getDocument","walkUp","navigation","frame","view","owner","rest","pathTo","d","paths","frameElement","owner$3","Navigation","freeze","__proto__","find$2","path","frames","loc","pointed","point","rect","bounds","box$1","xy","w","absolute$2","position","constrain","original","constraint","min","constrainByMany","constraints","c","global$a","tinymce","util","Tools","value$4","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","error$1","onError","_onValue","fromOption","optional","err","SimpleResultType","fold$1","res","stype","serror","svalue","partition$2","results","errors","Value","bind$1","bindError","toResult$1","fromResult$1","SimpleResult","fromResult","toResult","partition","field$2","newKey","presence","prop","customField$1","instantiator","ifField","ifCustom","shallow$1","old","deep$1","bothObjects","deepMerge","baseMerge","merger","objects","j","curObject","merge$1","required$2","process","defaultedThunk","fallbackThunk","defaulted$1","fallback","asOption","mergeWithThunk","baseThunk","mergeWith","mergeValues$1","mergeErrors$1","consolidateObj","consolidateArr","partitions","ResultCombine","formatObj","input","JSON","stringify","formatErrors","es","getErrorInfo","join","nu$a","missingRequired","missingKey","missingBranch","branches","branch","unsupportedFields","unsupported","custom","value$3","validator","extract","anyValue$1","requiredAccess","bundle","fallbackAccess","optionAccess","optionDefaultedAccess","opt","extractField","field","av","bundleAsOption","optValue","ov","result","extractFields","fields","success","valueThunk","getDelegate","getSetKeys","objOfOnly","delegate","objOf","fieldNames","extra","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","rawF","setOf$1","validateKeys","keys$1","validatedKeys","validKeys","schema","vk","_desc","processor","getP","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","ch","vp","choose$2","choice","chosen","arrOfVal","valueOf","setOf","extractValue","label","errs","asRaw","extraction","errInfo","formatError","asRawOrDie$1","choose$1","thunkOf","desc","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredBoolean","requiredFunction","forbid","_v","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","optionObjOfOnly","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedPostMsg","defaultedArrayOf","defaultedObjOf","Cell","initial","generate$7","cases","constructors","adt","acase","count","argLength","branchKeys","allReqd","reqKey","foldArgs","log","params","Adt","generate","bothErrors","firstError","secondError","bothValues","partition$1","exclude$1","wrap$2","wrapAll$1","keyvalues","kv","exclude","wrap$1","wrapAll","mergeValues","mergeErrors","consolidate","objs","ensureIsRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","all$2","handlers","any","read$2","fuse$1","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","externalElementScroll","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","retargetAndDispatchWith","eventName","dispatchEvent","derive$2","configs","run$1","runActionExtra","action","runOnName","runOnSourceName","redirectToUid","uid","getByUid","redirectee","redirectToPart","detail","partName","partUids","runWithTarget","ev","getByDom","closest","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","fromHtml$1","get$9","set$6","content","docDom","fragment","createDocumentFragment","contentElements","container","clone","cloneNode","clone$1","isDeep","shallow","deep","getHtml","isRecursive","originator","events$i","warn","DefaultEvents","events","unique","generate$6","date","Date","time","getTime","random","floor","prefix$1","idAttr$1","idAttr","write","id","writeOnly","defineProperty","writable","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","markAsBehaviourApi","apiName","apiFunction","endIndex","openBracketIndex","parameters","toFunctionAnnotation","cleanParameters","markAsExtraApi","extraName","markAsSketchApi","premadeTag","premade$1","comp","isPremade","getPremade","spec","makeApi","getApis","NoState","init","nu$8","readState","generateFrom$1","validated","behaviours","list","optBlobThunk","blob","config","state","getBehaviours$3","bData","getData$2","byInnerKey","indexKey","chain","nu$7","classes","merge","defnA","mod","combine$2","baseMod","modsByBehaviour","behaviour","exhibit","byAspect","modification","combineObjects","combinedClasses","combinedAttributes","combinedStyles","sortKeys","keyName","order","sorted","aKey","bKey","aIndex","bIndex","uncurried","purpose","curried","cHandler","curryArgs","descHandler","extraArgs","getCurried","behaviourTuple","nameToHandlers","groupByEvents","behaviourEvents","combine$1","eventOrder","byEventName","combineGroups","assemble","rawHandler","missingOrderError","tuples","fuse","sortedTuples","combined","assembled","baseBehaviour","schema$z","toInfo","toDefinition","domChildren","components","toModification","domModification","toEvents","read","add$4","remove$4","supports","classList","get$8","add$3","clazz","remove$3","toggle$5","add$2","add","cleanClass","remove$2","remove","toggle$4","toggle","has","add$1","remove$1","toggle$3","hasAll","getNative","get$7","get$6","set$5","determineObsoleted","oldObsoleted","newObsoleted","newObs","elemChanged","oldTag","ensureInDom","child","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","childComp","patchSpecChildren","specs","patchDomChildren","nodes","optObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","reconcileToDom","definition","class","existingAttributes","attrsToSet","attrsToRemove","updateAttrs","existingStyles","stylesToSet","stylesToRemove","updateStyles","existingClasses","classesToRemove","classesToAdd","updateClasses","updateHtml","updateChildren","updateValue","valueElement","innerHtml","introduceToDom","subject","attemptPatch","hasMixedChildren","renderToDom","canBePatched","getBehaviours$2","me","generateFrom","generate$4","getDomDefinition","bList","infoModification","baseModification","getEvents","baseEvents","build$2","getMe","systemApi","bBlob","modDefinition","subcomponents","connect","newApi","disconnect","syncComponents","children$1","subs","hasConfigured","apis","behaviourName","buildSubcomponents","build$1","buildFromSpec","userSpec","specEvents","completeSpec","text$2","external$1","extSpec","uids","isSketchSpec$1","userSpecWithUid","premade","ClosestOrAncestor","ancestor","ancestor$1","closest$3","child$1","descendant$1","descend","closest$2","descendant","closest$1","attribute","find$1","queryElem","dependent","dep","manager","ariaId","link","unlink","isAriaPartOf","isPartOf$1","EventConfiguration","eventConfig","makeEventLogger","initialTarget","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","processEvent","status","patterns","NORMAL","noLogger","LOGGING","logger","STOP","getTrace","stack","lines","line","ignoreEvent","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","itemMarkers","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","cata$2","cataVertical","middle","cataHorizontal","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","clamp","getRestriction","anchor","restrictions","dir","adjustBounds","bubbleOffset","applyRestriction","pos","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","eastEdgeX$1","westEdgeX$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","west$2","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","chooseChannels","channels","universal","events$h","receiveConfig","channelMap","receivingData","targetChannels","channelInfo","channelSchema","onReceive","ActiveReceiving","ReceivingSchema","executeEvent","bConfig","bState","executor","loadEvent","_simulatedEvent","create$5","active","configSchema","schemaSchema","doCreate","createModes$1","modes","wrapApi","bName","revokeBehaviour","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$4","modeSchema","createModes","branchKey","Receiving","exhibit$6","posConfig","useFixed","ActivePosition","focus$3","preventScroll","focus","blur$1","blur","hasFocus","root","activeElement","active$1","preserve$1","refocus","focused","oldFocus","newFocus","NuPositionCss","toPx","toOptions","applyPositionCss","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","decisionX","decisionY","decisionWidth","decisionHeight","decisionRight","decisionBottom","reposition","origin","toBox","rel","viewport","optBounds","translate$2","removeScroll","outerScroll","cata$1","onRelative","onFixed","relative$1","fixed$1","anchorBox","placementAttribute","setPlacement$1","getPlacement","reset$2","adt$8","fit","nofit","determinePosition","boundsX","boundsY","boundsRight","boundsBottom","xInBounds","yInBounds","originInBounds","rightInBounds","bottomInBounds","sizeInBounds","visibleW","visibleH","calcReposition","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcMaxSizes","upAvailable","downAvailable","maxHeight","westAvailable","eastAvailable","maxWidth","attempt","adjustedBounds","newX","newY","fits","fittedBox","isPartlyVisible","on","classesOn","off","classesOff","layout","testY","attempts","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","improved","abc","bestNext","singleton","doRevoke","clear","isSet","destroyable","destroy","unbindable","value$2","capture","fromRawEvent","timerAttr","isTransitioning$1","transition","shouldApplyTransitionCss","lastPlacement","placer","mode","hasChanges","intermediate","round","toFixed","newValue","getTransitionDuration","times","parse","delay","duration","dur","setupTransitionListeners","transitionEnd","transitionCancel","timer","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStart","requestAnimationFrame","setTimeout","startTransitioning","timerId","applyTransitionCss","shouldTransition","intermediatePosition","intermediateCssOptions","elementSize","options","preference","setClasses","classInfo","setHeight","maxHeightFunction","setWidth","maxWidthFunction","position$2","positionCss","setPlacement","setMaxHeight","anchored","available","expandable$1","defaultOr","dephault","simple","layouts","overrideOptions","go","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$5","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","placement$4","anchorInfo","hotspot","overrides","HotspotAnchor","placement$3","MakeshiftAnchor","adt$7","screen","absolute","toAbsolute","sum","points","sumAsFixed","positions","sumAsAbsolute","absolute$1","hasSameOwner","frameOwner","compOwner","getRootPoint","getBox","calcNewAnchor","optBox","rootPoint","topLeft","layoutsLtr","showAbove","layoutsRtl","placement$2","nodeBox","NodeAnchor","zeroWidth","nbsp","create$3","soffset","finish","foffset","SimRange","create","adt$6","before","after","cata","onBefore","onOn","onAfter","getStart$1","situ","on$1","after$1","Situ","getStart","adt$5","domRange","exact","exactFromRange","simRange","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getWin","range$1","SimSelection","range","setStart","setStartBefore","setStartAfter","setFinish","setEndBefore","setEnd","setEndAfter","relativeToNative","finishSitu","createRange","exactToNative","toRect","getFirstRect$1","rects","getClientRects","getBounds$2","adt$4","fromRange","startOffset","endContainer","endOffset","getRanges","doDiagnose","ranges","collapsed","reversed","rev","diagnose","asLtrRange","diagnosis","ancestors","descendants","makeRange","same","getNativeSelection","getSelection","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","sel","getFirstRect","getBounds$1","NodeValue","getOption","nodeValue","api","get$4","descendOnce$1","last","descendOnce","isSimRange","getAnchorSelection","modStart","modFinish","placement$1","selectionBox","optRect","zeroWidth$1","rawRect","selectionRect","cell","firstCell","lastCell","targetElement","SelectionAnchor","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","submenuInfo","SubmenuAnchor","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","getFixedOrigin","getRelativeOrigin","place","anchoring","placee","lastPlace","position$1","posState","placementSpec","optWithinBounds","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getBounds","newState","vis","getMode","pConfig","_pState","reset$1","PositionApis","reset","init$g","PositioningState","Positioning","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","detachChildren$1","replaceChildren","newSpecs","buildNewChildren","newChildren","deleted","virtualReplaceChildren","existingComps","deletedComp","attach","attachWith","insertion","doDetach","detach","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","setContent","openWhileCloaked","transaction","cloak","decloak","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","isPartOf","getState$2","store","cssKey","restore","oldValue","_sState","sink","cloakVisibilityAttr","hasPosition","SandboxApis","open","close","getState","events$g","sandboxConfig","sandboxState","ActiveSandbox","SandboxSchema","init$f","contents","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isPart","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","setValue$3","setValue","getValue$3","getValue","getState$1","RepresentApis","events$f","resetOnDom","_se","ActiveRepresenting","memory$1","isNotSet","manual","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","init$e","RepresentState","memory","setValue$2","onSetValue","getValue$2","getDataKey","getFallbackEntry","onLoad$4","initialValue","onUnload$1","DatasetStore","getValue$1","_repState","setValue$1","onLoad$3","ManualStore","onLoad$2","initVal","MemoryStore","RepresentSchema","Representing","setValueFrom","source","forbidden","get$3","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","subPlaceholder","compSpec","placeholders","newSpec","scan","uiType","substitute","req","childSpecs","substituted","valuesThunk","preprocessor","preprocess","substituteAll","oneReplace","replacements","used","_","substitutePlaces","ps","ph","single$2","placeholder","adt$2","external","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","asCommon","convert","adtConstructor","partSchema","PartType","combine","partSpec","partValidated","defaults","internals","externals","pname","factory","_partSpec","_partValidated","units","u","generate$3","np","g","doGenerateOne","generateOne$1","schemas","names","substitutes","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generateOne","partSchemas","partUidsSchemas","asRawOrDie","baseS","single$1","specWithUid","supplyUid","composite$1","partUidsSchema","hasUid","isSketchSpec","singleSchema","compositeSchema","rawConfig","configFields","extraApis","composite","partFields","inside","getCurrent","composeConfig","_composeState","find","ComposeApis","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeIsDisabled","nativeDisable","nativeEnable","ariaIsDisabled","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","set$4","DisableApis","exhibit$5","events$e","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","shouldSkip","skipComp","onDehighlight","dehighlightAll","dehighlight","isHighlighted","highlight","onHighlight","highlightFirst","getFirst","firstComp","highlightLast","getLast","lastComp","highlightAt","getByIndex","highlightBy","getCandidates","targetComp","queryTarget","getHighlighted","_hState","itemClass","getDelta$2","selected","dest","getPrevious","getNext","HighlightApis","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift$1","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","choose","transitions","reportFocusShifting","prevFocus","noChange","n","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","rules","onFocusHandler","focusInside","OnFocusMode","focusIn","tryGoInsideComponent","isEnterOrSpace","OnEnterOrSpaceMode","keyboardEvents","create$2","cyclicField","tabbingConfig","visibilitySelector","findInitial","tabstops","visibles","firstTabstop","findCurrent","focusManager","isTabstop","useTabstopAt","_tabbingState","goFromTabstop","stopIndex","cycle","cyclic","tabstop","optStopIndex","goBackwards","navigate","goForwards","isFirstChild","goFromPseudoTabstop","execute","onEnter","exit","onEscape","AcyclicType","CyclicType","doDefaultExecute","defaultExecute","isComplex","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","getKeydownRules$5","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","getKeyupRules$5","ExecutionType","flatgrid$1","dimensions","setGridSize","numRows","numColumns","getNumRows","getNumColumns","init$d","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locate","locateVisible","visible","findIndex","withGrid","numCols","oldRow","oldColumn","address","newIndex","row","column","cycleHorizontal$1","onLastRow","colsInRow","newColumn","cycleVertical$1","newRow","newCol","cycleRight$1","cycleLeft$1","cycleUp$1","cycleDown$1","schema$u","focusIn$3","gridConfig","_gridState","first","findCurrent$1","execute$3","doMove$2","gridState","identified","handleTab","captureTab","doEscape$1","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","getKeyupRules$4","FlatgridType","getNewIndex","isDisabledButton","tryNewIndex","horizontalWithoutCycles","prevIndex","oldCandidate","onNewIndex","horizontal","_oldCandidate","schema$t","flowConfig","execute$2","focusIn$2","_state","getInitial","moveLeft$2","cycles","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeydownRules$3","_flowState","westMovers","allowHorizontal","allowVertical","eastMovers","getKeyupRules$3","FlowType","toCell","matrix","rowIndex","columnIndex","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","cycleRight","cycleLeft","cycleUp","cycleDown","moveLeft$1","moveRight$1","moveUp$1","moveDown$1","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","execute$1","toMatrix","rows","doMove","ifCycle","ifMove","inRow","cellsInRow","allRows","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","fireShiftTab","menuState","moveOnTab","fireTab","getKeydownRules$1","getKeyupRules$1","MenuType","schema$q","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","SpecialType","acyclic","flow","execution","menu","special","KeyboardBranches","isFlatgridState","keyState","Keying","keyConfig","sendFocusIn","withoutReuse","withReuse","virtualReplace","replacee","replaceeIndex","childSpec","insert","set$3","replaceConfig","replaceState","replacer","reuseDom","append","appendee","prepend","prependee","removee","foundChild","_replaceConfig","replaceAt","replaceBy","replaceePred","ReplaceApis","Replacing","events$d","eventHandlers","focus$2","focusConfig","ignore","onFocus","isFocused","FocusApis","exhibit$4","tabindex","events$c","stopMousedown","ActiveFocus","FocusSchema","Focusing","SetupBehaviourCellState","initialState","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","set$2","onToggled","toggle$2","isOn","ToggleApis","exhibit$3","events$b","load","toggleOnExecute","ActiveToggle","updatePressed","syncWithExpanded","updateExpanded","updateSelected","updateChecked","ToggleSchema","pressed","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","executeHandler","hoverEvent","focusEvent","toggledEvent","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","toggling","exclusive","getTogglingSpec","tConfig","_value","builder$2","hasSubmenu","itemBehaviours","ignoreFocus","schema$p","builder$1","schema$o","owner$2","parts$h","builder","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","schema$n","itemSchema$2","separator","configureGrid","movementInfo","markers","configureMatrix","rowSelector","configureMenu","parts$g","itemInfo","unit","fakeFocus","schema$m","grid","deselectOtherRadioItems","checkedRadioItems","ele","make$7","_spec","_externals","menuBehaviours","selectedItem","role","Menu","transpose$1","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","init$c","primary","directory","isClear","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","getTriggeringItem","menuValue","getTriggerData","getItemByValue","getPreparedMenu","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","getTriggeringPath","itemValue","extraPath","lookupItem","revPath","triggers","menuIndex","expand","collapse","refresh","lookupMenu","extractPreparedMenu","otherMenus","menuValues","getPrimary","getMenus","prep","LayeredState","onMenuItemHighlightedEvent","onMenuItemDehighlightedEvent","HighlightOnOpen","make$6","_rawUiSpec","submenuParentItems","buildMenus","primaryName","makeSketch","menuComp","itemComp","highlightData","dehighlightData","nbMenu","layeredState","setup","componentMap","toDirectory","getItemValue","_container","_menuName","setActiveMenu","setActiveMenuAndItem","mv","closeOthers","others","backgroundMenu","stayInDom","getSubmenuParents","parentItems","updateAriaExpansions","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","buildIfRequired","expandRight","HighlightSubmenu","activeMenuPrep","onOpenSubmenu","collapseLeft","onCollapseMenu","updateView","keyOnItem","getSource","tmenu","onExecute","onOpenMenu","highlightOnOpen","HighlightMenuAndItem","HighlightJustMenu","tmenuComp","se","onHighlightItem","onDehighlightItem","navigateOnHover","HighlightParent","getActiveItem","collapseMenuApi","currentItem","highlightPrimary","extractMenuFromContainer","repositionMenus","maybeActivePrimary","allMenus","preparedMenus","primaryMenu","onRepositionMenu","collapseMenu","tmenuBehaviours","_keyInfo","selectedMenu","collapseItem$1","tieredData","singleData","collapseItem","tieredMenu","makeMenu","menuSandbox","menuSpec","lazySink","isFirstTierSubmenu","triggeringPaths","getSubmenuLayouts","submenuTriggers","st","submenuLayouts","factory$o","isPartOfRelated","related","getRelated","thing","showAt","showWithinBounds","showMenuAt","showMenuWithinBounds","hide","getContent","inlineBehaviours","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","InlineView","global$9","factory$n","lookupAttr","getModAttributes","roleAttrs","buttonBehaviours","Button","getAttrs","record","anyInSystem","asSpec","entries","setPrototypeOf","isFrozen","getOwnPropertyDescriptor","seal","create$1","construct","Reflect","fun","thisValue","Func","arrayForEach","unapply","forEach","arrayPop","pop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","RegExp","typeErrorCreate","unconstruct","TypeError","func","thisArg","_len","arguments","_key","_len2","_key2","addToSet","transformCaseFunc","_transformCaseFunc","l","lcElement","object","newObject","lookupGetter","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text$1","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","EXPRESSIONS","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","createPolicy","ATTR_NAME","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","DOMPurify","removed","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","getElementsByTagName","importNode","hooks","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","TRUSTED_TYPES_POLICY","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","tagName","namespaceURI","parentTagName","Boolean","_forceRemove","_removeAttribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","firstElementChild","_basicCustomElementTest","childCount","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","initValue","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify","sanitizeHtmlString","global$8","rtlTransform","defaultIconName","defaultIcon","icons","getIconName","rtlName","lookupIcon","get$2","iconProvider","fallbackIcon","needsRtlTransform","iconName","addFocusableBehaviour","renderIcon$3","_b","rtlIconClasses","iconHtml","render$3","renderFirst","iconNames","notificationIconMap","warning","factory$m","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","onAction","notificationIconSpec","notificationBodySpec","closeButton","Notification","NotificationManagerImpl","editor","extras","uiMothership","sharedBackstage","backstage","shared","contentArea","getContentAreaContainer","win$1","settings","closeCallback","notificationWrapper","notification","progressBar","providers","getSink","header","isPositionedAtTop","timeout","setEditorTimeout","notificationSpec","anchorOverrides","allNotifications","notificationManager","getNotifications","thisNotification","anchors","previousNotification","getEl","nodeAnchor","nuText","getArgs","global$7","global$6","global$5","ToolbarMode$1","ToolbarMode","ToolbarLocation$1","ToolbarLocation","option$2","wrapOptional","register$e","registerOption","register","stringOrFalseProcessor","stringOrNumberProcessor","default","getElement","DOM","getStyle","valid","auto","inline","hasPlugin","isReadOnly","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFontSizeInputDefaultUnit","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","promotionEnabled","useHelpAccessibility","getDefaultFontStack","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","documentBaseURI","skin","baseURL","getSkinUrlOption","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","fixedContainer","isDistractionFree","isStickyToolbar","isSplitUiMode","Options","isDraggableModal","autocompleteSelector","detect$1","findIn","setup$e","redirectKeyToItem","getItem","getMenu","keyCode","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","AutocompleterEditorEvents","ItemResponse","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","groupHeadingClass","iconClass","textClass","accessoryClass","caretClass","checkmarkClass","activeClass","containerClass","containerColumnClass","containerRowClass","containerAlignRightClass","containerAlignLeftClass","containerValignTopClass","containerValignMiddleClass","containerValignBottomClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","columns","schema$l","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","factory$l","Input","refetchTriggerEvent","redirectMenuItemInteractionEvent","menuSearcherClass","findWithinSandbox","sandboxComp","inputElem","findWithinMenu","restoreState","inputComp","searcherState","fetchPattern","selectionStart","selectionEnd","saveState","setActiveDescendant","renderMenuSearcher","handleByBrowser","handleByHighlightedItem","eventData","interactionEvent","eventType","customSearcherEventsName","i18n","searchResultsClass","augmentWithAria","chunk","rowDom","chunks","forSwatch","forToolbar","preprocessCollection","isSeparator","allSplits","currentSplit","insertItemsPlaceholder","initItems","onItem","rawItems","enrichedItems","_item","forCollection","_hasIcons","forCollectionWithSearchResults","ariaControlsSearchResults","forCollectionWithSearchField","searchField","forHorizontalCollection","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_menuLayout","structure","createPartialMenuWithAlloyItems","menuLayout","getNormalStructure","menuType","searchMode","name$1","title","value$1","fetch$1","getSubmenuItems","onItemAction","onSetup","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","enabled","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","generatedValue","valuePrefix","separatorMenuItemSchema","createSeparatorMenuItem","autocompleterItemSchema","createSeparatorItem","createAutocompleterItem","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","createContextForm","contextToolbarSchema","createContextToolbar","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","createCardMenuItem","choiceMenuItemSchema","createChoiceMenuItem","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","createFancyMenuItem","menuItemSchema","createMenuItem","nestedMenuItemSchema","createNestedMenuItem","toggleMenuItemSchema","createToggleMenuItem","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","unnamedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","setComponents","tState","getTooltip","tooltip","TooltippingApis","events$9","tooltipConfig","clearTooltip","clearTimer","show","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","resetTimer","ActiveTooltipping","TooltippingSchema","init$b","TooltippingState","Tooltipping","escape","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiRefs","readonly","outerContainer","mainUi","motherships","mothership","uiMotherships","m","setupReadonlyModeSwitch","receivingConfig","button","splitButton","toolbarButton","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersBackstage","optComponents","buildData","convertText","isMac","mac","alt","ctrl","shift","access","other","shortcut","updated","segment","renderIcon$2","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderSubmenuCaret","renderDownwardsCaret","renderContainer","directionClass","alignClass","align","getValignClass","valign","renderImage","src","renderColorStructure","providerBackstage","colorPickerCommand","removeColorCommand","itemText","ariaLabel","iconSvg","iconContent","getDom","common","baseDom","renderItemDomStructure","domTitle","renderNormalItemStructure","renderIcons","iconSpec","renderIcon","renderEmptyIcon","leftIcon","checkmark","checkMark","textRender","htmlContent","menuItem","shortcutContent","caret","renderItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","encodeText","encode","replaceText","matchText","translated","encoded","escapedMatchRegex","renderAutocompleteItem","useText","onItemValueHandler","_api","render$2","shouldHighlight","cardText","highlightOn","renderCardMenuItem","isEnabled","setEnabled","renderChoiceItem","isSelected","setActive","parts$f","hexColour","normalizeHex","shorthandRegex","longformRegex","isHexString","hex","toUpperCase","fromString$1","getLongForm","hexString","extractValues","longForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireSkinLoaded$1","fireSkinLoadError$1","fireResizeEditor","fireResizeContent","fireScrollContent","fireTextColorChange","fireAfterProgressState","fireResolveName","fireToggleToolbarDrawer","fireStylesTextUpdate","fireAlignTextUpdate","fireFontSizeTextUpdate","fireFontSizeInputTextUpdate","fireBlocksTextUpdate","fireFontFamilyTextUpdate","composeUnbinders","onSetupEditableToggle","onSetupEvent","isEditable","onSetupFormatToggle","boundFormatChangeCallback","formatter","binding","formatChanged","initialized","once","onSetupStateToggle","unbindEditableToogle","unbindFormatToggle","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","execCommand","format","onActionExecCommand","command","global$4","cacheStorage","ColorCache","storageId","storageString","localstorage","prune","diff","cache","unshift","setItem","splice","getCacheForId","currentData","legacyDefault","storage","getCurrentColors","addColor","hsvColour","fromRgb","minRGB","maxRGB","hexToHsv","hsvToHex","anyToHex","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","foregroundId","backgroundId","fallbackCols","mapColors","colorMap","colors","option$1","fallbackColor","register$d","colorProcessor","colorColsProcessor","calcCols","defaultCols","getColors$2","sqrt","calculatedCols","getColorCols$1","getCols","hasCustomColors$1","getDefaultForegroundColor","getDefaultBackgroundColor","defaultBackgroundColor","isValidBackgroundColor","getClosestCssBackgroundColorValue","getCurrentColor","cssRgbValue","applyFormat","nodeChanged","removeFormat","registerCommands","addCommand","getAdditionalColors","hasCustom","applyColor","onChoice","dialog","colorPickerDialog","colorOpt","getColors$1","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","buttonApi","select$1","optCurrentHex","getToolTipText","lastColor","tooltipPrefix","colorText","registerTextColorButton","ui","registry","addSplitButton","select","fetch","_splitButtonApi","registerTextColorMenuItem","addNestedMenuItem","fancytype","initData","storageKey","isValid","onSubmit","getData","colorpicker","windowManager","alert","details","initialData","buttons","onCancel","register$c","fallbackColorForeground","fallbackColorBackground","lastForeColor","lastBackColor","createPartialChoiceMenu","presetItemTypes","alloyItems","createChoiceItems","itemPresets","deriveMenuMovement","menuMarkers","rowClass","deriveCollectionMovement","renderColorSwatchItem","getColorItems","colorinput","getColorCols","widgetSpec","useCustomColors","allowCustomColors","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeAnnouncementText","col","makeCell","emitCellOver","makeCells","getCellLabel","cells","selectCells","selectedRow","selectedColumn","makeComponents","cellRow","makeLabelText","renderInsertTableMenuItem","emptyLabelText","memLabel","fancyMenuItems","renderFancyMenuItem","render","renderNestedItem","downwardsCaret","underlinePath","translatedTooltip","renderNormalItem","renderSeparatorItem","renderToggleMenuItem","autocomplete","separator$3","nested","toggle$1","fancy","card","getCoupled","coupleConfig","coupleState","getOrCreate","getExistingCoupled","getExisting","CouplingApis","CouplingSchema","init$a","coupled","lookupCoupled","coupledName","CouplingState","Coupling","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","pure$1","LazyValue","pure","errorReporter","make$5","then","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","nu$2","Promise","Future","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","fetcher","openF","futureData","getLazySink","tdata","onOpenSync","processed","_onOpenSync","_highlightOnOpen","togglePopup","showing","matchWidth","useMinWidth","buttonWidth","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","sandboxFields","schema$k","parts$e","factory$k","switchToMenu","togglePopup$1","dropdownComp","HighlightNone","refetch","optSandbox","triggerExecute","dropdownBehaviours","Dropdown","identifyMenuLayout","handleRefetchTrigger","originalSandboxComp","dropdown","optSearcherState","newSandboxComp","handleRedirectToMenuItem","getActiveMenuItemFrom","activeItem","getSearchResults","activeMenuComp","updateAriaOnHighlight","optActiveResults","resultsElem","controlledId","updateAriaOnDehighlight","focusSearchField","searcherComp","getSearchPattern","optSandboxComp","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createAutocompleteItems","createPartialMenu","itemHasIcon","createItem","createPartial","createTieredDataFrom","partialMenu","createInlineMenuFrom","focusMode","ContentFocus","getAutocompleterRange","initRange","createRng","selectNode","register$b","autocompleterId","processingAction","activeState","autocompleter","hideIfNecessary","editorBody","ariaOwnsAttr","getCombinedItems","choices","itemMeta","nr","getRng","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","display","lookupData","ld","updateDisplay","combinedItems","cloneAutocompleterToEditorDoc","getDoc","getNode","newElm","border","clip","overflow","padding","autocompleterUiApi","Autocompleter","nonScrollingOverflows","isScrollingOverflowValue","isScroller","overflowX","overflowY","popupSinkElem","ancestorsScrollers","scrollers","detectWhenSplitUiMode","getBoundsFrom","sc","scrollableBoxes","DelayedFunction","ref","schedule","cancel","SIGNIFICANT_MOVE","LONGPRESS_DELAY","getTouch","touches","isFarEnough","touch","distX","distY","monitor","startData","longpressFired","longpress$1","handleTouchstart","handleTouchmove","handleTouchend","isSame","fireIfReady","isDangerous","keyEv","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","stopped","pasteTimeout","onPaste","onKeydown","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","fromSource","isStopped","isCut","fromExternal","adt$1","resume","complete","doTriggerHandler","handlerInfo","eventHandler","doTriggerOnUntilStopped","triggerHandler","listeners","_logger","listener","triggerUntilStopped","triggerOnUntilStopped","broadcastHandler","EventRegistry","registerId","findHandler","filterByType","isAboveRoot","unregisterId","handlersById","_eventName","Registry","readOrTag","failOnDuplicate","tagId","conflict","unregister","getById","factory$j","domWithoutAttributes","containerBehaviours","Container","takeover","domEvents","_alloyId","broadcast$1","broadcastData","receivers","receiver","renderBar","interpreter","schema$j","parts$d","excludeFactory","factory$i","fieldBehaviours","descriptor","descriptorId","getField","getLabel","FormField","exhibit$2","tabConfig","tabAttr","ActiveTabstopping","TabstopSchema","Tabstopping","global$3","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormField","renderFormFieldDomWith","renderFormFieldDom","renderLabel$3","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","getIcon","runOnItem","htmlLines","mapItemName","disabledClass","encodeAllRaw","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","ariaElements","isAriaElement","markValid","invalidConfig","getRoot","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","isInvalid","InvalidateApis","events$8","onEvent","validateOnLoad","ActiveInvalidate","InvalidateSchema","Invalidating","validation","exhibit$1","unselectable","events$7","ActiveUnselecting","Unselecting","renderPanelButton","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","isShift","spectrumPart","modelDetail","getValueFromEvent","spectrum","SliderParts","_sliderChangeEvent","sliderChangeEvent","isTouchEvent$2","evt","getEventSource","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","useMultiplier","stepSize","speedMultiplier","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","setToTLEdgeXY","setToTEdge","setToTEdgeXY","setToTREdgeXY","setToREdge","setToREdgeXY","setToBREdgeXY","setToBEdge","setToBEdgeXY","setToBLEdgeXY","setToLEdge","setToLEdgeXY","reduceBy","increaseBy","capValue","snapValueOf","extraValue","remainder","adjustment","rawSteps","maxSteps","numSteps","findOffsetOf","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","setValueFrom$2","xValue","sliderVal","setToMin$2","setToMax$2","moveBy$2","handleMovement$2","getValueFromEvent$2","findOffsetOfValue$1","minEdge","maxEdge","minOffset","findPositionOfValue$1","slider","setPositionFromValue$2","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","fireSliderChange$1","setValueFrom$1","yValue","setToMin$1","setToMax$1","moveBy$1","handleMovement$1","getValueFromEvent$1","findOffsetOfValue","setPositionFromValue$1","getTopEdge","getBottomEdge","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange","sliderValue","moveBy","isVerticalMovement","handleMovement","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","TwoDModel","SliderSchema","sketch$2","getThumb","changeValue","onChange","resetToMin","resetToMax","fireOnChoose","onChoose","wasDown","onDragStart","onDragEnd","sliderBehaviours","getInitialValue","onInit","Slider","fieldsUpdate","sliderUpdate","paletteUpdate","sliderFactory","getClass","_thumb","owner$1","schema$i","getPartName$1","sketch$1","fSpec","fieldParts","make$4","formBehaviours","form","resPs","resPThunk","pName","wrapper","Form","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToHex","hexField","copyRgbToForm","rgb","memPreview","updatePreview","preview","copyHexToRgb","setValueRgb","getValueRgb","onInvalidInput","onValidHex","onValidRgb","isHexInputEvent","onValidInput","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","rgbFormSketcher","paletteFactory","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","setPaletteHue","setPaletteThumb","_detail","_slider","saturationBrightnessPaletteSketcher","setHue","_apis","setThumb","makeFactory","rgbForm","onInvalidHex","sbPalette","hueSliderToDegrees","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","updateState","runUpdates","updates","onPaletteUpdate","oldHue","newHsv","newHex","onSliderUpdate","oldRgb","oldHsv","onFieldsUpdate","colourPickerSketcher","self","memento$1","mem","childAt","ComposingConfigs","memento","processors","rawProcessors","rawValue","postprocess","withComp","optInitialValue","getter","setter","withElement","domHtml","english","translate$1","renderColorPicker","colourPickerFactory","memPicker","picker","optRgbForm","optHex","formValues","pattern","valOpt","global$2","isOldCustomEditor","renderCustomEditor","editorApi","memReplaced","ta","scriptId","ea","cvalue","ed","global$1","filterByExtension","files","allowedImageFileTypes","explode","isFileInAllowedTypes","file","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","onSelect","memInput","accept","renderField","renderGrid","adaptable","rate","throttle","newArgs","tempArgs","beforeObject","afterObject","craftWithClasses","outline","craft","containerClasses","triggerTab","isPseudoStop","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","dialogFocusShiftedChannel","isSafariOrFirefox","isElementScrollAtBottom","scrollHeight","scrollToY","getScrollingElement","writeValue","iframeElement","fallbackFn","iframe","contentDocument","lastScrollTop","isScrollAtBottom","scrollAfterWrite","contentWindow","throttleInterval","writeValueThrottler","interval","getDynamicSource","stream","cachedValue","_frameComponent","frameComponent","setSrcdocValue","throttler","renderIFrame","baseClass","opaqueClass","transparent","containerBorderedClass","srcdoc","sandboxed","sourcing","streamContent","image","reject","loaded","calculateImagePosition","imageWidth","imageHeight","zoom","zoomToFit","panel","panelW","panelH","renderImagePreview","cachedData","url","memImage","memContainer","translatedData","z","cachedWidth","cachedHeight","applyFramePositioning","imageComponent","img","naturalWidth","naturalHeight","fakeValidatedData","renderLabel$2","backstageShared","centerClass","endClass","internalToolbarButtonExecute","onToolbarButtonExecute","itemApi","commonButtonDisplayEvent","toolbarButtonEventOrder","forceInitialSize","renderIcon$1","iconsProvider","renderIconFromPack$1","renderReplaceableIconFromPack","renderLabel$1","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","tooltipAttributes","fixWidthBehaviourName","memDropdown","searchable","displayText","displayIcon","itemCompCausingCollapse","nowActiveMenuComp","isMenuItemReference","isSeparator$2","isExpandingMenuItem","separator$2","unwrapReferences","realItems","getFromExpandingItem","submenuItems","newMenus","newExpansions","generateValueIfRequired","itemWithValue","newData","getSearchModeForField","searchSettings","getSearchModeForResults","mainMenuSearchMode","mainMenu","submenuSearchMode","submenus","isSingleListItem","dataAttribute","fetchItems","selectedValue","findItemByValue","renderListBox","initialItem","sketchSpec","listBoxWrap","renderPanel","factory$h","option","initialValues","selectClasses","selectAttributes","selectBehaviours","firstOption","found","selectedIndex","HtmlSelect","renderSelectBox","translatedOptions","chevron","selectWrap","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","factory$g","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","FormCoupledInputs","formatSize","unitDec","maxDecimal","numText","parseSize","sizeText","numPattern","convertUnit","inInch","noSizeConversion","_input","ratioSizeConversion","scale","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","optCurrent","optOther","value1","value2","renderSlider","renderTable","renderTh","renderHeader","renderTd","renderTr","renderRows","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","pTextField","flex","extraClasses2","maximized","renderInput","renderTextarea","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","openClass","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","shrinker","doStartGrow","wasShrinking","beforeSize","fullSize","startPartialGrow","startCompleteGrow","setStartSize","setExpanded","onStartGrow","refresh$4","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isGrowing","_slideState","isShrinking","isTransitioning","toggleGrow","immediateGrow","onGrown","SlidingApis","events$6","ActiveSliding","SlidingSchema","init$9","SlidingState","Sliding","getMenuButtonApi","setText","setIcon","renderMenuButton","tabstopping","fetchContext","getFetch","getButton","getMenuItemAction","orig","getMenuItemSetup","renderLabel","leafLabelEventsId","renderLeafLabel","onLeafAction","treeId","selectedId","internalMenuButton","btn","isLeftArrowKey","code","isRightArrowKey","dirComp","dirLabelElement","renderIconFromPack","directoryLabelEventsId","renderDirectoryLabel","noChildren","toggleExpandChildren","directoryEle","directoryComp","willExpand","parentDirElement","parentDirLabelElement","renderDirectoryChildren","expandedIds","renderDirectory","labelTabstopping","directoryEventsId","expandedIdsCell","computedChildrenComponents","childrenVisible","includes","_cmp","childrenComp","treeEventsId","renderTree","onToggleExpand","defaultExpandedIds","selectedIdCell","defaultSelectedId","events$5","streamConfig","streamState","streams","cancelEvent","ActiveStreaming","_config","setTimer","init$8","StreamingState","setup$c","streamInfo","sInfo","onStream","stopEvent","StreamingSchema","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","setSelectionToEnd","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","itemDisplay","itemExecute","make$3","navigateList","highlighter","previewing","focusBehaviours$1","getActiveMenu","typeaheadCustomEvents","responseTime","focusInInput","minChars","previousValue","pv","sandboxIsOpen","lazyTypeaheadComp","typeaheadComp","_typeaheadComp","onItemExecute","dismissOnBlur","typeahead","typeaheadBehaviours","schema$g","parts$b","_tmenu","populateFromBrowse","selectOverTextInInput","_menu","Typeahead","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$1","fromFuture","future","fromPromise","promise","completer","FutureResult","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","calculateClassesFromButtonType","buttonType","renderButtonSpec","translatedText","baseClasses","renderButton$1","buttonSpec","getAction","isMenuFooterButtonSpec","isNormalFooterButtonSpec","isToggleButtonSpec","renderToggleButton","optMemIcon","memIcon","newIcon","buttonTypeClasses","showIconAndText","translatedTextComponed","iconComp","iconButtonSpec","renderFooterButton","menuButtonSpec","fixedSpec","renderDialogButton","separator$1","toMenuItem","staticMenuItem","toMenuItems","targets","filterLinkTargets","filteredTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","historyTargets","history","joinMenuLists","bothEmpty","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","getHistory","errorId","renderUrlInput","updateHistory","urlEntry","addToHistory","filetype","typeaheadSpec","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","trimmedValue","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","picker_text","controlHWrapper","openUrlPicker","componentData","urlData","fieldname","chosenData","renderAlertBanner","iconTooltip","set$1","get$1","renderCheckbox","toggleCheckboxHandler","className","memIcons","renderHtmlPanel","make$2","dialogData","makeIframe","iframeSpec","factories","bar","collection","alertbanner","textarea","checkbox","dropzone","listbox","selectbox","sizeinput","urlinput","customeditor","htmlpanel","imagepreview","tree","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","bubbleSize","editableAreaAnchor","standardAnchor","getInlineBottomDialogAnchor","lazyBottomAnchorBar","getBannerAnchor","getCursorAnchor","bodyElement","selectedCells","getSelectedCells","selectionTableCellRange","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","inlineBottomDialog","cursor","ColorInputBackstage","DialogBackstage","HeaderBackstage","getDockingMode","setDockingMode","isNestedFormat","isFormatReference","defaultStyleFormats","isNestedFormats","isBlockFormat","isInlineFormat","isSelectorFormat","mapFormats","userFormats","fmt","customFormats","formats","formatName","formatNameWithPrefix","registerCustomFormats","registerFormats","getStyleFormats","registeredUserFormats","isSeparator$1","processBasic","isSelectedFor","getPreviewFor","getStylePreview","register$a","enrichSupported","enrichMenu","newItems","doEnrich","getStyleItems","enrichCustom","newItem","init$7","block","parseStyle","getCssText","settingsFormats","eventsFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","isElement","hasContentEditableState","contentEditable","isContentEditableTrue","isContentEditableFalse","isChildOfContentEditableTrue","tempNode","getElementText","innerText","getOrGenerateId","isAnchor","isValidAnchor","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","elms","getAnchorTargets","getTargetElements","hasTitle","LinkTargets","STORAGE_KEY","HISTORY_LENGTH","isHttpUrl","isArrayOfUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","setAllHistory","itemsWithoutUrl","isTruthy","makeMap","getPicker","getPickerTypes","optFileTypes","_picker","types","getPickerSetting","pickerTypes","entry","getTextSetting","UrlInputBackstage","init$6","lazySinks","contextMenuState","getAll","dialogSettings","isContextMenuOpen","setContextMenuState","commonBackstage","popupBackstage","dialogBackstage","setup$b","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","editorManager","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onElementScroll","optScrollingContext","onEditorResize","onEditorProgress","onDismissPopups","parts$a","partType","schema$f","customListDetail","itemsPart","parts$9","factory$f","_external","setItems","getListContainer","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","shell","listBehaviours","CustomList","schema$e","enhanceGroups","parts$8","factory$e","setGroups","groups","getGroupContainer","toolbarBehaviours","Toolbar","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","isFixed","offsetParent$1","getOrigin","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isPartiallyVisible","isTopCompletelyVisible","isBottomCompletelyVisible","forceTopPosition","winBox","leftX","location","topY","forceBottomPosition","bottomY","getDockedLeftPosition","tryDockingPosition","isVisibleForModes","getXYForRestoring","priorY","optScrollEnv","scrollEnv","scrollElmTop","currentScrollTop","getXYForSaving","getPrior","getInitialPos","storePrior","setInitialPos","storePriorIfNone","revertToOriginal","clearInitialPos","morph","offsetBox","scrollDelta","_left","_top","_right","_bottom","tryMorphToOriginal","getModes","tryDecisionToFixedMorph","tryMorphToFixed","tryMorphToOriginalOrUpdateFixed","tryMorph","calculateMorphToOriginal","forceDockWith","getDecision","morphToStatic","setDocked","onUndocked","morphToCoord","method","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","setVisible","applyFixedMorph","applyMorph","refreshInternal","lazyViewport","resetInternal","staticOrAbsoluteMorph","refresh$3","forceDockWithDecision","optMorph","forceDockToTop","forceDockToBottom","isDocked$1","setModes","DockingApis","events$4","dockInfo","dockState","onShown","onHidden","ActiveDocking","DockingSchema","init$5","docked","initialBounds","DockingState","Docking","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","scrollFromBehindHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","isDockedMode","updateIframeContentFlow","getOccupiedHeight","parentElem","parentWidth","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","restoreFocus","headerElem","focusedElem","ownerDoc","activeElm","findFocusedElem","rootElm","setup$9","lazyHeader","getIframeBehaviours","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","constrainedBounds","constrainedBoundsY","boundsWithoutOffset","combinedBounds","StickyHeader","sticky","groupToolbarButtonSchema","createGroupToolbarButton","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","createSplitButton","factory$d","setMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","prev","SilverMenubar","promotionMessage","promotionLink","renderPromotion","schema$d","getPartName","sSpec","slot","make$1","getSlotNames","getSlot","onSlot","def","onSlots","doShowing","doShow","doHide","hideSlot","hideSlots","hideAllSlots","showSlot","slotBehaviours","slotApis","SlotContainer","sidebarSchema","createSidebar","setup$8","sidebars","queryCommandValue","addToggleButton","handleToggle","makePanels","panelConfigs","bridged","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","setSidebar","sidebar","showSidebar","optSlider","configKey","updateSidebarRoleOnToggle","sidebarState","toggleSidebar","optSlotContainer","whichSidebar","sidebarOpen","fixSize","autoSize","renderSidebar","getBusySpec","blockerBehaviours","blockSpec","blocker","isBlocked","onBlock","blockWith","unblock","onUnblock","blockingConfig","blockingState","BlockingApis","BlockingSchema","init$4","BlockingState","Blocking","getBusySpec$1","_root","_behaviours","focusBusyComponent","throbber","toggleEditorTabIndex","tabIndexAttr","dataTabIndexAttr","tabIndex","toggleThrobber","throbberFocus","busyComp","renderThrobber","isFocusEvent","isPasteBinTarget","targetElm","setup$7","lazyThrobber","throbberState","stealFocus","generate$1","within","withinWidth","apportion","total","parray","toUnit","fitLast","overflower","fitAll","tryFit","divide","setGroups$1","storedGroups","bGroups","findFocusedComp","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","schema$a","parts$6","toggledClass","shouldSkipFocus","toggleWithoutFocusing","toolbarSandbox","bounder","makeSandbox","skipFocus","factory$c","FloatingToolbarButton","schema$9","parts$5","factory$b","tgroupBehaviours","itemSelector","ToolbarGroup","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","factory$a","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","SplitFloatingToolbar","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","factory$9","toolbarToggleEvent","doSetGroups","_button","SplitSlidingToolbar","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarBehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","overflowXOffset","moreDrawerData","headerBounds","docElem","docBounds","renderSlidingMoreToolbar","renderToolbar","scrolling","baseButtonFields","normalButtonFields","toggleButtonFields","schemaWithoutGroupButton","togglebutton","groupFields","viewButtonSchema","viewSchema","createView","renderButton","isToggleButton","optTranslatedText","optTranslatedTextComponed","optIconSpec","hasIconAndText","renderViewButton","renderButtonsGroup","deviceDetection","renderViewHeader","hasGroups","endButtons","btnspec","renderViewPane","factory$8","getPane","getOnShow","_comp","viewConfig","getOnHide","View","makeViews","viewConfigs","internalViewConfig","pane","makeSlotContainer","getCurrentName","hideContainer","showContainer","makeViewInstanceApi","runOnPaneWithInstanceApi","onCallback","runOnShow","runOnHide","factory$7","setViews","whichView","toggleView","showMainView","hideMainView","optCurrentSlotName","isTogglingCurrentView","prevName","ViewWrapper","views","editorCont","factory$6","toolbarDrawerOpenState","getSocket","getHeader","setToolbar","renderedGroups","setToolbars","mToolbar","renderedToolbars","refreshToolbar","toggleToolbarDrawer","toggleToolbarDrawerWithoutFocusing","isToolbarDrawerToggled","getThrobber","focusToolbar","optToolbar","setMenubar","menubar","focusMenubar","partMenubar","toolbarFactory","sliding","floating","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","onToolbarToggled","lazyToolbar","lazyMoreButton","partHeader","partPromotion","partSocket","partSidebar","partThrobber","partViewWrapper","renderEditorContainer","partEditorContainer","OuterContainer","defaultMenubar","defaultMenus","edit","tools","help","removedMenuItems","itemName","removedMenuItem","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","isNotSeparator","fireSkinLoaded","done","_skinLoaded","fireSkinLoadError","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadRawCss","unloadRawCss","loadUiSkins","skinResourceIdentifier","skinUiCss","Resource","loadShadowDomUiSkins","isInShadowRoot$1","shadowDomSkinCss","loadUrlSkin","isInline","contentCSS","skinContentCss","loadSkin","makeTooltipText","labelWithPlaceholder","generateSelectItems","generateItem","response","invalid","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","tooltipWithPlaceholder","textUpdateEventName","getComponent","rawFormats","buildBasicStaticDataset","Delimiter","delimiter","SemiColon","buildBasicSettingsDataset","settingName","menuTitle$4","btnTooltip$4","fallbackAlignment","alignMenuItems","getSpec$4","getMatchingValue","_format","updateSelectMenuIcon","alignment","canApply","createAlignButton","createAlignMenu","findNearest","getStyles","menuTitle$3","btnTooltip$3","fallbackFormat","getSpec$3","updateSelectMenuText","detectedFormat","createBlocksButton","createBlocksMenu","menuTitle$2","btnTooltip$2","systemFont","systemStackFonts","splitFonts","fontFamily","fonts","font","matchesStack","isSystemFontStack","userStack","getSpec$2","getFirstFont","matchOpt","createFontFamilyButton","createFontFamilyMenu","unsupportedLength","decimalDigits","signedInteger","exponentPart","dot","unsignedDecimalLiteral","float","isUnit","accepted","check","unitRaw","normalise","Keys","tab","enter","backspace","delete","up","down","space","home","pageUp","pageDown","createBespokeNumberInput","currentComp","getValueFromCurrentComp","alloyComp","updateInputValue","customEvents","fromInput","focusBack","getNewValue","lenghtDelta","oldStart","oldEnd","decrease","increase","goToParent","focusInput","makeStepperButton","editorOffCellStepButton","altExecuting","memMinus","memPlus","buttonNode","wrapperComp","menuTitle$1","btnTooltip$1","fallbackFontSize","legacyFontSizes","keywordFontSizes","precision","factor","pow","toPt","fontSize","toLegacy","getSpec$1","pt","legacy","Space","createFontSizeButton","getConfigFromUnit","baseConfig","em","cm","in","pc","rem","defaultValue","isValidValue","getNumberInputSpec","skip_focus","updateFunction","parsedText","defaultUnit","createFontSizeInputButton","createFontSizeMenu","menuTitle","btnTooltip","getSpec","getFormatItems","flattenedItems","createStylesButton","createStylesMenu","schema$7","arrowPart","arrow","buttonPart","splitDropdown","parts$3","factory$5","openMenu","executeOnButton","buttonEvents","ariaDescriptor","splitDropdownBehaviours","SplitDropdown","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","optIcon","optText","renderFloatingToolbarButton","identifyButtons","specialisation","toolbarButtonBehaviours","renderCommonToolbarButton","_d","renderToolbarButton","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButton","renderToolbarToggleButtonWith","fetchChoices","renderSplitButton","buttonComp","_c","defaultToolbar","renderFromBridge","bridgeBuilder","menubutton","splitbutton","grouptoolbarbutton","identify","allowToolbarGroups","TopToBottom","extractFrom","bespokeButtons","fontsize","fontsizeinput","fontfamily","blocks","removeUnusedDefaults","filteredItemGroups","subItem","convertStringToolbar","strToolbar","groupsStrings","isToolbarGroupSettingArray","createToolbar","toolbarConfig","lookupButton","toolbarItem","prefixes","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","setupEvents$1","initialDocEle","lastWindowDimensions","innerWidth","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","elementLoad","attachUiMotherships","uiRoot","popupUi","dialogUi","render$1","lastToolbarWidth","eTargetNode","targetNode","socket","limit","unbinder","_ui","addQueryValueHandler","toolbarMode","refreshDrawer","iframeContainer","Iframe","parseToInt","re","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeight","baseHeight","minHeight","getHeightWithFallback","getWidth","baseWidth","minWidth","getWidthWithFallback","maximumDistanceToEdge","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","calcMode","toolbarHeight","targetBounds","roomAtTop","docHeight","roomAtBottom","winBounds","isRoomAtBottomViewport","setupMode","verticalDir","updateChromeWidth","bodyMargin","updateChromePosition","optToolbarWidth","getOffsetParent$1","isOffsetParentBody","topValue","baseProperties","widthProperties","toolbarWidth","minimumToolbarWidth","repositionPopups$1","restoreAndGetCompleteOuterContainerWidth","toolbarCurrentRightsidePosition","stickyAction","doUpdateMode","fc","currentMode","newMode","addClass","removeClass","updateMode","changedMode","getTargetPosAndBounds","setupEvents","toolbarPersist","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","lastScrollX","updateUi","newScrollX","_args","uiContainer","Inline","LazyUiReferences","lazyGetInOuterOrDie","getUiMotherships","optDialogMothership","optPopupMothership","dm","pm","showContextToolbarEvent","hideContextToolbarEvent","getFormApi","runOnExecute","formApi","renderContextButton","renderContextToggleButton","mementos","asSpecs","findPrimary","compInSystem","buildInitGroups","commands","renderContextForm","toolbarType","ContextForm","isVerticalOverlap","threshold","getRangeRect","leaf$1","getSelectionBounds","bodyPos","getAnchorElementBounds","lastElement","getHorizontalBounds","contentAreaBox","viewportBounds","getVerticalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getContextToolbarBounds","toolbarOrMenubarEnabled","bubbleSize$1","bubbleAlignments$1","inset","isEntireElementSelected","preservePosition","currentPosition","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isOverlapping","isReposition","yBounds","contextbarHeight","getAnchorSpec$2","mobile","smartInsetLayout","newAnchor","getInsetLayouts","desktopAnchorSpecLayouts","mobileAnchorSpecLayouts","getAnchorLayout","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","filterByPositionForStartNode","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForAncestorNode","findPosition","basePosition","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","lookup$1","rootElem","isOutsideRoot","inEditorScope","categorise","forms","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","renderContextToolbar","currentWidth","newWidth","newContents","oldContents","forwardContents","register$9","registryContextToolbars","lastTrigger","lastContextPosition","canLaunchToolbar","isSameLaunchElement","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","buildContextToolbarGroups","allButtons","buildContextFormGroups","anchorLayout","launchContext","launchContextToolbar","isDragging","toolbarKey","register$8","alignToolbarButtons","cmd","addButton","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","languageSpec","settingsOpt","customCode","customValue","codeOpt","lang","register$7","register$6","onSetupOutdentState","queryCommandState","registerButtons$2","register$5","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","register$4","addToggleMenuItem","onActionToggleFormat","registerFormatButtons","_idx","registerCommandButtons","registerCommandToggleButtons","registerButtons$1","registerMenuItems$2","addMenuItem","register$3","onSetupUndoRedoState","registerMenuItems$1","registerButtons","register$2","onSetupVisualAidState","hasVisual","registerMenuItems","registerToolbarButton","register$1","setup$6","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","isContextMenuDisabled","getContextMenu","contextMenus","contextMenu","transpose","dx","dy","isTouchEvent$1","fromPageXY","pageX","pageY","fromClientXY","transposeContentAreaContainer","containerPos","getPos","getPointAnchor","getSelectionAnchor","getNodeAnchor","getAnchorSpec$1","anchorType","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","isTouchWithinSelection","rngRectOpt","rngRect","setupiOSOverrides","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","getAnchorSpec","bubbleYOffset","highlightImmediately","initAndShow","shouldHighlightImmediately","openiOS","makeContextItem","commonMenuItem","commonItem","addContextMenuGroup","groupItems","lastMenuItem","generateContextMenu","selectedElement","sections","allItems","isNativeOverrideKeyEvent","isTouchEvent","isTriggeredByKeyboard","pointerType","getSelectedElement","getAnchorType","selectorExists","setup$5","hideContextMenu","showContextMenu","initAndShow$2","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","withinRange","coord1","coord2","getDeltas","toStyles","stylesOpt","deltaX","deltaY","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","snapsInfo","leftAttr","topAttr","getCoords","snapInfo","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","getSnapPoints","matchSnap","bestSnap","deltas","bestDeltas","currAvg","bestAvg","snapTo$1","snapTo","dragConfig","getTarget","repositionTarget","snapPin","DraggingApis","initialAttribute","resetZIndex","zIndex","changeZIndex","zindex","instigate","anyComponent","discard","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","clampCoords","coords","absoluteCoord","newCoords","offset$1","calcNewCoord","optSnaps","currentCoord","snapping","onSensor","dragBy","onDrag","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","updateStartState","setStartData","init$3","dragApi","forceDrop","drop","delayDrop","getData$1","getDelta$1","MouseData","getDelta","events$3","stop$1","schema$5","init$2","getDataFrom","TouchData","events$2","blockerSingleton","stopBlocking","schema$4","events$1","schema$3","mouse","mouseOrTouch","DraggingBranches","init$1","previous","calculateDelta","dragEvent","nuData","DragState","Dragging","dragger","snapWidth","snapOffset","calcSnap","selectorOpt","td","selectorHandle","sensorLeft","sensorTop","sensorWidth","sensorHeight","getSnapsConfig","isSameCell","cellOpt","currentTd","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getTopLeftSnaps","getBottomRightSnap","memBottomRight","getBottomRightSnaps","topLeftSnaps","bottomRightSnaps","bottomRight","showOrHideHandle","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","getSnapConfig","snapTopLeft","snapLastTopLeft","snapBottomRight","snapLastBottomRight","otherCells","upOrLeftCells","downOrRightCells","Logo","isHidden","renderElementPath","renderElement","_btn","renderDivider","renderPathData","updatePath","newPath","isDefaultPrevented","isPropagationStopped","ResizeTypes","getDimensions","resizeType","originalHeight","originalWidth","Both","resize","dim","getResizeType","None","Vertical","keyboardHandler","renderResizeHandler","resizeLabel","_target","renderWordCount","replaceCountText","words","characters","currentVal","wordCount","renderStatusbar","renderBranding","renderHelpAccessibility","shortcutText","renderRightContainer","getTextComponents","shouldRenderHelp","shouldRenderElementPath","shouldRenderRightContainer","getTextComponentClasses","flexStart","flexEnd","spaceAround","container3Columns","getComponents","resizeHandler","getLazyMothership","setup$3","setupForTheme","lazyUiRefs","lazyMothership","lazyDialogMothership","lazyPopupMothership","touchPlatformClass","deviceClasses","isToolbarBottom","memAnchorBar","memBottomAnchorBar","lazyDialogSinkResult","lazyPopupSinkResult","lazyAnchorBar","backstages","makeHeaderPart","verticalDirAttributes","hasMultipleToolbar","hasToolbar","hasMenubar","shouldHavePromotion","makePromotion","hasAnyContents","getPartToolbar","menubarCollection","promotion","makeSidebarDefinition","renderDialogUi","isGridUiContainer","sinkSpec","reactiveWidthSpec","renderPopupUi","getPopupSinkBounds","renderMainUi","sidebarContainer","viewWrapper","statusbar","editorComponents","opacity","setEditorSize","parsedHeight","parsedWidth","setupShortcutsAndCommands","addShortcut","addQueryStateHandler","renderUIWithRefs","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","reuseDialogUiForPopuUi","renderUI","popups","getMothership","dialogs","labelledBy","labelledElement","labelElement","labelId","schema$2","basic","parts$2","dragBlockClass","getDragBounds","factory$4","dialogComp","showDialog","externalBlocker","hideDialog","blockerDom","getDialogBody","getDialogFooter","setBusy","setIdle","modalEventsId","getFooter","modalBehaviours","ModalDialog","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","toggleButtonSpecFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","createBarFields","itemsField","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerFields","colorPickerSchema","colorPickerDataProcessor","customEditorFields","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneFields","dropZoneSchema","dropZoneDataProcessor","createGridFields","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","baseTreeItemFields","treeItemLeafFields","treeItemLeafSchema","treeItemDirectoryFields","treeItemDirectorySchema","treeItemSchema","treeFields","treeSchema","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","createDialog","urlDialogButtonSchema","urlDialogSchema","createUrlDialog","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","getDataProcessor","getNamedItems","createDataValidator","namedItems","internalDialog","dataValidator","DialogManager","openUrl","redial","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ActiveReflecting","reflectState","ReflectingApis","ReflectingSchema","ReflectingState","Reflecting","toValidValues","renderBodyPanel","memForm","formValue","factory$3","tabButtonBehaviours","TabButton","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","factory$2","tabbarBehaviours","selectedClass","Tabbar","factory$1","tabviewBehaviours","Tabview","barPart","tabs","viewPart","tabValue","tabview","tabWithValue","tabData","onChangeTab","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","onDismissTab","getViewItems","showTab","tabKey","getTabIfNotActive","optTab","TabSection","measureHeights","allTabs","tabviewComp","_tab","getMaxHeight","heights","getMaxTabviewHeight","tablist","documentElement$1","tabviewHeight","isTabListBeside","currentTabHeight","dialogTopMargin","dialogBottomMargin","dialogHeight","chromeHeight","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","getTabview","smartMode","extraEvents","maxTabHeightOpt","oldHeight","newHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","ariaAttributes","renderInlineBody","renderModalBody","bodySpec","renderIframeBody","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","renderInlineHeader","renderModalHeader","pTitle","pHandle","draghandle","draggable","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","fullscreenClass","largeDialogClass","mediumDialogClass","getDialogSizeClass","updateDialogSizeClass","dialogSizeClass","toggleFullscreen","currentSize","currentSizeClass","renderModalDialog","mapMenuButtons","menuItemStates","mapItems","extractCellsToObject","menuButton","innerAcc","initCommonEvents","fireApiEvent","_event","initUrlDialog","getInstanceApi","withSpec","currentDialog","initDialog","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","makeButton","footerButtons","buttonName","buttonGroups","makeGroup","renderFooter","initSpec","lookupByName","renderInlineFooter","renderModalFooter","getCompByName","getFormWrapper","footerState","validateData$1","dialogState","getDialogApi","doRedial","withRoot","valueComp","representedValues","menuItemCurrentState","setData","prevData","instanceApi","mergedData","newInternalData","bodyState","tabSection","getId","dialogInit","storedMenuButtons","renderDialog","dialogSize","dialogSizeClasses","objOfCells","modalAccess","getForm","outerForm","toggleFullscreen$1","renderInlineDialog","refreshDocking","dialogLabelId","dialogContentId","memHeader","memBody","storagedMenuButtons","optMemFooter","inlineClass","memFooter","global","getUrlDialogApi","sendMessage","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","isCustomMessage","handleMessage","insertContent","renderUrlDialog","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","onMessage","iframeEle","iframeWin","postMessage","setup$2","closeDialog","alertDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$1","confirmDialog","memFooterYes","footerNo","footerYesButton","validateData","isAlertOrConfirmDialog","inlineAdditionalBehaviours","isStickyToolbar$1","openInlineDialog","openBottomInlineDialog","openModalDialog","openModalUrlDialog","internalInitialData","config$1","windowParams","inlineDialogComp","persistent","getInlineDialogBounds","contentAreaContainer","confirm","registerOptions","Theme","popupSinkBounds","renderModeUI","renderResult","windowMgr","getNotificationManagerImpl","getWindowManagerImpl"],"sources":["C:/Users/Youcode/Desktop/FLLLROUGE/node_modules/tinymce/themes/silver/theme.js"],"sourcesContent":["/**\n * TinyMCE version 6.8.3 (2024-02-08)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf$2 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$2(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$h = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$h(xs, 0);\n    const last$1 = xs => get$h(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$g = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path$1 = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path$1(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie$1 = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie$1('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));\n    };\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentNode = element => parent(element);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$f = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$f(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$e = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue$1 = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$e(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$e(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$d = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$c = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$5,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$b = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$a = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$2().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$b(SugarElement.fromDom(doc));\n      return get$a(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$b(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const constrain = (original, constraint) => {\n      const left = Math.max(original.x, constraint.x);\n      const top = Math.max(original.y, constraint.y);\n      const right = Math.min(original.right, constraint.right);\n      const bottom = Math.min(original.bottom, constraint.bottom);\n      const width = right - left;\n      const height = bottom - top;\n      return bounds(left, top, width, height);\n    };\n    const constrainByMany = (original, constraints) => {\n      return foldl(constraints, (acc, c) => constrain(acc, c), original);\n    };\n    const win = () => getBounds$3(window);\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    const value$4 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$4);\n    const Result = {\n      value: value$4,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep$1 = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep$1);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$3 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$3(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$g(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$g(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$g(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$g(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = (props, rawF) => {\n      const f = rawF !== undefined ? rawF : identity;\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return {\n              stype: SimpleResultType.Value,\n              svalue: f(res.svalue)\n            };\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$3(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$3(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$3(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$g(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$g(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$3(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$3(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const externalElementScroll = prefixName('system.external.element.scroll');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const retargetAndDispatchWith = (component, target, eventName, properties) => {\n      const data = {\n        ...properties,\n        target\n      };\n      component.getSystem().triggerEvent(eventName, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$9 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$9(container);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$i = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read$1 = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton$1 = NoContextApi();\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$g(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const NoState = { init: () => nu$8({ readState: constant$1('No State required') }) };\n    const nu$8 = spec => spec;\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$g(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const nu$7 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$7({}), nu$7);\n    const toEvents = info => info.events;\n\n    const read = (element, attr) => {\n      const value = get$f(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n    const toggle$5 = (element, clazz) => {\n      if (contains$2(get$8(element), clazz)) {\n        return remove$3(element, clazz);\n      } else {\n        return add$3(element, clazz);\n      }\n    };\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const toggle$4 = (element, clazz) => {\n      const result = supports(element) ? element.dom.classList.toggle(clazz) : toggle$5(element, clazz);\n      cleanClass(element);\n      return result;\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const toggle$3 = (element, classes) => {\n      each$1(classes, x => {\n        toggle$4(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$7 = element => supports(element) ? getNative(element) : get$8(element);\n\n    const get$6 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$2(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$7(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$6(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$g(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton$1);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$g(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$2 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$f(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$f(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$g(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$g(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$h = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$5 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$g(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$7({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$g(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$4 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$5(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const Receiving = create$4({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$7({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = (element, preventScroll = false) => element.dom.focus({ preventScroll });\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$b();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, optBounds) => optBounds.fold(() => origin.fold(win, win, bounds), bounds$1 => origin.fold(constant$1(bounds$1), constant$1(bounds$1), () => {\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$b();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$2 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton(s => s.destroy());\n    const unbindable = () => singleton(s => s.unbind());\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$e(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, optBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, optBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$g(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$e(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$f(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$5 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$5(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$5(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$b(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$5(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const ancestors = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$4 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$4(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const isSimRange = detail => detail.foffset !== undefined;\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        if (isSimRange(sel)) {\n          const modStart = descendOnce(sel.start, sel.soffset);\n          const modFinish = descendOnce(sel.finish, sel.foffset);\n          return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n        } else {\n          return sel;\n        }\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        if (isSimRange(sel)) {\n          const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n            const zeroWidth$1 = SugarElement.fromText(zeroWidth);\n            before$1(sel.start, zeroWidth$1);\n            const rect = getFirstRect(win, SimSelection.exact(zeroWidth$1, 0, zeroWidth$1, 1));\n            remove$5(zeroWidth$1);\n            return rect;\n          });\n          return optRect.bind(rawRect => {\n            return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n          });\n        } else {\n          const selectionRect = map$1(sel, cell => cell.dom.getBoundingClientRect());\n          const bounds = {\n            left: Math.min(selectionRect.firstCell.left, selectionRect.lastCell.left),\n            right: Math.max(selectionRect.firstCell.right, selectionRect.lastCell.right),\n            top: Math.min(selectionRect.firstCell.top, selectionRect.lastCell.top),\n            bottom: Math.max(selectionRect.firstCell.bottom, selectionRect.lastCell.bottom)\n          };\n          return getBox(bounds.left, bounds.top, bounds.right - bounds.left, bounds.bottom - bounds.top);\n        }\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => {\n        if (isSimRange(sel)) {\n          return isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start);\n        } else {\n          return Optional.some(sel.firstCell);\n        }\n      });\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$5(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (origin, anchoring, optBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, optBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      const optWithinBounds = Optional.none();\n      positionWithinBounds(component, posConfig, posState, placee, placementSpec, optWithinBounds);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, optWithinBounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        anchorage.placement(component, anchorage, origin).each(anchoring => {\n          const optBounds = optWithinBounds.orThunk(() => posConfig.getBounds.map(apply$1));\n          const newState = place(origin, anchoring, optBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset$1 = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    const init$g = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$g(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Positioning = create$4({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$g = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$f = () => {\n      const contents = value$2();\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Sandboxing = create$4({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$f = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$8({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$g(dataByValue.get(), itemString).orThunk(() => get$g(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$g(item, 'meta').each(meta => {\n            get$g(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$8({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$e = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$4({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$3 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$3\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$g(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$g(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$f(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$4({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$f(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$e = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$4({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        const shouldSkip = exists(skip, skipComp => eq(skipComp.element, h));\n        if (!shouldSkip) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$4({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift$1 = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift$1);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$2 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$d(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const isFirstChild = elem => parentNode(elem).bind(firstChild).exists(child => eq(child, elem));\n      const goFromPseudoTabstop = (component, simulatedEvent, tabbingConfig) => findCurrent(component, tabbingConfig).filter(elem => !tabbingConfig.useTabstopAt(elem)).bind(elem => (isFirstChild(elem) ? goBackwards : goForwards)(component, simulatedEvent, tabbingConfig));\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift$1,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([\n        rule(inSet(ESCAPE), exit),\n        rule(inSet(TAB), goFromPseudoTabstop)\n      ]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$2(customField('cyclic', never));\n\n    var CyclicType = create$2(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$2();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$8({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$d = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const f = (container, selector, current, delta, getNewIndex) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$f(candidate, 'disabled') === 'disabled';\n      const tryNewIndex = (initial, index, candidates) => getNewIndex(initial, index, delta, 0, candidates.length - 1, candidates[index], newIndex => isDisabledButton(candidates[newIndex]) ? tryNewIndex(initial, newIndex, candidates) : Optional.from(candidates[newIndex]));\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryNewIndex(index, index, candidates);\n      });\n    };\n    const horizontalWithoutCycles = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, oldCandidate, onNewIndex) => {\n      const newIndex = clamp(v + d, min, max);\n      return newIndex === prevIndex ? Optional.from(oldCandidate) : onNewIndex(newIndex);\n    });\n    const horizontal = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, _oldCandidate, onNewIndex) => {\n      const newIndex = cycleBy(v, d, min, max);\n      return newIndex === prevIndex ? Optional.none() : onNewIndex(newIndex);\n    });\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true),\n      defaulted('allowHorizontal', true),\n      defaulted('cycles', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = [...flowConfig.allowHorizontal ? LEFT : []].concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = [...flowConfig.allowHorizontal ? RIGHT : []].concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift$1,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$4({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$d = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$4({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    const events$c = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$4({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$7({});\n    const events$b = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$4({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$a = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem');\n    const getTogglingSpec = tConfig => ({\n      aria: { mode: 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      previousSelector: movementInfo.previousSelector,\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector'),\n          defaulted('previousSelector', Optional.none)\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight,\n          onDehighlight: detail.onDehighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$f(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      domModification: { attributes: { role: 'menu' } }\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$g(byMenu, finish).bind(triggerItem => get$g(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$g(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$c = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$2();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$g(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$g(expansions.get(), itemValue).map(menu => {\n        const current = get$g(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$g(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$g(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$g(menus.get(), menuValue);\n      const lookupItem = itemValue => get$g(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$c,\n      extractPreparedMenu\n    };\n\n    const onMenuItemHighlightedEvent = generate$6('tiered-menu-item-highlight');\n    const onMenuItemDehighlightedEvent = generate$6('tiered-menu-item-dehighlight');\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem'] = 0] = 'HighlightMenuAndItem';\n      HighlightOnOpen[HighlightOnOpen['HighlightJustMenu'] = 1] = 'HighlightJustMenu';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 2] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$2();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: (menuComp, itemComp) => {\n            const highlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemHighlightedEvent, highlightData);\n          },\n          onDehighlight: (menuComp, itemComp) => {\n            const dehighlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemDehighlightedEvent, dehighlightData);\n          },\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = Highlighting.highlight;\n      const setActiveMenuAndItem = (container, menu) => {\n        setActiveMenu(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          if (detail.fakeFocus) {\n            Highlighting.highlight(menu, item);\n          } else {\n            dispatch(container, item.element, focusItem());\n          }\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$f(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenuAndItem(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => {\n        return closest$1(simulatedEvent.getSource(), `.${ detail.markers.item }`).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      };\n      const events = derive$2([\n        run$1(focus(), (tmenu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(tmenu, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(tmenu, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightOnOpen === HighlightOnOpen.HighlightMenuAndItem) {\n              setActiveMenuAndItem(container, primary);\n            } else if (detail.highlightOnOpen === HighlightOnOpen.HighlightJustMenu) {\n              setActiveMenu(container, primary);\n            }\n          });\n        }),\n        run$1(onMenuItemHighlightedEvent, (tmenuComp, se) => {\n          detail.onHighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        run$1(onMenuItemDehighlightedEvent, (tmenuComp, se) => {\n          detail.onDehighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        ...detail.navigateOnHover ? [run$1(hover(), (tmenu, simulatedEvent) => {\n            const item = simulatedEvent.event.item;\n            updateView(tmenu, item);\n            expandRight(tmenu, item, ExpandHighlightDecision.HighlightParent);\n            detail.onHover(tmenu, item);\n          })] : []\n      ]);\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenuAndItem(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$f(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightOnOpen', HighlightOnOpen.HighlightMenuAndItem),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlightItem'),\n        onHandler('onDehighlightItem'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightOnOpen: menuSpec.menu.highlightOnOpen,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$o = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        const getBounds = Optional.none;\n        showWithinBounds(sandbox, thing, placementSpec, getBounds);\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$o,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const factory$n = detail => {\n      const events = events$a(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = detail.role.getOr(lookupAttr('role').getOr('button'));\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$n,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$9(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    const {entries, setPrototypeOf, isFrozen, getPrototypeOf, getOwnPropertyDescriptor} = Object;\n    let {freeze, seal, create: create$1} = Object;\n    let {apply, construct} = typeof Reflect !== 'undefined' && Reflect;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return new Func(...args);\n      };\n    }\n    const arrayForEach = unapply(Array.prototype.forEach);\n    const arrayPop = unapply(Array.prototype.pop);\n    const arrayPush = unapply(Array.prototype.push);\n    const stringToLowerCase = unapply(String.prototype.toLowerCase);\n    const stringToString = unapply(String.prototype.toString);\n    const stringMatch = unapply(String.prototype.match);\n    const stringReplace = unapply(String.prototype.replace);\n    const stringIndexOf = unapply(String.prototype.indexOf);\n    const stringTrim = unapply(String.prototype.trim);\n    const regExpTest = unapply(RegExp.prototype.test);\n    const typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array, transformCaseFunc) {\n      var _transformCaseFunc;\n      transformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      let l = array.length;\n      while (l--) {\n        let element = array[l];\n        if (typeof element === 'string') {\n          const lcElement = transformCaseFunc(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      const newObject = create$1(null);\n      for (const [property, value] of entries(object)) {\n        newObject[property] = value;\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        const desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    const html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    const svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    const svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feDropShadow',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    const svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    const mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover',\n      'mprescripts'\n    ]);\n    const mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    const text$1 = freeze(['#text']);\n    const html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    const svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    const mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    const xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n    const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    const DOCTYPE_NAME = seal(/^html$/i);\n    var EXPRESSIONS = Object.freeze({\n      __proto__: null,\n      MUSTACHE_EXPR: MUSTACHE_EXPR,\n      ERB_EXPR: ERB_EXPR,\n      TMPLIT_EXPR: TMPLIT_EXPR,\n      DATA_ATTR: DATA_ATTR,\n      ARIA_ATTR: ARIA_ATTR,\n      IS_ALLOWED_URI: IS_ALLOWED_URI,\n      IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE: ATTR_WHITESPACE,\n      DOCTYPE_NAME: DOCTYPE_NAME\n    });\n    const getGlobal = () => typeof window === 'undefined' ? null : window;\n    const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n      if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      let suffix = null;\n      const ATTR_NAME = 'data-tt-policy-suffix';\n      if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n        suffix = purifyHostElement.getAttribute(ATTR_NAME);\n      }\n      const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML(html) {\n            return html;\n          },\n          createScriptURL(scriptUrl) {\n            return scriptUrl;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      const DOMPurify = root => createDOMPurify(root);\n      DOMPurify.version = '3.0.5';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      const originalDocument = window.document;\n      const currentScript = originalDocument.currentScript;\n      let {document} = window;\n      const {DocumentFragment, HTMLTemplateElement, Node, Element, NodeFilter, NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap, HTMLFormElement, DOMParser, trustedTypes} = window;\n      const ElementPrototype = Element.prototype;\n      const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        const template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      let trustedTypesPolicy;\n      let emptyHTML = '';\n      const {implementation, createNodeIterator, createDocumentFragment, getElementsByTagName} = document;\n      const {importNode} = originalDocument;\n      let hooks = {};\n      DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n      const {MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR, DATA_ATTR, ARIA_ATTR, IS_SCRIPT_OR_DATA, ATTR_WHITESPACE} = EXPRESSIONS;\n      let {IS_ALLOWED_URI: IS_ALLOWED_URI$1} = EXPRESSIONS;\n      let ALLOWED_TAGS = null;\n      const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n        ...html$1,\n        ...svg$1,\n        ...svgFilters,\n        ...mathMl$1,\n        ...text$1\n      ]);\n      let ALLOWED_ATTR = null;\n      const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n        ...html,\n        ...svg,\n        ...mathMl,\n        ...xml\n      ]);\n      let CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      let FORBID_TAGS = null;\n      let FORBID_ATTR = null;\n      let ALLOW_ARIA_ATTR = true;\n      let ALLOW_DATA_ATTR = true;\n      let ALLOW_UNKNOWN_PROTOCOLS = false;\n      let ALLOW_SELF_CLOSE_IN_ATTR = true;\n      let SAFE_FOR_TEMPLATES = false;\n      let WHOLE_DOCUMENT = false;\n      let SET_CONFIG = false;\n      let FORCE_BODY = false;\n      let RETURN_DOM = false;\n      let RETURN_DOM_FRAGMENT = false;\n      let RETURN_TRUSTED_TYPE = false;\n      let SANITIZE_DOM = true;\n      let SANITIZE_NAMED_PROPS = false;\n      const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n      let KEEP_CONTENT = true;\n      let IN_PLACE = false;\n      let USE_PROFILES = {};\n      let FORBID_CONTENTS = null;\n      const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      let DATA_URI_TAGS = null;\n      const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      let URI_SAFE_ATTRIBUTES = null;\n      const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      let NAMESPACE = HTML_NAMESPACE;\n      let IS_EMPTY_INPUT = false;\n      let ALLOWED_NAMESPACES = null;\n      const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [\n        MATHML_NAMESPACE,\n        SVG_NAMESPACE,\n        HTML_NAMESPACE\n      ], stringToString);\n      let PARSER_MEDIA_TYPE;\n      const SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      let transformCaseFunc;\n      let CONFIG = null;\n      const formElement = document.createElement('form');\n      const isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      const _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || typeof cfg !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n        ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, [...text$1]);\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (cfg.TRUSTED_TYPES_POLICY) {\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n          }\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n          }\n          trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        } else {\n          if (trustedTypesPolicy === undefined) {\n            trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n          }\n          if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n            emptyHTML = trustedTypesPolicy.createHTML('');\n          }\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      const HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      const ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      const ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      const _checkValidNamespace = function _checkValidNamespace(element) {\n        let parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        const tagName = stringToLowerCase(element.tagName);\n        const parentTagName = stringToLowerCase(parent.tagName);\n        if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return false;\n        }\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return true;\n        }\n        return false;\n      };\n      const _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          node.remove();\n        }\n      };\n      const _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      const _initDocument = function _initDocument(dirty) {\n        let doc;\n        let leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        const body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      const _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      const _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n      };\n      const _isNode = function _isNode(object) {\n        return typeof Node === 'object' ? object instanceof Node : object && typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], hook => {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      const _sanitizeElements = function _sanitizeElements(currentNode) {\n        let content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        const tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              const childCount = childNodes.length;\n              for (let i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR, ' ');\n          content = stringReplace(content, ERB_EXPR, ' ');\n          content = stringReplace(content, TMPLIT_EXPR, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, '')));\n        else if (value) {\n          return false;\n        } else ;\n        return true;\n      };\n      const _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        let attr;\n        let value;\n        let lcName;\n        let l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        const {attributes} = currentNode;\n        if (!attributes) {\n          return;\n        }\n        const hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          const {name, namespaceURI} = attr;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          const initValue = value;\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR, ' ');\n            value = stringReplace(value, ERB_EXPR, ' ');\n            value = stringReplace(value, TMPLIT_EXPR, ' ');\n          }\n          const lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n            _removeAttribute(name, currentNode);\n            value = SANITIZE_NAMED_PROPS_PREFIX + value;\n          }\n          if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n            if (namespaceURI);\n            else {\n              switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML': {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL': {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n              }\n            }\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        let shadowNode;\n        const shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty) {\n        let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let body;\n        let importedNode;\n        let currentNode;\n        let returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString === 'function') {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          } else {\n            throw typeErrorCreate('toString is not a function');\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            const tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n        }\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n          serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        const lcTag = transformCaseFunc(tag);\n        const lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const sanitizeHtmlString = html => purify().sanitize(html);\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$g(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$8.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$g(icons, getIconName(name, icons));\n    const get$2 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$8.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$3 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$g(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$3(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$3(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$m = detail => {\n      const memBannerText = record({\n        dom: fromHtml(`<p>${ sanitizeHtmlString(detail.translationProvider(detail.text)) }</p>`),\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$2(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'span',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), comp => {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$m,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        option$3('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        const win$1 = win();\n        const x = clamp(win$1.x, contentArea.x, contentArea.right);\n        const y = clamp(win$1.y, contentArea.y, contentArea.bottom);\n        const right = Math.max(contentArea.right, win$1.right);\n        const bottom = Math.max(contentArea.bottom, win$1.bottom);\n        return Optional.some(bounds(x, y, right - x, bottom - y));\n      };\n      const open = (settings, closeCallback) => {\n        const close = () => {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: settings.icon,\n          closeButton: settings.closeButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        const notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {},\n          ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} }\n        }));\n        uiMothership.add(notificationWrapper);\n        if (isNumber(settings.timeout) && settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const allNotifications = editor.notificationManager.getNotifications();\n          if (allNotifications[0] === thisNotification) {\n            const anchor = {\n              ...sharedBackstage.anchors.banner(),\n              overrides: anchorOverrides\n            };\n            InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n          } else {\n            indexOf(allNotifications, thisNotification).each(idx => {\n              const previousNotification = allNotifications[idx - 1].getEl();\n              const nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(previousNotification)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: () => [south$2],\n                  onLtr: () => [south$2]\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            });\n          }\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$5.deviceType.isPhone();\n      const isMobile = global$5.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$7.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('font_size_input_default_unit', {\n        processor: 'string',\n        default: 'pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('ui_mode', {\n        processor: 'string',\n        default: 'combined'\n      });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('promotion', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$5.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n      registerOption('help_accessibility', {\n        processor: 'boolean',\n        default: editor.hasPlugin('help')\n      });\n      registerOption('default_font_stack', {\n        processor: 'string[]',\n        default: []\n      });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFontSizeInputDefaultUnit = option$2('font_size_input_default_unit');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const promotionEnabled = option$2('promotion');\n    const useHelpAccessibility = option$2('help_accessibility');\n    const getDefaultFontStack = option$2('default_font_stack');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$6.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getSkinUrlOption = editor => Optional.from(editor.options.get('skin_url'));\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      var _a;\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = (_a = fixedContainerSelector(editor)) !== null && _a !== void 0 ? _a : '';\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const isSplitUiMode = editor => !useFixedContainer(editor) && editor.options.get('ui_mode') === 'split';\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        getSkinUrlOption: getSkinUrlOption,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        isSplitUiMode: isSplitUiMode,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        getFontSizeInputDefaultUnit: getFontSizeInputDefaultUnit,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        promotionEnabled: promotionEnabled,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow,\n        useHelpAccessibility: useHelpAccessibility,\n        getDefaultFontStack: getDefaultFontStack\n    });\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const detect$1 = elm => closest$1(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        if (api.isActive() && !api.isProcessingAction() && detect$1(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$g(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const schema$l = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$6(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$6(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$6(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$l = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$l(),\n      factory: factory$l\n    });\n\n    const refetchTriggerEvent = generate$6('refetch-trigger-event');\n    const redirectMenuItemInteractionEvent = generate$6('redirect-menu-item-interaction');\n\n    const menuSearcherClass = 'tox-menu__searcher';\n    const findWithinSandbox = sandboxComp => {\n      return descendant(sandboxComp.element, `.${ menuSearcherClass }`).bind(inputElem => sandboxComp.getSystem().getByDom(inputElem).toOptional());\n    };\n    const findWithinMenu = findWithinSandbox;\n    const restoreState = (inputComp, searcherState) => {\n      Representing.setValue(inputComp, searcherState.fetchPattern);\n      inputComp.element.dom.selectionStart = searcherState.selectionStart;\n      inputComp.element.dom.selectionEnd = searcherState.selectionEnd;\n    };\n    const saveState = inputComp => {\n      const fetchPattern = Representing.getValue(inputComp);\n      const selectionStart = inputComp.element.dom.selectionStart;\n      const selectionEnd = inputComp.element.dom.selectionEnd;\n      return {\n        fetchPattern,\n        selectionStart,\n        selectionEnd\n      };\n    };\n    const setActiveDescendant = (inputComp, active) => {\n      getOpt(active.element, 'id').each(id => set$9(inputComp.element, 'aria-activedescendant', id));\n    };\n    const renderMenuSearcher = spec => {\n      const handleByBrowser = (comp, se) => {\n        se.cut();\n        return Optional.none();\n      };\n      const handleByHighlightedItem = (comp, se) => {\n        const eventData = {\n          interactionEvent: se.event,\n          eventType: se.event.raw.type\n        };\n        emitWith(comp, redirectMenuItemInteractionEvent, eventData);\n        return Optional.some(true);\n      };\n      const customSearcherEventsName = 'searcher-events';\n      return {\n        dom: {\n          tag: 'div',\n          classes: [selectableClass]\n        },\n        components: [Input.sketch({\n            inputClasses: [\n              menuSearcherClass,\n              'tox-textfield'\n            ],\n            inputAttributes: {\n              ...spec.placeholder.map(placeholder => ({ placeholder: spec.i18n(placeholder) })).getOr({}),\n              'type': 'search',\n              'aria-autocomplete': 'list'\n            },\n            inputBehaviours: derive$1([\n              config(customSearcherEventsName, [\n                run$1(input(), inputComp => {\n                  emit(inputComp, refetchTriggerEvent);\n                }),\n                run$1(keydown(), (inputComp, se) => {\n                  if (se.event.raw.key === 'Escape') {\n                    se.stop();\n                  }\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onLeft: handleByBrowser,\n                onRight: handleByBrowser,\n                onSpace: handleByBrowser,\n                onEnter: handleByHighlightedItem,\n                onEscape: handleByHighlightedItem,\n                onUp: handleByHighlightedItem,\n                onDown: handleByHighlightedItem\n              })\n            ]),\n            eventOrder: {\n              keydown: [\n                customSearcherEventsName,\n                Keying.name()\n              ]\n            }\n          })]\n      };\n    };\n\n    const searchResultsClass = 'tox-collection--results__js';\n    const augmentWithAria = item => {\n      var _a;\n      if (item.dom) {\n        return {\n          ...item,\n          dom: {\n            ...item.dom,\n            attributes: {\n              ...(_a = item.dom.attributes) !== null && _a !== void 0 ? _a : {},\n              'id': generate$6('aria-item-search-result-id'),\n              'aria-selected': 'false'\n            }\n          }\n        };\n      } else {\n        return item;\n      }\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components && item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const insertItemsPlaceholder = (columns, initItems, onItem) => {\n      return Menu.parts.items({\n        preprocess: rawItems => {\n          const enrichedItems = map$2(rawItems, onItem);\n          if (columns !== 'auto' && columns > 1) {\n            return chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(enrichedItems);\n          } else {\n            return preprocessCollection(enrichedItems, (_item, i) => initItems[i].type === 'separator');\n          }\n        }\n      });\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [insertItemsPlaceholder(columns, initItems, identity)]\n    });\n    const forCollectionWithSearchResults = (columns, initItems, _hasIcons = true) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            searchResultsClass\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid']),\n          attributes: { id: ariaControlsSearchResults }\n        },\n        components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n      };\n    };\n    const forCollectionWithSearchField = (columns, initItems, searchField) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [\n          renderMenuSearcher({\n            i18n: global$8.translate,\n            placeholder: searchField.placeholder\n          }),\n          {\n            dom: {\n              tag: 'div',\n              classes: [\n                ...columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'],\n                searchResultsClass\n              ],\n              attributes: { id: ariaControlsSearchResults }\n            },\n            components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n          }\n        ]\n      };\n    };\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _menuLayout) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, menuLayout) => {\n      const getNormalStructure = () => {\n        if (menuLayout.menuType !== 'searchable') {\n          return forCollection(columns, items);\n        } else {\n          return menuLayout.searchMode.searchMode === 'search-with-field' ? forCollectionWithSearchField(columns, items, menuLayout.searchMode) : forCollectionWithSearchResults(columns, items);\n        }\n      };\n      if (menuLayout.menuType === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' || menuLayout.menuType === 'searchable') {\n        const structure = getNormalStructure();\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else {\n        return {\n          value,\n          dom: dom$1(hasIcons, columns, menuLayout.menuType),\n          components: components,\n          items\n        };\n      }\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [\n      optionFunction('select'),\n      defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        defaultedString('storageKey', 'default'),\n        optionArrayOf('colors', anyValue())\n      ])\n    ].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$9 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), comp => {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), (comp, _se) => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        }\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$b = () => {\n      const timer = value$2();\n      const popup = value$2();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    const Tooltipping = create$4({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiRefs, readonly) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const target = outerContainer.element;\n      const motherships = [\n        uiRefs.mainUi.mothership,\n        ...uiRefs.uiMotherships\n      ];\n      if (readonly) {\n        each$1(motherships, m => {\n          m.broadcastOn([dismissPopups()], { target });\n        });\n      }\n      each$1(motherships, m => {\n        m.broadcastOn([ReadOnlyChannel], { readonly });\n      });\n    };\n    const setupReadonlyModeSwitch = (editor, uiRefs) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiRefs, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiRefs, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$5.os.isMacOS() || global$5.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$2 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$2(global$8.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$2(global$8.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$2(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$2('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$2('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$2('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemText = item.ariaLabel;\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const attributes = itemText.map(text => ({ title: providerBackstage.translate(text) })).getOr({});\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else if (isNonNullable(itemValue)) {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue },\n            innerHtml: icon\n          };\n        } else {\n          return baseDom;\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({\n        attributes: {\n          title: global$8.translate(label),\n          id: generate$6('menu-item')\n        }\n      })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage) => get$g(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOr([]);\n    const encodeText = text => global$7.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$8.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => {\n      editor.dispatch('SkinLoaded');\n    };\n    const fireSkinLoadError$1 = (editor, error) => {\n      editor.dispatch('SkinLoadError', error);\n    };\n    const fireResizeEditor = editor => {\n      editor.dispatch('ResizeEditor');\n    };\n    const fireResizeContent = (editor, e) => {\n      editor.dispatch('ResizeContent', e);\n    };\n    const fireScrollContent = (editor, e) => {\n      editor.dispatch('ScrollContent', e);\n    };\n    const fireTextColorChange = (editor, data) => {\n      editor.dispatch('TextColorChange', data);\n    };\n    const fireAfterProgressState = (editor, state) => {\n      editor.dispatch('AfterProgressState', { state });\n    };\n    const fireResolveName = (editor, node) => editor.dispatch('ResolveName', {\n      name: node.nodeName.toLowerCase(),\n      target: node\n    });\n    const fireToggleToolbarDrawer = (editor, state) => {\n      editor.dispatch('ToggleToolbarDrawer', { state });\n    };\n    const fireStylesTextUpdate = (editor, data) => {\n      editor.dispatch('StylesTextUpdate', data);\n    };\n    const fireAlignTextUpdate = (editor, data) => {\n      editor.dispatch('AlignTextUpdate', data);\n    };\n    const fireFontSizeTextUpdate = (editor, data) => {\n      editor.dispatch('FontSizeTextUpdate', data);\n    };\n    const fireFontSizeInputTextUpdate = (editor, data) => {\n      editor.dispatch('FontSizeInputTextUpdate', data);\n    };\n    const fireBlocksTextUpdate = (editor, data) => {\n      editor.dispatch('BlocksTextUpdate', data);\n    };\n    const fireFontFamilyTextUpdate = (editor, data) => {\n      editor.dispatch('FontFamilyTextUpdate', data);\n    };\n\n    const composeUnbinders = (f, g) => () => {\n      f();\n      g();\n    };\n    const onSetupEditableToggle = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.selection.isEditable());\n    });\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundFormatChangeCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundFormatChangeCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundFormatChangeCallback.clear();\n      };\n    };\n    const onSetupStateToggle = (editor, name) => api => {\n      const unbindEditableToogle = onSetupEditableToggle(editor)(api);\n      const unbindFormatToggle = onSetupFormatToggle(editor, name)(api);\n      return () => {\n        unbindEditableToogle();\n        unbindFormatToggle();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const cacheStorage = {};\n    const ColorCache = (storageId, max = 10) => {\n      const storageString = global$4.getItem(storageId);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageId, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n    const getCacheForId = id => get$g(cacheStorage, id).getOrThunk(() => {\n      const storageId = `tinymce-custom-colors-${ id }`;\n      const currentData = global$4.getItem(storageId);\n      if (isNullable(currentData)) {\n        const legacyDefault = global$4.getItem('tinymce-custom-colors');\n        global$4.setItem(storageId, isNonNullable(legacyDefault) ? legacyDefault : '[]');\n      }\n      const storage = ColorCache(storageId, 10);\n      cacheStorage[id] = storage;\n      return storage;\n    });\n    const getCurrentColors = id => map$2(getCacheForId(id).state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      icon: 'checkmark',\n      value: color\n    }));\n    const addColor = (id, color) => {\n      getCacheForId(id).add(color);\n    };\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    const foregroundId = 'forecolor';\n    const backgroundId = 'hilitecolor';\n    const fallbackCols = 5;\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          icon: 'checkmark',\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const fallbackColor = '#000000';\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      const colorProcessor = value => {\n        if (isArrayOf(value, isString)) {\n          return {\n            value: mapColors(value),\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be an array of strings.'\n          };\n        }\n      };\n      const colorColsProcessor = value => {\n        if (isNumber(value) && value > 0) {\n          return {\n            value,\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be a positive number.'\n          };\n        }\n      };\n      registerOption('color_map', {\n        processor: colorProcessor,\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_map_background', { processor: colorProcessor });\n      registerOption('color_map_foreground', { processor: colorProcessor });\n      registerOption('color_cols', {\n        processor: colorColsProcessor,\n        default: calcCols(editor)\n      });\n      registerOption('color_cols_foreground', {\n        processor: colorColsProcessor,\n        default: defaultCols(editor, foregroundId)\n      });\n      registerOption('color_cols_background', {\n        processor: colorColsProcessor,\n        default: defaultCols(editor, backgroundId)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('color_default_foreground', {\n        processor: 'string',\n        default: fallbackColor\n      });\n      registerOption('color_default_background', {\n        processor: 'string',\n        default: fallbackColor\n      });\n    };\n    const getColors$2 = (editor, id) => {\n      if (id === foregroundId && editor.options.isSet('color_map_foreground')) {\n        return option$1('color_map_foreground')(editor);\n      } else if (id === backgroundId && editor.options.isSet('color_map_background')) {\n        return option$1('color_map_background')(editor);\n      } else {\n        return option$1('color_map')(editor);\n      }\n    };\n    const calcCols = (editor, id = 'default') => Math.max(fallbackCols, Math.ceil(Math.sqrt(getColors$2(editor, id).length)));\n    const defaultCols = (editor, id) => {\n      const defaultCols = option$1('color_cols')(editor);\n      const calculatedCols = calcCols(editor, id);\n      if (defaultCols === calcCols(editor)) {\n        return calculatedCols;\n      } else {\n        return defaultCols;\n      }\n    };\n    const getColorCols$1 = (editor, id = 'default') => {\n      const getCols = () => {\n        if (id === foregroundId) {\n          return option$1('color_cols_foreground')(editor);\n        } else if (id === backgroundId) {\n          return option$1('color_cols_background')(editor);\n        } else {\n          return option$1('color_cols')(editor);\n        }\n      };\n      return Math.round(getCols());\n    };\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getDefaultForegroundColor = option$1('color_default_foreground');\n    const getDefaultBackgroundColor = option$1('color_default_background');\n\n    const defaultBackgroundColor = 'rgba(0, 0, 0, 0)';\n    const isValidBackgroundColor = value => fromString(value).exists(c => c.alpha !== 0);\n    const getClosestCssBackgroundColorValue = scope => {\n      return closest$4(scope, node => {\n        if (isElement$1(node)) {\n          const color = get$e(node, 'background-color');\n          return someIf(isValidBackgroundColor(color), color);\n        } else {\n          return Optional.none();\n        }\n      }).getOr(defaultBackgroundColor);\n    };\n    const getCurrentColor = (editor, format) => {\n      const node = SugarElement.fromDom(editor.selection.getStart());\n      const cssRgbValue = format === 'hilitecolor' ? getClosestCssBackgroundColorValue(node) : get$e(node, 'color');\n      return fromString(cssRgbValue).map(rgba => '#' + fromRgba(rgba).value);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, undefined, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(format, color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, getCurrentColor(editor, format).getOr(fallbackColor));\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, id, hasCustom) => colors.concat(getCurrentColors(id).concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, id, hasCustom) => callback => {\n      callback(getColors$1(colors, id, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const setTooltip = (buttonApi, tooltip) => {\n      buttonApi.setTooltip(tooltip);\n    };\n    const select$1 = (editor, format) => value => {\n      const optCurrentHex = getCurrentColor(editor, format);\n      return is$1(optCurrentHex, value.toUpperCase());\n    };\n    const getToolTipText = (editor, format, lastColor) => {\n      if (isEmpty(lastColor)) {\n        return format === 'forecolor' ? 'Text color' : 'Background color';\n      }\n      const tooltipPrefix = format === 'forecolor' ? 'Text color {0}' : 'Background color {0}';\n      const colors = getColors$1(getColors$2(editor, format), format, false);\n      const colorText = find$5(colors, c => c.value === lastColor).getOr({ text: '' }).text;\n      return editor.translate([\n        tooltipPrefix,\n        editor.translate(colorText)\n      ]);\n    };\n    const registerTextColorButton = (editor, name, format, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: getToolTipText(editor, format, lastColor.get()),\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: select$1(editor, format),\n        columns: getColorCols$1(editor, format),\n        fetch: getFetch$1(getColors$2(editor, format), format, hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n              setTooltip(splitButtonApi, getToolTipText(editor, format, e.color));\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return composeUnbinders(onSetupEditableToggle(editor)(splitButtonApi), () => {\n            editor.off('TextColorChange', handler);\n          });\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text, lastColor) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        onSetup: api => {\n          setTooltip(api, getToolTipText(editor, format, lastColor.get()));\n          setIconColor(api, name, lastColor.get());\n          return onSetupEditableToggle(editor)(api);\n        },\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            select: select$1(editor, format),\n            initData: { storageKey: format },\n            onAction: data => {\n              applyColor(editor, format, data.value, newColor => {\n                lastColor.set(newColor);\n                fireTextColorChange(editor, {\n                  name,\n                  color: newColor\n                });\n              });\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const fallbackColorForeground = getDefaultForegroundColor(editor);\n      const fallbackColorBackground = getDefaultBackgroundColor(editor);\n      const lastForeColor = Cell(fallbackColorForeground);\n      const lastBackColor = Cell(fallbackColorBackground);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      const menuLayout = { menuType: presets };\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, menuLayout);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(d.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass,\n          previousSelector: menu => {\n            return presets === 'color' ? descendant(menu.element, '[aria-checked=true]') : Optional.none();\n          }\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols(spec.initData.storageKey);\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(spec.initData.storageKey), spec.initData.storageKey, useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeAnnouncementText = backstage => (row, col) => backstage.shared.providers.translate([\n      '{0} columns, {1} rows',\n      col,\n      row\n    ]);\n    const makeCell = (row, col, label) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-label']: label\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (getCellLabel, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          const label = getCellLabel(i + 1, j + 1);\n          row.push(makeCell(i, j, label));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$2(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = (spec, backstage) => {\n      const numRows = 10;\n      const numColumns = 10;\n      const getCellLabel = makeAnnouncementText(backstage);\n      const cells = makeCells(getCellLabel, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label']\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$g(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state),\n        setIconFill: (id, value) => {\n          descendant(component.element, `svg path[class=\"${ id }\"], rect[class=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setTooltip: tooltip => {\n          const translatedTooltip = providersBackstage.translate(tooltip);\n          setAll$1(component.element, {\n            'aria-label': translatedTooltip,\n            'title': translatedTooltip\n          });\n        }\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$2).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n    const getExistingCoupled = (component, coupleConfig, coupleState, name) => coupleState.getExisting(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled,\n        getExistingCoupled: getExistingCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$a = () => {\n      const coupled = {};\n      const lookupCoupled = (coupleConfig, coupledName) => {\n        const available = keys(coupleConfig.others);\n        if (available.length === 0) {\n          throw new Error('Cannot find any known coupled components');\n        } else {\n          return get$g(coupled, coupledName);\n        }\n      };\n      const getOrCreate = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).getOrThunk(() => {\n          const builder = get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          const spec = builder(component);\n          const built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      };\n      const getExisting = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).orThunk(() => {\n          get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          return Optional.none();\n        });\n      };\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        getExisting,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Coupling = create$4({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightOnOpen,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$c(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$k = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$e = constant$1([\n      external({\n        schema: [\n          tieredMenuMarkers(),\n          defaulted('fakeFocus', false)\n        ],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$k = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const togglePopup$1 = (dropdownComp, onOpenSync, highlightOnOpen) => {\n        return togglePopup(detail, identity, dropdownComp, externals, onOpenSync, highlightOnOpen);\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup$1(component, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        refetch: comp => {\n          const optSandbox = Coupling.getExistingCoupled(comp, 'sandbox');\n          return optSandbox.fold(() => {\n            return togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          }, sandboxComp => {\n            return open(detail, identity, comp, sandboxComp, externals, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          });\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$k(),\n      partFields: parts$e(),\n      factory: factory$k,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        refetch: (apis, comp) => apis.refetch(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const identifyMenuLayout = searchMode => {\n      switch (searchMode.searchMode) {\n      case 'no-search': {\n          return { menuType: 'normal' };\n        }\n      default: {\n          return {\n            menuType: 'searchable',\n            searchMode\n          };\n        }\n      }\n    };\n    const handleRefetchTrigger = originalSandboxComp => {\n      const dropdown = Representing.getValue(originalSandboxComp);\n      const optSearcherState = findWithinSandbox(originalSandboxComp).map(saveState);\n      Dropdown.refetch(dropdown).get(() => {\n        const newSandboxComp = Coupling.getCoupled(dropdown, 'sandbox');\n        optSearcherState.each(searcherState => findWithinSandbox(newSandboxComp).each(inputComp => restoreState(inputComp, searcherState)));\n      });\n    };\n    const handleRedirectToMenuItem = (sandboxComp, se) => {\n      getActiveMenuItemFrom(sandboxComp).each(activeItem => {\n        retargetAndDispatchWith(sandboxComp, activeItem.element, se.event.eventType, se.event.interactionEvent);\n      });\n    };\n    const getActiveMenuItemFrom = sandboxComp => {\n      return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);\n    };\n    const getSearchResults = activeMenuComp => {\n      return has(activeMenuComp.element, searchResultsClass) ? Optional.some(activeMenuComp.element) : descendant(activeMenuComp.element, '.' + searchResultsClass);\n    };\n    const updateAriaOnHighlight = (tmenuComp, menuComp, itemComp) => {\n      findWithinMenu(tmenuComp).each(inputComp => {\n        setActiveDescendant(inputComp, itemComp);\n        const optActiveResults = getSearchResults(menuComp);\n        optActiveResults.each(resultsElem => {\n          getOpt(resultsElem, 'id').each(controlledId => set$9(inputComp.element, 'aria-controls', controlledId));\n        });\n      });\n      set$9(itemComp.element, 'aria-selected', 'true');\n    };\n    const updateAriaOnDehighlight = (tmenuComp, menuComp, itemComp) => {\n      set$9(itemComp.element, 'aria-selected', 'false');\n    };\n    const focusSearchField = tmenuComp => {\n      findWithinMenu(tmenuComp).each(searcherComp => Focusing.focus(searcherComp));\n    };\n    const getSearchPattern = dropdownComp => {\n      const optSandboxComp = Coupling.getExistingCoupled(dropdownComp, 'sandbox');\n      return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state => state.fetchPattern).getOr('');\n    };\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(d, backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu, searchMode) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const menuLayout = identifyMenuLayout(searchMode);\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, menuLayout);\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const getAutocompleterRange = (dom, initRange) => {\n      return detect$1(SugarElement.fromDom(initRange.startContainer)).map(elm => {\n        const range = dom.createRng();\n        range.selectNode(elm.dom);\n        return range;\n      });\n    };\n    const register$b = (editor, sharedBackstage) => {\n      const autocompleterId = generate$6('autocompleter');\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter'],\n          attributes: { id: autocompleterId }\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [\n            run$1(dismissRequested(), () => cancelIfNecessary()),\n            run$1(highlight$1(), (_, se) => {\n              getOpt(se.event.target, 'id').each(id => set$9(SugarElement.fromDom(editor.getBody()), 'aria-activedescendant', id));\n            })\n          ])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n          editor.dom.remove(autocompleterId, false);\n          const editorBody = SugarElement.fromDom(editor.getBody());\n          getOpt(editorBody, 'aria-owns').filter(ariaOwnsAttr => ariaOwnsAttr === autocompleterId).each(() => {\n            remove$7(editorBody, 'aria-owns');\n            remove$7(editorBody, 'aria-activedescendant');\n          });\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$h(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const nr = editor.selection.getRng();\n            getAutocompleterRange(editor.dom, nr).each(range => {\n              const autocompleterApi = {\n                hide: () => cancelIfNecessary(),\n                reload: fetchOptions => {\n                  hideIfNecessary();\n                  editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        findIn(SugarElement.fromDom(editor.getBody())).each(element => {\n          const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n          InlineView.showMenuAt(autocompleter, {\n            anchor: {\n              type: 'node',\n              root: SugarElement.fromDom(editor.getBody()),\n              node: Optional.from(element)\n            }\n          }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, { menuType: 'normal' }), columns, FocusMode.ContentFocus, 'normal'));\n        });\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n          set$9(SugarElement.fromDom(editor.getBody()), 'aria-owns', autocompleterId);\n          if (!editor.inline) {\n            cloneAutocompleterToEditorDoc();\n          }\n        } else {\n          hideIfNecessary();\n        }\n      };\n      const cloneAutocompleterToEditorDoc = () => {\n        if (editor.dom.get(autocompleterId)) {\n          editor.dom.remove(autocompleterId, false);\n        }\n        const docElm = editor.getDoc().documentElement;\n        const selection = editor.selection.getNode();\n        const newElm = deep(autocompleter.element);\n        setAll(newElm, {\n          border: '0',\n          clip: 'rect(0 0 0 0)',\n          height: '1px',\n          margin: '-1px',\n          overflow: 'hidden',\n          padding: '0',\n          position: 'absolute',\n          width: '1px',\n          top: `${ selection.offsetTop }px`,\n          left: `${ selection.offsetLeft }px`\n        });\n        editor.dom.add(docElm, newElm.dom);\n        descendant(newElm, '[role=\"menu\"]').each(child => {\n          remove$6(child, 'position');\n          remove$6(child, 'max-height');\n        });\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const nonScrollingOverflows = [\n      'visible',\n      'hidden',\n      'clip'\n    ];\n    const isScrollingOverflowValue = value => trim$1(value).length > 0 && !contains$2(nonScrollingOverflows, value);\n    const isScroller = elem => {\n      if (isHTMLElement(elem)) {\n        const overflowX = get$e(elem, 'overflow-x');\n        const overflowY = get$e(elem, 'overflow-y');\n        return isScrollingOverflowValue(overflowX) || isScrollingOverflowValue(overflowY);\n      } else {\n        return false;\n      }\n    };\n    const detect = popupSinkElem => {\n      const ancestorsScrollers = ancestors(popupSinkElem, isScroller);\n      const scrollers = ancestorsScrollers.length === 0 ? getShadowRoot(popupSinkElem).map(getShadowHost).map(x => ancestors(x, isScroller)).getOr([]) : ancestorsScrollers;\n      return head(scrollers).map(element => ({\n        element,\n        others: scrollers.slice(1)\n      }));\n    };\n    const detectWhenSplitUiMode = (editor, popupSinkElem) => isSplitUiMode(editor) ? detect(popupSinkElem) : Optional.none();\n    const getBoundsFrom = sc => {\n      const scrollableBoxes = [\n        ...map$2(sc.others, box$1),\n        win()\n      ];\n      return constrainByMany(box$1(sc.element), scrollableBoxes);\n    };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$g(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$2();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$2();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$g(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read$1(elem).bind(id => get$g(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$g(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$g(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read$1(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read$1(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$g(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$3(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read$1(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$j = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$d = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    const exhibit$2 = (base, tabConfig) => nu$7({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$4({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$3 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$2(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const icons = providersBackstage.icons();\n      const getIcon = icon => {\n        var _a;\n        return (_a = icons[icon]) !== null && _a !== void 0 ? _a : icon;\n      };\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$f(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$8.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ getIcon(item.icon) }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" title=\"${ ariaLabel }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$8 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$4({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const exhibit$1 = () => nu$7({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$7 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$4({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(spec.storageKey, value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(spec.storageKey), spec.storageKey, colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(spec.storageKey),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const isShift = event => isShift$1(event.event);\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: (spectrum, event) => model.onLeft(spectrum, detail, isShift(event)),\n              onRight: (spectrum, event) => model.onRight(spectrum, detail, isShift(event)),\n              onUp: (spectrum, event) => model.onUp(spectrum, detail, isShift(event)),\n              onDown: (spectrum, event) => model.onDown(spectrum, detail, isShift(event))\n            }),\n            Tabstopping.config({}),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$2 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = (detail, useMultiplier) => useMultiplier ? detail.stepSize * detail.speedMultiplier : detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail, useMultiplier));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail, useMultiplier) => moveBy$2(direction, spectrum, detail, useMultiplier).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$c(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail, useMultiplier));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail, useMultiplier) => moveBy$1(direction, spectrum, detail, useMultiplier).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail, useMultiplier));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail, useMultiplier));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail, useMultiplier) => moveBy(direction, isVerticalMovement, spectrum, detail, useMultiplier).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$c(thumb.element) / 2;\n      const thumbYRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('speedMultiplier', 10),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      const focusWidget = component => {\n        getPart(component, detail, 'spectrum').map(Keying.focusIn);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: focusWidget\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), (component, event) => {\n            focusWidget(component);\n            onDragStart(component, event);\n          }),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: {\n            'role': 'slider',\n            'aria-valuemin': 0,\n            'aria-valuemax': 360,\n            'aria-valuenow': 120\n          }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          set$9(slider.element, 'aria-valuenow', Math.floor(360 - value * 3.6));\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$2(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(hex.value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n        set$9(slider.element, 'aria-valuetext', translate([\n          'Saturation {0}%, Brightness {1}%',\n          hsv.saturation,\n          hsv.value\n        ]));\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          if (!isNumber(value)) {\n            set$9(slider.element, 'aria-valuetext', translate([\n              'Saturation {0}%, Brightness {1}%',\n              Math.floor(value.x),\n              Math.floor(100 - value.y)\n            ]));\n          }\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: {\n              'role': 'slider',\n              'aria-valuetext': translate([\n                'Saturation {0}%, Brightness {1}%',\n                0,\n                0\n              ])\n            },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domHtml = optInitialValue => withElement(optInitialValue, get$9, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      if (isString(key)) {\n        return providerBackstage.translate(english[key]);\n      } else {\n        return providerBackstage.translate(key);\n      }\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + removeLeading(hex, '#')).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const valOpt = Optional.from(pattern.exec(newValue)).bind(matches => get$h(matches, 1));\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: valOpt.getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$2();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$2();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        var _a;\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, (_a = transferEvent.dataTransfer) === null || _a === void 0 ? void 0 : _a.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        if (files) {\n          Representing.setValue(component, filterByExtension(files, providersBackstage));\n          emitWith(component, formChangeEvent, { name: spec.name });\n        }\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$2(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$2(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const adaptable = (fn, rate) => {\n      let timer = null;\n      let args = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n          args = null;\n        }\n      };\n      const throttle = (...newArgs) => {\n        args = newArgs;\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            const tempArgs = args;\n            timer = null;\n            args = null;\n            fn.apply(null, tempArgs);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = (containerClasses, spec) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-navobj',\n            ...containerClasses.getOr([])\n          ]\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n    const dialogFocusShiftedChannel = generate$6('dialog-focus-shifted');\n\n    const browser = detect$2().browser;\n    const isSafari = browser.isSafari();\n    const isFirefox = browser.isFirefox();\n    const isSafariOrFirefox = isSafari || isFirefox;\n    const isChromium = browser.isChromium();\n    const isElementScrollAtBottom = ({scrollTop, scrollHeight, clientHeight}) => Math.ceil(scrollTop) + clientHeight >= scrollHeight;\n    const scrollToY = (win, y) => win.scrollTo(0, y === 'bottom' ? 99999999 : y);\n    const getScrollingElement = (doc, html) => {\n      const body = doc.body;\n      return Optional.from(!/^<!DOCTYPE (html|HTML)/.test(html) && (!isChromium && !isSafari || isNonNullable(body) && (body.scrollTop !== 0 || Math.abs(body.scrollHeight - body.clientHeight) > 1)) ? body : doc.documentElement);\n    };\n    const writeValue = (iframeElement, html, fallbackFn) => {\n      const iframe = iframeElement.dom;\n      Optional.from(iframe.contentDocument).fold(fallbackFn, doc => {\n        let lastScrollTop = 0;\n        const isScrollAtBottom = getScrollingElement(doc, html).map(el => {\n          lastScrollTop = el.scrollTop;\n          return el;\n        }).forall(isElementScrollAtBottom);\n        const scrollAfterWrite = () => {\n          const win = iframe.contentWindow;\n          if (isNonNullable(win)) {\n            if (isScrollAtBottom) {\n              scrollToY(win, 'bottom');\n            } else if (!isScrollAtBottom && isSafariOrFirefox && lastScrollTop !== 0) {\n              scrollToY(win, lastScrollTop);\n            }\n          }\n        };\n        if (isSafari) {\n          iframe.addEventListener('load', scrollAfterWrite, { once: true });\n        }\n        doc.open();\n        doc.write(html);\n        doc.close();\n        if (!isSafari) {\n          scrollAfterWrite();\n        }\n      });\n    };\n    const throttleInterval = someIf(isSafariOrFirefox, isSafari ? 500 : 200);\n    const writeValueThrottler = throttleInterval.map(interval => adaptable(writeValue, interval));\n    const getDynamicSource = (initialData, stream) => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            const iframeElement = frameComponent.element;\n            const setSrcdocValue = () => set$9(iframeElement, 'srcdoc', html);\n            if (stream) {\n              writeValueThrottler.fold(constant$1(writeValue), throttler => throttler.throttle)(iframeElement, html, setSrcdocValue);\n            } else {\n              setSrcdocValue();\n            }\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const baseClass = 'tox-dialog__iframe';\n      const opaqueClass = spec.transparent ? [] : [`${ baseClass }--opaque`];\n      const containerBorderedClass = spec.border ? [`tox-navobj-bordered`] : [];\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...spec.sandboxed ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData, spec.streamContent);\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const factory = newSpec => craft(Optional.from(containerBorderedClass), {\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: [\n            baseClass,\n            ...opaqueClass\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          withComp(initialData, sourcing.getValue, sourcing.setValue),\n          Receiving.config({\n            channels: {\n              [dialogFocusShiftedChannel]: {\n                onReceive: (comp, message) => {\n                  message.newFocus.each(newFocus => {\n                    parentElement(comp.element).each(parent => {\n                      const f = eq(comp.element, newFocus) ? add$2 : remove$2;\n                      f(parent, 'tox-navobj-bordered-focus');\n                    });\n                  });\n                }\n              }\n            }\n          })\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$c(panel);\n      const panelH = get$d(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const {cachedWidth, cachedHeight, zoom} = translatedData;\n          if (!isUndefined(cachedWidth) && !isUndefined(cachedHeight)) {\n            if (isUndefined(zoom)) {\n              const z = zoomToFit(frameComponent.element, cachedWidth, cachedHeight);\n              translatedData.zoom = z;\n            }\n            const position = calculateImagePosition(get$c(frameComponent.element), get$d(frameComponent.element), cachedWidth, cachedHeight, translatedData.zoom);\n            memContainer.getOpt(frameComponent).each(container => {\n              setAll(container.element, position);\n            });\n          }\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$f(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          applyFramePositioning();\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$2 = (spec, backstageShared) => {\n      const baseClass = 'tox-label';\n      const centerClass = spec.align === 'center' ? [`${ baseClass }--center`] : [];\n      const endClass = spec.align === 'end' ? [`${ baseClass }--end`] : [];\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: [\n            baseClass,\n            ...centerClass,\n            ...endClass\n          ]\n        },\n        components: [text$2(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const commonButtonDisplayEvent = generate$6('common-button-display-events');\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ],\n      [attachedToDom()]: [\n        'toolbar-button-events',\n        commonButtonDisplayEvent\n      ],\n      [mousedown()]: [\n        'focusing',\n        'alloy.base.behaviour',\n        commonButtonDisplayEvent\n      ]\n    };\n\n    const forceInitialSize = comp => set$8(comp.element, 'width', get$e(comp.element, 'width'));\n\n    const renderIcon$1 = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack$1 = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, []);\n    const renderReplaceableIconFromPack = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel$1 = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$2(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel$1(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplaceableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const tooltipAttributes = spec.tooltip.fold(() => ({}), tooltip => {\n        const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const fixWidthBehaviourName = generate$6('common-button-display-events');\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: { ...tooltipAttributes }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        onOpen: (anchor, dropdownComp, tmenuComp) => {\n          if (spec.searchable) {\n            focusSearchField(tmenuComp);\n          }\n        },\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config(fixWidthBehaviourName, [runOnAttached((comp, _se) => forceInitialSize(comp))]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ],\n          [attachedToDom()]: [\n            'toolbar-button-events',\n            'dropdown-events',\n            fixWidthBehaviourName\n          ]\n        }),\n        sandboxBehaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          }),\n          config('dropdown-sandbox-events', [\n            run$1(refetchTriggerEvent, (originalSandboxComp, se) => {\n              handleRefetchTrigger(originalSandboxComp);\n              se.stop();\n            }),\n            run$1(redirectMenuItemInteractionEvent, (sandboxComp, se) => {\n              handleRedirectToMenuItem(sandboxComp, se);\n              se.stop();\n            })\n          ])\n        ]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: {\n          menu: {\n            ...part(false, spec.columns, spec.presets),\n            fakeFocus: spec.searchable,\n            onHighlightItem: updateAriaOnHighlight,\n            onCollapseMenu: (tmenuComp, itemCompCausingCollapse, nowActiveMenuComp) => {\n              Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp => {\n                updateAriaOnHighlight(tmenuComp, nowActiveMenuComp, itemComp);\n              });\n            },\n            onDehighlightItem: updateAriaOnDehighlight\n          }\n        },\n        getAnchorOverrides: () => {\n          return {\n            maxHeightFunction: (element, available) => {\n              anchored()(element, available - 10);\n            }\n          };\n        },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$2 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$2(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$2(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, { [item.value]: rest.items });\n      const newExpansions = deepMerge(rest.expansions, { [item.value]: item.value });\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const generateValueIfRequired = item => {\n      const itemValue = get$g(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n      return deepMerge({ value: itemValue }, item);\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        if (isExpandingMenuItem(item)) {\n          const itemWithValue = generateValueIfRequired(item);\n          const newData = getFromExpandingItem(itemWithValue, menuItems);\n          return {\n            menus: deepMerge(acc.menus, newData.menus),\n            items: [\n              newData.item,\n              ...acc.items\n            ],\n            expansions: deepMerge(acc.expansions, newData.expansions)\n          };\n        } else {\n          return {\n            ...acc,\n            items: [\n              item,\n              ...acc.items\n            ]\n          };\n        }\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const getSearchModeForField = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), searchSettings => ({\n        searchMode: 'search-with-field',\n        placeholder: searchSettings.placeholder\n      }));\n    };\n    const getSearchModeForResults = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), _ => ({ searchMode: 'search-with-results' }));\n    };\n    const build = (items, itemResponse, backstage, settings) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenuSearchMode = getSearchModeForField(settings);\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, settings.isHorizontalMenu, mainMenuSearchMode);\n      const submenuSearchMode = getSearchModeForResults(settings);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false, submenuSearchMode));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: spec.label,\n            role: Optional.none(),\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n                isHorizontalMenu: false,\n                search: Optional.none()\n              }));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              withComp(initialItem.map(item => item.value), comp => get$f(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$h = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$6(select.element);\n              },\n              setValue: (select, newValue) => {\n                const firstOption = head(detail.options);\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                } else if (select.element.dom.selectedIndex === -1 && newValue === '') {\n                  firstOption.each(value => set$5(select.element, value.value));\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$h\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$g = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$g,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const pTextField = spec.multiline ? {\n        dom: {\n          tag: 'div',\n          classes: ['tox-textarea-wrap']\n        },\n        components: [pField]\n      } : pField;\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pTextField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$4 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$6 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$6\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$c(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$9 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$8({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$9\n    });\n\n    const Sliding = create$4({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled'),\n      setText: text => {\n        emitWith(component, updateMenuText, { text });\n      },\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const renderMenuButton = (spec, prefix, backstage, role, tabstopping = true) => {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        searchable: spec.search.isSome(),\n        role,\n        fetch: (dropdownComp, callback) => {\n          const fetchContext = { pattern: spec.search.isSome() ? getSearchPattern(dropdownComp) : '' };\n          spec.fetch(items => {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n              isHorizontalMenu: false,\n              search: spec.search\n            }));\n          }, fetchContext, getMenuButtonApi(dropdownComp));\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [...tabstopping ? [Tabstopping.config({})] : []]\n      }, prefix, backstage.shared);\n    };\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderLabel = text => ({\n      dom: {\n        tag: 'span',\n        classes: ['tox-tree__label'],\n        attributes: {\n          'title': text,\n          'aria-label': text\n        }\n      },\n      components: [text$2(text)]\n    });\n    const leafLabelEventsId = generate$6('leaf-label-event-id');\n    const renderLeafLabel = ({leaf, onLeafAction, visible, treeId, selectedId, backstage}) => {\n      const internalMenuButton = leaf.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none(), visible));\n      const components = [renderLabel(leaf.title)];\n      internalMenuButton.each(btn => components.push(btn));\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--leaf__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--leaf__label--visible'] : [])\n        },\n        components,\n        role: 'treeitem',\n        action: button => {\n          onLeafAction(leaf.id);\n          button.getSystem().broadcastOn([`update-active-item-${ treeId }`], { value: leaf.id });\n        },\n        eventOrder: {\n          [keydown()]: [\n            leafLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          Toggling.config({\n            toggleClass: 'tox-trbtn--enabled',\n            toggleOnExecute: false,\n            aria: { mode: 'selected' }\n          }),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  (message.value === leaf.id ? Toggling.on : Toggling.off)(comp);\n                }\n              }\n            }\n          }),\n          config(leafLabelEventsId, [\n            runOnAttached((comp, _se) => {\n              selectedId.each(id => {\n                const toggle = id === leaf.id ? Toggling.on : Toggling.off;\n                toggle(comp);\n              });\n            }),\n            run$1(keydown(), (comp, se) => {\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              if (isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(dirElement => {\n                  comp.getSystem().getByDom(dirElement).each(dirComp => {\n                    child(dirElement, '.tox-tree--directory__label').each(dirLabelElement => {\n                      dirComp.getSystem().getByDom(dirLabelElement).each(Focusing.focus);\n                    });\n                  });\n                });\n                se.stop();\n              } else if (isRightArrowKey) {\n                se.stop();\n              }\n            })\n          ])\n        ])\n      });\n    };\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-tree__icon-wrap',\n        'tox-icon'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const directoryLabelEventsId = generate$6('directory-label-event-id');\n    const renderDirectoryLabel = ({directory, visible, noChildren, backstage}) => {\n      const internalMenuButton = directory.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none()));\n      const components = [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-chevron']\n          },\n          components: [renderIconFromPack('chevron-right', backstage.shared.providers.icons)]\n        },\n        renderLabel(directory.title)\n      ];\n      internalMenuButton.each(btn => {\n        components.push(btn);\n      });\n      const toggleExpandChildren = button => {\n        ancestor(button.element, '.tox-tree--directory').each(directoryEle => {\n          button.getSystem().getByDom(directoryEle).each(directoryComp => {\n            const willExpand = !Toggling.isOn(directoryComp);\n            Toggling.toggle(directoryComp);\n            emitWith(button, 'expand-tree-node', {\n              expanded: willExpand,\n              node: directory.id\n            });\n          });\n        });\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--directory__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--directory__label--visible'] : [])\n        },\n        components,\n        action: toggleExpandChildren,\n        eventOrder: {\n          [keydown()]: [\n            directoryLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          config(directoryLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              if (isRightArrowKey && noChildren) {\n                se.stop();\n              }\n              if (isRightArrowKey || isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(directoryEle => {\n                  comp.getSystem().getByDom(directoryEle).each(directoryComp => {\n                    if (!Toggling.isOn(directoryComp) && isRightArrowKey || Toggling.isOn(directoryComp) && isLeftArrowKey) {\n                      toggleExpandChildren(comp);\n                      se.stop();\n                    } else if (isLeftArrowKey && !Toggling.isOn(directoryComp)) {\n                      ancestor(directoryComp.element, '.tox-tree--directory').each(parentDirElement => {\n                        child(parentDirElement, '.tox-tree--directory__label').each(parentDirLabelElement => {\n                          directoryComp.getSystem().getByDom(parentDirLabelElement).each(Focusing.focus);\n                        });\n                      });\n                      se.stop();\n                    }\n                  });\n                });\n              }\n            })])\n        ])\n      });\n    };\n    const renderDirectoryChildren = ({children, onLeafAction, visible, treeId, expandedIds, selectedId, backstage}) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory__children']\n        },\n        components: children.map(item => {\n          return item.type === 'leaf' ? renderLeafLabel({\n            leaf: item,\n            selectedId,\n            onLeafAction,\n            visible,\n            treeId,\n            backstage\n          }) : renderDirectory({\n            directory: item,\n            expandedIds,\n            selectedId,\n            onLeafAction,\n            labelTabstopping: visible,\n            treeId,\n            backstage\n          });\n        }),\n        behaviours: derive$1([\n          Sliding.config({\n            dimension: { property: 'height' },\n            closedClass: 'tox-tree--directory__children--closed',\n            openClass: 'tox-tree--directory__children--open',\n            growingClass: 'tox-tree--directory__children--growing',\n            shrinkingClass: 'tox-tree--directory__children--shrinking',\n            expanded: visible\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n    const directoryEventsId = generate$6('directory-event-id');\n    const renderDirectory = ({directory, onLeafAction, labelTabstopping, treeId, backstage, expandedIds, selectedId}) => {\n      const {children} = directory;\n      const expandedIdsCell = Cell(expandedIds);\n      const computedChildrenComponents = visible => children.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          selectedId,\n          onLeafAction,\n          visible,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          expandedIds: expandedIdsCell.get(),\n          selectedId,\n          onLeafAction,\n          labelTabstopping: visible,\n          treeId,\n          backstage\n        });\n      });\n      const childrenVisible = expandedIds.includes(directory.id);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory'],\n          attributes: { role: 'treeitem' }\n        },\n        components: [\n          renderDirectoryLabel({\n            directory,\n            visible: labelTabstopping,\n            noChildren: directory.children.length === 0,\n            backstage\n          }),\n          renderDirectoryChildren({\n            children,\n            expandedIds,\n            selectedId,\n            onLeafAction,\n            visible: childrenVisible,\n            treeId,\n            backstage\n          })\n        ],\n        behaviours: derive$1([\n          config(directoryEventsId, [\n            runOnAttached((comp, _se) => {\n              Toggling.set(comp, childrenVisible);\n            }),\n            run$1('expand-tree-node', (_cmp, se) => {\n              const {expanded, node} = se.event;\n              expandedIdsCell.set(expanded ? [\n                ...expandedIdsCell.get(),\n                node\n              ] : expandedIdsCell.get().filter(id => id !== node));\n            })\n          ]),\n          Toggling.config({\n            ...directory.children.length > 0 ? { aria: { mode: 'expanded' } } : {},\n            toggleClass: 'tox-tree--directory--expanded',\n            onToggled: (comp, childrenVisible) => {\n              const childrenComp = comp.components()[1];\n              const newChildren = computedChildrenComponents(childrenVisible);\n              if (childrenVisible) {\n                Sliding.grow(childrenComp);\n              } else {\n                Sliding.shrink(childrenComp);\n              }\n              Replacing.set(childrenComp, newChildren);\n            }\n          })\n        ])\n      };\n    };\n    const treeEventsId = generate$6('tree-event-id');\n    const renderTree = (spec, backstage) => {\n      const onLeafAction = spec.onLeafAction.getOr(noop);\n      const onToggleExpand = spec.onToggleExpand.getOr(noop);\n      const defaultExpandedIds = spec.defaultExpandedIds;\n      const expandedIds = Cell(defaultExpandedIds);\n      const selectedIdCell = Cell(spec.defaultSelectedId);\n      const treeId = generate$6('tree-id');\n      const children = (selectedId, expandedIds) => spec.items.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          selectedId,\n          onLeafAction,\n          visible: true,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          selectedId,\n          onLeafAction,\n          expandedIds,\n          labelTabstopping: true,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree'],\n          attributes: { role: 'tree' }\n        },\n        components: children(selectedIdCell.get(), expandedIds.get()),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: '.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible',\n            cycles: false\n          }),\n          config(treeEventsId, [run$1('expand-tree-node', (_cmp, se) => {\n              const {expanded, node} = se.event;\n              expandedIds.set(expanded ? [\n                ...expandedIds.get(),\n                node\n              ] : expandedIds.get().filter(id => id !== node));\n              onToggleExpand(expandedIds.get(), {\n                expanded,\n                node\n              });\n            })]),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  selectedIdCell.set(Optional.some(message.value));\n                  Replacing.set(comp, children(Optional.some(message.value), expandedIds.get()));\n                }\n              }\n            }\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n\n    const events$5 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$8 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$8\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$4({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$6(el);\n      const node = el.dom;\n      if (get$f(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const getActiveMenu = sandboxComp => Composing.getCurrent(sandboxComp);\n      const typeaheadCustomEvents = 'typeaheadevents';\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$6(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$6(component.element).length >= detail.minChars) {\n                const previousValue = getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  getActiveMenu(sandbox).each(activeMenu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(activeMenu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(activeMenu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(activeMenu).orThunk(() => {\n                        Highlighting.highlightFirst(activeMenu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightJustMenu).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => {\n                  detail.lazyTypeaheadComp.get().each(input => remove$7(input.element, 'aria-activedescendant'));\n                  Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config(typeaheadCustomEvents, [\n          runOnAttached(typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));\n          }),\n          runOnDetached(_typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.none());\n          }),\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      const eventOrder = {\n        [detachedFromDom()]: [\n          Representing.name(),\n          Streaming.name(),\n          typeaheadCustomEvents\n        ],\n        ...detail.eventOrder\n      };\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('lazyTypeaheadComp', () => Cell(Optional.none)),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$l()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlightItem: (_tmenu, menu, item) => {\n              if (!detail.previewing.get()) {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                  getOpt(item.element, 'id').each(id => set$9(input.element, 'aria-activedescendant', id));\n                });\n              } else {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => {\n                    if (detail.model.selectsOver) {\n                      Highlighting.dehighlight(menu, item);\n                      detail.previewing.set(true);\n                    } else {\n                      detail.previewing.set(false);\n                    }\n                  }, selectOverTextInInput => {\n                    selectOverTextInInput();\n                    detail.previewing.set(false);\n                  });\n                });\n              }\n            },\n            onExecute: (_menu, item) => {\n              return detail.lazyTypeaheadComp.get().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              detail.lazyTypeaheadComp.get().each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = []) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$2(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: { title: translatedText }\n      };\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const renderButton$1 = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const isToggleButtonSpec = (spec, buttonType) => buttonType === 'togglebutton';\n    const renderToggleButton = (spec, providers) => {\n      var _a, _b;\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const action = comp => {\n        emitWith(comp, formActionEvent, {\n          name: spec.name,\n          value: {\n            setIcon: newIcon => {\n              optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n              }));\n            }\n          }\n        });\n      };\n      const buttonType = spec.buttonType.getOr(!spec.primary ? 'secondary' : 'primary');\n      const buttonSpec = {\n        ...spec,\n        name: (_a = spec.name) !== null && _a !== void 0 ? _a : '',\n        primary: buttonType === 'primary',\n        tooltip: Optional.from(spec.tooltip),\n        enabled: (_b = spec.enabled) !== null && _b !== void 0 ? _b : false,\n        borderless: false\n      };\n      const tooltipAttributes = buttonSpec.tooltip.map(tooltip => ({\n        'aria-label': providers.translate(tooltip),\n        'title': providers.translate(tooltip)\n      })).getOr({});\n      const buttonTypeClasses = calculateClassesFromButtonType(buttonType !== null && buttonType !== void 0 ? buttonType : 'secondary');\n      const showIconAndText = spec.icon.isSome() && spec.text.isSome();\n      const dom = {\n        tag: 'button',\n        classes: [\n          ...buttonTypeClasses.concat(spec.icon.isSome() ? ['tox-button--icon'] : []),\n          ...spec.active ? ['tox-button--enabled'] : [],\n          ...showIconAndText ? ['tox-button--icon-and-text'] : []\n        ],\n        attributes: tooltipAttributes\n      };\n      const extraBehaviours = [];\n      const translatedText = providers.translate(spec.text.getOr(''));\n      const translatedTextComponed = text$2(translatedText);\n      const iconComp = componentRenderPipeline([optMemIcon.map(memIcon => memIcon.asSpec())]);\n      const components = [\n        ...iconComp,\n        ...spec.text.isSome() ? [translatedTextComponed] : []\n      ];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          type: 'menubutton',\n          search: Optional.none(),\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton$1(buttonSpec, action, backstage.shared.providers, []);\n      } else if (isToggleButtonSpec(spec, buttonType)) {\n        return renderToggleButton(spec, backstage.shared.providers);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n        throw new Error('Unknown footer button type');\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        var _a;\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        const value = (_a = item.value) !== null && _a !== void 0 ? _a : '';\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      var _a, _b;\n      const urlInputValue = Representing.getValue(input);\n      const term = (_b = (_a = urlInputValue === null || urlInputValue === void 0 ? void 0 : urlInputValue.meta) === null || _a === void 0 ? void 0 : _a.text) !== null && _b !== void 0 ? _b : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const typeaheadSpec = {\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, {\n            isHorizontalMenu: false,\n            search: Optional.none()\n          });\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1([\n          ...urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('urlinput-events', [\n            run$1(input(), comp => {\n              const currentValue = get$6(comp.element);\n              const trimmedValue = currentValue.trim();\n              if (trimmedValue !== currentValue) {\n                set$5(comp.element, trimmedValue);\n              }\n              if (spec.filetype === 'file') {\n                emitWith(comp, formChangeEvent, { name: spec.name });\n              }\n            }),\n            run$1(change(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            }),\n            run$1(postPaste(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            })\n          ])\n        ]),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      };\n      const pField = FormField.parts.field({\n        ...typeaheadSpec,\n        factory: Typeahead\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton$1({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.picker_text.or(spec.label).getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => {\n      const icon = get$2(spec.icon, providersBackstage.icons);\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ spec.level }`\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon'],\n              innerHtml: !spec.url ? icon : undefined\n            },\n            components: spec.url ? [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: icon,\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: comp => emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                }),\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })] : undefined\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$1 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            onDisabled: component => {\n              parentElement(component.element).each(element => add$2(element, 'tox-checkbox--disabled'));\n            },\n            onEnabled: component => {\n              parentElement(component.element).each(element => remove$2(element, 'tox-checkbox--disabled'));\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          withElement(initialData, get$1, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = spec => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$g(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$g(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$2(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      tree: make$2((spec, backstage) => renderTree(spec, backstage)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$g(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ],\n          onLtr: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getInlineBottomDialogAnchor = (inline, contentAreaElement, lazyBottomAnchorBar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        },\n        overrides\n      });\n      const standardAnchor = () => inline ? {\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(0, -getOuter$2(contentAreaElement()), bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north$2],\n          onLtr: () => [north$2]\n        },\n        overrides\n      } : {\n        type: 'hotspot',\n        hotspot: lazyBottomAnchorBar(),\n        bubble: nu$5(0, 0, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north$2],\n          onLtr: () => [north$2]\n        },\n        overrides\n      };\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        const selectedCells = editor.model.table.getSelectedCells();\n        if (selectedCells.length > 1) {\n          const firstCell = selectedCells[0];\n          const lastCell = selectedCells[selectedCells.length - 1];\n          const selectionTableCellRange = {\n            firstCell: SugarElement.fromDom(firstCell),\n            lastCell: SugarElement.fromDom(lastCell)\n          };\n          return Optional.some(selectionTableCellRange);\n        }\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, lazyBottomAnchorBar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        inlineBottomDialog: getInlineBottomDialogAnchor(editor.inline, contentAreaElement, lazyBottomAnchorBar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => id => getColors$2(editor, id);\n    const getColorCols = editor => id => getColorCols$1(editor, id);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const isNestedFormat = format => hasNonNullableKey(format, 'items');\n    const isFormatReference = format => hasNonNullableKey(format, 'format');\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormats = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormats(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const isSeparator$1 = format => {\n      const keys$1 = keys(format);\n      return keys$1.length === 1 && contains$2(keys$1, 'title');\n    };\n    const processBasic = (item, isSelectedFor, getPreviewFor) => ({\n      ...item,\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    });\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const newItems = doEnrich(item.items);\n        return {\n          ...item,\n          type: 'submenu',\n          getStyleItems: constant$1(newItems)\n        };\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const newItem = {\n          ...item,\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        if (isNestedFormat(item)) {\n          return enrichMenu(item);\n        } else if (isFormatReference(item)) {\n          return enrichSupported(item);\n        } else if (isSeparator$1(item)) {\n          return {\n            ...item,\n            type: 'separator'\n          };\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$7 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const settingsFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return { getData };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create = (type, title, url, level, attach) => ({\n      type,\n      title,\n      url,\n      level,\n      attach\n    });\n    const isChildOfContentEditableTrue = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parentNode) {\n        const value = tempNode.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(tempNode);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      var _a;\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create('header', (_a = getElementText(elm)) !== null && _a !== void 0 ? _a : '', '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$g(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$g(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$6 = (lazySinks, editor, lazyAnchorbar, lazyBottomAnchorBar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const providers = {\n        icons: () => editor.ui.registry.getAll().icons,\n        menuItems: () => editor.ui.registry.getAll().menuItems,\n        translate: global$8.translate,\n        isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n        getOption: editor.options.get\n      };\n      const urlinput = UrlInputBackstage(editor);\n      const styles = init$7(editor);\n      const colorinput = ColorInputBackstage(editor);\n      const dialogSettings = DialogBackstage(editor);\n      const isContextMenuOpen = () => contextMenuState.get();\n      const setContextMenuState = state => contextMenuState.set(state);\n      const commonBackstage = {\n        shared: {\n          providers,\n          anchors: getAnchors(editor, lazyAnchorbar, lazyBottomAnchorBar, toolbar.isPositionedAtTop),\n          header: toolbar\n        },\n        urlinput,\n        styles,\n        colorinput,\n        dialog: dialogSettings,\n        isContextMenuOpen,\n        setContextMenuState\n      };\n      const popupBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, popupBackstage),\n          getSink: lazySinks.popup\n        }\n      };\n      const dialogBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, dialogBackstage),\n          getSink: lazySinks.dialog\n        }\n      };\n      return {\n        popup: popupBackstage,\n        dialog: dialogBackstage\n      };\n    };\n\n    const setup$b = (editor, mothership, uiMotherships) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      const onElementScroll = capture(dos, 'scroll', evt => {\n        requestAnimationFrame(() => {\n          const c = editor.getContainer();\n          if (c !== undefined && c !== null) {\n            const optScrollingContext = detectWhenSplitUiMode(editor, mothership.element);\n            const scrollers = optScrollingContext.map(sc => [\n              sc.element,\n              ...sc.others\n            ]).getOr([]);\n            if (exists(scrollers, s => eq(s, evt.target))) {\n              editor.dispatch('ElementScroll', { target: evt.target.dom });\n              broadcastEvent(externalElementScroll(), evt);\n            }\n          }\n        });\n      });\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n        onElementScroll.unbind();\n      });\n      editor.on('detach', () => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], detachSystem);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => m.destroy());\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$f = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$f,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$e = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: {\n          setGroups,\n          refresh: noop\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$e,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$2 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, bounds) => box.y < bounds.bottom && box.bottom > bounds.y;\n    const isTopCompletelyVisible = (box, bounds) => box.y >= bounds.y;\n    const isBottomCompletelyVisible = (box, bounds) => box.bottom <= bounds.bottom;\n    const forceTopPosition = (winBox, leftX, viewport) => ({\n      location: 'top',\n      leftX,\n      topY: viewport.bounds.y - winBox.y\n    });\n    const forceBottomPosition = (winBox, leftX, viewport) => ({\n      location: 'bottom',\n      leftX,\n      bottomY: winBox.bottom - viewport.bounds.bottom\n    });\n    const getDockedLeftPosition = bounds => {\n      return bounds.box.x - bounds.win.x;\n    };\n    const tryDockingPosition = (modes, bounds, viewport) => {\n      const winBox = bounds.win;\n      const box = bounds.box;\n      const leftX = getDockedLeftPosition(bounds);\n      return findMap(modes, mode => {\n        switch (mode) {\n        case 'bottom':\n          return !isBottomCompletelyVisible(box, viewport.bounds) ? Optional.some(forceBottomPosition(winBox, leftX, viewport)) : Optional.none();\n        case 'top':\n          return !isTopCompletelyVisible(box, viewport.bounds) ? Optional.some(forceTopPosition(winBox, leftX, viewport)) : Optional.none();\n        default:\n          return Optional.none();\n        }\n      }).getOr({ location: 'no-dock' });\n    };\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport.bounds);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport.bounds);\n      }\n    });\n    const getXYForRestoring = (pos, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(pos.bounds.y), scrollEnv => scrollEnv.scrollElmTop + (pos.bounds.y - scrollEnv.currentScrollTop));\n      return SugarPosition(pos.bounds.x, priorY);\n    };\n    const getXYForSaving = (box, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(box.y), scrollEnv => box.y + scrollEnv.currentScrollTop - scrollEnv.scrollElmTop);\n      return SugarPosition(box.x, priorY);\n    };\n    const getPrior = (elem, viewport, state) => state.getInitialPos().map(pos => {\n      const xy = getXYForRestoring(pos, viewport);\n      return {\n        box: bounds(xy.left, xy.top, get$c(elem), get$d(elem)),\n        location: pos.location\n      };\n    });\n    const storePrior = (elem, box, viewport, state, decision) => {\n      const xy = getXYForSaving(box, viewport);\n      const bounds$1 = bounds(xy.left, xy.top, box.width, box.height);\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$e(elem, 'position') || 'static',\n        bounds: bounds$1,\n        location: decision.location\n      });\n    };\n    const storePriorIfNone = (elem, box, viewport, state, decision) => {\n      state.getInitialPos().fold(() => storePrior(elem, box, viewport, state, decision), () => noop);\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      var _a;\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some({ morph: 'static' });\n      case 'absolute':\n        const offsetParent = getOffsetParent(elem).getOr(body());\n        const offsetBox = box$1(offsetParent);\n        const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n        return Optional.some({\n          morph: 'absolute',\n          positionCss: NuPositionCss('absolute', get$g(position.style, 'left').map(_left => box.x - offsetBox.x), get$g(position.style, 'top').map(_top => box.y - offsetBox.y + scrollDelta), get$g(position.style, 'right').map(_right => offsetBox.right - box.right), get$g(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))\n        });\n      default:\n        return Optional.none();\n      }\n    });\n    const tryMorphToOriginal = (elem, viewport, state) => getPrior(elem, viewport, state).filter(({box}) => isVisibleForModes(state.getModes(), box, viewport)).bind(({box}) => revertToOriginal(elem, box, state));\n    const tryDecisionToFixedMorph = decision => {\n      switch (decision.location) {\n      case 'top': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.some(decision.topY), Optional.none(), Optional.none())\n          });\n        }\n      case 'bottom': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.none(), Optional.none(), Optional.some(decision.bottomY))\n          });\n        }\n      default:\n        return Optional.none();\n      }\n    };\n    const tryMorphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const decision = tryDockingPosition(state.getModes(), {\n        win: winBox,\n        box\n      }, viewport);\n      if (decision.location === 'top' || decision.location === 'bottom') {\n        storePrior(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryMorphToOriginalOrUpdateFixed = (elem, viewport, state) => {\n      return tryMorphToOriginal(elem, viewport, state).orThunk(() => {\n        return viewport.optScrollEnv.bind(_ => getPrior(elem, viewport, state)).bind(({box, location}) => {\n          const winBox = win();\n          const leftX = getDockedLeftPosition({\n            win: winBox,\n            box\n          });\n          const decision = location === 'top' ? forceTopPosition(winBox, leftX, viewport) : forceBottomPosition(winBox, leftX, viewport);\n          return tryDecisionToFixedMorph(decision);\n        });\n      });\n    };\n    const tryMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? tryMorphToOriginalOrUpdateFixed(elem, viewport, state) : tryMorphToFixed(elem, viewport, state);\n    };\n    const calculateMorphToOriginal = (component, viewport, state) => {\n      const elem = component.element;\n      return getPrior(elem, viewport, state).bind(({box}) => revertToOriginal(elem, box, state));\n    };\n    const forceDockWith = (elem, viewport, state, getDecision) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const leftX = getDockedLeftPosition({\n        win: winBox,\n        box\n      });\n      const decision = getDecision(winBox, leftX, viewport);\n      if (decision.location === 'bottom' || decision.location === 'top') {\n        storePriorIfNone(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport.bounds);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const applyFixedMorph = (component, config, state, viewport, morph) => {\n      updateVisibility(component, config, state, viewport, true);\n      morphToCoord(component, config, state, morph.positionCss);\n    };\n    const applyMorph = (component, config, state, viewport, morph) => {\n      switch (morph.morph) {\n      case 'static': {\n          return morphToStatic(component, config, state);\n        }\n      case 'absolute': {\n          return morphToCoord(component, config, state, morph.positionCss);\n        }\n      case 'fixed': {\n          return applyFixedMorph(component, config, state, viewport, morph);\n        }\n      }\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      updateVisibility(component, config, state, viewport);\n      tryMorph(component, viewport, state).each(morph => {\n        applyMorph(component, config, state, viewport, morph);\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      const viewport = config.lazyViewport(component);\n      calculateMorphToOriginal(component, viewport, state).each(staticOrAbsoluteMorph => {\n        switch (staticOrAbsoluteMorph.morph) {\n        case 'static': {\n            morphToStatic(component, config, state);\n            break;\n          }\n        case 'absolute': {\n            morphToCoord(component, config, state, staticOrAbsoluteMorph.positionCss);\n            break;\n          }\n        }\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$3(component, config, state);\n    };\n    const refresh$3 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const forceDockWithDecision = getDecision => (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const optMorph = forceDockWith(component.element, viewport, state, getDecision);\n      optMorph.each(morph => {\n        applyFixedMorph(component, config, state, viewport, morph);\n      });\n    };\n    const forceDockToTop = forceDockWithDecision(forceTopPosition);\n    const forceDockToBottom = forceDockWithDecision(forceBottomPosition);\n    const isDocked$1 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes,\n        forceDockToTop: forceDockToTop,\n        forceDockToBottom: forceDockToBottom\n    });\n\n    const events$4 = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$3(component, dockInfo, dockState);\n      }),\n      run$1(externalElementScroll(), (component, _) => {\n        refresh$3(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$4\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', () => ({\n        bounds: win(),\n        optScrollEnv: Optional.none()\n      })),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$5 = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$2();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    const Docking = create$4({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const win = defaultView(containerHeader);\n      const viewHeight = win.dom.innerHeight;\n      const scrollPos = get$b(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$d(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$d(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$e(elm, 'margin-top'), 10) || 0) + (parseInt(get$e(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parentElement(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$c(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$2();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              return Optional.from(container).map(c => {\n                const box = box$1(SugarElement.fromDom(c));\n                const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                return optScrollingContext.fold(() => {\n                  const boxHeight = box.height - headerHeight;\n                  const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n                  return bounds(box.x, topBound, box.width, boxHeight);\n                }, scrollEnv => {\n                  const constrainedBounds = constrain(box, getBoundsFrom(scrollEnv));\n                  const constrainedBoundsY = isDockedMode(comp, 'top') ? constrainedBounds.y : constrainedBounds.y + headerHeight;\n                  return bounds(constrainedBounds.x, constrainedBoundsY, constrainedBounds.width, constrainedBounds.height - headerHeight);\n                });\n              });\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n            return optScrollingContext.fold(() => {\n              const boundsWithoutOffset = win();\n              const offset = getStickyToolbarOffset(editor);\n              const top = boundsWithoutOffset.y + (isDockedMode(comp, 'top') ? offset : 0);\n              const height = boundsWithoutOffset.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n              return {\n                bounds: bounds(boundsWithoutOffset.x, top, boundsWithoutOffset.width, height),\n                optScrollEnv: Optional.none()\n              };\n            }, sc => {\n              const combinedBounds = getBoundsFrom(sc);\n              return {\n                bounds: combinedBounds,\n                optScrollEnv: Optional.some({\n                  currentScrollTop: sc.element.dom.scrollTop,\n                  scrollElmTop: absolute$3(sc.element).top\n                })\n              };\n            });\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      defaultedOf('search', false, oneOf([\n        boolean,\n        objOf([optionString('placeholder')])\n      ], x => {\n        if (isBoolean(x)) {\n          return x ? Optional.some({ placeholder: Optional.none() }) : Optional.none();\n        } else {\n          return Optional.some(x);\n        }\n      })),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$d = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$d,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const promotionMessage = '\\u26A1\\ufe0fUpgrade';\n    const promotionLink = 'https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral';\n    const renderPromotion = spec => {\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: [{\n            dom: {\n              tag: 'a',\n              attributes: {\n                'href': promotionLink,\n                'rel': 'noopener',\n                'target': '_blank',\n                'aria-hidden': 'true'\n              },\n              classes: ['tox-promotion-link'],\n              innerHtml: promotionMessage\n            }\n          }]\n      };\n    };\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$f(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(configKey) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$6(slider.element, 'width');\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          });\n        }\n      });\n    };\n    const updateSidebarRoleOnToggle = (sidebar, sidebarState) => {\n      set$9(sidebar, 'role', sidebarState);\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n              updateSidebarRoleOnToggle(sidebar.element, 'presentation');\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n              updateSidebarRoleOnToggle(sidebar.element, 'region');\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'presentation' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$c(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n    const isBlocked = (component, blockingConfig, blockingState) => blockingState.isBlocked();\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock,\n        isBlocked: isBlocked\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$4({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element, true));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$2();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          fireAfterProgressState(editor, state);\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$c(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => get$c(comp.element), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([])),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y(),\n      onHandler('onToggled')\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false,\n              onToggled: detail.onToggled\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const shouldSkipFocus = value$2();\n    const toggleWithoutFocusing = (button, externals) => {\n      shouldSkipFocus.set(true);\n      toggle(button, externals);\n      shouldSkipFocus.clear();\n    };\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        const skipFocus = shouldSkipFocus.get().getOr(false);\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          if (!skipFocus) {\n            Keying.focusIn(toolbar);\n          }\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        if (!shouldSkipFocus.get().getOr(false)) {\n          Focusing.focus(button);\n        }\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$c = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        toggleWithoutFocusing: button => {\n          toggleWithoutFocusing(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$c,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        toggleWithoutFocusing: (apis, button) => {\n          apis.toggleWithoutFocusing(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$b = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$b\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$a = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        },\n        onToggled: (comp, state) => detail[state ? 'onOpened' : 'onClosed'](comp)\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          toggleWithoutFocusing: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(FloatingToolbarButton.toggleWithoutFocusing);\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$a,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        toggleWithoutFocusing: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'pressed' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow-button').bind(() => getPart(toolbar, detail, 'overflow')).each(overf => {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$9 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => toggleToolbar(toolbar, detail),\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$9,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled]), ' + '.tox-number-input:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarBehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('Reveal or hide additional toolbar items'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' },\n        onOpened: comp => toolbarSpec.onToggled(comp, true),\n        onClosed: comp => toolbarSpec.onToggled(comp, false)\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n          toolbarSpec.onToggled(comp, true);\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n          toolbarSpec.onToggled(comp, false);\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const baseButtonFields = [\n      optionalText,\n      optionalIcon,\n      optionString('tooltip'),\n      defaultedStringEnum('buttonType', 'secondary', [\n        'primary',\n        'secondary'\n      ]),\n      defaultedBoolean('borderless', false),\n      requiredFunction('onAction')\n    ];\n    const normalButtonFields = [\n      ...baseButtonFields,\n      text,\n      requiredStringEnum('type', ['button'])\n    ];\n    const toggleButtonFields = [\n      ...baseButtonFields,\n      defaultedBoolean('active', false),\n      requiredStringEnum('type', ['togglebutton'])\n    ];\n    const schemaWithoutGroupButton = {\n      button: normalButtonFields,\n      togglebutton: toggleButtonFields\n    };\n    const groupFields = [\n      requiredStringEnum('type', ['group']),\n      defaultedArrayOf('buttons', [], choose$1('type', schemaWithoutGroupButton))\n    ];\n    const viewButtonSchema = choose$1('type', {\n      ...schemaWithoutGroupButton,\n      group: groupFields\n    });\n\n    const viewSchema = objOf([\n      defaultedArrayOf('buttons', [], viewButtonSchema),\n      requiredFunction('onShow'),\n      requiredFunction('onHide')\n    ]);\n    const createView = spec => asRaw('view', viewSchema, spec);\n\n    const renderButton = (spec, providers) => {\n      var _a, _b;\n      const isToggleButton = spec.type === 'togglebutton';\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const getAction = () => comp => {\n        const setIcon = newIcon => {\n          optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n            Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n          }));\n        };\n        const setActive = state => {\n          const elm = comp.element;\n          if (state) {\n            add$2(elm, 'tox-button--enabled');\n            set$9(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-button--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        };\n        const isActive = () => has(comp.element, 'tox-button--enabled');\n        if (isToggleButton) {\n          return spec.onAction({\n            setIcon,\n            setActive,\n            isActive\n          });\n        }\n        if (spec.type === 'button') {\n          return spec.onAction({ setIcon });\n        }\n      };\n      const action = getAction();\n      const buttonSpec = {\n        ...spec,\n        name: isToggleButton ? spec.text.getOr(spec.icon.getOr('')) : (_a = spec.text) !== null && _a !== void 0 ? _a : spec.icon.getOr(''),\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: spec.tooltip,\n        icon: spec.icon,\n        enabled: true,\n        borderless: spec.borderless\n      };\n      const buttonTypeClasses = calculateClassesFromButtonType((_b = spec.buttonType) !== null && _b !== void 0 ? _b : 'secondary');\n      const optTranslatedText = isToggleButton ? spec.text.map(providers.translate) : Optional.some(providers.translate(spec.text));\n      const optTranslatedTextComponed = optTranslatedText.map(text$2);\n      const tooltipAttributes = buttonSpec.tooltip.or(optTranslatedText).map(tooltip => ({\n        'aria-label': providers.translate(tooltip),\n        'title': providers.translate(tooltip)\n      })).getOr({});\n      const optIconSpec = optMemIcon.map(memIcon => memIcon.asSpec());\n      const components = componentRenderPipeline([\n        optIconSpec,\n        optTranslatedTextComponed\n      ]);\n      const hasIconAndText = spec.icon.isSome() && optTranslatedTextComponed.isSome();\n      const dom = {\n        tag: 'button',\n        classes: buttonTypeClasses.concat(...spec.icon.isSome() && !hasIconAndText ? ['tox-button--icon'] : []).concat(...hasIconAndText ? ['tox-button--icon-and-text'] : []).concat(...spec.borderless ? ['tox-button--naked'] : []).concat(...spec.type === 'togglebutton' && spec.active ? ['tox-button--enabled'] : []),\n        attributes: tooltipAttributes\n      };\n      const extraBehaviours = [];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n\n    const renderViewButton = (spec, providers) => renderButton(spec, providers);\n    const renderButtonsGroup = (spec, providers) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__toolbar__group']\n        },\n        components: map$2(spec.buttons, button => renderViewButton(button, providers))\n      };\n    };\n    const deviceDetection = detect$2().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const renderViewHeader = spec => {\n      let hasGroups = false;\n      const endButtons = map$2(spec.buttons, btnspec => {\n        if (btnspec.type === 'group') {\n          hasGroups = true;\n          return renderButtonsGroup(btnspec, spec.providers);\n        } else {\n          return renderViewButton(btnspec, spec.providers);\n        }\n      });\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: [\n            !hasGroups ? 'tox-view__header' : 'tox-view__toolbar',\n            ...isPhone || isTablet ? [\n              'tox-view--mobile',\n              'tox-view--scrolling'\n            ] : []\n          ]\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            selector: 'button, .tox-button',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        components: hasGroups ? endButtons : [\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-start']\n            },\n            components: []\n          }),\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-end']\n            },\n            components: endButtons\n          })\n        ]\n      };\n    };\n    const renderViewPane = spec => {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__pane']\n        }\n      };\n    };\n    const factory$8 = (detail, components, _spec, _externals) => {\n      const apis = {\n        getPane: comp => parts$a.getPart(comp, detail, 'pane'),\n        getOnShow: _comp => detail.viewConfig.onShow,\n        getOnHide: _comp => detail.viewConfig.onHide\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis\n      };\n    };\n    var View = composite({\n      name: 'silver.View',\n      configFields: [required$1('viewConfig')],\n      partFields: [\n        optional({\n          factory: { sketch: renderViewHeader },\n          schema: [\n            required$1('buttons'),\n            required$1('providers')\n          ],\n          name: 'header'\n        }),\n        optional({\n          factory: { sketch: renderViewPane },\n          schema: [],\n          name: 'pane'\n        })\n      ],\n      factory: factory$8,\n      apis: {\n        getPane: (apis, comp) => apis.getPane(comp),\n        getOnShow: (apis, comp) => apis.getOnShow(comp),\n        getOnHide: (apis, comp) => apis.getOnHide(comp)\n      }\n    });\n\n    const makeViews = (parts, viewConfigs, providers) => {\n      return mapToArray(viewConfigs, (config, name) => {\n        const internalViewConfig = getOrDie(createView(config));\n        return parts.slot(name, View.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-view']\n          },\n          viewConfig: internalViewConfig,\n          components: [\n            ...internalViewConfig.buttons.length > 0 ? [View.parts.header({\n                buttons: internalViewConfig.buttons,\n                providers\n              })] : [],\n            View.parts.pane({})\n          ]\n        }));\n      });\n    };\n    const makeSlotContainer = (viewConfigs, providers) => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-view-wrap__slot-container']\n      },\n      components: makeViews(parts, viewConfigs, providers),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const getCurrentName = slotContainer => {\n      return find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name));\n    };\n    const hideContainer = comp => {\n      const element = comp.element;\n      set$8(element, 'display', 'none');\n      set$9(element, 'aria-hidden', 'true');\n    };\n    const showContainer = comp => {\n      const element = comp.element;\n      remove$6(element, 'display');\n      remove$7(element, 'aria-hidden');\n    };\n    const makeViewInstanceApi = slot => ({ getContainer: constant$1(slot) });\n    const runOnPaneWithInstanceApi = (slotContainer, name, get) => {\n      SlotContainer.getSlot(slotContainer, name).each(view => {\n        View.getPane(view).each(pane => {\n          const onCallback = get(view);\n          onCallback(makeViewInstanceApi(pane.element.dom));\n        });\n      });\n    };\n    const runOnShow = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnShow);\n    const runOnHide = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnHide);\n    const factory$7 = (detail, spec) => {\n      const setViews = (comp, viewConfigs) => {\n        Replacing.set(comp, [makeSlotContainer(viewConfigs, spec.backstage.shared.providers)]);\n      };\n      const whichView = comp => {\n        return Composing.getCurrent(comp).bind(getCurrentName);\n      };\n      const toggleView = (comp, showMainView, hideMainView, name) => {\n        return Composing.getCurrent(comp).exists(slotContainer => {\n          const optCurrentSlotName = getCurrentName(slotContainer);\n          const isTogglingCurrentView = optCurrentSlotName.exists(current => name === current);\n          const exists = SlotContainer.getSlot(slotContainer, name).isSome();\n          if (exists) {\n            SlotContainer.hideAllSlots(slotContainer);\n            if (!isTogglingCurrentView) {\n              hideMainView();\n              showContainer(comp);\n              SlotContainer.showSlot(slotContainer, name);\n              runOnShow(slotContainer, name);\n            } else {\n              hideContainer(comp);\n              showMainView();\n            }\n            optCurrentSlotName.each(prevName => runOnHide(slotContainer, prevName));\n          }\n          return exists;\n        });\n      };\n      const apis = {\n        setViews,\n        whichView,\n        toggleView\n      };\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view-wrap'],\n          attributes: { 'aria-hidden': 'true' },\n          styles: { display: 'none' }\n        },\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          Composing.config({\n            find: comp => {\n              const children = Replacing.contents(comp);\n              return head(children);\n            }\n          })\n        ]),\n        apis\n      };\n    };\n    var ViewWrapper = single({\n      factory: factory$7,\n      name: 'silver.ViewWrapper',\n      configFields: [required$1('backstage')],\n      apis: {\n        setViews: (apis, comp, views) => apis.setViews(comp, views),\n        toggleView: (apis, comp, outerContainer, editorCont, name) => apis.toggleView(comp, outerContainer, editorCont, name),\n        whichView: (apis, comp) => apis.whichView(comp)\n      }\n    });\n\n    const factory$6 = (detail, components, _spec) => {\n      let toolbarDrawerOpenState = false;\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            const renderedGroups = map$2(groups, renderToolbarGroup);\n            toolbar.getApis().setGroups(toolbar, renderedGroups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            const renderedToolbars = map$2(toolbars, g => map$2(g, renderToolbarGroup));\n            CustomList.setItems(mToolbar, renderedToolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        toggleToolbarDrawerWithoutFocusing: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggleWithoutFocusing, toggleWithoutFocusing => toggleWithoutFocusing(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        },\n        setViews: (comp, viewConfigs) => {\n          parts$a.getPart(comp, detail, 'viewWrapper').each(wrapper => {\n            ViewWrapper.setViews(wrapper, viewConfigs);\n          });\n        },\n        toggleView: (comp, name) => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').exists(wrapper => ViewWrapper.toggleView(wrapper, () => apis.showMainView(comp), () => apis.hideMainView(comp), name));\n        },\n        whichView: comp => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').bind(ViewWrapper.whichView).getOrNull();\n        },\n        hideMainView: comp => {\n          toolbarDrawerOpenState = apis.isToolbarDrawerToggled(comp);\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            set$8(element, 'display', 'none');\n            set$9(element, 'aria-hidden', 'true');\n          });\n        },\n        showMainView: comp => {\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            remove$6(element, 'display');\n            remove$7(element, 'aria-hidden');\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            onToggled: (_comp, state) => spec.onToolbarToggled(state),\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partPromotion = partType.optional({\n      factory: { sketch: renderPromotion },\n      name: 'promotion',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    const partViewWrapper = partType.optional({\n      factory: ViewWrapper,\n      name: 'viewWrapper',\n      schema: [required$1('backstage')]\n    });\n    const renderEditorContainer = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-editor-container']\n      },\n      components: spec.components\n    });\n    const partEditorContainer = partType.optional({\n      factory: { sketch: renderEditorContainer },\n      name: 'editorContainer',\n      schema: []\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partPromotion,\n        partThrobber,\n        partViewWrapper,\n        partEditorContainer\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, groups) => {\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, toolbars) => {\n          apis.setToolbars(comp, toolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        toggleToolbarDrawerWithoutFocusing: (apis, comp) => {\n          apis.toggleToolbarDrawerWithoutFocusing(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        },\n        setViews: (apis, comp, views) => {\n          apis.setViews(comp, views);\n        },\n        toggleView: (apis, comp, name) => {\n          return apis.toggleView(comp, name);\n        },\n        whichView: (apis, comp) => {\n          return apis.whichView(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      return items.split(' ');\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$g(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => isString(item) || item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadRawCss = (editor, key, css, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unloadRawCss(key));\n      return styleSheetLoader.loadRawCss(key, css);\n    };\n    const loadUiSkins = async (editor, skinUrl) => {\n      const skinResourceIdentifier = getSkinUrlOption(editor).getOr('default');\n      const skinUiCss = 'ui/' + skinResourceIdentifier + '/skin.css';\n      const css = tinymce.Resource.get(skinUiCss);\n      if (isString(css)) {\n        return Promise.resolve(loadRawCss(editor, skinUiCss, css, editor.ui.styleSheetLoader));\n      } else {\n        const skinUiCss = skinUrl + '/skin.min.css';\n        return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n      }\n    };\n    const loadShadowDomUiSkins = async (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const skinResourceIdentifier = getSkinUrlOption(editor).getOr('default');\n        const shadowDomSkinCss = 'ui/' + skinResourceIdentifier + '/skin.shadowdom.css';\n        const css = tinymce.Resource.get(shadowDomSkinCss);\n        if (isString(css)) {\n          loadRawCss(editor, shadowDomSkinCss, css, global$7.DOM.styleSheetLoader);\n          return Promise.resolve();\n        } else {\n          const shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n          return loadStylesheet(editor, shadowDomSkinCss, global$7.DOM.styleSheetLoader);\n        }\n      }\n    };\n    const loadUrlSkin = async (isInline, editor) => {\n      getSkinUrlOption(editor).fold(() => {\n        const skinResourceIdentifier = getSkinUrl(editor);\n        if (skinResourceIdentifier) {\n          editor.contentCSS.push(skinResourceIdentifier + (isInline ? '/content.inline' : '/content') + '.min.css');\n        }\n      }, skinUrl => {\n        const skinContentCss = 'ui/' + skinUrl + (isInline ? '/content.inline' : '/content') + '.css';\n        const css = tinymce.Resource.get(skinContentCss);\n        if (isString(css)) {\n          loadRawCss(editor, skinContentCss, css, editor.ui.styleSheetLoader);\n        } else {\n          const skinResourceIdentifier = getSkinUrl(editor);\n          if (skinResourceIdentifier) {\n            editor.contentCSS.push(skinResourceIdentifier + (isInline ? '/content.inline' : '/content') + '.min.css');\n          }\n        }\n      });\n      const skinUrl = getSkinUrl(editor);\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        return Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      return loadUrlSkin(isInline, editor).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const makeTooltipText = (editor, labelWithPlaceholder, value) => editor.translate([\n      labelWithPlaceholder,\n      editor.translate(value)\n    ]);\n\n    const generateSelectItems = (backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n          isHorizontalMenu: false,\n          search: Optional.none()\n        });\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (editor, backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec, tooltipWithPlaceholder, textUpdateEventName) => {\n      const {items, getStyleItems} = createMenuItems(editor, backstage, spec);\n      const getApi = comp => ({\n        getComponent: constant$1(comp),\n        setTooltip: tooltip => {\n          const translatedTooltip = backstage.shared.providers.translate(tooltip);\n          setAll$1(comp.element, {\n            'aria-label': translatedTooltip,\n            'title': translatedTooltip\n          });\n        }\n      });\n      const onSetup = api => {\n        const handler = e => api.setTooltip(makeTooltipText(editor, tooltipWithPlaceholder, e.value));\n        editor.on(textUpdateEventName, handler);\n        return composeUnbinders(onSetupEvent(editor, 'NodeChange', api => {\n          const comp = api.getComponent();\n          spec.updateText(comp);\n          Disabling.set(api.getComponent(), !editor.selection.isEditable());\n        })(api), () => editor.off(textUpdateEventName, handler));\n      };\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const menuTitle$4 = 'Align';\n    const btnTooltip$4 = 'Alignment {0}';\n    const fallbackAlignment = 'left';\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1(fallbackAlignment), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n        fireAlignTextUpdate(editor, { value: alignment });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: makeTooltipText(editor, btnTooltip$4, fallbackAlignment),\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor), btnTooltip$4, 'AlignTextUpdate');\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate(menuTitle$4),\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt)).orThunk(() => someIf(editor.formatter.match('p'), {\n        title: 'Paragraph',\n        format: 'p'\n      }));\n    };\n\n    const menuTitle$3 = 'Blocks';\n    const btnTooltip$3 = 'Block {0}';\n    const fallbackFormat = 'Paragraph';\n    const getSpec$3 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        if (fmt) {\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n        fireBlocksTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: makeTooltipText(editor, btnTooltip$3, fallbackFormat),\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor), btnTooltip$3, 'BlocksTextUpdate');\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: menuTitle$3,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const menuTitle$2 = 'Fonts';\n    const btnTooltip$2 = 'Font {0}';\n    const systemFont = 'System Font';\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const matchesStack = (fonts, stack) => stack.length > 0 && forall(stack, font => fonts.indexOf(font.toLowerCase()) > -1);\n    const isSystemFontStack = (fontFamily, userStack) => {\n      if (fontFamily.indexOf('-apple-system') === 0 || userStack.length > 0) {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return matchesStack(fonts, systemStackFonts) || matchesStack(fonts, userStack);\n      } else {\n        return false;\n      }\n    };\n    const getSpec$2 = editor => {\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const userStack = getDefaultFontStack(editor);\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font, userStack), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n        fireFontFamilyTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: makeTooltipText(editor, btnTooltip$2, systemFont),\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor), btnTooltip$2, 'FontFamilyTextUpdate');\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate(menuTitle$2),\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const Keys = {\n      tab: constant$1(9),\n      escape: constant$1(27),\n      enter: constant$1(13),\n      backspace: constant$1(8),\n      delete: constant$1(46),\n      left: constant$1(37),\n      up: constant$1(38),\n      right: constant$1(39),\n      down: constant$1(40),\n      space: constant$1(32),\n      home: constant$1(36),\n      end: constant$1(35),\n      pageUp: constant$1(33),\n      pageDown: constant$1(34)\n    };\n\n    const createBespokeNumberInput = (editor, backstage, spec) => {\n      let currentComp = Optional.none();\n      const getValueFromCurrentComp = comp => comp.map(alloyComp => Representing.getValue(alloyComp)).getOr('');\n      const onSetup = onSetupEvent(editor, 'NodeChange SwitchMode', api => {\n        const comp = api.getComponent();\n        currentComp = Optional.some(comp);\n        spec.updateInputValue(comp);\n        Disabling.set(comp, !editor.selection.isEditable());\n      });\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const editorOffCell = Cell(noop);\n      const customEvents = generate$6('custom-number-input-events');\n      const changeValue = (f, fromInput, focusBack) => {\n        const text = getValueFromCurrentComp(currentComp);\n        const newValue = spec.getNewValue(text, f);\n        const lenghtDelta = text.length - `${ newValue }`.length;\n        const oldStart = currentComp.map(comp => comp.element.dom.selectionStart - lenghtDelta);\n        const oldEnd = currentComp.map(comp => comp.element.dom.selectionEnd - lenghtDelta);\n        spec.onAction(newValue, focusBack);\n        currentComp.each(comp => {\n          Representing.setValue(comp, newValue);\n          if (fromInput) {\n            oldStart.each(oldStart => comp.element.dom.selectionStart = oldStart);\n            oldEnd.each(oldEnd => comp.element.dom.selectionEnd = oldEnd);\n          }\n        });\n      };\n      const decrease = (fromInput, focusBack) => changeValue((n, s) => n - s, fromInput, focusBack);\n      const increase = (fromInput, focusBack) => changeValue((n, s) => n + s, fromInput, focusBack);\n      const goToParent = comp => parentElement(comp.element).fold(Optional.none, parent => {\n        focus$3(parent);\n        return Optional.some(true);\n      });\n      const focusInput = comp => {\n        if (hasFocus(comp.element)) {\n          firstChild(comp.element).each(input => focus$3(input));\n          return Optional.some(true);\n        } else {\n          return Optional.none();\n        }\n      };\n      const makeStepperButton = (action, title, tooltip, classes) => {\n        const editorOffCellStepButton = Cell(noop);\n        const translatedTooltip = backstage.shared.providers.translate(tooltip);\n        const altExecuting = generate$6('altExecuting');\n        const onSetup = onSetupEvent(editor, 'NodeChange SwitchMode', api => {\n          Disabling.set(api.getComponent(), !editor.selection.isEditable());\n        });\n        const onClick = comp => {\n          if (!Disabling.isDisabled(comp)) {\n            action(true);\n          }\n        };\n        return Button.sketch({\n          dom: {\n            tag: 'button',\n            attributes: {\n              'title': translatedTooltip,\n              'aria-label': translatedTooltip\n            },\n            classes: classes.concat(title)\n          },\n          components: [renderIconFromPack$1(title, backstage.shared.providers.icons)],\n          buttonBehaviours: derive$1([\n            Disabling.config({}),\n            config(altExecuting, [\n              onControlAttached({\n                onSetup,\n                getApi\n              }, editorOffCellStepButton),\n              onControlDetached({ getApi }, editorOffCellStepButton),\n              run$1(keydown(), (comp, se) => {\n                if (se.event.raw.keyCode === Keys.space() || se.event.raw.keyCode === Keys.enter()) {\n                  if (!Disabling.isDisabled(comp)) {\n                    action(false);\n                  }\n                }\n              }),\n              run$1(click(), onClick),\n              run$1(touchend(), onClick)\n            ])\n          ]),\n          eventOrder: {\n            [keydown()]: [\n              altExecuting,\n              'keying'\n            ],\n            [click()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [touchend()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ]\n          }\n        });\n      };\n      const memMinus = record(makeStepperButton(focusBack => decrease(false, focusBack), 'minus', 'Decrease font size', []));\n      const memPlus = record(makeStepperButton(focusBack => increase(false, focusBack), 'plus', 'Increase font size', []));\n      const memInput = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-input-wrapper']\n        },\n        components: [Input.sketch({\n            inputBehaviours: derive$1([\n              Disabling.config({}),\n              config(customEvents, [\n                onControlAttached({\n                  onSetup,\n                  getApi\n                }, editorOffCell),\n                onControlDetached({ getApi }, editorOffCell)\n              ]),\n              config('input-update-display-text', [\n                run$1(updateMenuText, (comp, se) => {\n                  Representing.setValue(comp, se.event.text);\n                }),\n                run$1(focusout(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                }),\n                run$1(change(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onEnter: _comp => {\n                  changeValue(identity, true, true);\n                  return Optional.some(true);\n                },\n                onEscape: goToParent,\n                onUp: _comp => {\n                  increase(true, false);\n                  return Optional.some(true);\n                },\n                onDown: _comp => {\n                  decrease(true, false);\n                  return Optional.some(true);\n                },\n                onLeft: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                },\n                onRight: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                }\n              })\n            ])\n          })],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEnter: focusInput,\n            onSpace: focusInput,\n            onEscape: goToParent\n          }),\n          config('input-wrapper-events', [run$1(mouseover(), comp => {\n              each$1([\n                memMinus,\n                memPlus\n              ], button => {\n                const buttonNode = SugarElement.fromDom(button.get(comp).element.dom);\n                if (hasFocus(buttonNode)) {\n                  blur$1(buttonNode);\n                }\n              });\n            })])\n        ])\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-number-input']\n        },\n        components: [\n          memMinus.asSpec(),\n          memInput.asSpec(),\n          memPlus.asSpec()\n        ],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode,\n            cycles: false,\n            selector: 'button, .tox-input-wrapper',\n            onEscape: wrapperComp => {\n              if (hasFocus(wrapperComp.element)) {\n                return Optional.none();\n              } else {\n                focus$3(wrapperComp.element);\n                return Optional.some(true);\n              }\n            }\n          })\n        ])\n      };\n    };\n\n    const menuTitle$1 = 'Font sizes';\n    const btnTooltip$1 = 'Font size {0}';\n    const fallbackFontSize = '12pt';\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$g(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$g(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n        fireFontSizeTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: makeTooltipText(editor, btnTooltip$1, fallbackFontSize),\n        text: Optional.some(fallbackFontSize),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor), btnTooltip$1, 'FontSizeTextUpdate');\n    const getConfigFromUnit = unit => {\n      var _a;\n      const baseConfig = { step: 1 };\n      const configs = {\n        em: { step: 0.1 },\n        cm: { step: 0.1 },\n        in: { step: 0.1 },\n        pc: { step: 0.1 },\n        ch: { step: 0.1 },\n        rem: { step: 0.1 }\n      };\n      return (_a = configs[unit]) !== null && _a !== void 0 ? _a : baseConfig;\n    };\n    const defaultValue = 16;\n    const isValidValue = value => value >= 0;\n    const getNumberInputSpec = editor => {\n      const getCurrentValue = () => editor.queryCommandValue('FontSize');\n      const updateInputValue = comp => emitWith(comp, updateMenuText, { text: getCurrentValue() });\n      return {\n        updateInputValue,\n        onAction: (format, focusBack) => editor.execCommand('FontSize', false, format, { skip_focus: !focusBack }),\n        getNewValue: (text, updateFunction) => {\n          parse(text, [\n            'unsupportedLength',\n            'empty'\n          ]);\n          const currentValue = getCurrentValue();\n          const parsedText = parse(text, [\n            'unsupportedLength',\n            'empty'\n          ]).or(parse(currentValue, [\n            'unsupportedLength',\n            'empty'\n          ]));\n          const value = parsedText.map(res => res.value).getOr(defaultValue);\n          const defaultUnit = getFontSizeInputDefaultUnit(editor);\n          const unit = parsedText.map(res => res.unit).filter(u => u !== '').getOr(defaultUnit);\n          const newValue = updateFunction(value, getConfigFromUnit(unit).step);\n          const res = `${ isValidValue(newValue) ? newValue : value }${ unit }`;\n          if (res !== currentValue) {\n            fireFontSizeInputTextUpdate(editor, { value: res });\n          }\n          return res;\n        }\n      };\n    };\n    const createFontSizeInputButton = (editor, backstage) => createBespokeNumberInput(editor, backstage, getNumberInputSpec(editor));\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: menuTitle$1,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const menuTitle = 'Formats';\n    const btnTooltip = 'Format {0}';\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          if (isNestedFormat(fmt)) {\n            return bind$3(fmt.items, getFormatItems);\n          } else if (isFormatReference(fmt)) {\n            return [{\n                title: fmt.title,\n                format: fmt.format\n              }];\n          } else {\n            return [];\n          }\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n        fireStylesTextUpdate(editor, { value: text });\n      };\n      return {\n        tooltip: makeTooltipText(editor, btnTooltip, fallbackFormat),\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset), btnTooltip, 'StylesTextUpdate');\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: menuTitle,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$a(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({\n      'aria-label': providersBackstage.translate(tooltip),\n      'title': providersBackstage.translate(tooltip)\n    })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (optIcon, optText, tooltip, behaviours, providersBackstage) => {\n      const optMemDisplayText = optText.map(text => record(renderLabel$1(text, 'tox-tbtn', providersBackstage)));\n      const optMemDisplayIcon = optIcon.map(icon => record(renderReplaceableIconFromPack(icon, providersBackstage.icons)));\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(optText.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec())\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            commonButtonDisplayEvent\n          ],\n          [attachedToDom()]: [\n            commonButtonDisplayEvent,\n            'toolbar-group-button-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config(commonButtonDisplayEvent, [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(providersBackstage.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, providersBackstage.icons)]);\n              });\n            }),\n            run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })\n          ])\n        ].concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes) => {\n      const sharedBackstage = backstage.shared;\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        toolbarButtonBehaviours: [],\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      };\n      const behaviours = [config('toolbar-group-button-events', [\n          onControlAttached(specialisation, editorOffCell),\n          onControlDetached(specialisation, editorOffCell)\n        ])];\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.some(behaviours), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage) => {\n      var _d;\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: {\n          ...derive$1([\n            config('toolbar-button-events', [\n              onToolbarButtonExecute({\n                onAction: spec.onAction,\n                getApi: specialisation.getApi\n              }),\n              onControlAttached(specialisation, editorOffCell),\n              onControlDetached(specialisation, editorOffCell)\n            ]),\n            DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n            receivingConfig()\n          ].concat(specialisation.toolbarButtonBehaviours)),\n          [commonButtonDisplayEvent]: (_d = structure.buttonBehaviours) === null || _d === void 0 ? void 0 : _d[commonButtonDisplayEvent]\n        }\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage) => renderToolbarButtonWith(spec, providersBackstage, []);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : [],\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const renderToolbarToggleButton = (spec, providersBackstage) => renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage) => {\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, `svg path[class=\"${ id }\"], rect[class=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn)),\n        setText: text => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuText, { text }))),\n        setIcon: icon => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuIcon, { icon }))),\n        setTooltip: tooltip => {\n          const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n          setAll$1(comp.element, {\n            'aria-label': translatedTooltip,\n            'title': translatedTooltip\n          });\n        }\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers)\n          }\n        },\n        onExecute: button => {\n          const api = getApi(button);\n          if (api.isEnabled()) {\n            spec.onAction(api);\n          }\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$2('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'ai',\n        items: [\n          'aidialog',\n          'aishortcuts'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, backstage, editor) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, backstage, editor);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, backstage) => renderToolbarButton(s, backstage.shared.providers)),\n      togglebutton: renderFromBridge(createToggleButton, (s, backstage) => renderToolbarToggleButton(s, backstage.shared.providers)),\n      menubutton: renderFromBridge(createMenuButton, (s, backstage) => renderMenuButton(s, 'tox-tbtn', backstage, Optional.none(), false)),\n      splitbutton: renderFromBridge(createSplitButton, (s, backstage) => renderSplitButton(s, backstage.shared)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, backstage, editor) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, backstage, Optional.none());\n        const attributes = { [Attribute]: backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      })\n    };\n    const extractFrom = (spec, backstage, editor) => get$g(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, backstage, editor)));\n    const bespokeButtons = {\n      styles: createStylesButton,\n      fontsize: createFontSizeButton,\n      fontsizeinput: createFontSizeInputButton,\n      fontfamily: createFontFamilyButton,\n      blocks: createBlocksButton,\n      align: createAlignButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, backstage, prefixes) => get$g(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$g(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$g(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, backstage)), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, backstage, editor);\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, backstage, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, backstage, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiRefs, rawUiConfig, backstage) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, backstage, Optional.none());\n        });\n        OuterContainer.setToolbars(outerContainer, toolbars);\n      } else {\n        OuterContainer.setToolbar(outerContainer, identifyButtons(editor, rawUiConfig, backstage, Optional.none()));\n      }\n    };\n\n    const detection = detect$2();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiRefs) => {\n      const {uiMotherships} = uiRefs;\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => {\n        fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      editor.on('hide', () => {\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      });\n      editor.on('show', () => {\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const attachUiMotherships = (editor, uiRoot, uiRefs) => {\n      if (isSplitUiMode(editor)) {\n        attachSystemAfter(uiRefs.mainUi.mothership.element, uiRefs.popupUi.mothership);\n      }\n      attachSystem(uiRoot, uiRefs.dialogUi.mothership);\n    };\n    const render$1 = (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = mainUi.outerContainer;\n      iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, mainUi.mothership);\n      attachUiMotherships(editor, uiRoot, uiRefs);\n      editor.on('SkinLoaded', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setViews(outerContainer, rawUiConfig.views);\n        setupEvents$1(editor, uiRefs);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiRefs);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => {\n        var _a;\n        return (_a = OuterContainer.whichSidebar(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      editor.addCommand('ToggleView', (_ui, value) => {\n        if (OuterContainer.toggleView(outerContainer, value)) {\n          const target = outerContainer.element;\n          mainUi.mothership.broadcastOn([dismissPopups()], { target });\n          each$1(uiMotherships, m => {\n            m.broadcastOn([dismissPopups()], { target });\n          });\n          if (isNull(OuterContainer.whichView(outerContainer))) {\n            editor.focus();\n            editor.nodeChanged();\n            OuterContainer.refreshToolbar(outerContainer);\n          }\n        }\n      });\n      editor.addQueryValueHandler('ToggleView', () => {\n        var _a;\n        return (_a = OuterContainer.whichView(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiRefs.mainUi.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const maximumDistanceToEdge = 40;\n    const InlineHeader = (editor, targetElm, uiRefs, backstage, floatContainer) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const DOM = global$7.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$d(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$d(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$d(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        floatContainer.on(container => {\n          Docking.setModes(container, [mode]);\n          headerBackstage.setDockingMode(mode);\n          const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n          set$9(container.element, Attribute, verticalDir);\n        });\n      };\n      const updateChromeWidth = () => {\n        floatContainer.on(container => {\n          const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n            const bodyMargin = parseToInt(get$e(body(), 'margin-left')).getOr(0);\n            return get$c(body()) - absolute$3(targetElm).left + bodyMargin;\n          });\n          set$8(container.element, 'max-width', maxWidth + 'px');\n        });\n      };\n      const updateChromePosition = optToolbarWidth => {\n        floatContainer.on(container => {\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const targetBounds = box$1(targetElm);\n          const {top, left} = getOffsetParent$1(editor, mainUi.outerContainer.element).fold(() => {\n            return {\n              top: isPositionedAtTop() ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.bottom,\n              left: targetBounds.x\n            };\n          }, offsetParent => {\n            var _a;\n            const offsetBox = box$1(offsetParent);\n            const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n            const isOffsetParentBody = eq(offsetParent, body());\n            const topValue = isOffsetParentBody ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.y - offsetBox.y + scrollDelta - get$d(container.element) + offset;\n            return {\n              top: isPositionedAtTop() ? topValue : targetBounds.bottom,\n              left: isOffsetParentBody ? targetBounds.x : targetBounds.x - offsetBox.x\n            };\n          });\n          const baseProperties = {\n            position: 'absolute',\n            left: Math.round(left) + 'px',\n            top: Math.round(top) + 'px'\n          };\n          const widthProperties = optToolbarWidth.map(toolbarWidth => {\n            const scroll = get$b();\n            const minimumToolbarWidth = 150;\n            const availableWidth = window.innerWidth - (left - scroll.left);\n            const width = Math.max(Math.min(toolbarWidth, availableWidth), minimumToolbarWidth);\n            return { width: width + 'px' };\n          }).getOr({});\n          setAll(mainUi.outerContainer.element, {\n            ...baseProperties,\n            ...widthProperties\n          });\n        });\n      };\n      const getOffsetParent$1 = (editor, element) => isSplitUiMode(editor) ? getOffsetParent(element) : Optional.none();\n      const repositionPopups$1 = () => {\n        each$1(uiMotherships, m => {\n          m.broadcastOn([repositionPopups()], {});\n        });\n      };\n      const restoreAndGetCompleteOuterContainerWidth = () => {\n        if (!useFixedToolbarContainer) {\n          const toolbarCurrentRightsidePosition = absolute$3(mainUi.outerContainer.element).left + getOuter$1(mainUi.outerContainer.element);\n          if (toolbarCurrentRightsidePosition >= window.innerWidth - maximumDistanceToEdge || getRaw(mainUi.outerContainer.element, 'width').isSome()) {\n            set$8(mainUi.outerContainer.element, 'position', 'absolute');\n            set$8(mainUi.outerContainer.element, 'left', '0px');\n            remove$6(mainUi.outerContainer.element, 'width');\n            const w = getOuter$1(mainUi.outerContainer.element);\n            return Optional.some(w);\n          } else {\n            return Optional.none();\n          }\n        } else {\n          return Optional.none();\n        }\n      };\n      const update = stickyAction => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        const optToolbarWidth = useFixedToolbarContainer ? Optional.none() : restoreAndGetCompleteOuterContainerWidth();\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(mainUi.outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition(optToolbarWidth);\n        }\n        if (isSticky) {\n          floatContainer.on(stickyAction);\n        }\n        repositionPopups$1();\n      };\n      const doUpdateMode = () => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return false;\n        }\n        return floatContainer.get().exists(fc => {\n          const currentMode = headerBackstage.getDockingMode();\n          const newMode = calcMode(fc);\n          if (newMode !== currentMode) {\n            setupMode(newMode);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(mainUi.outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n        doUpdateMode();\n        if (isSplitUiMode(editor)) {\n          update(elem => Docking.isDocked(elem) ? Docking.reset(elem) : Docking.refresh(elem));\n        } else {\n          update(Docking.refresh);\n        }\n      };\n      const hide = () => {\n        visible.set(false);\n        set$8(mainUi.outerContainer.element, 'display', 'none');\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      };\n      const updateMode = () => {\n        const changedMode = doUpdateMode();\n        if (changedMode) {\n          update(Docking.reset);\n        }\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(Docking.reset);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(Docking.reset));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      let lastScrollX = 0;\n      const updateUi = last(() => ui.update(Docking.refresh), 33);\n      editor.on('ScrollWindow', () => {\n        const newScrollX = get$b().left;\n        if (newScrollX !== lastScrollX) {\n          lastScrollX = newScrollX;\n          updateUi.throttle();\n        }\n        ui.updateMode();\n      });\n      if (isSplitUiMode(editor)) {\n        editor.on('ElementScroll', _args => {\n          ui.update(Docking.refresh);\n        });\n      }\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', e => resizeContent(e.raw)));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi} = uiRefs;\n      const floatContainer = value$2();\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiRefs, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      const render = () => {\n        if (floatContainer.isSet()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(mainUi.outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        if (isSplitUiMode(editor)) {\n          attachSystemAfter(targetElm, mainUi.mothership);\n          attachSystemAfter(targetElm, uiRefs.popupUi.mothership);\n        } else {\n          attachSystem(uiContainer, mainUi.mothership);\n        }\n        attachSystem(uiContainer, uiRefs.dialogUi.mothership);\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        OuterContainer.setMenubar(mainUi.outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiRefs);\n      const api = {\n        show: render,\n        hide: ui.hide,\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(mainUi.outerContainer)\n      };\n      return {\n        editorContainer: mainUi.outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const LazyUiReferences = () => {\n      const dialogUi = value$2();\n      const popupUi = value$2();\n      const mainUi = value$2();\n      const lazyGetInOuterOrDie = (label, f) => () => mainUi.get().bind(oc => f(oc.outerContainer)).getOrDie(`Could not find ${ label } element in OuterContainer`);\n      const getUiMotherships = () => {\n        const optDialogMothership = dialogUi.get().map(ui => ui.mothership);\n        const optPopupMothership = popupUi.get().map(ui => ui.mothership);\n        return optDialogMothership.fold(() => optPopupMothership.toArray(), dm => optPopupMothership.fold(() => [dm], pm => eq(dm.element, pm.element) ? [dm] : [\n          dm,\n          pm\n        ]));\n      };\n      return {\n        dialogUi,\n        popupUi,\n        mainUi,\n        getUiMotherships,\n        lazyGetInOuterOrDie\n      };\n    };\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const isToggleButton = button => button.type === 'contextformtogglebutton';\n    const generateOne = (memInput, button, providersBackstage) => {\n      if (isToggleButton(button)) {\n        return renderContextToggleButton(memInput, button, providersBackstage);\n      } else {\n        return renderContextButton(memInput, button, providersBackstage);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$b();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(elem => inBody(elem) && isHTMLElement(elem)).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar), -20);\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$b().top : bounds.y;\n        const contextbarHeight = get$d(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$c(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$c(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$2().deviceType.isTouch;\n      const lastElement = value$2();\n      const lastTrigger = value$2();\n      const lastContextPosition = value$2();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds, 0.01);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras.backstage, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      let isDragging = false;\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed || isDragging) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$g(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('dragstart', () => {\n          isDragging = true;\n        });\n        editor.on('dragend drop', () => {\n          isDragging = false;\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupStateToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$2();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = editor => ({\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value),\n      onToolbarSetup: onSetupEditableToggle(editor),\n      onMenuSetup: onSetupEditableToggle(editor)\n    });\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => {\n          var _a;\n          return editor.formatter.formatChanged('lang', callback, false, {\n            value: value.code,\n            customValue: (_a = value.customCode) !== null && _a !== void 0 ? _a : null\n          }).unbind;\n        },\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return composeUnbinders(unbinder.clear, onSetupEditableToggle(editor)(api));\n        },\n        onMenuSetup: onSetupEditableToggle(editor)\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec(editor));\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent') && editor.selection.isEditable());\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return composeUnbinders(() => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler), onSetupEditableToggle(editor)(api));\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupStateToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupStateToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name)\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupEditableToggle(editor),\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupStateToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onSetup: onSetupEditableToggle(editor),\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent$1 = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$7.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: false,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: true,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        const highlightOnOpen = highlightImmediately ? HighlightOnOpen.HighlightMenuAndItem : HighlightOnOpen.HighlightNone;\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightOnOpen\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$2();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          const commonItem = item;\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(commonItem),\n            onAction: noarg(commonItem.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$g(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items) && isNotEmpty(trim$1(items))) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (isArray(items) && items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTouchEvent = e => e.type === 'longpress' || has$2(e, 'touches');\n    const isTriggeredByKeyboard = (editor, e) => !isTouchEvent(e) && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$2();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = () => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$f(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$e(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$3 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$3 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$3(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$3) })\n    ];\n\n    const init$2 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$2();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const events$1 = (dragConfig, dragState, updateStartState) => [\n      ...events$3(dragConfig, dragState, updateStartState),\n      ...events$2(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init$1 = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$2();\n      const finishCell = value$2();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$2().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(otherCells => {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$2(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$2(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = fireResolveName(editor, parent);\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = { height: calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor)) };\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$d(container), get$c(container));\n      each(dimensions, (val, dim) => {\n        if (isNumber(val)) {\n          set$8(container, dim, numToPx(val));\n        }\n      });\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      const resizeLabel = resizeType === ResizeTypes.Both ? 'Press the arrow keys to resize the editor.' : 'Press the Up and Down arrow keys to resize the editor.';\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: {\n          'title': providersBackstage.translate('Resize'),\n          'aria-label': providersBackstage.translate(resizeLabel)\n        },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$2(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$8.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const renderHelpAccessibility = () => {\n        const shortcutText = convertText('Alt+0');\n        const text = `Press {0} for help`;\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__help-text']\n          },\n          components: [text$2(global$8.translate([\n              text,\n              shortcutText\n            ]))]\n        };\n      };\n      const renderRightContainer = () => {\n        const components = [];\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__right-container']\n          },\n          components\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        const shouldRenderHelp = useHelpAccessibility(editor);\n        const shouldRenderElementPath = useElementPath(editor);\n        const shouldRenderRightContainer = useBranding(editor) || editor.hasPlugin('wordcount');\n        const getTextComponentClasses = () => {\n          const flexStart = 'tox-statusbar__text-container--flex-start';\n          const flexEnd = 'tox-statusbar__text-container--flex-end';\n          const spaceAround = 'tox-statusbar__text-container--space-around';\n          if (shouldRenderHelp) {\n            const container3Columns = 'tox-statusbar__text-container-3-cols';\n            if (!shouldRenderRightContainer && !shouldRenderElementPath) {\n              return [\n                container3Columns,\n                spaceAround\n              ];\n            }\n            if (shouldRenderRightContainer && !shouldRenderElementPath) {\n              return [\n                container3Columns,\n                flexEnd\n              ];\n            }\n            return [\n              container3Columns,\n              flexStart\n            ];\n          }\n          return [shouldRenderRightContainer && !shouldRenderElementPath ? flexEnd : flexStart];\n        };\n        if (shouldRenderElementPath) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (shouldRenderHelp) {\n          components.push(renderHelpAccessibility());\n        }\n        if (shouldRenderRightContainer) {\n          components.push(renderRightContainer());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: [\n                  'tox-statusbar__text-container',\n                  ...getTextComponentClasses()\n                ]\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = (label, singleton) => singleton.get().getOrDie(`UI for ${ label } has not been rendered`);\n    const setup$3 = (editor, setupForTheme) => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazyUiRefs = LazyUiReferences();\n      const lazyMothership = value$2();\n      const lazyDialogMothership = value$2();\n      const lazyPopupMothership = value$2();\n      const platform = detect$2();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const memBottomAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bottom-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyUiRefs.mainUi.get().map(ui => ui.outerContainer).bind(OuterContainer.getHeader);\n      const lazyDialogSinkResult = () => Result.fromOption(lazyUiRefs.dialogUi.get().map(ui => ui.sink), 'UI has not been rendered');\n      const lazyPopupSinkResult = () => Result.fromOption(lazyUiRefs.popupUi.get().map(ui => ui.sink), '(popup) UI has not been rendered');\n      const lazyAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('anchor bar', memAnchorBar.getOpt);\n      const lazyBottomAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('bottom anchor bar', memBottomAnchorBar.getOpt);\n      const lazyToolbar = lazyUiRefs.lazyGetInOuterOrDie('toolbar', OuterContainer.getToolbar);\n      const lazyThrobber = lazyUiRefs.lazyGetInOuterOrDie('throbber', OuterContainer.getThrobber);\n      const backstages = init$6({\n        popup: lazyPopupSinkResult,\n        dialog: lazyDialogSinkResult\n      }, editor, lazyAnchorBar, lazyBottomAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage: backstages.popup,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: backstages.popup.shared.getSink,\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          onToolbarToggled: state => {\n            fireToggleToolbarDrawer(editor, state);\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const shouldHavePromotion = promotionEnabled(editor);\n        const partPromotion = makePromotion();\n        const hasAnyContents = hasMultipleToolbar || hasToolbar || hasMenubar;\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        const menubarCollection = shouldHavePromotion ? [\n          partPromotion,\n          partMenubar\n        ] : [partMenubar];\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'].concat(hasAnyContents ? [] : ['tox-editor-header--empty']),\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? menubarCollection : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstages.popup.shared\n        });\n      };\n      const makePromotion = () => {\n        return OuterContainer.parts.promotion({\n          dom: {\n            tag: 'div',\n            classes: ['tox-promotion']\n          }\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderDialogUi = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$e(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazyDialogMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderPopupUi = () => {\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-silver-popup-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({\n              useFixed: () => header.isDocked(lazyHeader),\n              getBounds: () => setupForTheme.getPopupSinkBounds()\n            })])\n        };\n        const sink = build$1(sinkSpec);\n        const uiMothership = takeover(sink);\n        lazyPopupMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderMainUi = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage: backstages.popup\n        });\n        const partViewWrapper = OuterContainer.parts.viewWrapper({ backstage: backstages.popup });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstages.popup.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = OuterContainer.parts.editorContainer({\n          components: flatten([\n            editorComponents,\n            isInline ? [] : [\n              memBottomAnchorBar.asSpec(),\n              ...statusbar.toArray()\n            ]\n          ])\n        });\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$8.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: [\n            editorContainer,\n            ...isInline ? [] : [partViewWrapper],\n            partThrobber\n          ],\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue$1('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue$1('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', (_ui, options) => {\n          if (options === null || options === void 0 ? void 0 : options.skipFocus) {\n            OuterContainer.toggleToolbarDrawerWithoutFocusing(outerContainer);\n          } else {\n            OuterContainer.toggleToolbarDrawer(outerContainer);\n          }\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUIWithRefs = uiRefs => {\n        const {mainUi, popupUi, uiMotherships} = uiRefs;\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars, views} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars,\n          views\n        };\n        setupShortcutsAndCommands(mainUi.outerContainer);\n        setup$b(editor, mainUi.mothership, uiMotherships);\n        header.setup(editor, backstages.popup.shared, lazyHeader);\n        setup$6(editor, backstages.popup);\n        setup$5(editor, backstages.popup.shared.getSink, backstages.popup);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstages.popup.shared);\n        register$9(editor, contextToolbars, popupUi.sink, { backstage: backstages.popup });\n        setup$4(editor, popupUi.sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(mainUi.outerContainer);\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiRefs, rawUiConfig, backstages.popup, args);\n      };\n      const reuseDialogUiForPopuUi = dialogUi => {\n        lazyPopupMothership.set(dialogUi.mothership);\n        return dialogUi;\n      };\n      const renderUI = () => {\n        const mainUi = renderMainUi();\n        const dialogUi = renderDialogUi();\n        const popupUi = isSplitUiMode(editor) ? renderPopupUi() : reuseDialogUiForPopuUi(dialogUi);\n        lazyUiRefs.dialogUi.set(dialogUi);\n        lazyUiRefs.popupUi.set(popupUi);\n        lazyUiRefs.mainUi.set(mainUi);\n        const uiRefs = {\n          popupUi,\n          dialogUi,\n          mainUi,\n          uiMotherships: lazyUiRefs.getUiMotherships()\n        };\n        return renderUIWithRefs(uiRefs);\n      };\n      return {\n        popups: {\n          backstage: backstages.popup,\n          getMothership: () => getLazyMothership('popups', lazyPopupMothership)\n        },\n        dialogs: {\n          backstage: backstages.dialog,\n          getMothership: () => getLazyMothership('dialogs', lazyDialogMothership)\n        },\n        renderUI\n      };\n    };\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('firstTabstop', 0),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$2();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Blocking.isBlocked(dialog) ? noop() : Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPart(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt,\n            firstTabstop: detail.firstTabstop\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const toggleButtonSpecFields = [\n      ...baseFooterButtonFields,\n      requiredStringEnum('type', ['togglebutton']),\n      requiredString('tooltip'),\n      optionalIcon,\n      optionalText,\n      defaultedBoolean('active', false)\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields,\n      togglebutton: toggleButtonSpecFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields.concat([defaultedString('storageKey', 'default')]);\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('border', false),\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('streamContent', false),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField,\n      defaultedStringEnum('align', 'start', [\n        'start',\n        'center',\n        'end'\n      ])\n    ];\n\n    const listBoxSingleItemFields = [\n      text,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const baseTreeItemFields = [\n      requiredStringEnum('type', [\n        'directory',\n        'leaf'\n      ]),\n      title,\n      requiredString('id'),\n      optionOf('menu', MenuButtonSchema)\n    ];\n    const treeItemLeafFields = baseTreeItemFields;\n    const treeItemLeafSchema = objOf(treeItemLeafFields);\n    const treeItemDirectoryFields = baseTreeItemFields.concat([requiredArrayOf('children', thunkOf('children', () => {\n        return choose$2('type', {\n          directory: treeItemDirectorySchema,\n          leaf: treeItemLeafSchema\n        });\n      }))]);\n    const treeItemDirectorySchema = objOf(treeItemDirectoryFields);\n    const treeItemSchema = choose$2('type', {\n      directory: treeItemDirectorySchema,\n      leaf: treeItemLeafSchema\n    });\n    const treeFields = [\n      type,\n      requiredArrayOf('items', treeItemSchema),\n      optionFunction('onLeafAction'),\n      optionFunction('onToggleExpand'),\n      defaultedArrayOf('defaultExpandedIds', [], string),\n      optionString('defaultSelectedId')\n    ];\n    const treeSchema = objOf(treeFields);\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled,\n      optionString('picker_text')\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      tree: treeSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      defaultedArrayOf('buttons', [], dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      var _a;\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = (_a = structure.initialData) !== null && _a !== void 0 ? _a : {};\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const events = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Reflecting = create$4({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          }),\n          config('dialog-body-panel', [run$1(focusin(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: Optional.some(se.event.target) });\n            })])\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$a(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$e(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$d(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$c(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$d(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$e(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$e(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$d(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const smartMode = allTabs => {\n      const maxTabHeight = value$2();\n      const extraEvents = [\n        runOnAttached(comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            set$8(tabview, 'visibility', 'hidden');\n            comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n              const heights = measureHeights(allTabs, tabview, tabviewComp);\n              const maxTabHeightOpt = getMaxHeight(heights);\n              maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n            });\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n            remove$6(tabview, 'visibility');\n            showTab(allTabs, comp);\n            requestAnimationFrame(() => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          });\n        }),\n        run$1(windowResize(), comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n          });\n        }),\n        run$1(formResizeEvent, (comp, _se) => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            const oldFocus = active$1(getRootNode(tabview));\n            set$8(tabview, 'visibility', 'hidden');\n            const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n            remove$6(tabview, 'height');\n            remove$6(tabview, 'flex-basis');\n            const newHeight = tabview.dom.getBoundingClientRect().height;\n            const hasGrown = oldHeight.forall(h => newHeight > h);\n            if (hasGrown) {\n              maxTabHeight.set(newHeight);\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            } else {\n              oldHeight.each(h => {\n                setTabviewHeight(tabview, h);\n              });\n            }\n            remove$6(tabview, 'visibility');\n            oldFocus.each(focus$3);\n          });\n        })\n      ];\n      const selectFirst = false;\n      return {\n        extraEvents,\n        selectFirst\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$2(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = smartMode(allTabs);\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft(Optional.none(), {\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    const isTouch = global$5.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ sanitizeHtmlString(providersBackstage.translate(message)) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        firstTabstop: spec.firstTabstop,\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([\n            runOnSource(focusin(), (comp, _se) => {\n              Blocking.isBlocked(comp) ? noop() : Keying.focusIn(comp);\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: se.event.newFocus });\n            })\n          ])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      buttonBehaviours: derive$1([Tabstopping.config({})]),\n      components: [render$3('close', {\n          tag: 'span',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$2(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers, headerHeight) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: `${ headerHeight.getOr(0) }px`,\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        const headerHeight = descendant(lazyDialog().element, '.tox-dialog__header').map(header => get$d(header));\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers, headerHeight));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const fullscreenClass = 'tox-dialog--fullscreen';\n    const largeDialogClass = 'tox-dialog--width-lg';\n    const mediumDialogClass = 'tox-dialog--width-md';\n    const getDialogSizeClass = size => {\n      switch (size) {\n      case 'large':\n        return Optional.some(largeDialogClass);\n      case 'medium':\n        return Optional.some(mediumDialogClass);\n      default:\n        return Optional.none();\n      }\n    };\n    const updateDialogSizeClass = (size, component) => {\n      const dialogBody = SugarElement.fromDom(component.element.dom);\n      if (!has(dialogBody, fullscreenClass)) {\n        remove$1(dialogBody, [\n          largeDialogClass,\n          mediumDialogClass\n        ]);\n        getDialogSizeClass(size).each(dialogSizeClass => add$2(dialogBody, dialogSizeClass));\n      }\n    };\n    const toggleFullscreen = (comp, currentSize) => {\n      const dialogBody = SugarElement.fromDom(comp.element.dom);\n      const classes = get$7(dialogBody);\n      const currentSizeClass = find$5(classes, c => c === largeDialogClass || c === mediumDialogClass).or(getDialogSizeClass(currentSize));\n      toggle$3(dialogBody, [\n        fullscreenClass,\n        ...currentSizeClass.toArray()\n      ]);\n    };\n    const renderModalDialog = (spec, dialogEvents, backstage) => build$1(renderDialog$1({\n      ...spec,\n      firstTabstop: 1,\n      lazySink: backstage.shared.getSink,\n      extraBehaviours: [\n        memory({}),\n        ...spec.extraBehaviours\n      ],\n      onEscape: comp => {\n        emit(comp, formCancelEvent);\n      },\n      dialogEvents,\n      eventOrder: {\n        [receive()]: [\n          Reflecting.name(),\n          Receiving.name()\n        ],\n        [attachedToDom()]: [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ],\n        [detachedFromDom()]: [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ]\n      }\n    }));\n    const mapMenuButtons = (buttons, menuItemStates = {}) => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = get$g(menuItemStates, item.name).getOr(Cell(false));\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        return button.type === 'menu' ? mapItems(button) : button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec, _event, self) => {\n        active$1(getRootNode(self.element)).fold(noop, blur$1);\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => component.getSystem().isConnected() ? Keying.focusIn(component) : undefined;\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = footer.bind(f => Reflecting.getState(f).get());\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          const storedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons, menuItemStates);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], {\n            ...dialogInit.internalDialog,\n            buttons: storedMenuButtons\n          });\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close,\n        toggleFullscreen: access.toggleFullscreen\n      };\n      return instanceApi;\n    };\n\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const dialogSize = Cell(internalDialog.size);\n      const dialogSizeClasses = getDialogSizeClass(dialogSize.get()).toArray();\n      const updateState = (comp, incoming) => {\n        dialogSize.set(incoming.internalDialog.size);\n        updateDialogSizeClass(incoming.internalDialog.size, comp);\n        return Optional.some(incoming);\n      };\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storedMenuButtons);\n      const footer = someIf(storedMenuButtons.length !== 0, renderModalFooter({ buttons: storedMenuButtons }, dialogId, backstage));\n      const dialogEvents = initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: dialogSizeClasses,\n        extraBehaviours: [Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          })],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        const toggleFullscreen$1 = () => {\n          toggleFullscreen(dialog, dialogSize.get());\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm,\n          toggleFullscreen: toggleFullscreen$1\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs = false, refreshDocking) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const dialogSize = Cell(internalDialog.size);\n      const dialogSizeClass = getDialogSizeClass(dialogSize.get()).toArray();\n      const updateState = (comp, incoming) => {\n        dialogSize.set(incoming.internalDialog.size);\n        updateDialogSizeClass(incoming.internalDialog.size, comp);\n        refreshDocking();\n        return Optional.some(incoming);\n      };\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const optMemFooter = someIf(storagedMenuButtons.length !== 0, record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage)));\n      const dialogEvents = initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => {\n            const headerHeight = memHeader.getOpt(dialog).map(dialog => get$d(dialog.element));\n            return getBusySpec(event.message, bs, backstage.shared.providers, headerHeight);\n          });\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const inlineClass = 'tox-dialog-inline';\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            inlineClass,\n            ...dialogSizeClass\n          ],\n          attributes: {\n            role: 'dialog',\n            ['aria-labelledby']: dialogLabelId\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$f(elem, 'disabled') !== 'disabled'),\n            firstTabstop: 1\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([\n            runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: se.event.newFocus });\n            })\n          ])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          ...optMemFooter.map(memFooter => memFooter.asSpec()).toArray()\n        ]\n      });\n      const toggleFullscreen$1 = () => {\n        toggleFullscreen(dialog, dialogSize.get());\n      };\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => optMemFooter.map(memFooter => memFooter.get(dialog)),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        },\n        toggleFullscreen: toggleFullscreen$1\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const extraBehaviours = [\n        Reflecting.config({\n          channel: `${ dialogChannel }-${ dialogId }`,\n          updateState,\n          initialData: internalDialog\n        }),\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  if (isNonNullable(iframeWin)) {\n                    iframeWin.postMessage(data, iframeDomain);\n                  }\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top'],\n            lazyViewport: comp => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n              return optScrollingContext.map(sc => {\n                const combinedBounds = getBoundsFrom(sc);\n                return {\n                  bounds: combinedBounds,\n                  optScrollEnv: Optional.some({\n                    currentScrollTop: sc.element.dom.scrollTop,\n                    scrollElmTop: absolute$3(sc.element).top\n                  })\n                };\n              }).getOrThunk(() => ({\n                bounds: win(),\n                optScrollEnv: Optional.none()\n              }));\n            }\n          })];\n      }\n    };\n    const setup = extras => {\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras.backstages.dialog);\n      const confirmDialog = setup$1(extras.backstages.dialog);\n      const open = (config, params, closeWindow) => {\n        if (!isUndefined(params)) {\n          if (params.inline === 'toolbar') {\n            return openInlineDialog(config, extras.backstages.popup.shared.anchors.inlineDialog(), closeWindow, params);\n          } else if (params.inline === 'bottom') {\n            return openBottomInlineDialog(config, extras.backstages.popup.shared.anchors.inlineBottomDialog(), closeWindow, params);\n          } else if (params.inline === 'cursor') {\n            return openInlineDialog(config, extras.backstages.popup.shared.anchors.cursor(), closeWindow, params);\n          }\n        }\n        return openModalDialog(config, closeWindow);\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, windowParams) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n              Docking.refresh(dialog);\n            }\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, windowParams.ariaAttrs, refreshDocking);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: windowParams.persistent ? { event: 'doNotDismissYet' } : {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            const elem = editor.inline ? body() : SugarElement.fromDom(editor.getContainer());\n            const bounds = box$1(elem);\n            return Optional.some(bounds);\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const openBottomInlineDialog = (config$1, anchor, closeWindow, windowParams) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor ScrollWindow ElementScroll', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, windowParams.ariaAttrs, refreshDocking);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: windowParams.persistent ? { event: 'doNotDismissYet' } : {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              Docking.config({\n                contextual: {\n                  lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n                  fadeInClass: 'tox-dialog-dock-fadein',\n                  fadeOutClass: 'tox-dialog-dock-fadeout',\n                  transitionClass: 'tox-dialog-dock-transition'\n                },\n                modes: [\n                  'top',\n                  'bottom'\n                ],\n                lazyViewport: comp => {\n                  const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                  return optScrollingContext.map(sc => {\n                    const combinedBounds = getBoundsFrom(sc);\n                    return {\n                      bounds: combinedBounds,\n                      optScrollEnv: Optional.some({\n                        currentScrollTop: sc.element.dom.scrollTop,\n                        scrollElmTop: absolute$3(sc.element).top\n                      })\n                    };\n                  }).getOrThunk(() => ({\n                    bounds: win(),\n                    optScrollEnv: Optional.none()\n                  }));\n                }\n              })\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            return extras.backstages.popup.shared.getSink().toOptional().bind(s => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, s.element);\n              const margin = 15;\n              const bounds$1 = optScrollingContext.map(sc => getBoundsFrom(sc)).getOr(win());\n              const contentAreaContainer = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n              const constrainedBounds = constrain(contentAreaContainer, bounds$1);\n              return Optional.some(bounds(constrainedBounds.x, constrainedBounds.y, constrainedBounds.width, constrainedBounds.height - margin));\n            });\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          Docking.refresh(inlineDialogComp);\n          editor.on('ResizeEditor ScrollWindow ElementScroll ResizeWindow', refreshDocking);\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, callback);\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, callback);\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        let popupSinkBounds = () => win();\n        const {\n          dialogs,\n          popups,\n          renderUI: renderModeUI\n        } = setup$3(editor, { getPopupSinkBounds: () => popupSinkBounds() });\n        const renderUI = () => {\n          const renderResult = renderModeUI();\n          const optScrollingContext = detectWhenSplitUiMode(editor, popups.getMothership().element);\n          optScrollingContext.each(sc => {\n            popupSinkBounds = () => {\n              return getBoundsFrom(sc);\n            };\n          });\n          return renderResult;\n        };\n        Autocompleter.register(editor, popups.backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstages: {\n            popup: popups.backstage,\n            dialog: dialogs.backstage\n          }\n        });\n        const getNotificationManagerImpl = () => NotificationManagerImpl(editor, { backstage: popups.backstage }, popups.getMothership());\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl\n        };\n      });\n    };\n\n    Theme();\n\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}