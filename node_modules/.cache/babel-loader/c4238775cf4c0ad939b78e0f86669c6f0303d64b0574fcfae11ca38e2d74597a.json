{"ast":null,"code":"import axios from 'axios';\nimport Swal from 'sweetalert2';\nimport TomSelect from 'tom-select';\nimport 'tom-select/dist/css/tom-select.css';\nimport { useStore } from '@/store';\n/* global tinymce */\nexport default {\n  name: 'AppAskQuesion',\n  props: ['id', 'titlePoste', 'tages_id', 'category_id', 'content'],\n  data() {\n    return {\n      title: this.titlePoste,\n      category: this.category_id,\n      selected: this.tages_id,\n      selectedItems: this.tages_id,\n      file: null,\n      tags: [],\n      categoryList: []\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      tinymce.init({\n        selector: '#mytextarea',\n        setup: editor => {\n          editor.on('init', () => {\n            editor.setContent(this.content);\n          });\n        }\n      });\n    });\n    axios.get('http://localhost:8000/api/getAllTagesCategory').then(response => {\n      this.tags = response.data.Tages;\n      this.categoryList = response.data.Categorys;\n      this.initTomSelect();\n    });\n  },\n  methods: {\n    initTomSelect() {\n      new TomSelect(\"#tags\", {\n        options: this.tags.map(tag => ({\n          value: tag.id,\n          text: tag.text\n        })),\n        items: this.selectedItems\n      });\n    },\n    onFileChange(e) {\n      this.file = e.target.files[0];\n    },\n    submitForm() {\n      let store = useStore();\n      let formData = new FormData();\n      formData.append('title', this.title);\n      formData.append('category', this.category);\n      formData.append('tages', this.selectedItems);\n      formData.append('description', tinymce.get('mytextarea').getContent());\n      formData.append('image', this.file);\n      formData.append('id', this.id);\n      let response = axios.post('http://localhost:8000/api/UpdateQuestions', formData, {\n        headers: {\n          'Authorization': `Bearer ${store.token}`\n        }\n      }).then(response => {\n        Swal.fire('Success', 'Post updated successfully', 'success');\n        console.log(response);\n      }).catch(error => {\n        Swal.fire('Error', 'There was an error update your question. Please try again.', 'error');\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","TomSelect","useStore","name","props","data","title","titlePoste","category","category_id","selected","tages_id","selectedItems","file","tags","categoryList","mounted","$nextTick","tinymce","init","selector","setup","editor","on","setContent","content","get","then","response","Tages","Categorys","initTomSelect","methods","options","map","tag","value","id","text","items","onFileChange","e","target","files","submitForm","store","formData","FormData","append","getContent","post","headers","token","fire","console","log","catch","error"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\User\\componrntsProfile\\AppUpdateMyQuestion.vue"],"sourcesContent":["<template>\r\n    <div class=\"sectionHome pe-4\">\r\n        <section class=\"QuestionSection shadow pt-4  py-4 \">\r\n            <div class=\"border-bottom  container-mf pt-4 pb-4\">\r\n                <span class=\"fw-bold text-secondary\">Home /  Questions / <span class=\"text-secondary-500\"> Ask A Question</span></span>  \r\n            </div> \r\n           <section class=\"border-bottom pt-3 pb-3 mb-4\">\r\n                <div class=\"container-mf\">\r\n                    <form class=\"mt-4\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col\">\r\n                                <label class=\"fw-bold h5 text-secondary\">Question Title <span class=\"text-danger\">*</span></label>\r\n                                <div class=\"row mobilAskStyle\">\r\n                                    <div class=\"img col-1\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"mt-2 bi bi-patch-question\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M8.05 9.6c.336 0 .504-.24.554-.627.04-.534.198-.815.847-1.26.673-.475 1.049-1.09 1.049-1.986 0-1.325-.92-2.227-2.262-2.227-1.02 0-1.792.492-2.1 1.29A1.7 1.7 0 0 0 6 5.48c0 .393.203.64.545.64.272 0 .455-.147.564-.51.158-.592.525-.915 1.074-.915.61 0 1.03.446 1.03 1.084 0 .563-.208.885-.822 1.325-.619.433-.926.914-.926 1.64v.111c0 .428.208.745.585.745\"/>\r\n                                            <path d=\"m10.273 2.513-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911z\"/>\r\n                                            <path d=\"M7.001 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0\"/>\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div class=\"input col pt-1\">\r\n                                        <input v-model=\"title\" type=\"text\" class=\"form-control mb-2\" placeholder=\"Type Question Title ...\">\r\n                                        <span class=\"text-secondary\">Please choose an appropriate title for the question so it can be answered easily.</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row pt-4\">\r\n                            <div class=\"col pt-2\">\r\n                                <label class=\"fw-bold h5 text-secondary\">Category <span class=\"text-danger\">*</span></label>\r\n                                <div class=\"row mobilAskStyle\">\r\n                                    <div class=\"img col-1\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" fill=\"currentColor\" class=\"mt-2 bi bi-bookmark\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z\"/>\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div class=\"input col pt-1\">\r\n                                        <select name=\"category\" class=\"form-select mb-2\" v-model=\"category\" id=\"\">\r\n                                            <option value=\"\" selected disabled>Choose Category</option>\r\n                                            <option v-for=\"categorys in categoryList\" :key=\"categorys.id\" :value=\"categorys.id\" >{{ categorys.name }}</option>\r\n                                        </select>\r\n                                        <span class=\"text-secondary\">Please choose the appropriate section so the question can be searched easily.</span>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row pt-4\">\r\n                            <div class=\"col pt-2\">\r\n                                <label class=\"fw-bold h5 text-secondary\">Tags  <span class=\"text-danger\">*</span></label>\r\n                                <div class=\"row mobilAskStyle\">\r\n                                    <div class=\"img col-1\">\r\n\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" fill=\"currentColor\" class=\"mt-2 bi bi-tags\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z\"/>\r\n                                        <path d=\"M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z\"/>\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div class=\"input col pt-1\">\r\n                                        <select id=\"tags\" class=\"\" multiple v-model=\"selectedItems\">\r\n                                            <option v-for=\"tag in tags\" :key=\"tag.id\" :value=\"tag.id\">{{ tag.text }}</option>\r\n                                        </select>\r\n                                        <span class=\"text-secondary\">Please choose suitable Keywords.</span>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row pt-4\">\r\n                            <div class=\"col pt-2\">\r\n                                <label class=\"fw-bold h5 text-secondary\">Details  <span class=\"text-danger\">*</span></label>\r\n                                <div class=\"row mobilAskStyle\">\r\n                                    <div class=\"img col-1\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" fill=\"currentColor\" class=\"mt-2 bi bi-ticket-detailed\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M5 7a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2z\"/>\r\n                                            <path d=\"M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5V6a.5.5 0 0 1-.5.5 1.5 1.5 0 0 0 0 3 .5.5 0 0 1 .5.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5V10a.5.5 0 0 1 .5-.5 1.5 1.5 0 1 0 0-3A.5.5 0 0 1 0 6zM1.5 4a.5.5 0 0 0-.5.5v1.05a2.5 2.5 0 0 1 0 4.9v1.05a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-1.05a2.5 2.5 0 0 1 0-4.9V4.5a.5.5 0 0 0-.5-.5z\"/>\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div class=\"input col pt-1\">\r\n                                        <textarea name=\"description\" id=\"mytextarea\" class=\"mb-2\" placeholder=\"Type the description thoroughly and in details.\"></textarea>\r\n                                        <span class=\"text-secondary\">Type the description thoroughly and in details.    </span>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row pt-4 border-bottom pb-3\">\r\n                            <div class=\"col pt-2\">\r\n                                <label class=\"fw-bold h5 text-secondary\">File <span class=\"text-warning h6\">(optionel)</span></label>\r\n                                <div class=\"row mobilAskStyle\">\r\n                                    <div class=\"img col-1\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" fill=\"currentColor\" class=\"mt-2 bi bi-cloud-arrow-up\" viewBox=\"0 0 16 16\">\r\n                                            <path fill-rule=\"evenodd\" d=\"M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708z\"/>\r\n                                            <path d=\"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\"/>\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div class=\"input col pt-1\">\r\n                                        <input type=\"file\" @change=\"onFileChange\" class=\"form-control mb-2\" accept=\"png,jpg,jpeg,jpf\" name=\"\" id=\"\">\r\n                                        <span class=\"text-secondary\">Please upload your file accepted file: png, jpf, jpeg.    </span>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-end gap-3 align-items-center\">\r\n                            <button type=\"reset\" class=\"btn btn-secondary mt-3\">Reste</button>\r\n                            <button type=\"button\" @click=\"submitForm\" class=\"btn btn-primary mt-3\">Update Question</button>\r\n                        </div>\r\n                    \r\n                    </form>\r\n                </div>\r\n           </section>\r\n            <footer>\r\n                <p class=\"fw-bold text-secondary text-center p-2\">© Copyright AskMe. All Rights Reserved <br>\r\n                Designed by Rabie Ait Imghi</p>\r\n            </footer>\r\n        </section>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport TomSelect from 'tom-select';\r\nimport 'tom-select/dist/css/tom-select.css';\r\nimport { useStore } from '@/store';\r\n /* global tinymce */\r\n    export default{\r\n        name: 'AppAskQuesion',\r\n        props:['id','titlePoste', 'tages_id', 'category_id', 'content'],\r\n        data(){\r\n            return{\r\n                title: this.titlePoste,\r\n                category: this.category_id,\r\n                selected: this.tages_id,\r\n                selectedItems: this.tages_id,\r\n                file: null,\r\n                tags: [],\r\n                categoryList: [],\r\n                \r\n            }\r\n            \r\n        },\r\n        mounted(){\r\n           \r\n            this.$nextTick(() => {\r\n                tinymce.init({\r\n                    selector: '#mytextarea',\r\n                    setup: (editor) => {\r\n                        editor.on('init', () => {\r\n                            editor.setContent(this.content);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n            axios.get('http://localhost:8000/api/getAllTagesCategory')\r\n            .then(response => {\r\n                this.tags = response.data.Tages;\r\n                this.categoryList = response.data.Categorys;\r\n                this.initTomSelect();\r\n            });\r\n        },\r\n        methods:{\r\n            initTomSelect() {\r\n                new TomSelect(\"#tags\", {\r\n                options: this.tags.map(tag => ({ value: tag.id, text: tag.text })),\r\n                items: this.selectedItems\r\n                });\r\n            },\r\n            onFileChange(e) {\r\n                this.file = e.target.files[0];\r\n            },\r\n            submitForm(){\r\n                let store = useStore();\r\n                let formData = new FormData();\r\n                formData.append('title', this.title);\r\n                formData.append('category', this.category);\r\n                formData.append('tages', this.selectedItems);\r\n                formData.append('description', tinymce.get('mytextarea').getContent());\r\n                formData.append('image', this.file);\r\n                formData.append('id', this.id);\r\n                let response = axios.post('http://localhost:8000/api/UpdateQuestions', formData,{\r\n                    headers: {'Authorization': `Bearer ${store.token}` }\r\n                })\r\n                .then(response => {\r\n                    Swal.fire(\r\n                        'Success',\r\n                        'Post updated successfully',\r\n                        'success'\r\n                    )\r\n                    console.log(response)\r\n                }).catch(error => {\r\n                    Swal.fire(\r\n                        'Error',\r\n                        'There was an error update your question. Please try again.',\r\n                        'error'\r\n                    );\r\n                    console.log(error)\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}