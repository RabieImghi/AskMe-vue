{"ast":null,"code":"import axios from 'axios';\nimport { useStore } from '../../store';\nexport default {\n  name: \"AppAdminPermissions\",\n  data() {\n    return {\n      permissions: []\n    };\n  },\n  mounted() {\n    this.getPermissions();\n  },\n  methods: {\n    async getPermissions() {\n      const store = new useStore();\n      let response = await axios.get('http://127.0.0.1:8000/api/getRolePemissionsUsers', {\n        headers: {\n          'Authorization': `Bearer ${store.token}`\n        }\n      });\n      if (response.data.status === 200) {\n        this.permissions = response.data.permissions;\n      }\n    },\n    async changeStatus(id, isActive) {\n      const store = new useStore();\n      var is_active = 1;\n      if (isActive === 1) is_active = 0;\n      let formData = new FormData();\n      formData.append('id', id);\n      formData.append('is_active', is_active);\n      let response = await axios.post('http://127.0.0.1:8000/api/ChangeStatusPermissions', formData, {\n        headers: {\n          'Authorization': `Bearer ${store.token}`\n        }\n      });\n      if (response.data.status === 200) {\n        this.getPermissions();\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","useStore","name","data","permissions","mounted","getPermissions","methods","store","response","get","headers","token","status","changeStatus","id","isActive","is_active","formData","FormData","append","post"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\Admin\\AppAdminPermissionsUsers.vue"],"sourcesContent":["<template>\r\n    <div class=\"test\">\r\n        <div class=\"headerDashboard container-mf pb-1\">\r\n            <span class=\"fw-bold h5 text-dark\">Admin / <span class=\"text-secondary\">Permissions</span> </span>\r\n        </div>\r\n        <hr>\r\n        <div class=\"container-mf\">\r\n            <table class=\"\">\r\n                <thead class=\"\">\r\n                    <tr>\r\n                    <th class=\"px-3\">Role</th>\r\n                    <th class=\"px-3\">Permissions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(routes, user) in permissions\" :key=\"user\">\r\n                        <td class=\"px-3\">\r\n                            <p class=\"fw-bold mb-1 text-start\" :class=\"role\">{{ user }}</p>\r\n                        </td>\r\n                        <td class=\"d-flex flex-wrap gap-4 px-3\" >\r\n                            <span class=\"cursor-point fw-normal mb-1 prmissions\" v-for=\"(route, index) in routes\" :key=\"index\"\r\n                            :class=\"route.isActive === 1 ? 'active' : 'inactive'\"\r\n                            @click=\"changeStatus(route.id, route.isActive)\"\r\n                            >{{ route.route }}</span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>   \r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n<style>\r\n    table {\r\n        border-collapse: separate;\r\n        border-spacing: 0 20px;\r\n    }\r\n\r\n    table tr {\r\n        box-shadow: 2px 3px 10px rgba(211, 211, 211, 0.635);\r\n        border-radius: 3px;\r\n        padding: 20px;\r\n    }\r\n    table tr:hover {\r\n        transform: translateY(-2px);\r\n        background-color: #f5f5f580;\r\n    }\r\n    table td, table th {\r\n        padding: 10px 0;\r\n    }\r\n    .prmissions{\r\n        background-color: #f0f0f0;\r\n        padding: 5px 10px;\r\n        border-radius: 5px;\r\n    }\r\n    .prmissions:hover{\r\n        background-color: #e0e0e0;\r\n        transform: translateY(-2px);\r\n        transition: all 0.7s ease;\r\n    }\r\n    .active{\r\n        background-color: #4caf50;\r\n        color: white;\r\n    }\r\n    .inactive{\r\n        background-color: #f44336;\r\n        color: white;\r\n    }\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport {useStore} from '../../store'\r\nexport default {\r\n    name: \"AppAdminPermissions\",\r\n    data() {\r\n        return {\r\n            permissions: [],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getPermissions();\r\n    },  \r\n    methods: {\r\n        async getPermissions() {\r\n            const store = new useStore();\r\n            let response = await axios.get('http://127.0.0.1:8000/api/getRolePemissionsUsers',{\r\n                headers: { 'Authorization': `Bearer ${store.token}` }\r\n            });\r\n            if(response.data.status === 200){\r\n                this.permissions = response.data.permissions;\r\n            }\r\n        },\r\n        async changeStatus(id, isActive) {\r\n            const store = new useStore();\r\n            var is_active = 1;\r\n            if(isActive === 1) is_active = 0;\r\n            let formData = new FormData();\r\n            formData.append('id', id);\r\n            formData.append('is_active', is_active);\r\n            let response = await axios.post('http://127.0.0.1:8000/api/ChangeStatusPermissions',formData,{\r\n                headers: { 'Authorization': `Bearer ${store.token}` },\r\n            });\r\n            if(response.data.status === 200){\r\n                this.getPermissions();\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>"],"mappings":"AAsEA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAAQC,QAAQ,QAAO,aAAY;AACnC,eAAe;EACXC,IAAI,EAAE,qBAAqB;EAC3BC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE;IACjB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,cAAc,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,cAAcA,CAAA,EAAG;MACnB,MAAME,KAAI,GAAI,IAAIP,QAAQ,CAAC,CAAC;MAC5B,IAAIQ,QAAO,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,kDAAkD,EAAC;QAC9EC,OAAO,EAAE;UAAE,eAAe,EAAG,UAASH,KAAK,CAACI,KAAM;QAAE;MACxD,CAAC,CAAC;MACF,IAAGH,QAAQ,CAACN,IAAI,CAACU,MAAK,KAAM,GAAG,EAAC;QAC5B,IAAI,CAACT,WAAU,GAAIK,QAAQ,CAACN,IAAI,CAACC,WAAW;MAChD;IACJ,CAAC;IACD,MAAMU,YAAYA,CAACC,EAAE,EAAEC,QAAQ,EAAE;MAC7B,MAAMR,KAAI,GAAI,IAAIP,QAAQ,CAAC,CAAC;MAC5B,IAAIgB,SAAQ,GAAI,CAAC;MACjB,IAAGD,QAAO,KAAM,CAAC,EAAEC,SAAQ,GAAI,CAAC;MAChC,IAAIC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC7BD,QAAQ,CAACE,MAAM,CAAC,IAAI,EAAEL,EAAE,CAAC;MACzBG,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEH,SAAS,CAAC;MACvC,IAAIR,QAAO,GAAI,MAAMT,KAAK,CAACqB,IAAI,CAAC,mDAAmD,EAACH,QAAQ,EAAC;QACzFP,OAAO,EAAE;UAAE,eAAe,EAAG,UAASH,KAAK,CAACI,KAAM;QAAE;MACxD,CAAC,CAAC;MACF,IAAGH,QAAQ,CAACN,IAAI,CAACU,MAAK,KAAM,GAAG,EAAC;QAC5B,IAAI,CAACP,cAAc,CAAC,CAAC;MACzB;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}