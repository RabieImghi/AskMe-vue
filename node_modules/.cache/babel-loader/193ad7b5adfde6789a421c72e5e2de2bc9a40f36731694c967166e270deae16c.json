{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"sectionUser\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"headerDashboard container-mf pb-1\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"fw-bold h5 text-dark\"\n}, [/*#__PURE__*/_createTextVNode(\"Admin / \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-secondary\"\n}, \"Permissions\")])], -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"container-mf\"\n};\nconst _hoisted_5 = {\n  class: \"table\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"px-3\"\n}, \"Role\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"px-3\"\n}, \"Permissions\")])], -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"px-3\"\n};\nconst _hoisted_8 = {\n  class: \"fw-bold mb-1 text-start\"\n};\nconst _hoisted_9 = {\n  class: \"d-flex flex-wrap gap-4 px-3\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  key: 0,\n  style: {\n    \"height\": \"68vh\"\n  },\n  class: \"d-flex align-items-center justify-content-center\"\n};\nconst _hoisted_12 = {\n  class: \"navigation d-flex justify-content-end gap-2 align-items-center pt-3 pb-3\"\n};\nconst _hoisted_13 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_Loader = _resolveComponent(\"Loader\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", _hoisted_5, [_hoisted_6, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.permissions, (routes, user) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user\n    }, [_createElementVNode(\"td\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString(user), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(routes, (route, index) => {\n      return _openBlock(), _createElementBlock(\"span\", {\n        class: _normalizeClass([\"cursor-point fw-normal mb-1 prmissions\", route.isActive === 1 ? 'active' : 'inactive']),\n        key: index,\n        onClick: $event => _ctx.changeStatus(route.id, route.isActive)\n      }, _toDisplayString(route.route), 11 /* TEXT, CLASS, PROPS */, _hoisted_10);\n    }), 128 /* KEYED_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _ctx.isLoading ? (_openBlock(), _createElementBlock(\"section\", _hoisted_11, [_createVNode(_component_Loader)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.previewsPage()),\n    class: \"btn btn-dark fw-bold\"\n  }, \"<\"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.nbPage, nb => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: nb.id,\n      class: _normalizeClass([{\n        activeClass: _ctx.page === nb\n      }, \"btn btn-light border\"]),\n      onClick: $event => _ctx.getPage(nb)\n    }, _toDisplayString(nb), 11 /* TEXT, CLASS, PROPS */, _hoisted_13);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.nextPage()),\n    class: \"btn btn-dark fw-bold\"\n  }, \">\")])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createTextVNode","key","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","_ctx","permissions","routes","user","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","route","index","_normalizeClass","isActive","onClick","$event","changeStatus","id","_hoisted_10","isLoading","_hoisted_11","_createVNode","_component_Loader","_createCommentVNode","_hoisted_12","_cache","previewsPage","nbPage","nb","activeClass","page","getPage","_hoisted_13","nextPage"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\Admin\\AppAdminPermissionsUsers.vue"],"sourcesContent":["<template>\r\n    <div class=\"sectionUser \">\r\n        <div class=\"headerDashboard container-mf pb-1\">\r\n            <span class=\"fw-bold h5 text-dark\">Admin / <span class=\"text-secondary\">Permissions</span> </span>\r\n        </div>\r\n        <hr>\r\n        <div class=\"container-mf\">\r\n            <table class=\"table\">\r\n                <thead class=\"\">\r\n                    <tr>\r\n                        <th class=\"px-3\">Role</th>\r\n                        <th class=\"px-3\">Permissions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(routes, user) in permissions\" :key=\"user\">\r\n                        <td class=\"px-3\">\r\n                            <p class=\"fw-bold mb-1 text-start\" >{{ user }}</p>\r\n                        </td>\r\n                        <td class=\"d-flex flex-wrap gap-4 px-3\" >\r\n                            <span class=\"cursor-point fw-normal mb-1 prmissions\" v-for=\"(route, index) in routes\" :key=\"index\"\r\n                            :class=\"route.isActive === 1 ? 'active' : 'inactive'\"\r\n                            @click=\"changeStatus(route.id, route.isActive)\"\r\n                            >{{ route.route }}</span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>   \r\n            <section v-if=\"isLoading\" style=\"height: 68vh;\" class=\"d-flex align-items-center justify-content-center\"> \r\n                <Loader/>\r\n            </section>  \r\n            <div class=\"navigation d-flex justify-content-end gap-2 align-items-center pt-3 pb-3\">\r\n                <button @click=\"previewsPage()\" class=\"btn btn-dark fw-bold\">&lt;</button>\r\n                <button v-for=\"nb in nbPage\" :key=\"nb.id\" :class=\"{ activeClass: page === nb } \" class=\"btn btn-light border\" @click=\"getPage(nb)\">{{nb}}</button>\r\n                <button @click=\"nextPage()\" class=\"btn btn-dark fw-bold\">></button>\r\n            </div> \r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n<style>\r\n    table {\r\n        border-collapse: separate;\r\n        border-spacing: 0 20px;\r\n    }\r\n\r\n    table tr {\r\n        box-shadow: 2px 3px 10px rgba(211, 211, 211, 0.635);\r\n        border-radius: 3px;\r\n        padding: 20px;\r\n    }\r\n    table tr:hover {\r\n        transform: translateY(-2px);\r\n        background-color: #f5f5f580;\r\n    }\r\n    table td, table th {\r\n        padding: 10px 0;\r\n    }\r\n    .prmissions{\r\n        background-color: #f0f0f0;\r\n        padding: 5px 10px;\r\n        border-radius: 5px;\r\n    }\r\n    .prmissions:hover{\r\n        background-color: #e0e0e0;\r\n        transform: translateY(-2px);\r\n        transition: all 0.7s ease;\r\n    }\r\n    .active{\r\n        background-color: #4caf50;\r\n        color: white;\r\n    }\r\n    .inactive{\r\n        background-color: #f44336;\r\n        color: white;\r\n    }\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport {useStore} from '../../store';\r\nimport Loader  from '../User/AppLoader';\r\nexport default {\r\n    name: \"AppAdminPermissions\",\r\n    data() {\r\n        return {\r\n            permissions: [],\r\n            isLoading: true,\r\n            skip: 0,\r\n            count:0,\r\n            page:1,\r\n            nbPage:1,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getPermissions();\r\n    },  \r\n    components: { Loader },\r\n    methods: {\r\n        getPermissions() {\r\n            const store = new useStore();\r\n            axios.get(`${store.URL}deleteNewPermissions`getRolePemissionsUsers/${this.skip}`,{\r\n                headers: { 'Authorization': `Bearer ${store.token}` }\r\n            })\r\n            .then(response => {\r\n                this.permissions = response.data.permissions;\r\n                this.count = response.data.count;\r\n                this.nbPage = Math.ceil(this.count / 6);\r\n                this.isLoading = false;\r\n            });\r\n        },\r\n        changeStatus(id, isActive) {\r\n            const store = new useStore();\r\n            var is_active = 1;\r\n            if(isActive === 1) is_active = 0;\r\n            let formData = new FormData();\r\n            formData.append('id', id);\r\n            formData.append('is_active', is_active);\r\n            axios.post('`${store.URL}deleteNewPermissions`ChangeStatusPermissions',formData,{\r\n                headers: { 'Authorization': `Bearer ${store.token}` },\r\n            })\r\n            .then(() => {\r\n                this.getPermissions();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            })\r\n        },\r\n        nextPage(){\r\n            if(this.skip < this.count - 6){\r\n                this.skip += 6;\r\n                this.page += 1;\r\n                this.getPermissions(); \r\n                this.$nextTick(() => {\r\n                    document.querySelector('.sectionUser').scrollIntoView({ behavior: 'smooth' });\r\n                });\r\n            }\r\n        },\r\n        previewsPage(){\r\n            if(this.skip >= 6){\r\n                this.skip -= 6;\r\n                this.page -= 1;\r\n                this.getPermissions();\r\n                this.$nextTick(() => {\r\n                    document.querySelector('.sectionUser').scrollIntoView({ behavior: 'smooth' });\r\n                });\r\n            }\r\n        },\r\n        getPage(page){\r\n            this.skip = page * 6 - 6;\r\n            this.page = page;\r\n            this.getPermissions();\r\n            this.$nextTick(() => {\r\n                document.querySelector('.sectionUser').scrollIntoView({ behavior: 'smooth' });\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAc;gCACrBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAmC,I,aAC1CC,mBAAA,CAAkG;EAA5FD,KAAK,EAAC;AAAsB,I,aAH9CE,gBAAA,CAG+C,UAAQ,G,aAAAD,mBAAA,CAA+C;EAAzCD,KAAK,EAAC;AAAgB,GAAC,aAAW,E;gCAEvFC,mBAAA,CAAI;;EACCD,KAAK,EAAC;AAAc;;EACdA,KAAK,EAAC;AAAO;gCAChBC,mBAAA,CAKQ;EALDD,KAAK,EAAC;AAAE,I,aACXC,mBAAA,CAGK,a,aAFDA,mBAAA,CAA0B;EAAtBD,KAAK,EAAC;AAAM,GAAC,MAAI,G,aACrBC,mBAAA,CAAiC;EAA7BD,KAAK,EAAC;AAAM,GAAC,aAAW,E;;EAKxBA,KAAK,EAAC;AAAM;;EACTA,KAAK,EAAC;AAAyB;;EAElCA,KAAK,EAAC;AAA6B;oBAnB/D;;EAAAG,GAAA;EA4BsCC,KAAqB,EAArB;IAAA;EAAA,CAAqB;EAACJ,KAAK,EAAC;;;EAGjDA,KAAK,EAAC;AAA0E;oBA/BjG;;;uBACIK,mBAAA,CAqCM,OArCNC,UAqCM,GApCFC,UAEM,EACNC,UAAI,EACJP,mBAAA,CA8BM,OA9BNQ,UA8BM,GA7BFR,mBAAA,CAoBQ,SApBRS,UAoBQ,GAnBJC,UAKQ,EACRV,mBAAA,CAYQ,iB,kBAXJI,mBAAA,CAUKO,SAAA,QAzBzBC,WAAA,CAeiDC,IAAA,CAAAC,WAAW,EAf5D,CAegCC,MAAM,EAAEC,IAAI;yBAAxBZ,mBAAA,CAUK;MAVsCF,GAAG,EAAEc;IAAI,IAChDhB,mBAAA,CAEK,MAFLiB,UAEK,GADDjB,mBAAA,CAAkD,KAAlDkB,UAAkD,EAAAC,gBAAA,CAAXH,IAAI,iB,GAE/ChB,mBAAA,CAKK,MALLoB,UAKK,I,kBAJDhB,mBAAA,CAGyBO,SAAA,QAvBrDC,WAAA,CAoB0GG,MAAM,EApBhH,CAoByFM,KAAK,EAAEC,KAAK;2BAAzElB,mBAAA,CAGyB;QAHnBL,KAAK,EApBvCwB,eAAA,EAoBwC,wCAAwC,EAC5CF,KAAK,CAACG,QAAQ;QADiEtB,GAAG,EAAEoB,KAAK;QAEhGG,OAAK,EAAAC,MAAA,IAAEb,IAAA,CAAAc,YAAY,CAACN,KAAK,CAACO,EAAE,EAAEP,KAAK,CAACG,QAAQ;0BACzCH,KAAK,CAACA,KAAK,gCAvB3CQ,WAAA;;sCA4B2BhB,IAAA,CAAAiB,SAAS,I,cAAxB1B,mBAAA,CAEU,WAFV2B,WAEU,GADNC,YAAA,CAASC,iBAAA,E,KA7BzBC,mBAAA,gBA+BYlC,mBAAA,CAIM,OAJNmC,WAIM,GAHFnC,mBAAA,CAA0E;IAAjEyB,OAAK,EAAAW,MAAA,QAAAA,MAAA,MAAAV,MAAA,IAAEb,IAAA,CAAAwB,YAAY;IAAItC,KAAK,EAAC;KAAuB,GAAI,I,kBACjEK,mBAAA,CAAkJO,SAAA,QAjClKC,WAAA,CAiCqCC,IAAA,CAAAyB,MAAM,EAAZC,EAAE;yBAAjBnC,mBAAA,CAAkJ;MAApHF,GAAG,EAAEqC,EAAE,CAACX,EAAE;MAAG7B,KAAK,EAjChEwB,eAAA;QAAAiB,WAAA,EAiCiF3B,IAAA,CAAA4B,IAAI,KAAKF;MAAE,GAAW,sBAAsB;MAAEd,OAAK,EAAAC,MAAA,IAAEb,IAAA,CAAA6B,OAAO,CAACH,EAAE;wBAAKA,EAAE,gCAjCvJI,WAAA;kCAkCgB3C,mBAAA,CAAmE;IAA1DyB,OAAK,EAAAW,MAAA,QAAAA,MAAA,MAAAV,MAAA,IAAEb,IAAA,CAAA+B,QAAQ;IAAI7C,KAAK,EAAC;KAAuB,GAAC,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}