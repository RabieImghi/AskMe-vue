{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '../../assets/img/logo3.png';\nconst _hoisted_1 = {\n  class: \"d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"logo text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"logo\",\n  width: \"300px\"\n})], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"cardForm shadow p-5 m-3\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"blueColor text-center\"\n}, \"Login to Your Account\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-center text-secondary\"\n}, \"Enter your email & password to login\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  action: \"\",\n  class: \"d-flex flex-column justify-content-between gap-4\"\n};\nconst _hoisted_8 = {\n  class: \"text-secondary\"\n};\nconst _hoisted_9 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-append cursor-point\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"25\",\n  height: \"25\",\n  fill: \"currentColor\",\n  class: \"bi bi-envelope\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z\"\n})])])], -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"text-secondary\"\n};\nconst _hoisted_12 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_13 = {\n  class: \"input-group-append cursor-point\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"25\",\n  height: \"25\",\n  fill: \"currentColor\",\n  class: \"bi bi-eye\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"\n})], -1 /* HOISTED */);\nconst _hoisted_15 = [_hoisted_14];\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"text-secondary\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"checkbox\",\n  class: \"form-check-input\"\n}), /*#__PURE__*/_createTextVNode(\" Remember me \")], -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"text-secondary\"\n};\nconst _hoisted_18 = {\n  class: \"text-secondary\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"footer\", null, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fw-bold text-secondary text-center p-2\"\n}, [/*#__PURE__*/_createTextVNode(\"© Copyright AskMe. All Rights Reserved \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\" Designed by Rabie Ait Imghi\")])], -1 /* HOISTED */);\nexport function render(_ctx, _cache) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"main\", null, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_ctx.errorsTest ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(_ctx.errorsRequire), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_5, _hoisted_6, _createElementVNode(\"form\", _hoisted_7, [_createElementVNode(\"label\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.email = $event),\n    type: \"email\",\n    class: _normalizeClass([{\n      'is-invalid': _ctx.emailErroe\n    }, \"form-control\"]),\n    name: \"email\",\n    placeholder: \"Email ..\"\n  }, null, 2 /* CLASS */), [[_vModelText, _ctx.email]]), _hoisted_10])]), _createElementVNode(\"label\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.password = $event),\n    type: \"password\",\n    class: _normalizeClass([{\n      'is-invalid': _ctx.passwordErroe\n    }, \"form-control\"]),\n    id: \"password\",\n    placeholder: \"Password\"\n  }, null, 2 /* CLASS */), [[_vModelText, _ctx.password]]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"span\", {\n    class: \"input-group-text\",\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.togleInputPassword())\n  }, [..._hoisted_15])])])]), _hoisted_16, _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => _ctx.login()),\n    type: \"button\",\n    class: \"btn btn-primary\"\n  }, \"Login\"), _createElementVNode(\"p\", _hoisted_17, [_createTextVNode(\"Don't have account? \"), _createVNode(_component_router_link, {\n    to: \"/user/auth/register\",\n    class: \"blueColor no-underline\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Create an account\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"p\", _hoisted_18, [_createTextVNode(\"Back to home page? \"), _createVNode(_component_router_link, {\n    to: \"/user/\",\n    class: \"blueColor no-underline\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Home\")]),\n    _: 1 /* STABLE */\n  })])])]), _createTextVNode(\" \" + _toDisplayString(this.count) + \" \", 1 /* TEXT */), _hoisted_19])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","width","key","action","xmlns","height","fill","viewBox","d","_hoisted_14","type","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_ctx","errorsTest","_hoisted_4","_toDisplayString","errorsRequire","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_cache","$event","email","_normalizeClass","emailErroe","name","placeholder","_hoisted_10","_hoisted_11","_hoisted_12","password","passwordErroe","id","_hoisted_13","onClick","togleInputPassword","_hoisted_15","_hoisted_16","login","_hoisted_17","_createVNode","_component_router_link","to","default","_withCtx","_","_hoisted_18","count","_hoisted_19"],"sources":["C:\\Users\\Youcode\\Desktop\\FLLLROUGE\\vue\\src\\components\\Auth\\AppAuthLogin.vue"],"sourcesContent":["<template>\r\n    <div class=\"d-flex justify-content-center align-items-center\">\r\n        <main>\r\n            <div class=\"logo text-center\">\r\n                <img src=\"../../assets/img/logo3.png\" alt=\"logo\" width=\"300px\">\r\n            </div>\r\n            <div class=\"cardForm shadow p-5 m-3 \">\r\n                <div class=\"alert alert-danger\" v-if=\"errorsTest\" >{{ errorsRequire }}</div>\r\n                <h3 class=\"blueColor text-center\">Login to Your Account</h3>\r\n                <p class=\"text-center text-secondary\">Enter your email & password to login</p>\r\n                <form action=\"\" class=\"d-flex flex-column justify-content-between gap-4\">\r\n                    <label class=\"text-secondary\">\r\n                        <div class=\"input-group mb-3\">\r\n                            <input v-model=\"email\" type=\"email\" :class=\"{ 'is-invalid': emailErroe }\" class=\"form-control\" name=\"email\" placeholder=\"Email ..\">\r\n                            <div class=\"input-group-append cursor-point\">\r\n                                <span class=\"input-group-text\"> \r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-envelope\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z\"/>\r\n                                    </svg>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </label>\r\n                    <label class=\"text-secondary\">\r\n                        <div class=\"input-group mb-3\">\r\n                            <input v-model=\"password\" type=\"password\" :class=\"{ 'is-invalid': passwordErroe }\" class=\"form-control\" id=\"password\" placeholder=\"Password\">\r\n                            <div class=\"input-group-append cursor-point\">\r\n                                <span class=\"input-group-text\" @click=\"togleInputPassword()\"> \r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                    <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                                    </svg>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </label>\r\n                    <label class=\"text-secondary\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\"> Remember me\r\n                    </label>\r\n                    <button @click=\"login()\" type=\"button\" class=\"btn btn-primary\">Login</button>\r\n                    <p class=\"text-secondary\">Don't have account? <router-link to=\"/user/auth/register\"  class=\"blueColor no-underline\"> Create an account</router-link></p>\r\n                    <p class=\"text-secondary\">Back to home page? <router-link to=\"/user/\"  class=\"blueColor no-underline\"> Home</router-link></p>\r\n                </form>\r\n            </div>\r\n            {{ this.count }}\r\n            <footer>\r\n                <p class=\"fw-bold text-secondary text-center p-2\">© Copyright AskMe. All Rights Reserved <br>\r\n                Designed by Rabie Ait Imghi</p>\r\n            </footer>\r\n        </main>\r\n    </div>\r\n</template>\r\n<style>\r\n    .is-invalid{\r\n        border: 1px solid red;\r\n    }\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref } from 'vue';\r\nimport { useRouter } from 'vue-router'\r\nimport { useStore } from '../../store'\r\nimport { data } from 'jquery';\r\n    export default{\r\n        setup() {        \r\n            const router = useRouter()\r\n            const store = useStore();\r\n            const errorsTest = ref(false);\r\n            const emailError = ref(false);\r\n            const passwordError = ref(false);\r\n            const email = ref('');\r\n            const password = ref('');\r\n            const errorsRequire = ref('');\r\n\r\n            const login = () => {\r\n            errorsTest.value = false;\r\n            emailError.value = false;\r\n            passwordError.value = false;\r\n            axios.post('http://127.0.0.1:8000/api/login', {\r\n                email: email.value,\r\n                password: password.value,\r\n                role_id: store.role_id\r\n            }).then(response => {\r\n                let user = response.data.user;\r\n                store.storeRole_id(user.role_id); \r\n                store.setUser(user.username);\r\n                store.setBadge(user.badge);\r\n                store.setToken(response.data.token);\r\n                store.storeUser_id(response.data.user_id);\r\n                store.setImageUser(response.data.avatar);\r\n                // if(user.role_id === 2) router.push('/user/');\r\n                // if(user.role_id === 1) router.push('/admin/');\r\n            })\r\n            .catch(error => {\r\n                if(error.response.status === 422){\r\n                    emailError.value = true;\r\n                    passwordError.value = true;\r\n                    errorsRequire.value = \"Email and password are required\";\r\n                    errorsTest.value = true;\r\n                }\r\n                if (error.response.status === 401) {\r\n                    alert('ok3');\r\n                    if(error.response.data.error === 'email'){\r\n                        emailError.value = true;\r\n                        errorsRequire.value = \"Email is invalid or not exist\";\r\n                        errorsTest.value = true;\r\n                    }else emailError.value = false;\r\n                    if(error.response.data.error === 'password'){\r\n                        passwordError.value = true;\r\n                        errorsRequire.value = \"Password is invalid\";\r\n                        errorsTest.value = true;\r\n                    }\r\n                    if(error.response.data.error === 'NotAuthorized'){\r\n                        alert('NotAuthorized');\r\n                    }\r\n                    else passwordError.value = false;\r\n                }\r\n            });\r\n            }\r\n\r\n            return {\r\n                login,\r\n                email,\r\n                password,\r\n                emailError,\r\n                passwordError,\r\n                errorsRequire,\r\n                errorsTest\r\n            }\r\n        },\r\n        data() {\r\n                return {\r\n                    count: 0\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            togleInputPassword(){\r\n                let input = document.getElementById('password');\r\n                let svg = document.querySelector('svg');\r\n                if(input.type === 'password'){\r\n                    input.type = 'text';\r\n                    svg.style.fill = 'blue';\r\n                }else{\r\n                    input.type = 'password';\r\n                    svg.style.fill = 'currentColor';\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}